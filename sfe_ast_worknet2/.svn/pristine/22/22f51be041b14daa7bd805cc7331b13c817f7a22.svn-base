<script>function Main(){var $=this;$.host=null;$.panMain=null;$.panTitle=null;$.lblTitle=null;$.txtTitle=null;$.btnSubmit=null;$.btnTmpSave=null;$.panWFDetail=null;$.panFile=null;$.panDoc=null;$.wbeWFDetail=null;$.cmbBaseDate=null;$.panList=null;$.grdList=null;$.panDetail=null;$.grdPlanList=null;$.grdFile=null;$.grdDoc=null;$.lblBudgetList=null;$.bteBudgetList=null;$.lblApplyMoney=null;$.speApplyMoney=null;$.lblAssignMoney=null;$.speAssignMoney=null;$.lblFusibleMoney=null;$.speFusibleMoney=null;$.lblAfterMoney=null;$.speAfterMoney=null;$.lblReason=null;$.memReason=null;$.lblProductCode=null;$.txttarget_product_code=null;$.varWFDocId="";$.varBusinessId="";$.varWFType="";$.strsave_type="N";$.txttarget_dept_code="";$.txttarget_dept_name="";$.txttarget_budget_code="";$.txttarget_product_name="";$.spin_half_amt=0;$.spin_aval_amt=0;$.btarget=false;$.isSave=false;$.isSummit="";function createJSON_Q(workType){var json=createExecuteParamInfo("P_crmWFDocument_Q",[workType,"","","crmWFBgtAssignChg_40"]);return json}function createJSON_Q1(workType){var json=createExecuteParamInfo("P_crmWFBgtAssignChg_Q",[workType,$.varWfDocId,"40",$.cmbBaseDate.getValue().substring(0,4),$.cmbBaseDate.getValue().substring(4,5),"#DeptCode#",$.txttarget_budget_code||"",$.txttarget_budget_name||"",""]);return json}function createJSON_S(workType){var gRow=$.grdPlanList.getAllRows();var rows=[];var iCount=1;for(var i in gRow){rows.push([workType,$.varWfDocId,$.cmbBaseDate.getValue().substring(0,4),$.cmbBaseDate.getValue().substring(4,5),gRow[i].dept_code||"",gRow[i].budget_code||"",gRow[i].product_code||"",parseInt(iCount),"40","","","","",Number(gRow[i].target_req_amt),parseInt(0),gRow[i].change_remark||"","#UserID#"]);iCount++}var json=createExecuteParamInfo("P_crmWFBgtAssignChgD_S",rows);return json}function createJSON_S1(workType){var json=createExecuteParamInfo("P_crmBudgetTotal_S",[workType,$.varWfDocId,$.cmbBaseDate.getValue().substring(0,4),$.cmbBaseDate.getValue().substring(4,5),$.txttarget_dept_code,$.txttarget_budget_code,$.txttarget_product_code.getValue(),parseInt(0),"40"]);return json}function searchWFDocument(workType){var json=createJSON_Q(workType);callQuery(["req",json],workType,$)}function searchWFBgtAssignChg(workType){var json=createJSON_Q1(workType);callQuery(["req",json],"LIST",$)}function summit(popResult){if(saveWFDocument("","Y",popResult)){saveWFBqtAssignChg_40("N")}else{removeWFDocument($.varWFDocId)}}function tmpSave(){if(saveWFDocument("","N")){saveWFBqtAssignChg_40("N")}else{removeWFDocument($.varWFDocId)}}function saveWFBqtAssignChg_40(workType,paramId){var json=createJSON_S(workType);callExecute(["req",json],workType,$)}function saveBudgetTotal(workType){var json=createJSON_S1(workType);callExecute(["req",json],workType,$)}function saveWFDocument(workType,docType,wfLine){var ds=commWFDocument(workType,docType,$.txtTitle.getValue(),$.varBusinessId,$.varOriginWfDocId,wfLine,$.grdFile,$.grdDoc,$.wbeWFDetail,$.varWfDocId);if(ds==null||ds.errorCode.substr(0,1)=="P"||ds.errorCode.substr(0,1)=="E"){return false}if(ds.returnStr!=""){$.varWfDocId=ds.returnStr}return true}function budgetListChange(){if($.txttarget_budget_code==""){$.txttarget_product_code.setEnable(false);$.txttarget_product_code.setValue("")}else{$.txttarget_product_code.setEnable(true)}}function grdListChange(){var rId=$.grdList.getSelectedRowIdx();var plan_rId=$.grdPlanList.getSelectedRowIdx();$.bteBudgetList.setText($.grdList.getValue(rId,"budget_name"));$.txttarget_budget_code=$.grdList.getValue(rId,"budget_code");$.txttarget_dept_code=$.grdList.getValue(rId,"dept_code");$.txttarget_product_code.setValue($.grdList.getValue(rId,"product_code"));budgetListChange();$.speAssignMoney.setValue($.grdList.getValue(rId,"half_amt"));$.speFusibleMoney.setValue($.grdList.getValue(rId,"aval_amt"));changeMoney()}function checkValidation(){if(!validateControls([$.txtTitle,$.cmbBaseDate])){return false}if($.grdPlanList.getRowCount()<1){MessageBoxShow("저장할 내용이 존재하지 않습니다.");return false}return true}function newClick(){$.panDetail.clear();$.wbeWFDetail.setClear();$.grdFile.clear();$.grdDoc.clear();grdListChange()}function changeMoney(){$.speAfterMoney.setValue(Number($.speApplyMoney.getValue())+Number($.speFusibleMoney.getValue()))}function moveWFGeneralProc(){var param={wf_doc_id:$.varWfDocId};g_main.openModelWithBusiness("crmWFGeneralProc",param)}function chkdoc(strwf_doc_id){for(var i=0;i<$.grdDoc.getRowCount();i++){if($.grdDoc.getValue(i,"wf_doc_id")==strwf_doc_id){return false}}return true}$.init=function(host,args){$.panMain=new FingerPanel(host,"panMain",0,0,1200,1490);$.panMain.setText("");$.panMain.setBottomLine(true);$.panTitle=new FingerPanel(host,"panTitle",0,0,1200,55);$.panTitle.setText("");$.panTitle.setBottomLine(true);$.lblTitle=new FingerLabel(host,"lblTitle",0,15,100,20);$.lblTitle.setText("문서제목");$.txtTitle=new FingerEdit(host,"txtTitle",105,15,500,20);$.btnSubmit=new FingerButton(host,"btnSubmit",1010,15,100,20);$.btnSubmit.setText("상신");$.btnTmpSave=new FingerButton(host,"btnTmpSave",1100,15,100,20);$.btnTmpSave.setText("임시저장");$.panWFDetail=new FingerPanel(host,"panWFDetail",0,795,1200,385);$.panWFDetail.setText("기안 상세");$.panWFDetail.setBottomLine(true);$.panFile=new FingerPanel(host,"panFile",0,1190,440,280);$.panFile.setText("첨부 파일");$.panFile.setBottomLine(true);$.panDoc=new FingerPanel(host,"panDoc",450,1190,750,280);$.panDoc.setText("기결 문서");$.panDoc.setBottomLine(true);$.wbeWFDetail=new FingerWebEditor(host,"wbeWFDetail",0,0,1200,310);$.cmbBaseDate=new FingerComboBox(host,"cmbBaseDate",885,-38,140,20);$.panList=new FingerPanel(host,"panList",0,65,1200,280);$.panList.setText("예산사용집계");$.panList.setBottomLine(true);$.grdList=new FingerDataGrid(host,"grdList",0,0,1200,235);$.panDetail=new FingerPanel(host,"panDetail",0,360,1200,420);$.panDetail.setText("신청내역");$.panDetail.setBottomLine(true);$.grdPlanList=new FingerDataGrid(host,"grdPlanList",0,85,1200,290);$.grdFile=new FingerDataGrid(host,"grdFile",0,0,440,235);$.grdDoc=new FingerDataGrid(host,"grdDoc",0,0,750,235);$.lblBudgetList=new FingerLabel(host,"lblBudgetList",0,15,100,20);$.lblBudgetList.setText("예산항목");$.bteBudgetList=new FingerButtonEdit(host,"bteBudgetList",105,15,460,20);$.bteBudgetList.setText("");$.lblApplyMoney=new FingerLabel(host,"lblApplyMoney",0,45,100,20);$.lblApplyMoney.setText("신청금액");$.speApplyMoney=new FingerSpinEdit(host,"speApplyMoney",105,45,210,20);$.lblAssignMoney=new FingerLabel(host,"lblAssignMoney",580,15,100,20);$.lblAssignMoney.setText("배정금액");$.speAssignMoney=new FingerSpinEdit(host,"speAssignMoney",685,15,140,20);$.lblFusibleMoney=new FingerLabel(host,"lblFusibleMoney",320,45,100,20);$.lblFusibleMoney.setText("가용잔액");$.speFusibleMoney=new FingerSpinEdit(host,"speFusibleMoney",425,45,140,20);$.lblAfterMoney=new FingerLabel(host,"lblAfterMoney",580,45,100,20);$.lblAfterMoney.setText("신청후잔액");$.speAfterMoney=new FingerSpinEdit(host,"speAfterMoney",685,45,140,20);$.lblReason=new FingerLabel(host,"lblReason",805,30,100,20);$.lblReason.setText("사유");$.memReason=new FingerMemoEdit(host,"memReason",910,15,230,50);$.lblProductCode=new FingerLabel(host,"lblProductCode",580,-38,100,20);$.lblProductCode.setText("품목코드");$.txttarget_product_code=new FingerEdit(host,"txttarget_product_code",685,-38,140,20);$.panTitle.setBorder(true);$.panDetail.addButtons(["btnDelete","btnSave","btnNew"]);$.panFile.addButtons(["btnDelete","btnAdd"]);$.panDoc.addButtons(["btnDelete","btnAdd"]);$.txtTitle.setAllowBlank(false,"문서제목");$.cmbBaseDate.setAllowBlank(false,"기준년도/반기");$.bteBudgetList.setAllowBlank(false,"예산항목");$.speApplyMoney.setAllowBlank(false,"신청금액");$.speAssignMoney.setReadOnly(true);$.speFusibleMoney.setReadOnly(true);$.speAfterMoney.setReadOnly(true);$.cmbBaseDate.setReadOnly(true);$.bteBudgetList.setEnable(false);$.speApplyMoney.setValue(0);$.speAssignMoney.setValue(0);$.speFusibleMoney.setValue(0);$.speAfterMoney.setValue(0);$.lblProductCode.setVisible(false);$.txttarget_product_code.setVisible(false);$.grdList.colIdx=$.grdList.setColumns([new FingerDataGridColumn("budget_name",400,"left","string","예산항목"),new FingerDataGridColumn("half_amt",160,"right","int","배정금액",{format:"int"}),new FingerDataGridColumn("use_amt",160,"right","int","사용금액",{format:"int"}),new FingerDataGridColumn("aval_amt",160,"right","int","가용잔액",{format:"int"}),new FingerDataGridColumn("use_rate",160,"right","int","사용비율",{format:"number"}),new FingerDataGridColumn("count",160,"right","int","건수",{format:"int"}),new FingerDataGridColumn("budget_code",160,"right","string","",{hidden:true}),new FingerDataGridColumn("product_code",160,"right","string","",{hidden:true}),new FingerDataGridColumn("dept_code",160,"right","string","",{hidden:true}),new FingerDataGridColumn("product_name",160,"right","string","",{hidden:true}),new FingerDataGridColumn("dept_name",160,"right","string","",{hidden:true})]);$.grdList.init({panel:$.panList});$.grdList.setEditable(false);$.grdList.setBorder(false);$.grdPlanList.colIdx=$.grdPlanList.setColumns([new FingerDataGridColumn("dept_name",160,"left","string","부서"),new FingerDataGridColumn("product_name",140,"left","string","품목"),new FingerDataGridColumn("budget_name",300,"left","string","예산항목"),new FingerDataGridColumn("target_req_amt",160,"right","int","신청금액",{format:"int"}),new FingerDataGridColumn("aval_amt",160,"right","int","가용잔액",{format:"int"}),new FingerDataGridColumn("change_remark",263,"left","string","사유"),new FingerDataGridColumn("dept_code",0,"right","string","",{hidden:true}),new FingerDataGridColumn("budget_code",140,"left","string","",{hidden:true}),new FingerDataGridColumn("product_code",0,"right","string","",{hidden:true}),new FingerDataGridColumn("target_dept_code",0,"right","string","",{hidden:true}),new FingerDataGridColumn("target_emp_id",0,"right","string","",{hidden:true}),new FingerDataGridColumn("target_emp_name",0,"right","string","",{hidden:true}),new FingerDataGridColumn("target_budget_code",0,"right","string","",{hidden:true}),new FingerDataGridColumn("target_budget_name",0,"right","string","",{hidden:true}),new FingerDataGridColumn("target_product_code",0,"right","string","",{hidden:true})]);$.grdPlanList.init();$.grdPlanList.setEditable(false);$.grdFile.setColumns([new FingerDataGridColumn("file_id",0,"left","string","",{hidden:true}),new FingerDataGridColumn("server_path",0,"left","string","",{hidden:true}),new FingerDataGridColumn("server_fname",0,"left","string","",{hidden:true}),new FingerDataGridColumn("local_fname",280,"left","string","파일명",{readonly:true,isLink:true,pathLinkCols:["server_path","server_fname"]}),new FingerDataGridColumn("file_size",145,"left","string","파일크기",{format:"file_size"})]);$.grdFile.init({header:false,isFilter:false});$.grdFile.setBorder(false);$.grdDoc.setColumns([new FingerDataGridColumn("wf_doc_id",125,"left","string","문서아이디"),new FingerDataGridColumn("doc_id",105,"left","string","문서아이디"),new FingerDataGridColumn("doc_title",420,"left","string","기안명"),new FingerDataGridColumn("employee_id",0,"left","string","",{hidden:true}),new FingerDataGridColumn("emp_name",90,"left","string","기안자")]);$.grdDoc.init({header:false,isFilter:false});$.grdDoc.setBorder(false);$.host=host;$.args=args};$.start=function(){$.panMain.add($.panTitle);$.panMain.add($.panWFDetail);$.panMain.add($.panFile);$.panMain.add($.panDoc);$.panMain.add($.panList);$.panMain.add($.panDetail);$.panTitle.add($.lblTitle);$.panTitle.add($.txtTitle);$.panTitle.add($.btnSubmit);$.panTitle.add($.btnTmpSave);$.panWFDetail.add($.wbeWFDetail);$.panFile.add($.grdFile);$.panDoc.add($.grdDoc);$.panList.add($.grdList);$.panList.add($.cmbBaseDate);$.panDetail.add($.grdPlanList);$.panDetail.add($.lblBudgetList);$.panDetail.add($.bteBudgetList);$.panDetail.add($.lblApplyMoney);$.panDetail.add($.speApplyMoney);$.panDetail.add($.lblAssignMoney);$.panDetail.add($.speAssignMoney);$.panDetail.add($.lblFusibleMoney);$.panDetail.add($.speFusibleMoney);$.panDetail.add($.lblAfterMoney);$.panDetail.add($.speAfterMoney);$.panDetail.add($.lblReason);$.panDetail.add($.memReason);$.panDetail.add($.lblProductCode);$.panDetail.add($.txttarget_product_code);var ds=bizComponentData2($,"Q1","L_CRM0008");$.cmbBaseDate.setColumn("half_code","half_name");setComboBind([$.cmbBaseDate],ds);$.cmbBaseDate.setValue(ds.resultList[0][0].half_code);searchWFDocument("Q3")};$.callback=function(type,ds){if(type=="Q3"){var result=ds.resultList[0][0];$.varBusinessId=result.business_id;$.varWFType=result.wf_type;$.txtTitle.setValue("["+g_main.session.getValue("DeptName")+"] "+result.business_title);searchWFBgtAssignChg("Q3")}else{if(type=="LIST"){if(ds.resultList[0].length>0){for(var i=0;i<ds.resultList[0].length;i++){if(ds.resultList[0][i].use_rate!=""){ds.resultList[0][i].use_rate=(parseInt(ds.resultList[0][i].use_rate.toFixed(3)*100)/100).toFixed(2)}}}setDataGrid([$.grdList],ds);$.grdList.selectRow(0);var rId=$.grdList.getSelectedRowIdx();$.txttarget_budget_code=$.grdList.getValue(rId,"budget_code");$.txttarget_dept_code=$.grdList.getValue(rId,"dept_code");$.txttarget_dept_name=$.grdList.getValue(rId,"dept_name");$.txttarget_product_code.setValue($.grdList.getValue(rId,"product_code"));$.txttarget_product_name=$.grdList.getValue(rId,"product_name");$.grdPlanList.selectRow(0)}else{if(type=="N"){if(ds){var rs=ds.resultList;if(rs.length>1){for(var i in rs){if(rs[i].errorCode.substring(0,1)=="P"||rs[i].errorCode.substring(0,1)=="E"){MessageBoxShow(rs[i].errorCode+"</br>"+rs[i].errorMsg);removeWFDocument($.varWFDocId);return}}}else{if(ds.errorCode.substring(0,1)=="P"||ds.errorCode.substring(0,1)=="E"){MessageBoxShow(ds.errorCode+"</br>"+ds.errorMsg);removeWFDocument($.varWFDocId);return}}if($.isSummit){saveBudgetTotal("10")}else{moveWFGeneralProc()}}}else{if(type=="10"){if(ds){if(ds.errorCode.substring(0,1)=="P"||ds.errorCode.substring(0,1)=="E"){MessageBoxShow(ds.errorCode+"</br>"+ds.errorMsg)}else{if(ds.errorCode=="MSG0002"){moveWFGeneralProc()}else{if(ds.errorCode=="MSG0029"){MessageBoxShow("등록된 레코드가 없습니다.")}}}}}}}}};$.update=function(args){if(args&&args.length){try{var cs=args[0][0];console.log(args);if(cs.wf_status=="80"){$.varOriginWfDocId=cs.wf_doc_id}else{$.varWfDocId=cs.wf_doc_id}$.txtTitle.setValue(cs.doc_title);$.wbeWFDetail.setValue(cs.doc_comment);setDataGrid([$.grdFile],args[4],true);setDataGrid([$.grdDoc],args[5],true);setDataGrid([$.grdPlanList],args[6],true);searchWFBgtAssignChg("Q3");$.isSave=true}catch(err){MessageBoxShow("데이터 불러오기 중 오류가 발생 하였습니다. ("+err.message+")")}}$.args=args};$.executeScript=function(script){eval(script)};$.fingerbutton_click=function(id){$.popUpCallId=id;if(id=="btnSubmit"){if(!checkValidation()){return}confirmBoxShow("상신 하시겠습니까?",function(){if(g_main.msgShare==true){$.isSummit=true;var param={wf_doc_id:$.varWfDocId,wf_form_id:"crmWFBgtAssignChg_40",new_line:true};g_main.openPopup("popModAppr.html","popModAppr","",0,0,"","",param,"","")}})}else{if(id=="btnTmpSave"){if(!checkValidation()){return}confirmBoxShow("임시저장 하시겠습니까?",function(){if(g_main.msgShare==true){$.isSummit=false;tmpSave()}})}}};$.fingermultiselect_checkchange=function(id,index){};$.fingermultiselect_itemchange=function(id){};$.fingerbuttonedit_click=function(id){$.popUpCallId=id;if(id=="bteBudgetList"){var param={budget_name:$.bteBudgetList.getText()||"",};g_main.openPopup("popBudgetAllList.html","popBudgetAllList","",0,0,"","",param,"","")}};$.fingerbuttonedit_change=function(id,value){budgetListChange()};$.fingerbuttonedit_keypress=function(id,value){};$.fingerbuttonedit_lostfocus=function(id,value){};$.fingercheckbox_change=function(id,value){};$.fingercombobox_change=function(id,value){};$.fingerdateedit_click=function(id){};$.fingerdateedit_change=function(id,value){};$.fingerdatagrid_itemclick=function(id,rId,cInd){};$.fingerdatagrid_selectionchange=function(id,rId){if(id=="grdList"){if($.grdList.getValue(rId,"budget_code")==""){return}$.panDetail.clear();grdListChange()}else{if(id=="grdPlanList"){var planRow=$.grdPlanList.getValue(rId,"budget_code");var listRow=$.grdList.getGridRowIndex("budget_code",planRow);$.grdList.selectRow(listRow);var index=$.grdList.getGridRowIndex("budget_name",$.grdPlanList.getValue(rId,"budget_name"));var data=$.grdPlanList.getValue(rId);$.bteBudgetList.setText(data.budget_name);$.speApplyMoney.setValue(data.target_req_amt);$.speAssignMoney.setValue($.grdList.getValue(index,"half_amt"));$.speFusibleMoney.setValue(data.aval_amt);$.speAfterMoney.setValue($.speApplyMoney.getValue()+$.speFusibleMoney.getValue());$.memReason.setValue(data.change_remark)}}};$.fingerdatagrid_cellvaluechange=function(id,rId,cInd,nValue,oValue){};$.fingerdatagrid_rowdblclicked=function(id,rId,cInd){};$.fingerdatagrid_celllink_click=function(e,gridid,rId,cId,value){};$.fingerdatagrid_popupcelldblclicked=function(id,rId,cInd){};$.fingerdatagrid_drag=function(id,sId,tId,sObj,tObj,sInd,tInd){};$.fingeredit_change=function(id,value){if(id=="speApplyMoney"){changeMoney()}};$.fingeredit_keypress=function(id,value){};$.fingeredit_lostfocus=function(id,value){};$.fingerlayout_panelresizefinish=function(id){};$.fingerlayout_resizefinish=function(id){};$.fingerpanel_button_click=function(panelId,btnId){if(panelId=="panDetail"){if(btnId=="btnSave"){var buse=false;if(!$.panDetail.validateControls()){return}if(Number($.speApplyMoney.getValue())==0){MessageBoxShow("신규 예산항목을 추가시 신청금액을 0보다 크거나 같은 금액을 넣어 주십시요.");$.speApplyMoney.setValue(0);$.speApplyMoney.setFocus();return}var iRow=0;var plan_rId=$.grdPlanList.getSelectedRowIdx();if($.grdList.getRowCount()>0){if(plan_rId){for(var i=0;i<$.grdPlanList.getRowCount();i++){if($.txttarget_dept_code==$.grdPlanList.getValue(i,"dept_code")&&$.txttarget_budget_code==$.grdPlanList.getValue(i,"budget_code")&&$.txttarget_product_code.getValue()==$.grdPlanList.getValue(i,"product_code")){$.grdPlanList.getItem(i).rowType="N";buse=true;iRow=i;break}else{buse=false}}}else{buse=false}}if(!buse){$.grdPlanList.addRow({dept_code:$.txttarget_dept_code,budget_code:$.txttarget_budget_code,budget_name:$.bteBudgetList.getText(),product_code:$.txttarget_product_code.getValue(),target_req_amt:$.speApplyMoney.getValue(),aval_amt:$.speFusibleMoney.getValue(),change_remark:$.memReason.getValue(),dept_name:$.txttarget_dept_name,product_name:$.txttarget_product_name},$.grdPlanList.getRowCount())}else{$.grdPlanList.setValue(iRow,"target_req_amt",$.speApplyMoney.getValue());$.grdPlanList.setValue(iRow,"change_remark",$.memReason.getValue())}}else{if(btnId=="btnNew"){$.panDetail.clear();$.bteBudgetList.setFocus()}else{if(btnId=="btnDelete"){if($.grdPlanList.getRowCount()<1){MessageBoxShow("선택된 행이 존재하지 않습니다.");return}$.grdPlanList.deleteCurrentRow();newClick()}}}}else{if(panelId=="panFile"){if(btnId=="btnAdd"){OpenFileUploader("WFFileAttatch",function(ds){if(!ds||ds.errorCode=="ERR0000"){MessageBoxShow("파일 업로드가 실패 하였습니다.");return}var fileList=ds.resultList[0];var grdFileLen=$.grdFile.getRowCount();for(var i=0;i<fileList.length;i++){for(var j=0;j<grdFileLen;j++){if(fileList[i]["local_fname"]==$.grdFile.getValue(j,"local_fname")&&fileList[i]["file_size"]==$.grdFile.getValue(j,"file_size")){MessageBoxShow("중복된 파일이 있습니다. 리스트를 확인해 주세요.")}}}$.grdFile.addRows(fileList)})}else{if(btnId=="btnDelete"){var rId=$.grdFile.getSelectedRowIdx();if(!rId){MessageBoxShow("삭제할 파일을 선택해 주시기 바랍니다.");return}var result=removeSysAttachFile({file_path:($.grdFile.getValue(rId,"server_path")+$.grdFile.getValue(rId,"server_fname"))});confirmBoxShow("정말 삭제하시겠습니까? 삭제하시려면 예를 클릭하세요",function(){if(g_main.msgShare==true){if(result){MessageBoxShow("파일 삭제 되었습니다.");$.grdFile.deleteRow(rId)}else{MessageBoxShow("파일을 삭제하는 도중 오류가 발생 하였습니다.");return}}})}}}else{if(panelId=="panDoc"){if(btnId=="btnAdd"){var param={};g_main.openPopup("crmWFEndDocSub.html","crmWFEndDocSub","",1100,735,"","",param,"","")}else{if(btnId=="btnDelete"){var rId=$.grdDoc.getSelectedRowIdx();if(!rId){MessageBoxShow("삭제할 기결문서를 선택해 주시기 바랍니다.");return}$.grdDoc.deleteRow(rId)}}}}}};$.fingerpopup_close=function(id){var popResult=g_popupStack.shareData;if(popResult){if(id=="popBudgetAllList"){if($.popUpCallId=="bteBudgetList"){$.bteBudgetList.setText(popResult.budget_name);$.txttarget_budget_code=popResult.budget_code;budgetListChange()}}else{if(id=="popModAppr"){if($.popUpCallId=="btnSubmit"){if(popResult.isCancel){$.varWfDocId=popResult.wf_doc_id}else{$.isSave=false;summit(popResult)}}}else{if(id=="crmWFEndDocSub"){var rows=[];for(var i=0;i<popResult.length;i++){if(chkdoc(popResult[i]["wf_doc_id"])){$.grdDoc.addRow(popResult[i],$.grdDoc.getRowCount())}}}}}}};$.fingerpopup2_close=function(id){};$.fingertab_selectionchange=function(id,tabid){};$.fingertab_ontabclose=function(id,tabid){};$.fingertree_select=function(id,value){};$.fingertree_dblclick=function(id,nodeid){};$.fingertree_refresh=function(id){};$.fingerscheduler_before_event_changed=function(id,event_object,native_event,is_new,unmodified_event){};$.fingerscheduler_before_event_delete=function(id,event_id,event_object){};$.fingerscheduler_event_click=function(id,event_id,event_object,native_event_object){};$.fingerscheduler_ready=function(id){};$.fingerscheduler_before_event_created=function(id,start_date,end_date){};$.fingerscheduler_view_display=function(id,view){};$.fingerscheduler_event_reg=function(id,obj){};$.fingerfilepanel_upload_click=function(id,fileId,fileName){};$.fingerfilepanel_download_click=function(id,fileId,fileName){};$.fingerfilepanel_delete_click=function(id,fileId,fileName){};$.fingerradiobox_change=function(id,value){};$.fingerimage_click=function(id){}};</script>