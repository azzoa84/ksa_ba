<script>function Main(){var $=this;$.host=null;$.panMain=null;$.treDept=null;$.lblDept=null;$.txtDept=null;$.btnSearch=null;$.btnConfirm=null;$.btnCancel=null;$.panTree=null;$.varIsMultiCheck=false;$.varDeptList=[];function createJSON_Q(workType){var json=createExecuteParamInfo("P_GetComboData",[workType,"#DEPT_LIST#","","",$.txtDept.getText()]);return json}function searchDeptTree(){var json=createJSON_Q("Q_TREE");callQuery(["req",json],"Q_TREE",$)}function dataSelect(){var share="";if($.varIsMultiCheck){share={dept_code:$.treDept.getAllChecked(),dept_name:$.treDept.getTextAllChecked()}}else{share={dept_code:$.varDeptId,dept_name:$.varDeptName}}g_popupStack.setData(share);g_popupStack.close()}$.init=function(host,args){$.panMain=new FingerPanel(host,"panMain",0,0,350,530);$.panMain.setText("");$.panMain.setBottomLine(true);$.treDept=new FingerTree(host,"treDept",0,0,350,385);$.lblDept=new FingerLabel(host,"lblDept",0,15,75,20);$.lblDept.setText("부서명");$.txtDept=new FingerEdit(host,"txtDept",85,15,140,20);$.btnSearch=new FingerButton(host,"btnSearch",250,15,80,20);$.btnSearch.setText("검색");$.btnConfirm=new FingerButton(host,"btnConfirm",205,495,80,20);$.btnConfirm.setText("확인");$.btnCancel=new FingerButton(host,"btnCancel",275,495,80,20);$.btnCancel.setText("취소");$.panTree=new FingerPanel(host,"panTree",0,45,340,435);$.panTree.setText("부서목록");$.panTree.setBottomLine(true);$.host=host;$.args=args};$.start=function(){$.panMain.add($.lblDept);$.panMain.add($.txtDept);$.panMain.add($.btnSearch);$.panMain.add($.btnConfirm);$.panMain.add($.btnCancel);$.panMain.add($.panTree);$.panTree.add($.treDept);if($.p_argument&&$.p_argument!=""){if($.p_argument.isMultiSelect){$.varIsMultiCheck=true;$.treDept.showCheckbox(true);$.varDeptList=$.p_argument.deptCodeList}else{$.txtDept.setText($.p_argument.dept_name||"")}}searchDeptTree();$.varDeptId="";$.varDeptName=""};$.callback=function(type,ds){if(type=="Q_TREE"){$.treDept.clearAll();$.treDept.load(ds.resultList[0],"id","parent_id","name","ico_id","order_seq")}};$.update=function(args){$.args=args};$.executeScript=function(script){eval(script)};$.fingerbutton_click=function(id){if(id=="btnSearch"){searchDeptTree()}else{if(id=="btnConfirm"){dataSelect()}else{if(id=="btnCancel"){g_popupStack.close()}}}};$.fingermultiselect_checkchange=function(id,index){};$.fingermultiselect_itemchange=function(id){};$.fingerbuttonedit_click=function(id){};$.fingerbuttonedit_change=function(id,value){};$.fingerbuttonedit_keypress=function(id,value){};$.fingerbuttonedit_lostfocus=function(id,value){};$.fingercheckbox_change=function(id,value){};$.fingercombobox_change=function(id,value){};$.fingerdateedit_click=function(id){};$.fingerdateedit_change=function(id,value){};$.fingerdatagrid_itemclick=function(id,rId,cInd){};$.fingerdatagrid_selectionchange=function(id,rId){};$.fingerdatagrid_cellvaluechange=function(id,rId,cInd,nValue,oValue){};$.fingerdatagrid_rowdblclicked=function(id,rId,cInd){};$.fingerdatagrid_celllink_click=function(e,gridid,rId,cId,value){};$.fingerdatagrid_popupcelldblclicked=function(id,rId,cInd){};$.fingerdatagrid_drag=function(id,sId,tId,sObj,tObj,sInd,tInd){};$.fingeredit_change=function(id,value){};$.fingeredit_keypress=function(id,value){if(id=="txtDept"&&value=="13"){searchDeptTree()}};$.fingeredit_lostfocus=function(id,value){};$.fingerlayout_panelresizefinish=function(id){};$.fingerlayout_resizefinish=function(id){};$.fingerpanel_button_click=function(panelId,btnId){};$.fingerpopup_close=function(id){};$.fingerpopup2_close=function(id){};$.fingertab_selectionchange=function(id,tabid){};$.fingertab_ontabclose=function(id,tabid){};$.fingertree_select=function(id,value){if(id=="treDept"){$.varDeptId=value.id;$.varDeptName=value.text}};$.fingertree_dblclick=function(id,nodeid){if(id=="treDept"){if(!$.varIsMultiCheck){dataSelect()}}};$.fingerscheduler_before_event_changed=function(id,event_object,native_event,is_new,unmodified_event){};$.fingerscheduler_before_event_delete=function(id,event_id,event_object){};$.fingerscheduler_event_click=function(id,event_id,event_object,native_event_object){};$.fingerscheduler_ready=function(id){};$.fingerscheduler_before_event_created=function(id,start_date,end_date){};$.fingerfilepanel_upload_click=function(id,fileId,fileName){};$.fingerfilepanel_download_click=function(id,fileId,fileName){};$.fingerfilepanel_delete_click=function(id,fileId,fileName){};$.fingerscheduler_view_display=function(id,view){};$.fingerscheduler_event_reg=function(id,obj){};$.fingertree_refresh=function(id){if(id=="treDept"){$.treDept.openNode("ROOT");if($.varIsMultiCheck){$.treDept.setCheckItems($.varDeptList,",")}}};$.fingerradiobox_change=function(id,value){};$.fingerimage_click=function(id){}};</script>