<script>function Main(){var $=this;$.host=null;$.panMain=null;$.panTitle=null;$.lblTitle=null;$.txtTitle=null;$.btnSubmit=null;$.btnTmpSave=null;$.panWFMain=null;$.panWFDetail=null;$.panFile=null;$.panDoc=null;$.wbeWFDetail=null;$.grdFile=null;$.grdDoc=null;$.lblProductName=null;$.lblLotNo=null;$.lblExpDate=null;$.lblReturnYN=null;$.lblClaimDate=null;$.lblClaimPerson=null;$.lblClaimManager=null;$.lblClaimVisitDate=null;$.lblClaimCompany=null;$.lblClaimType=null;$.lblClaimGetDate=null;$.lblClaimGetUser=null;$.lblClaimContent=null;$.lblClaimFeedback=null;$.lblClaimRequest=null;$.lblAdverseEvent=null;$.lblProductCondition=null;$.lblClaimOccurTime=null;$.bteProductName=null;$.bteLotNo=null;$.dtdExpDate=null;$.dtdClaimGetDate=null;$.bteClaimGetUser=null;$.dtdClaimDate=null;$.txtClaimPerson=null;$.bteClaimManager=null;$.dtdClaimVisitDate=null;$.rdoClaimCompany=null;$.txtClaimCompany=null;$.txtClaimCompanyAddr=null;$.txtClaimCompanyTel=null;$.lblClaimCompanyAddr=null;$.lblClaimCompanyTel=null;$.lblClaimCompany2=null;$.chkClaimType1=null;$.chkClaimType2=null;$.chkClaimType3=null;$.chkClaimType4=null;$.chkClaimType5=null;$.chkClaimType6=null;$.chkClaimType7=null;$.txtClaimType=null;$.txtchkClaimOccurTime=null;$.txtchkProductCondition=null;$.memoClaimContent=null;$.rdoClaimOccurTime=null;$.rdoProductCondition=null;$.lblExchange=null;$.lblCheckReport=null;$.rdoExchange=null;$.rdoCheckReport=null;$.txtClaimRequest=null;$.rdoAdverseEvent=null;$.dtdAdverseEvent=null;$.lblAdverseEvent2=null;$.txtReturnUnit=null;$.rdoReturnType=null;$.lblReturnUnit=null;$.businessId="";$.varWFDocId="";$.varWFType="";$.varOriginWfDocId="";function createJSON_Q(workType){var json=createExecuteParamInfo("P_crmWFDocument_Q",[workType,"","","crmWFClaimReport"]);return json}function searchWFDocument(workType){var json=createJSON_Q("Q3");callQuery(["req",json],"Q3",$)}function saveWFClaimReport(btnId){if(!validateControls([$.txtTitle,$.bteProductName,$.bteLotNo,$.dtdExpDate,$.dtdClaimGetDate,$.bteClaimGetUser,$.dtdClaimDate,$.txtClaimPerson,$.bteClaimManager,$.dtdClaimVisitDate,$.rdoClaimCompany,$.txtClaimCompany,$.txtClaimCompanyAddr,$.txtClaimCompanyTel,$.memoClaimContent,$.rdoClaimOccurTime,$.rdoProductCondition,$.rdoExchange,$.rdoCheckReport,$.rdoAdverseEvent,$.rdoReturnType])){return}if(btnId=="btnSubmit"){var param={wf_doc_id:$.varWfDocId,wf_form_id:"crmWFClaimReport"};g_main.openPopup("popModAppr.html","popModAppr","",0,0,"","",param,"","")}else{if(btnId=="btnTmpSave"){if(saveWFDocument("","N")){saveData("N")}}}}function saveData(workType){var json=createJSON_S("N");callQuery(["req",json],workType,$)}function createJSON_S(workType){var json=createExecuteParamInfo("P_crmWFClaimReport_S",[workType,$.varWFDocId,"#DeptCode#","#UserID#",$.bteProductName.getValue(),$.bteLotNo.getValue(),$.dtdExpDate.getValue(),$.rdoReturnType.getValue(),$.txtReturnUnit.getValue(),$.dtdClaimGetDate.getValue(),$.bteClaimGetUser.getValue(),$.dtdClaimDate.getValue(),$.txtClaimPerson.getValue(),$.bteClaimManager.getValue(),$.dtdClaimVisitDate.getValue(),$.rdoClaimCompany.getValue(),$.txtClaimCompany.getValue(),$.txtClaimCompanyTel.getValue(),$.txtClaimCompanyAddr.getValue(),$.chkClaimType1.getValue(),$.chkClaimType2.getValue(),$.chkClaimType3.getValue(),$.chkClaimType4.getValue(),$.chkClaimType5.getValue(),$.chkClaimType6.getValue(),$.chkClaimType7.getValue(),$.txtClaimType.getValue(),$.rdoClaimOccurTime.getValue(),$.txtchkClaimOccurTime.getValue(),$.rdoProductCondition.getValue(),$.txtchkProductCondition.getValue(),$.memoClaimContent.getValue(),$.rdoExchange.getValue(),$.rdoCheckReport.getValue(),$.txtClaimRequest.getValue(),$.rdoAdverseEvent.getValue(),$.dtdAdverseEvent.getValue()||""]);return json}function saveWFDocument(workType,docType,wfLine){var ds=commWFDocument(workType,docType,$.txtTitle.getValue(),$.businessId,$.varOriginWfDocId,wfLine,$.grdFile,$.grdDoc,$.wbeWFDetail,$.varWFDocId);if(ds==null||ds.errorCode.substr(0,1)=="P"||ds.errorCode.substr(0,1)=="E"){return false}if(ds.returnStr!=""){$.varWFDocId=ds.returnStr}return true}function moveWFGeneralProc(){var param={wf_doc_id:$.varWfDocId};g_main.openModelWithBusiness("crmWFGeneralProc",param)}function chkdoc(strwf_doc_id){for(var i=0;i<$.grdDoc.getRowCount();i++){if($.grdDoc.getValue(i,"wf_doc_id")==strwf_doc_id){return false}}return true}$.init=function(host,args){$.panMain=new FingerPanel(host,"panMain",0,0,1200,1080);$.panMain.setText("");$.panMain.setBottomLine(true);$.panTitle=new FingerPanel(host,"panTitle",0,0,1200,55);$.panTitle.setText("");$.panTitle.setBottomLine(true);$.lblTitle=new FingerLabel(host,"lblTitle",0,15,100,20);$.lblTitle.setText("문서제목");$.txtTitle=new FingerEdit(host,"txtTitle",105,15,500,20);$.btnSubmit=new FingerButton(host,"btnSubmit",1010,15,100,20);$.btnSubmit.setText("상신");$.btnTmpSave=new FingerButton(host,"btnTmpSave",1100,15,100,20);$.btnTmpSave.setText("임시저장");$.panWFMain=new FingerPanel(host,"panWFMain",0,65,1200,510);$.panWFMain.setText("기안내용");$.panWFMain.setBottomLine(true);$.panWFDetail=new FingerPanel(host,"panWFDetail",0,585,1200,285);$.panWFDetail.setText("기안 상세");$.panWFDetail.setBottomLine(true);$.panFile=new FingerPanel(host,"panFile",0,880,440,180);$.panFile.setText("첨부 파일");$.panFile.setBottomLine(true);$.panDoc=new FingerPanel(host,"panDoc",450,880,745,180);$.panDoc.setText("기결 문서");$.panDoc.setBottomLine(true);$.wbeWFDetail=new FingerWebEditor(host,"wbeWFDetail",0,0,1200,210);$.grdFile=new FingerDataGrid(host,"grdFile",0,0,440,135);$.grdDoc=new FingerDataGrid(host,"grdDoc",0,0,750,135);$.lblProductName=new FingerLabel(host,"lblProductName",0,10,140,20);$.lblProductName.setText("제품명");$.lblLotNo=new FingerLabel(host,"lblLotNo",340,10,100,20);$.lblLotNo.setText("제조번호");$.lblExpDate=new FingerLabel(host,"lblExpDate",600,10,100,20);$.lblExpDate.setText("사용기한");$.lblReturnYN=new FingerLabel(host,"lblReturnYN",0,40,140,20);$.lblReturnYN.setText("제품회수여부");$.lblClaimDate=new FingerLabel(host,"lblClaimDate",0,100,140,20);$.lblClaimDate.setText("불만발생일");$.lblClaimPerson=new FingerLabel(host,"lblClaimPerson",295,100,140,20);$.lblClaimPerson.setText("불만제기자");$.lblClaimManager=new FingerLabel(host,"lblClaimManager",0,130,140,20);$.lblClaimManager.setText("불만처 방문자");$.lblClaimVisitDate=new FingerLabel(host,"lblClaimVisitDate",295,130,140,20);$.lblClaimVisitDate.setText("방문일자");$.lblClaimCompany=new FingerLabel(host,"lblClaimCompany",0,160,140,20);$.lblClaimCompany.setText("불만발생기관");$.lblClaimType=new FingerLabel(host,"lblClaimType",0,220,140,20);$.lblClaimType.setText("불만종류");$.lblClaimGetDate=new FingerLabel(host,"lblClaimGetDate",0,70,140,20);$.lblClaimGetDate.setText("불만접수일");$.lblClaimGetUser=new FingerLabel(host,"lblClaimGetUser",295,70,140,20);$.lblClaimGetUser.setText("불만접수자");$.lblClaimContent=new FingerLabel(host,"lblClaimContent",0,325,140,20);$.lblClaimContent.setText("불만내용");$.lblClaimFeedback=new FingerLabel(host,"lblClaimFeedback",0,370,140,20);$.lblClaimFeedback.setText("불만제기자에 대한 대응");$.lblClaimRequest=new FingerLabel(host,"lblClaimRequest",370,370,180,20);$.lblClaimRequest.setText("그 외 불만제기자의 요구사항");$.lblAdverseEvent=new FingerLabel(host,"lblAdverseEvent",0,430,140,20);$.lblAdverseEvent.setText("유해사례관련");$.lblProductCondition=new FingerLabel(host,"lblProductCondition",0,280,140,20);$.lblProductCondition.setText("불만품의 보관상태");$.lblClaimOccurTime=new FingerLabel(host,"lblClaimOccurTime",0,250,140,20);$.lblClaimOccurTime.setText("불만발생시점");$.bteProductName=new FingerButtonEdit(host,"bteProductName",150,10,200,20);$.bteProductName.setText("");$.bteLotNo=new FingerButtonEdit(host,"bteLotNo",445,10,140,20);$.bteLotNo.setText("");$.dtdExpDate=new FingerDateEdit(host,"dtdExpDate",705,10,120,20);$.dtdClaimGetDate=new FingerDateEdit(host,"dtdClaimGetDate",150,70,140,20);$.bteClaimGetUser=new FingerButtonEdit(host,"bteClaimGetUser",445,70,140,20);$.bteClaimGetUser.setText("");$.dtdClaimDate=new FingerDateEdit(host,"dtdClaimDate",150,100,140,20);$.txtClaimPerson=new FingerEdit(host,"txtClaimPerson",445,100,140,20);$.bteClaimManager=new FingerButtonEdit(host,"bteClaimManager",150,130,140,20);$.bteClaimManager.setText("");$.dtdClaimVisitDate=new FingerDateEdit(host,"dtdClaimVisitDate",445,130,140,20);$.rdoClaimCompany=new FingerRadioBox(host,"rdoClaimCompany",150,160,400,20);$.txtClaimCompany=new FingerEdit(host,"txtClaimCompany",180,190,220,20);$.txtClaimCompanyAddr=new FingerEdit(host,"txtClaimCompanyAddr",665,190,455,20);$.txtClaimCompanyTel=new FingerEdit(host,"txtClaimCompanyTel",470,190,120,20);$.lblClaimCompanyAddr=new FingerLabel(host,"lblClaimCompanyAddr",595,190,60,20);$.lblClaimCompanyAddr.setText("주소");$.lblClaimCompanyTel=new FingerLabel(host,"lblClaimCompanyTel",405,190,60,20);$.lblClaimCompanyTel.setText("전화");$.lblClaimCompany2=new FingerLabel(host,"lblClaimCompany2",80,190,95,20);$.lblClaimCompany2.setText("기관명");$.chkClaimType1=new FingerCheckBox(host,"chkClaimType1",150,220,70,20);$.chkClaimType1.setText("외관");$.chkClaimType2=new FingerCheckBox(host,"chkClaimType2",230,220,100,20);$.chkClaimType2.setText("냄새/맛 이상");$.chkClaimType3=new FingerCheckBox(host,"chkClaimType3",340,220,90,20);$.chkClaimType3.setText("이물혼입");$.chkClaimType4=new FingerCheckBox(host,"chkClaimType4",440,220,60,20);$.chkClaimType4.setText("파손");$.chkClaimType5=new FingerCheckBox(host,"chkClaimType5",510,220,90,20);$.chkClaimType5.setText("포장불량");$.chkClaimType6=new FingerCheckBox(host,"chkClaimType6",610,220,100,20);$.chkClaimType6.setText("내용량부족");$.chkClaimType7=new FingerCheckBox(host,"chkClaimType7",720,220,60,20);$.chkClaimType7.setText("기타");$.txtClaimType=new FingerEdit(host,"txtClaimType",780,220,230,20);$.txtchkClaimOccurTime=new FingerEdit(host,"txtchkClaimOccurTime",405,250,260,20);$.txtchkProductCondition=new FingerEdit(host,"txtchkProductCondition",450,280,260,20);$.memoClaimContent=new FingerMemoEdit(host,"memoClaimContent",150,310,610,50);$.rdoClaimOccurTime=new FingerRadioBox(host,"rdoClaimOccurTime",150,250,300,20);$.rdoProductCondition=new FingerRadioBox(host,"rdoProductCondition",150,280,330,20);$.lblExchange=new FingerLabel(host,"lblExchange",150,370,80,20);$.lblExchange.setText("교환품");$.lblCheckReport=new FingerLabel(host,"lblCheckReport",150,400,80,20);$.lblCheckReport.setText("조사보고서");$.rdoExchange=new FingerRadioBox(host,"rdoExchange",235,370,140,20);$.rdoCheckReport=new FingerRadioBox(host,"rdoCheckReport",235,400,140,20);$.txtClaimRequest=new FingerEdit(host,"txtClaimRequest",550,370,300,20);$.rdoAdverseEvent=new FingerRadioBox(host,"rdoAdverseEvent",150,430,100,20);$.dtdAdverseEvent=new FingerDateEdit(host,"dtdAdverseEvent",400,430,120,20);$.lblAdverseEvent2=new FingerLabel(host,"lblAdverseEvent2",195,430,200,20);$.lblAdverseEvent2.setText("안전관리책임자 전달일");$.txtReturnUnit=new FingerEdit(host,"txtReturnUnit",445,40,140,20);$.rdoReturnType=new FingerRadioBox(host,"rdoReturnType",150,40,250,20);$.lblReturnUnit=new FingerLabel(host,"lblReturnUnit",375,40,60,20);$.lblReturnUnit.setText("수량");$.wfType="";$.businessId="";$.wfDocId="";$.panFile.addButtons(["btnDelete","btnAdd"]);$.panDoc.addButtons(["btnDelete","btnAdd"]);$.panTitle.setBorder(true);$.rdoClaimCompany.addButtons([{sub_code:"H",code_name:"병원"},{sub_code:"P",code_name:"약국"},{sub_code:"W",code_name:"도매상"},{sub_code:"E",code_name:"기타"}]);$.rdoClaimOccurTime.addButtons([{sub_code:"A",code_name:"조제시"},{sub_code:"B",code_name:"투약 후(환자발견)"},{sub_code:"C",code_name:"기타"}]);$.rdoProductCondition.addButtons([{sub_code:"A",code_name:"실온차광"},{sub_code:"B",code_name:"실온/빛노출"},{sub_code:"C",code_name:"냉장보관"},{sub_code:"D",code_name:"기타"}]);$.rdoExchange.addButtons([{sub_code:"Y",code_name:"필요"},{sub_code:"N",code_name:"불필요"}]);$.rdoCheckReport.addButtons([{sub_code:"Y",code_name:"필요"},{sub_code:"N",code_name:"불필요"}]);$.rdoAdverseEvent.addButtons([{sub_code:"Y",code_name:"유"},{sub_code:"N",code_name:"무"}]);$.rdoReturnType.addButtons([{sub_code:"A",code_name:"미회수"},{sub_code:"B",code_name:"완료"},{sub_code:"C",code_name:"예정"}]);$.bteProductName.setAllowBlank(false,"제품명");$.bteLotNo.setAllowBlank(false,"제조번호");$.dtdClaimGetDate.setAllowBlank(false,"사내최초정보입수일");$.bteClaimGetUser.setAllowBlank(false,"사내최초정보입수자");$.dtdClaimDate.setAllowBlank(false,"블만발생일");$.txtClaimPerson.setAllowBlank(false,"불만제기자");$.bteClaimManager.setAllowBlank(false,"불만처 방문자");$.dtdClaimVisitDate.setAllowBlank(false,"불만처 방문일자");$.rdoClaimCompany.setAllowBlank(false,"불만발생기관 유형");$.txtClaimCompany.setAllowBlank(false,"불만발생기관명");$.txtClaimCompanyAddr.setAllowBlank(false,"불만발생기관주소");$.txtClaimCompanyTel.setAllowBlank(false,"불만발생기관전화");$.rdoClaimOccurTime.setAllowBlank(false,"불만발생시점");$.rdoProductCondition.setAllowBlank(false,"불만품 보관상태");$.memoClaimContent.setAllowBlank(false,"불만내용");$.rdoExchange.setAllowBlank(false,"교환품");$.rdoCheckReport.setAllowBlank(false,"조사보고서");$.rdoAdverseEvent.setAllowBlank(false,"유해사례관련");$.dtdExpDate.setEnable(false);$.grdFile.setColumns([new FingerDataGridColumn("file_id",0,"left","string","",{hidden:true}),new FingerDataGridColumn("server_path",0,"left","string","",{hidden:true}),new FingerDataGridColumn("server_fname",0,"left","string","",{hidden:true}),new FingerDataGridColumn("local_fname",280,"left","string","파일명"),new FingerDataGridColumn("file_size",145,"left","string","파일크기",{format:"file_size"})]);$.grdFile.init({header:false,isFilter:false});$.grdFile.setBorder(false);$.grdDoc.setColumns([new FingerDataGridColumn("wf_doc_id",125,"left","string","문서아이디"),new FingerDataGridColumn("doc_id",105,"left","string","문서아이디"),new FingerDataGridColumn("doc_title",420,"left","string","기안명"),new FingerDataGridColumn("employee_id",0,"left","string","",{hidden:true}),new FingerDataGridColumn("emp_name",90,"left","string","기안자")]);$.grdDoc.init({header:false,isFilter:false});$.grdDoc.setBorder(false);$.host=host;$.args=args};$.start=function(){$.panMain.add($.panTitle);$.panMain.add($.panWFMain);$.panMain.add($.panWFDetail);$.panMain.add($.panFile);$.panMain.add($.panDoc);$.panTitle.add($.lblTitle);$.panTitle.add($.txtTitle);$.panTitle.add($.btnSubmit);$.panTitle.add($.btnTmpSave);$.panWFMain.add($.lblExpDate);$.panWFMain.add($.lblReturnYN);$.panWFMain.add($.lblLotNo);$.panWFMain.add($.lblProductName);$.panWFMain.add($.lblClaimDate);$.panWFMain.add($.lblClaimPerson);$.panWFMain.add($.lblClaimManager);$.panWFMain.add($.lblClaimVisitDate);$.panWFMain.add($.lblClaimCompany);$.panWFMain.add($.lblClaimType);$.panWFMain.add($.lblClaimGetDate);$.panWFMain.add($.lblClaimGetUser);$.panWFMain.add($.lblClaimOccurTime);$.panWFMain.add($.lblProductCondition);$.panWFMain.add($.lblAdverseEvent);$.panWFMain.add($.lblClaimContent);$.panWFMain.add($.lblClaimFeedback);$.panWFMain.add($.lblClaimRequest);$.panWFMain.add($.bteProductName);$.panWFMain.add($.bteLotNo);$.panWFMain.add($.dtdExpDate);$.panWFMain.add($.dtdClaimGetDate);$.panWFMain.add($.dtdClaimDate);$.panWFMain.add($.bteClaimGetUser);$.panWFMain.add($.txtClaimPerson);$.panWFMain.add($.bteClaimManager);$.panWFMain.add($.dtdClaimVisitDate);$.panWFMain.add($.rdoClaimCompany);$.panWFMain.add($.txtClaimCompany);$.panWFMain.add($.txtClaimCompanyAddr);$.panWFMain.add($.txtClaimCompanyTel);$.panWFMain.add($.lblClaimCompanyAddr);$.panWFMain.add($.lblClaimCompanyTel);$.panWFMain.add($.lblClaimCompany2);$.panWFMain.add($.chkClaimType6);$.panWFMain.add($.chkClaimType7);$.panWFMain.add($.chkClaimType4);$.panWFMain.add($.chkClaimType5);$.panWFMain.add($.chkClaimType3);$.panWFMain.add($.chkClaimType2);$.panWFMain.add($.chkClaimType1);$.panWFMain.add($.txtClaimType);$.panWFMain.add($.txtchkClaimOccurTime);$.panWFMain.add($.txtchkProductCondition);$.panWFMain.add($.memoClaimContent);$.panWFMain.add($.rdoClaimOccurTime);$.panWFMain.add($.rdoProductCondition);$.panWFMain.add($.lblExchange);$.panWFMain.add($.lblCheckReport);$.panWFMain.add($.rdoExchange);$.panWFMain.add($.rdoCheckReport);$.panWFMain.add($.txtClaimRequest);$.panWFMain.add($.rdoAdverseEvent);$.panWFMain.add($.dtdAdverseEvent);$.panWFMain.add($.lblAdverseEvent2);$.panWFMain.add($.txtReturnUnit);$.panWFMain.add($.rdoReturnType);$.panWFMain.add($.lblReturnUnit);$.panWFDetail.add($.wbeWFDetail);$.panFile.add($.grdFile);$.panDoc.add($.grdDoc);$.panWFMain.clear();relocateChildIndexInPanel([$.panWFMain]);searchWFDocument()};$.callback=function(type,ds){if(type=="Q3"){$.businessId=ds.resultList[0][0].business_id;$.wfType=ds.resultList[0][0].wf_type;$.txtTitle.setValue(ds.resultList[0][0].business_title)}else{if(type=="N"){moveWFGeneralProc()}}};$.update=function(args){if(args&&args.length){try{var cs=args[0][0];console.log(JSON.stringify(args));if(cs.wf_status=="80"){$.varOriginWfDocId=cs.wf_doc_id}else{$.varWFDocId=cs.wf_doc_id}$.txtTitle.setValue(cs.doc_title);$.wbeWFDetail.setValue(cs.doc_comment);setDataGrid([$.grdFile],args[4],true);setDataGrid([$.grdDoc],args[5],true);var md=args[6][0];if(md){$.bteProductName.setText(md.product_name);$.bteProductName.setValue(md.product_code);$.bteLotNo.setText(md.lot_no);$.bteLotNo.setValue(md.lot_no);$.dtdExpDate.setValue(md.exp_date);$.rdoReturnType.setValue(md.return_type);$.txtReturnUnit.setValue(md.return_unit);$.dtdClaimGetDate.setValue(md.claim_get_date);$.bteClaimGetUser.setValue(md.claim_get_user);$.bteClaimGetUser.setText(md.claim_get_user_name);$.dtdClaimDate.setValue(md.claim_date);$.txtClaimPerson.setValue(md.claim_person);$.bteClaimManager.setValue(md.claim_manager);$.bteClaimManager.setText(md.claim_manager_name);$.dtdClaimVisitDate.setValue(md.claim_visit_date);$.rdoClaimCompany.setValue(md.claim_company);$.txtClaimCompany.setValue(md.claim_company_name);$.txtClaimCompanyAddr.setValue(md.claim_company_addr);$.txtClaimCompanyTel.setValue(md.claim_company_tel);$.chkClaimType1.setValue(md.claim_type1);$.chkClaimType2.setValue(md.claim_type2);$.chkClaimType3.setValue(md.claim_type3);$.chkClaimType4.setValue(md.claim_type4);$.chkClaimType5.setValue(md.claim_type5);$.chkClaimType6.setValue(md.claim_type6);$.chkClaimType7.setValue(md.claim_type7);$.txtClaimType.setValue(md.claim_type_descr);$.rdoClaimOccurTime.setValue(md.claim_occur_time);$.txtchkClaimOccurTime.setValue(md.claim_occur_time_descr);$.rdoProductCondition.setValue(md.product_condition);$.txtchkProductCondition.setValue(md.product_condition_descr);$.memoClaimContent.setValue(md.claim_content);$.rdoExchange.setValue(md.exchange);$.rdoCheckReport.setValue(md.check_report);$.txtClaimRequest.setValue(md.claim_request);$.rdoAdverseEvent.setValue(md.adverse_event);$.dtdAdverseEvent.setValue(md.adverse_event_date)}}catch(err){MessageBoxShow("데이터 불러오기 중 오류가 발생 하였습니다. ("+err.message+")")}}$.args=args};$.executeScript=function(script){eval(script)};$.fingerbutton_click=function(id){if(id=="btnSubmit"){saveWFClaimReport(id)}else{if(id=="btnTmpSave"){saveWFClaimReport(id)}}};$.fingermultiselect_checkchange=function(id,index){};$.fingermultiselect_itemchange=function(id){};$.fingerbuttonedit_click=function(id){$.popUpCallId=id;if(id=="bteProductName"){param={product_name:$.bteProductName.getText(),product_code:""};g_main.openPopup("popProduct.html","popProduct","품목 리스트",500,525,"","",param,"","")}else{if(id=="bteLotNo"){if($.bteProductName.getValue()==""){return}param={product_code:$.bteProductName.getValue()};g_main.openPopup("popProductLot.html","popProductLot","제조번호 리스트",430,525,"","",param,"","")}else{if(id=="bteClaimGetUser"){param={emp_name:$.bteClaimGetUser.getText()};g_main.openPopup("popEmp.html","popEmp","",0,0,"","",param,"","")}else{if(id=="bteClaimManager"){param={emp_name:$.bteClaimManager.getText()};g_main.openPopup("popEmp.html","popEmp","",0,0,"","",param,"","")}}}}};$.fingerbuttonedit_change=function(id,value){};$.fingerbuttonedit_keypress=function(id,value){};$.fingerbuttonedit_lostfocus=function(id,value){};$.fingercheckbox_change=function(id,value){};$.fingercombobox_change=function(id,value){};$.fingerdateedit_click=function(id){};$.fingerdateedit_change=function(id,value){};$.fingerdatagrid_itemclick=function(id,rId,cInd){};$.fingerdatagrid_selectionchange=function(id,rId){};$.fingerdatagrid_cellvaluechange=function(id,rId,cInd,nValue,oValue){};$.fingerdatagrid_rowdblclicked=function(id,rId,cInd){};$.fingerdatagrid_celllink_click=function(e,gridid,rId,cId,value){};$.fingerdatagrid_popupcelldblclicked=function(id,rId,cInd){};$.fingerdatagrid_drag=function(id,sId,tId,sObj,tObj,sInd,tInd){};$.fingeredit_change=function(id,value){};$.fingeredit_keypress=function(id,value){};$.fingeredit_lostfocus=function(id,value){};$.fingerlayout_panelresizefinish=function(id){};$.fingerlayout_resizefinish=function(id){};$.fingerpanel_button_click=function(panelId,btnId){if(panelId=="panFile"){if(btnId=="btnAdd"){OpenFileUploader("WFFileAttatch",function(ds){if(!ds||ds.errorCode=="ERR0000"){MessageBoxShow("파일 업로드가 실패 하였습니다.");return}var fileList=ds.resultList[0];var grdFileLen=$.grdFile.getRowCount();for(var i=0;i<fileList.length;i++){for(var j=0;j<grdFileLen;j++){if(fileList[i]["local_fname"]==$.grdFile.getValue(j,"local_fname")&&fileList[i]["file_size"]==$.grdFile.getValue(j,"file_size")){MessageBoxShow("중복된 파일이 있습니다. 리스트를 확인해 주세요.")}}}$.grdFile.addRows(ds.resultList[0])})}else{if(btnId=="btnDelete"){var rId=$.grdFile.getSelectedRowIdx();if(!rId){MessageBoxShow("삭제할 파일을 선택해 주시기 바랍니다.");return}var result=removeSysAttachFile({file_path:($.grdFile.getValue(rId,"server_path")+$.grdFile.getValue(rId,"server_fname"))});if(result){$.grdFile.deleteRow(rId)}else{MessageBoxShow("파일을 삭제하는 도중 오류가 발생 하였습니다.");return}}}}else{if(panelId=="panDoc"){if(btnId=="btnAdd"){var param={};g_main.openPopup("crmWFEndDocSub.html","crmWFEndDocSub","",0,0,"","",param,"","")}else{if(btnId=="btnDelete"){var rId=$.grdDoc.getSelectedRowIdx();if(!rId){MessageBoxShow("삭제할 기결문서를 선택해 주시기 바랍니다.");return}$.grdDoc.deleteRow(rId)}}}}};$.fingerpopup_close=function(id){var popResult=g_popupStack.shareData;if(popResult){if(id=="crmWFEndDocSub"){for(var i=0;i<popResult.length;i++){if(chkdoc(popResult[i]["wf_doc_id"])){$.grdDoc.addRow(popResult[i],$.grdDoc.getRowCount())}}}else{if(id=="popModAppr"){if(popResult.isCancel){$.varWFDocId=popResult.wf_doc_id}else{if(saveWFDocument("","Y",popResult)){saveData("N")}}}else{if(id=="popEmp"){if($.popUpCallId=="bteClaimGetUser"){if(popResult.employee_id){$.bteClaimGetUser.setValue(popResult.employee_id);$.bteClaimGetUser.setText(popResult.emp_name)}}else{if($.popUpCallId=="bteClaimManager"){if(popResult.employee_id){$.bteClaimManager.setValue(popResult.employee_id);$.bteClaimManager.setText(popResult.emp_name)}}}}else{if(id=="popProduct"){if($.popUpCallId=="bteProductName"){if(popResult.product_code){$.bteProductName.setValue(popResult.product_code);$.bteProductName.setText(popResult.product_name)}}}else{if(id=="popProductLot"){if($.popUpCallId=="bteLotNo"){if(popResult.lot_no){$.bteLotNo.setValue(popResult.lot_no);$.bteLotNo.setText(popResult.lot_no);$.dtdExpDate.setValue(popResult.exp_date)}}}}}}}}};$.fingerpopup2_close=function(id){};$.fingertab_selectionchange=function(id,tabid){};$.fingertab_ontabclose=function(id,tabid){};$.fingertree_select=function(id,value){};$.fingertree_dblclick=function(id,nodeid){};$.fingertree_refresh=function(id){};$.fingerscheduler_before_event_changed=function(id,event_object,native_event,is_new,unmodified_event){};$.fingerscheduler_before_event_delete=function(id,event_id,event_object){};$.fingerscheduler_event_click=function(id,event_id,event_object,native_event_object){};$.fingerscheduler_ready=function(id){};$.fingerscheduler_before_event_created=function(id,start_date,end_date){};$.fingerscheduler_view_display=function(id,view){};$.fingerscheduler_event_reg=function(id,obj){};$.fingerfilepanel_upload_click=function(id,fileId,fileName){};$.fingerfilepanel_download_click=function(id,fileId,fileName){};$.fingerfilepanel_delete_click=function(id,fileId,fileName){};$.fingerradiobox_change=function(id,value){if(id=="rdoClaimOccurTime"){if($.rdoClaimOccurTime.getValue()=="C"){$.txtchkClaimOccurTime.setEnable(true);$.txtchkClaimOccurTime.setAllowBlank(false,"불만발생시점")}else{$.txtchkClaimOccurTime.setAllowBlank(true,"불만발생시점");$.txtchkClaimOccurTime.setEnable(false)}}else{if(id=="rdoProductCondition"){if($.rdoProductCondition.getValue()=="D"){$.txtchkProductCondition.setEnable(true);$.txtchkProductCondition.setAllowBlank(false,"불만품 보관상태")}else{$.txtchkProductCondition.setAllowBlank(true,"불만품 보관상태");$.txtchkProductCondition.setEnable(false)}}else{if(id=="rdoAdverseEvent"){if($.rdoAdverseEvent.getValue()=="Y"){$.dtdAdverseEvent.setEnable(true);$.dtdAdverseEvent.setAllowBlank(false,"안전관리책임자 전달일")}else{$.dtdAdverseEvent.setAllowBlank(true,"안전관리책임자 전달일");$.dtdAdverseEvent.setEnable(false)}}else{if(id=="rdoReturnType"){if($.rdoReturnType.getValue()=="A"){$.txtReturnUnit.setAllowBlank(true,"회수 대상 수량");$.txtReturnUnit.setEnable(false)}else{$.txtReturnUnit.setEnable(true);$.txtReturnUnit.setAllowBlank(false,"회수 대상 수량")}}}}}};$.fingerimage_click=function(id){};$.fingerimage_change=function(id,value){};$.fingerimage_rotate=function(id,value){};$.fingertab_click=function(id,tabid){};$.fingerpopup_click_x_button=function(){};$.fingeriframe_onload=function(id){};$.fingerhtmlview_click=function(id){}};</script>