<script>function Main(){var $=this;$.host=null;$.panMain=null;$.tabView=null;$.panViewer1=null;$.panViewer2=null;$.panViewer3=null;$.panViewer4=null;$.panViewer5=null;$.htmView1=null;$.htmView2=null;$.htmView3=null;$.htmView4=null;$.htmView5=null;$.btnCP=null;$.panViewer6=null;$.panViewer7=null;$.panViewer8=null;$.panViewer9=null;$.panViewer10=null;$.panViewer11=null;$.panViewer12=null;$.htmView6=null;$.htmView7=null;$.htmView8=null;$.htmView9=null;$.htmView10=null;$.htmView11=null;$.htmView12=null;$.btnPrint=null;function createJSON_Q(workType,wf_doc_id){var json=createExecuteParamInfo("P_crmWFDocSearch_Q",[workType,wf_doc_id,"","","","","","","","","","",""]);return json}function initControls(){$.sessionUserId=g_main.session.getValue("UserID")}function selectDoc(workType,wf_doc_id){var json=createJSON_Q(workType,wf_doc_id);callQuery(["req",json],"WF_DOC",$)}function fnQRY_P_crmCPInfo_Q(workType){var json=createJSON_Q1(workType);callQuery(["req",json],workType,$)}function createJSON_Q1(workType){var json=createExecuteParamInfo("P_crmCPInfo_Q",[workType,$.varCP_code]);return json}function searchCrmSeminarStayBF(workType){var json=createJSON_Q2("Q");return callQuerySync(["req",json],"Q")}function createJSON_Q2(workType){var json=createExecuteParamInfo("P_crmCPSeminarStayBefore_Q",[workType,$.varCP_id,""]);return json}function searchCrmSeminarStayAt(workType){var json=createJSON_Q3("Q");return callQuerySync(["req",json],"Q")}function createJSON_Q3(workType){var json=createExecuteParamInfo("P_crmCPSeminarStayAfter_Q",[workType,$.varCP_id,""]);return json}function searchCrmSeminarBF(workType){var json=createJSON_Q4("Q");return callQuerySync(["req",json],"Q")}function createJSON_Q4(workType){var json=createExecuteParamInfo("P_crmCPSeminarBefore_Q",[workType,$.varCP_id,""]);return json}function searchCrmSeminarAt(workType){var json=createJSON_Q5("Q");return callQuerySync(["req",json],"Q")}function createJSON_Q5(workType){var json=createExecuteParamInfo("P_crmCPSeminarAfter_Q",[workType,$.varCP_id,""]);return json}$.init=function(host,args){$.panMain=new FingerPanel(host,"panMain",0,0,820,660);$.panMain.setText("");$.panMain.setBottomLine(true);$.tabView=new FingerTab(host,"tabView",0,40,800,580);$.panViewer1=new FingerPanel(host,"panViewer1",0,0,820,580);$.panViewer1.setText("");$.panViewer1.setBottomLine(true);$.panViewer2=new FingerPanel(host,"panViewer2",0,0,820,580);$.panViewer2.setText("");$.panViewer2.setBottomLine(true);$.panViewer3=new FingerPanel(host,"panViewer3",0,0,820,580);$.panViewer3.setText("");$.panViewer3.setBottomLine(true);$.panViewer4=new FingerPanel(host,"panViewer4",0,0,820,580);$.panViewer4.setText("");$.panViewer4.setBottomLine(true);$.panViewer5=new FingerPanel(host,"panViewer5",0,0,820,580);$.panViewer5.setText("");$.panViewer5.setBottomLine(true);$.htmView1=new FingerHTMLView(host,"htmView1",0,0,800,570);$.htmView2=new FingerHTMLView(host,"htmView2",0,0,800,570);$.htmView3=new FingerHTMLView(host,"htmView3",0,0,800,570);$.htmView4=new FingerHTMLView(host,"htmView4",0,0,800,570);$.htmView5=new FingerHTMLView(host,"htmView5",0,0,800,570);$.btnCP=new FingerButton(host,"btnCP",5,35,110,20);$.btnCP.setText("CP 내용 확인");$.panViewer6=new FingerPanel(host,"panViewer6",0,0,820,580);$.panViewer6.setText("");$.panViewer6.setBottomLine(true);$.panViewer7=new FingerPanel(host,"panViewer7",0,0,820,580);$.panViewer7.setText("");$.panViewer7.setBottomLine(true);$.panViewer8=new FingerPanel(host,"panViewer8",0,0,820,580);$.panViewer8.setText("");$.panViewer8.setBottomLine(true);$.panViewer9=new FingerPanel(host,"panViewer9",0,0,820,580);$.panViewer9.setText("");$.panViewer9.setBottomLine(true);$.panViewer10=new FingerPanel(host,"panViewer10",0,0,820,580);$.panViewer10.setText("");$.panViewer10.setBottomLine(true);$.panViewer11=new FingerPanel(host,"panViewer11",0,0,820,580);$.panViewer11.setText("");$.panViewer11.setBottomLine(true);$.panViewer12=new FingerPanel(host,"panViewer12",0,0,820,580);$.panViewer12.setText("");$.panViewer12.setBottomLine(true);$.htmView6=new FingerHTMLView(host,"htmView6",0,0,800,570);$.htmView7=new FingerHTMLView(host,"htmView7",0,0,800,570);$.htmView8=new FingerHTMLView(host,"htmView8",0,0,800,570);$.htmView9=new FingerHTMLView(host,"htmView9",0,0,800,570);$.htmView10=new FingerHTMLView(host,"htmView10",0,0,800,570);$.htmView11=new FingerHTMLView(host,"htmView11",0,0,800,570);$.htmView12=new FingerHTMLView(host,"htmView12",0,0,800,570);$.btnPrint=new FingerButton(host,"btnPrint",710,10,90,30);$.btnPrint.setText("출력");$.wfDocView1=new CustomWfDocument($,$.htmView1);$.wfDocView2=new CustomWfDocument($,$.htmView2);$.wfDocView3=new CustomWfDocument($,$.htmView3);$.wfDocView4=new CustomWfDocument($,$.htmView4);$.wfDocView5=new CustomWfDocument($,$.htmView5);$.wfDocView6=new CustomWfDocument($,$.htmView6);$.wfDocView7=new CustomWfDocument($,$.htmView7);$.wfDocView8=new CustomWfDocument($,$.htmView8);$.wfDocView9=new CustomWfDocument($,$.htmView9);$.wfDocView10=new CustomWfDocument($,$.htmView10);$.wfDocView11=new CustomWfDocument($,$.htmView11);$.wfDocView12=new CustomWfDocument($,$.htmView12);$.host=host;$.args=args};$.start=function(){$.panMain.add($.tabView);$.panMain.add($.btnCP);$.panMain.add($.btnPrint);$.panViewer1.add($.htmView1);$.panViewer2.add($.htmView2);$.panViewer3.add($.htmView3);$.panViewer4.add($.htmView4);$.panViewer5.add($.htmView5);$.panViewer6.add($.htmView6);$.panViewer7.add($.htmView7);$.panViewer8.add($.htmView8);$.panViewer9.add($.htmView9);$.panViewer10.add($.htmView10);$.panViewer11.add($.htmView11);$.panViewer12.add($.htmView12);if($.p_argument){$.varWFDocId=$.p_argument.wf_doc_id;$.varCP_id=$.p_argument.cp_id;$.varCP_code=$.p_argument.cp_code}$.tabView.addTab([{text:"기안내용",body:$.panViewer1,width:150},{text:"",body:$.panViewer2,width:150},{text:"",body:$.panViewer3,width:150},{text:"",body:$.panViewer4,width:150},{text:"",body:$.panViewer5,width:150},{text:"",body:$.panViewer6,width:150},{text:"",body:$.panViewer7,width:150},{text:"",body:$.panViewer8,width:150},{text:"",body:$.panViewer9,width:150},{text:"",body:$.panViewer10,width:150},{text:"",body:$.panViewer11,width:150},{text:"",body:$.panViewer12,width:150}]);initControls();$.wfDocView1.init();$.tabView.setActiveTab(0);$.tabView.hideTab(1);$.tabView.hideTab(2);$.tabView.hideTab(3);$.tabView.hideTab(4);$.tabView.hideTab(5);$.tabView.hideTab(6);$.tabView.hideTab(7);$.tabView.hideTab(8);$.tabView.hideTab(9);$.tabView.hideTab(10);$.tabView.hideTab(11);if($.varWFDocId){selectDoc("Q1",$.varWFDocId)}if($.varCP_id!=null){$.btnCP.setVisible(true)}else{$.btnCP.setVisible(false)}};$.callback=function(type,ds){if(type=="WF_DOC"){if(ds.resultList){convertJavaDateToJs(ds.resultList,"default_day");var wfResult=$.wfDocView1.load(ds.resultList);var relWf=wfResult.relWf;if(relWf&&relWf.length){for(var i=0;i<relWf.length;i++){var refTab=(i+1);var refDoc=relWf[i];$.tabView.showTab(refTab);$.tabView.setTabText(refTab,refDoc.doc_title);var json=createJSON_Q("Q1",refDoc.rel_wf_doc_id);callQuery(["req",json],("WF_DOC_REL"+refTab),$)}}}}else{if(type.indexOf("WF_DOC_REL")>-1){var refIdx=Number(type.substr(10,2));var refTab=$[("wfDocView"+(refIdx+1))];refTab.init();if(ds.resultList){convertJavaDateToJs(ds.resultList,"default_day");var wfResult=refTab.load(ds.resultList)}}else{if(type=="FORM"){var param="";if(ds.resultList[0][0].cp_form_id=="crmCPSeminarStayBf"){var ds=searchCrmSeminarStayBF();param=ds.resultList;param[0][0].Confirm=false;param[0][0].AllReport=false;param[0][0].MyReport=false;param[0][0].cp_status="90";param[0][0].cp_descr="";param[0][0].save_yn="N";g_main.openPopup("crmCPSeminarStayBf.html","crmCPSeminarStayBf","자사제품설명회 숙박(사전)",1200,965,"","",param,"","")}else{if(ds.resultList[0][0].cp_form_id=="crmCPSeminarStayAf"){var ds=searchCrmSeminarStayAt();param=ds.resultList;param[0][0].Confirm=false;param[0][0].AllReport=false;param[0][0].MyReport=false;param[0][0].cp_status="90";param[0][0].cp_descr="";param[0][0].save_yn="N";g_main.openPopup("crmCPSeminarStayAf.html","crmCPSeminarStayAf","자사제품설명회 숙박(사후)",1200,880,"","",param,"","")}else{if(ds.resultList[0][0].cp_form_id=="crmCPSeminaBefore"){var ds=searchCrmSeminarBF();param=ds.resultList;param[0][0].Confirm=false;param[0][0].AllReport=false;param[0][0].MyReport=false;param[0][0].cp_status="90";param[0][0].cp_descr="";param[0][0].save_yn="N";g_main.openPopup("crmCPSeminaBefore.html","crmCPSeminaBefore","자사제품설명회(사전)",1200,785,"","",param,"","")}else{if(ds.resultList[0][0].cp_form_id=="crmCPSeminarAfter"){var ds=searchCrmSeminarAt();param=ds.resultList;param[0][0].Confirm=false;param[0][0].AllReport=false;param[0][0].MyReport=false;param[0][0].cp_status="90";param[0][0].cp_descr="";param[0][0].save_yn="N";g_main.openPopup("crmCPSeminarAfter.html","crmCPSeminarAfter","자사제품설명회(사후)",1200,1105,"","",param,"","")}}}}}}}};$.update=function(args){$.args=args};$.executeScript=function(script){eval(script)};$.fingerbutton_click=function(id){if(id=="btnCP"){fnQRY_P_crmCPInfo_Q("FORM")}else{if(id=="btnPrint"){var viewIdx=Number($.tabView.getActiveTab())+1;var wfDocView=$[("wfDocView"+viewIdx)];printHtml(wfDocView.getPrintHtml())}}};$.fingermultiselect_checkchange=function(id,index){};$.fingermultiselect_itemchange=function(id){};$.fingerbuttonedit_click=function(id){};$.fingerbuttonedit_change=function(id,value){};$.fingerbuttonedit_keypress=function(id,value){};$.fingerbuttonedit_lostfocus=function(id,value){};$.fingercheckbox_change=function(id,value){};$.fingercombobox_change=function(id,value){};$.fingerdateedit_click=function(id){};$.fingerdateedit_change=function(id,value){};$.fingerdatagrid_itemclick=function(id,rId,cInd){};$.fingerdatagrid_selectionchange=function(id,rId){};$.fingerdatagrid_cellvaluechange=function(id,rId,cInd,nValue,oValue){};$.fingerdatagrid_rowdblclicked=function(id,rId,cInd){};$.fingerdatagrid_celllink_click=function(e,gridid,rId,cId,value){};$.fingerdatagrid_popupcelldblclicked=function(id,rId,cInd){};$.fingerdatagrid_drag=function(id,sId,tId,sObj,tObj,sInd,tInd){};$.fingeredit_change=function(id,value){};$.fingeredit_keypress=function(id,value){};$.fingeredit_lostfocus=function(id,value){};$.fingerimage_click=function(id){};$.fingerlayout_panelresizefinish=function(id){};$.fingerlayout_resizefinish=function(id){};$.fingerpanel_button_click=function(panelId,btnId){};$.fingerpopup_close=function(id){};$.fingerpopup2_close=function(id){};$.fingerradiobox_change=function(id,value){};$.fingertab_selectionchange=function(id,tabid){};$.fingertab_ontabclose=function(id,tabid){};$.fingertree_select=function(id,value){};$.fingertree_dblclick=function(id,nodeid){};$.fingertree_refresh=function(id){};$.fingerscheduler_before_event_changed=function(id,event_object,native_event,is_new,unmodified_event){};$.fingerscheduler_before_event_delete=function(id,event_id,event_object){};$.fingerscheduler_event_click=function(id,event_id,event_object,native_event_object){};$.fingerscheduler_ready=function(id){};$.fingerscheduler_before_event_created=function(id,start_date,end_date){};$.fingerscheduler_view_display=function(id,view){};$.fingerscheduler_event_reg=function(id,obj){};$.fingerfilepanel_upload_click=function(id,fileId,fileName){};$.fingerfilepanel_download_click=function(id,fileId,fileName){};$.fingerfilepanel_delete_click=function(id,fileId,fileName){};$.fingerimage_change=function(id,value){};$.fingerimage_rotate=function(id,value){};$.fingertab_click=function(id,tabid){};$.fingerpopup_click_x_button=function(){};$.fingeriframe_onload=function(id){};$.fingerhtmlview_click=function(id){}};</script>