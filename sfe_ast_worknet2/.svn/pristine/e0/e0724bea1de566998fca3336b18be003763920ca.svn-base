<script>function Main(){var $=this;$.host=null;$.panMain=null;$.panTitle=null;$.lblTitle=null;$.txtTitle=null;$.btnSubmit=null;$.btnTmpSave=null;$.panWFMain=null;$.lblDeptName=null;$.lblEmpName=null;$.lblStartDate=null;$.lblEndDate=null;$.lblReqDate=null;$.panWFDetail=null;$.panFile=null;$.panDoc=null;$.btnFileAdd=null;$.btnFileDelete=null;$.btnDocAdd=null;$.btnDocDelete=null;$.lblType=null;$.lblBabyName=null;$.lblBabyBirth=null;$.lblAlterName=null;$.lblMon=null;$.lblTue=null;$.lblWed=null;$.lblTur=null;$.lblFri=null;$.txtDept=null;$.txtEmp=null;$.dteReqDate=null;$.dteStartDate=null;$.dteEndDate=null;$.cmbMonYn=null;$.cmbTueYn=null;$.cmbWedYn=null;$.cmbThuYn=null;$.cmbFriYn=null;$.txtBabyName=null;$.dteBabyBirth=null;$.txtAlterName=null;$.lblAccount=null;$.txtMonSH=null;$.txtMonSM=null;$.txtMonEH=null;$.txtMonEM=null;$.txtTueSH=null;$.txtTueSM=null;$.txtTueEH=null;$.txtTueEM=null;$.txtWedSH=null;$.txtWedSM=null;$.txtWedEH=null;$.txtWedEM=null;$.txtThuSH=null;$.txtThuSM=null;$.txtThuEH=null;$.txtThuEM=null;$.txtFriSH=null;$.txtFriSM=null;$.txtFriEH=null;$.txtFriEM=null;$.lblCol1=null;$.lblCol2=null;$.lblCol3=null;$.lblCol4=null;$.lblCol5=null;$.lblCol6=null;$.lblCol7=null;$.lblCol8=null;$.lblCol9=null;$.lblCol10=null;$.lblex1=null;$.lblex2=null;$.lblex3=null;$.lblex4=null;$.lblex5=null;$.ediDetail=null;$.grdFile=null;$.grdDoc=null;function createJSON_Q(workType){var json=createExecuteParamInfo("P_crmWFDocument_Q",[workType,"","","crmWFCutWorkTimeReq"]);return json}function createJSON_S(workType){var json=createExecuteParamInfo("P_crmWFCutWorkTimeReq_S",[workType,$.wfDocId,"#DeptCode#","#UserID#",$.dteReqDate.getValue(),$.dteStartDate.getValue(),$.dteEndDate.getValue(),$.cmbMonYn.getValue(),($.txtMonSH.getValue()+":"+$.txtMonSM.getValue()),($.txtMonEH.getValue()+":"+$.txtMonEM.getValue()),$.cmbTueYn.getValue(),($.txtTueSH.getValue()+":"+$.txtTueSM.getValue()),($.txtTueEH.getValue()+":"+$.txtTueEM.getValue()),$.cmbWedYn.getValue(),($.txtWedSH.getValue()+":"+$.txtWedSM.getValue()),($.txtWedEH.getValue()+":"+$.txtWedEM.getValue()),$.cmbThuYn.getValue(),($.txtThuSH.getValue()+":"+$.txtThuSM.getValue()),($.txtThuEH.getValue()+":"+$.txtThuEM.getValue()),$.cmbFriYn.getValue(),($.txtFriSH.getValue()+":"+$.txtFriSM.getValue()),($.txtFriEH.getValue()+":"+$.txtFriEM.getValue()),$.txtBabyName.getValue(),$.dteBabyBirth.getValue(),$.txtAlterName.getValue()]);return json}function searchWFDocument(workType){var json=createJSON_Q("Q3");callQuery(["req",json],"Q3",$)}function saveWFCutWork(workType){if(!validateControls([$.txtTitle,$.dteStartDate,$.dteEndDate,$.cmbMonYn,$.txtMonSH,$.txtMonSM,$.txtMonEH,$.txtMonEM,$.cmbTueYn,$.txtTueSH,$.txtTueSM,$.txtTueEH,$.txtTueEM,$.cmbWedYn,$.txtWedSH,$.txtWedSM,$.txtWedEH,$.txtWedEM,$.cmbThuYn,$.txtThuSH,$.txtThuSM,$.txtThuEH,$.txtThuEM,$.cmbFriYn,$.txtFriSH,$.txtFriSM,$.txtFriEH,$.txtFriEM,$.txtBabyName,$.dteBabyBirth])){return}if($.dteStartDate.getValue()>=$.dteEndDate.getValue()){MessageBoxShow("단축근로 시작일이 종료일과 같거나 늦을 수 없습니다.");return}if($.txtMonSH.getValue()>=$.txtMonEH.getValue()){if($.txtMonSH.getValue()>$.txtMonEH.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}if($.txtMonSM.getValue()>=$.txtMonEM.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}}if($.txtTueSH.getValue()>=$.txtTueEH.getValue()){if($.txtTueSH.getValue()>$.txtTueEH.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}if($.txtTueSM.getValue()>=$.txtTueEM.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}}if($.txtWedSH.getValue()>=$.txtWedEH.getValue()){if($.txtWedSH.getValue()>$.txtWedEH.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}if($.txtWedSM.getValue()>=$.txtWedEM.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}}if($.txtThuSH.getValue()>=$.txtThuEH.getValue()){if($.txtThuSH.getValue()>$.txtThuEH.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}if($.txtThuSM.getValue()>=$.txtThuEM.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}}if($.txtFriSH.getValue()>=$.txtFriEH.getValue()){if($.txtFriSH.getValue()>$.txtFriEH.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}if($.txtFriSM.getValue()>=$.txtFriEM.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}}if(workType=="btnTmpSave"){saveWFDocument("","N")}var json=createJSON_S("S");callQuery(["req",json],"S",$)}function saveWFDocument(workType,docType,wfLine){var ds=commWFDocument(workType,docType,$.txtTitle.getValue(),$.businessId,$.varOriginWfDocId,wfLine,$.grdFile,$.grdDoc,$.ediDetail,$.wfDocId);if(ds==null||ds.errorCode.substr(0,1)=="P"||ds.errorCode.substr(0,1)=="E"){return false}if(ds.returnStr!=""){$.wfDocId=ds.returnStr}return true}function getToday(){var date=new Date();var year=date.getFullYear();var month=date.getMonth()+1;var day=date.getDate();if((""+month).length==1){month="0"+month}if((""+day).length==1){day="0"+day}return""+year+month+day}function dateChange(){var today=new Date();var dateString=$.dteEndDate.getText();var dateString2=$.dteStartDate.getText();var dateArray=dateString.split("-");var dateArray2=dateString2.split("-");var dateObj=new Date(dateArray[0],Number(dateArray[1])-1,dateArray[2]);var dateObj2=new Date(dateArray2[0],Number(dateArray2[1])-1,dateArray2[2]);var betweenDay=(dateObj.getTime()-dateObj2.getTime())/1000/60/60/24;$.txtVacDay.setValue(String.format("{0}일",(betweenDay+1).toString()))}String.format=function(){var theString=arguments[0];for(var i=1;i<arguments.length;i++){var regEx=new RegExp("\\{"+(i-1)+"\\}","gm");theString=theString.replace(regEx,arguments[i])}return theString};function chkdoc(strwf_doc_id){for(var i=0;i<$.grdDoc.getRowCount();i++){if($.grdDoc.getValue(i,"wf_doc_id")==strwf_doc_id){return false}}return true}$.init=function(host,args){$.panMain=new FingerPanel(host,"panMain",0,0,1200,1165);$.panMain.setText("");$.panMain.setBottomLine(true);$.panTitle=new FingerPanel(host,"panTitle",0,0,1200,55);$.panTitle.setText("");$.panTitle.setBottomLine(true);$.lblTitle=new FingerLabel(host,"lblTitle",0,15,100,20);$.lblTitle.setText("문서제목");$.txtTitle=new FingerEdit(host,"txtTitle",105,15,500,20);$.btnSubmit=new FingerButton(host,"btnSubmit",1010,15,100,20);$.btnSubmit.setText("상신");$.btnTmpSave=new FingerButton(host,"btnTmpSave",1100,15,100,20);$.btnTmpSave.setText("임시저장");$.panWFMain=new FingerPanel(host,"panWFMain",0,65,1200,410);$.panWFMain.setText("기안내용");$.panWFMain.setBottomLine(true);$.lblDeptName=new FingerLabel(host,"lblDeptName",10,10,100,20);$.lblDeptName.setText("소속부서");$.lblEmpName=new FingerLabel(host,"lblEmpName",275,10,100,20);$.lblEmpName.setText("신청인");$.lblStartDate=new FingerLabel(host,"lblStartDate",0,70,110,20);$.lblStartDate.setText("단축근로 예정일");$.lblEndDate=new FingerLabel(host,"lblEndDate",265,70,110,20);$.lblEndDate.setText("단축근로 종료일");$.lblReqDate=new FingerLabel(host,"lblReqDate",10,40,100,20);$.lblReqDate.setText("신청일");$.panWFDetail=new FingerPanel(host,"panWFDetail",0,485,1200,385);$.panWFDetail.setText("기안 상세");$.panWFDetail.setBottomLine(true);$.panFile=new FingerPanel(host,"panFile",0,880,440,280);$.panFile.setText("첨부 파일");$.panFile.setBottomLine(true);$.panDoc=new FingerPanel(host,"panDoc",450,880,750,280);$.panDoc.setText("기결 문서");$.panDoc.setBottomLine(true);$.btnFileAdd=new FingerButton(host,"btnFileAdd",215,-37.5,120,20);$.btnFileAdd.setText("파일추가");$.btnFileDelete=new FingerButton(host,"btnFileDelete",320,-37.5,120,20);$.btnFileDelete.setText("파일삭제");$.btnDocAdd=new FingerButton(host,"btnDocAdd",525,-37.5,120,20);$.btnDocAdd.setText("문서추가");$.btnDocDelete=new FingerButton(host,"btnDocDelete",630,-37.5,120,20);$.btnDocDelete.setText("문서삭제");$.lblType=new FingerLabel(host,"lblType",10,160,100,20);$.lblType.setText("단축근무유형");$.lblBabyName=new FingerLabel(host,"lblBabyName",10,250,100,20);$.lblBabyName.setText("영유아 성명");$.lblBabyBirth=new FingerLabel(host,"lblBabyBirth",275,250,100,20);$.lblBabyBirth.setText("생년월일");$.lblAlterName=new FingerLabel(host,"lblAlterName",10,280,100,20);$.lblAlterName.setText("업무대행자");$.lblMon=new FingerLabel(host,"lblMon",110,100,25,20);$.lblMon.setText("월");$.lblTue=new FingerLabel(host,"lblTue",110,130,25,20);$.lblTue.setText("화");$.lblWed=new FingerLabel(host,"lblWed",110,160,25,20);$.lblWed.setText("수");$.lblTur=new FingerLabel(host,"lblTur",110,190,25,20);$.lblTur.setText("목");$.lblFri=new FingerLabel(host,"lblFri",110,220,25,20);$.lblFri.setText("금");$.txtDept=new FingerEdit(host,"txtDept",115,10,140,20);$.txtEmp=new FingerEdit(host,"txtEmp",380,10,140,20);$.dteReqDate=new FingerDateEdit(host,"dteReqDate",115,40,140,20);$.dteStartDate=new FingerDateEdit(host,"dteStartDate",115,70,140,20);$.dteEndDate=new FingerDateEdit(host,"dteEndDate",380,70,140,20);$.cmbMonYn=new FingerComboBox(host,"cmbMonYn",140,100,70,20);$.cmbTueYn=new FingerComboBox(host,"cmbTueYn",140,130,70,25);$.cmbWedYn=new FingerComboBox(host,"cmbWedYn",140,160,70,20);$.cmbThuYn=new FingerComboBox(host,"cmbThuYn",140,190,70,20);$.cmbFriYn=new FingerComboBox(host,"cmbFriYn",140,220,70,20);$.txtBabyName=new FingerEdit(host,"txtBabyName",115,250,140,20);$.dteBabyBirth=new FingerDateEdit(host,"dteBabyBirth",380,250,140,20);$.txtAlterName=new FingerEdit(host,"txtAlterName",115,280,140,20);$.lblAccount=new FingerLabel(host,"lblAccount",20,310,540,20);$.lblAccount.setText("*　근로시간은 주당 15시간 이상이어야 하고, 30시간을 넘을 수 없습니다.<br>　　자녀 1명당 육아휴직과 육아기 단축근로를 합산하여 최대 1년까지 사용할 수 있습니다.");$.txtMonSH=new FingerEdit(host,"txtMonSH",225,100,20,20);$.txtMonSM=new FingerEdit(host,"txtMonSM",255,100,20,20);$.txtMonEH=new FingerEdit(host,"txtMonEH",310,100,20,20);$.txtMonEM=new FingerEdit(host,"txtMonEM",340,100,20,20);$.txtTueSH=new FingerEdit(host,"txtTueSH",225,130,20,20);$.txtTueSM=new FingerEdit(host,"txtTueSM",255,130,20,20);$.txtTueEH=new FingerEdit(host,"txtTueEH",310,130,20,20);$.txtTueEM=new FingerEdit(host,"txtTueEM",340,130,20,20);$.txtWedSH=new FingerEdit(host,"txtWedSH",225,160,20,20);$.txtWedSM=new FingerEdit(host,"txtWedSM",255,160,20,20);$.txtWedEH=new FingerEdit(host,"txtWedEH",310,160,20,20);$.txtWedEM=new FingerEdit(host,"txtWedEM",340,160,20,20);$.txtThuSH=new FingerEdit(host,"txtThuSH",225,190,20,20);$.txtThuSM=new FingerEdit(host,"txtThuSM",255,190,20,20);$.txtThuEH=new FingerEdit(host,"txtThuEH",310,190,20,20);$.txtThuEM=new FingerEdit(host,"txtThuEM",340,190,20,20);$.txtFriSH=new FingerEdit(host,"txtFriSH",225,220,20,20);$.txtFriSM=new FingerEdit(host,"txtFriSM",255,220,20,20);$.txtFriEH=new FingerEdit(host,"txtFriEH",310,220,20,20);$.txtFriEM=new FingerEdit(host,"txtFriEM",340,220,20,20);$.lblCol1=new FingerLabel(host,"lblCol1",240,100,10,20);$.lblCol1.setText(":");$.lblCol2=new FingerLabel(host,"lblCol2",325,100,10,20);$.lblCol2.setText(":");$.lblCol3=new FingerLabel(host,"lblCol3",240,130,10,20);$.lblCol3.setText(":");$.lblCol4=new FingerLabel(host,"lblCol4",325,130,10,20);$.lblCol4.setText(":");$.lblCol5=new FingerLabel(host,"lblCol5",240,160,10,20);$.lblCol5.setText(":");$.lblCol6=new FingerLabel(host,"lblCol6",325,160,10,20);$.lblCol6.setText(":");$.lblCol7=new FingerLabel(host,"lblCol7",240,190,10,20);$.lblCol7.setText(":");$.lblCol8=new FingerLabel(host,"lblCol8",325,190,10,20);$.lblCol8.setText(":");$.lblCol9=new FingerLabel(host,"lblCol9",240,220,10,20);$.lblCol9.setText(":");$.lblCol10=new FingerLabel(host,"lblCol10",325,220,10,20);$.lblCol10.setText(":");$.lblex1=new FingerLabel(host,"lblex1",280,100,20,20);$.lblex1.setText("~");$.lblex2=new FingerLabel(host,"lblex2",280,130,20,20);$.lblex2.setText("~");$.lblex3=new FingerLabel(host,"lblex3",280,160,20,20);$.lblex3.setText("~");$.lblex4=new FingerLabel(host,"lblex4",280,190,20,20);$.lblex4.setText("~");$.lblex5=new FingerLabel(host,"lblex5",280,220,20,20);$.lblex5.setText("~");$.ediDetail=new FingerWebEditor(host,"ediDetail",0,0,1200,310);$.grdFile=new FingerDataGrid(host,"grdFile",0,0,440,235);$.grdDoc=new FingerDataGrid(host,"grdDoc",0,0,750,235);$.panTitle.setBorder(true);$.txtTitle.setAllowBlank(false,"문서제목");$.dteStartDate.setAllowBlank(false,"단축근로 예정일");$.dteEndDate.setAllowBlank(false,"단축근로 종료일");$.cmbMonYn.setAllowBlank(false,"단축근무유형");$.txtMonSH.setAllowBlank(false,"출근시간");$.txtMonSM.setAllowBlank(false,"출근시간");$.txtMonEH.setAllowBlank(false,"퇴근시간");$.txtMonEM.setAllowBlank(false,"퇴근시간");$.cmbTueYn.setAllowBlank(false,"단축근무유형");$.txtTueSH.setAllowBlank(false,"출근시간");$.txtTueSM.setAllowBlank(false,"출근시간");$.txtTueEH.setAllowBlank(false,"퇴근시간");$.txtTueEM.setAllowBlank(false,"퇴근시간");$.cmbWedYn.setAllowBlank(false,"단축근무유형");$.txtWedSH.setAllowBlank(false,"출근시간");$.txtWedSM.setAllowBlank(false,"출근시간");$.txtWedEH.setAllowBlank(false,"퇴근시간");$.txtWedEM.setAllowBlank(false,"퇴근시간");$.cmbThuYn.setAllowBlank(false,"단축근무유형");$.txtThuSH.setAllowBlank(false,"출근시간");$.txtThuSM.setAllowBlank(false,"출근시간");$.txtThuEH.setAllowBlank(false,"퇴근시간");$.txtThuEM.setAllowBlank(false,"퇴근시간");$.cmbFriYn.setAllowBlank(false,"단축근무유형");$.txtFriSH.setAllowBlank(false,"출근시간");$.txtFriSM.setAllowBlank(false,"출근시간");$.txtFriEH.setAllowBlank(false,"퇴근시간");$.txtFriEM.setAllowBlank(false,"퇴근시간");$.txtBabyName.setAllowBlank(false,"영유아 성명");$.dteBabyBirth.setAllowBlank(false,"생년월일");$.lblAccount.setAlign("left");$.grdFile.setColumns([new FingerDataGridColumn("file_id",0,"left","string","",{hidden:true}),new FingerDataGridColumn("server_path",0,"left","string","",{hidden:true}),new FingerDataGridColumn("server_fname",0,"left","string","",{hidden:true}),new FingerDataGridColumn("local_fname",280,"left","string","파일명"),new FingerDataGridColumn("file_size",145,"left","string","파일크기",{format:"file_size"})]);$.grdFile.init({header:false,isFilter:false});$.grdFile.setBorder(false);$.grdDoc.setColumns([new FingerDataGridColumn("wf_doc_id",125,"left","string","문서아이디"),new FingerDataGridColumn("doc_id",105,"left","string","문서아이디"),new FingerDataGridColumn("doc_title",420,"left","string","기안명"),new FingerDataGridColumn("employee_id",0,"left","string","",{hidden:true}),new FingerDataGridColumn("emp_name",90,"left","string","기안자")]);$.grdDoc.init({header:false,isFilter:false});$.grdDoc.setBorder(false);$.panFile.addButtons(["btnDelete","btnAdd"]);$.panDoc.addButtons(["btnDelete","btnAdd"]);$.btnFileAdd.setVisible(false);$.btnFileDelete.setVisible(false);$.btnDocAdd.setVisible(false);$.btnDocDelete.setVisible(false);$.host=host;$.args=args};$.start=function(){$.panMain.add($.panTitle);$.panMain.add($.panWFMain);$.panMain.add($.panWFDetail);$.panMain.add($.panFile);$.panMain.add($.panDoc);$.panTitle.add($.lblTitle);$.panTitle.add($.txtTitle);$.panTitle.add($.btnSubmit);$.panTitle.add($.btnTmpSave);$.panWFMain.add($.lblDeptName);$.panWFMain.add($.lblEmpName);$.panWFMain.add($.lblStartDate);$.panWFMain.add($.lblEndDate);$.panWFMain.add($.lblReqDate);$.panWFMain.add($.lblType);$.panWFMain.add($.lblBabyName);$.panWFMain.add($.lblBabyBirth);$.panWFMain.add($.lblAlterName);$.panWFMain.add($.lblMon);$.panWFMain.add($.lblTue);$.panWFMain.add($.lblWed);$.panWFMain.add($.lblTur);$.panWFMain.add($.lblFri);$.panWFMain.add($.txtDept);$.panWFMain.add($.txtEmp);$.panWFMain.add($.dteReqDate);$.panWFMain.add($.dteStartDate);$.panWFMain.add($.dteEndDate);$.panWFMain.add($.cmbMonYn);$.panWFMain.add($.cmbTueYn);$.panWFMain.add($.cmbWedYn);$.panWFMain.add($.cmbThuYn);$.panWFMain.add($.cmbFriYn);$.panWFMain.add($.txtBabyName);$.panWFMain.add($.dteBabyBirth);$.panWFMain.add($.txtAlterName);$.panWFMain.add($.lblAccount);$.panWFMain.add($.txtMonSH);$.panWFMain.add($.txtMonSM);$.panWFMain.add($.txtMonEH);$.panWFMain.add($.txtMonEM);$.panWFMain.add($.txtTueSH);$.panWFMain.add($.txtTueSM);$.panWFMain.add($.txtTueEH);$.panWFMain.add($.txtTueEM);$.panWFMain.add($.txtWedSH);$.panWFMain.add($.txtWedSM);$.panWFMain.add($.txtWedEH);$.panWFMain.add($.txtWedEM);$.panWFMain.add($.txtThuSH);$.panWFMain.add($.txtThuSM);$.panWFMain.add($.txtThuEH);$.panWFMain.add($.txtThuEM);$.panWFMain.add($.txtFriSH);$.panWFMain.add($.txtFriSM);$.panWFMain.add($.txtFriEH);$.panWFMain.add($.txtFriEM);$.panWFMain.add($.lblCol10);$.panWFMain.add($.lblCol9);$.panWFMain.add($.lblCol8);$.panWFMain.add($.lblCol7);$.panWFMain.add($.lblCol6);$.panWFMain.add($.lblCol5);$.panWFMain.add($.lblCol4);$.panWFMain.add($.lblCol3);$.panWFMain.add($.lblCol2);$.panWFMain.add($.lblCol1);$.panWFMain.add($.lblex1);$.panWFMain.add($.lblex2);$.panWFMain.add($.lblex3);$.panWFMain.add($.lblex4);$.panWFMain.add($.lblex5);$.panWFDetail.add($.ediDetail);$.panFile.add($.btnFileAdd);$.panFile.add($.btnFileDelete);$.panFile.add($.grdFile);$.panDoc.add($.btnDocAdd);$.panDoc.add($.btnDocDelete);$.panDoc.add($.grdDoc);relocateChildIndexInPanel([$.panWFMain]);searchWFDocument();$.txtDept.setValue(g_main.session.getValue("DeptName"));$.txtEmp.setValue(g_main.session.getValue("UserName"));$.dteReqDate.setValue(getToday());$.wfDocId="";$.txtDept.setReadOnly(true);$.txtEmp.setReadOnly(true);$.dteReqDate.setEnable(false);var ds=bizComponentData2($,"Q2","L_CRM0216");setComboBind([$.cmbMonYn],ds);setComboBind([$.cmbTueYn],ds);setComboBind([$.cmbWedYn],ds);setComboBind([$.cmbThuYn],ds);setComboBind([$.cmbFriYn],ds);$.txtMonSH.setValue("09");$.txtMonSM.setValue("00");$.txtMonEH.setValue("18");$.txtMonEM.setValue("00");$.txtTueSH.setValue("09");$.txtTueSM.setValue("00");$.txtTueEH.setValue("18");$.txtTueEM.setValue("00");$.txtWedSH.setValue("09");$.txtWedSM.setValue("00");$.txtWedEH.setValue("18");$.txtWedEM.setValue("00");$.txtThuSH.setValue("09");$.txtThuSM.setValue("00");$.txtThuEH.setValue("18");$.txtThuEM.setValue("00");$.txtFriSH.setValue("09");$.txtFriSM.setValue("00");$.txtFriEH.setValue("18");$.txtFriEM.setValue("00")};$.callback=function(type,ds){if(type=="Q3"){$.businessId=ds.resultList[0][0].business_id;$.wfType=ds.resultList[0][0].wf_type;$.txtTitle.setValue(ds.resultList[0][0].business_title)}else{if(type=="S"){searchWFDocument();$.dteStartDate.setValue("");$.dteEndDate.setValue("");$.txtBabyName.setValue("");$.dteBabyBirth.setValue("");$.txtAlterName.setValue("");$.txtMonSH.setValue("09");$.txtMonSM.setValue("00");$.txtMonEH.setValue("18");$.txtMonEM.setValue("00");$.txtTueSH.setValue("09");$.txtTueSM.setValue("00");$.txtTueEH.setValue("18");$.txtTueEM.setValue("00");$.txtWedSH.setValue("09");$.txtWedSM.setValue("00");$.txtWedEH.setValue("18");$.txtWedEM.setValue("00");$.txtThuSH.setValue("09");$.txtThuSM.setValue("00");$.txtThuEH.setValue("18");$.txtThuEM.setValue("00");$.txtFriSH.setValue("09");$.txtFriSM.setValue("00");$.txtFriEH.setValue("18");$.txtFriEM.setValue("00");$.cmbMonYn.setValue("10");$.cmbTueYn.setValue("10");$.cmbWedYn.setValue("10");$.cmbThuYn.setValue("10");$.cmbFriYn.setValue("10");$.txtMonSH.setVisible(true);$.txtMonSM.setVisible(true);$.txtMonEH.setVisible(true);$.txtMonEM.setVisible(true);$.lblCol1.setVisible(true);$.lblCol2.setVisible(true);$.lblex1.setVisible(true);$.txtTueSH.setVisible(true);$.txtTueSM.setVisible(true);$.txtTueEH.setVisible(true);$.txtTueEM.setVisible(true);$.lblCol3.setVisible(true);$.lblCol4.setVisible(true);$.lblex2.setVisible(true);$.txtWedSH.setVisible(true);$.txtWedSM.setVisible(true);$.txtWedEH.setVisible(true);$.txtWedEM.setVisible(true);$.lblCol5.setVisible(true);$.lblCol6.setVisible(true);$.lblex3.setVisible(true);$.txtThuSH.setVisible(true);$.txtThuSM.setVisible(true);$.txtThuEH.setVisible(true);$.txtThuEM.setVisible(true);$.lblCol7.setVisible(true);$.lblCol8.setVisible(true);$.lblex4.setVisible(true);$.txtFriSH.setVisible(true);$.txtFriSM.setVisible(true);$.txtFriEH.setVisible(true);$.txtFriEM.setVisible(true);$.lblCol9.setVisible(true);$.lblCol10.setVisible(true);$.lblex5.setVisible(true);$.ediDetail.setClear();var param={wf_doc_id:$.wfDocId};g_main.openModelWithBusiness("crmWFGeneralProc",param)}}};$.update=function(args){if(args&&args.length){try{var cs=args[0][0];if(cs.wf_status=="80"){$.varOriginWfDocId=cs.wf_doc_id}else{$.wfDocId=cs.wf_doc_id}$.txtTitle.setValue(cs.doc_title);$.ediDetail.setValue(cs.doc_comment);setDataGrid([$.grdFile],args[4],true);setDataGrid([$.grdDoc],args[5],true);var md=args[6]}catch(err){MessageBoxShow("데이터 불러오기 중 오류가 발생 하였습니다. ("+err.message+")")}}$.args=args};$.executeScript=function(script){eval(script)};$.fingerbutton_click=function(id){$.popUpCallId=id;if(id=="btnSubmit"){if(!validateControls([$.txtTitle,$.dteStartDate,$.dteEndDate,$.cmbMonYn,$.txtMonSH,$.txtMonSM,$.txtMonEH,$.txtMonEM,$.cmbTueYn,$.txtTueSH,$.txtTueSM,$.txtTueEH,$.txtTueEM,$.cmbWedYn,$.txtWedSH,$.txtWedSM,$.txtWedEH,$.txtWedEM,$.cmbThuYn,$.txtThuSH,$.txtThuSM,$.txtThuEH,$.txtThuEM,$.cmbFriYn,$.txtFriSH,$.txtFriSM,$.txtFriEH,$.txtFriEM,$.txtBabyName,$.dteBabyBirth])){return}if($.dteStartDate.getValue()>=$.dteEndDate.getValue()){MessageBoxShow("단축근로 시작일이 종료일과 같거나 늦을 수 없습니다.");return}if($.txtMonSH.getValue()>=$.txtMonEH.getValue()){if($.txtMonSH.getValue()>$.txtMonEH.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}if($.txtMonSM.getValue()>=$.txtMonEM.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}}if($.txtTueSH.getValue()>=$.txtTueEH.getValue()){if($.txtTueSH.getValue()>$.txtTueEH.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}if($.txtTueSM.getValue()>=$.txtTueEM.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}}if($.txtWedSH.getValue()>=$.txtWedEH.getValue()){if($.txtWedSH.getValue()>$.txtWedEH.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}if($.txtWedSM.getValue()>=$.txtWedEM.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}}if($.txtThuSH.getValue()>=$.txtThuEH.getValue()){if($.txtThuSH.getValue()>$.txtThuEH.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}if($.txtThuSM.getValue()>=$.txtThuEM.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}}if($.txtFriSH.getValue()>=$.txtFriEH.getValue()){if($.txtFriSH.getValue()>$.txtFriEH.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}if($.txtFriSM.getValue()>=$.txtFriEM.getValue()){MessageBoxShow("근무시간의 시작시간이 종료시간과 같거나 늦을 수 없습니다");return}}var param={wf_doc_id:$.wfDocId,wf_form_id:"crmWFCutWorkTimeReq"};g_main.openPopup("popModAppr.html","popModAppr","결재라인 지정",0,0,"","",param,"","")}else{if(id=="btnTmpSave"){saveWFCutWork(id)}else{if(id=="btnDocAdd"){var param={};g_main.openPopup("crmWFEndDocSub.html","crmWFEndDocSub","기결문서",1100,735,"","",param,"","")}else{if(id=="btnDocDelete"){var rId=$.grdDoc.getSelectedRowIdx();if(!rId){MessageBoxShow("삭제할 기결문서를 선택해 주시기 바랍니다.");return}$.grdDoc.deleteRow(rId)}else{if(id=="btnFileAdd"){OpenFileUploader("WFFileAttatch",function(ds){if(!ds||ds.errorCode=="ERR0000"){MessageBoxShow("파일 업로드가 실패 하였습니다.");return}var fileList=ds.resultList[0];var grdFileLen=$.grdFile.getRowCount();for(var i=0;i<fileList.length;i++){for(var j=0;j<grdFileLen;j++){if(fileList[i]["local_fname"]==$.grdFile.getValue(j,"local_fname")&&fileList[i]["file_size"]==$.grdFile.getSSSSValue(j,"file_size")){MessageBoxShow("중복된 파일이 있습니다. 리스트를 확인해 주세요.")}}}$.grdFile.addRows(ds.resultList[0])})}else{if(id=="btnFileDelete"){var rId=$.grdFile.getSelectedRowIdx();if(!rId){MessageBoxShow("삭제할 파일을 선택해 주시기 바랍니다.");return}var result=removeSysAttachFile({file_path:($.grdFile.getValue(rId,"server_path")+$.grdFile.getValue(rId,"server_fname"))});if(result){$.grdFile.deleteRow(rId)}else{MessageBoxShow("파일을 삭제하는 도중 오류가 발생 하였습니다.");return}}}}}}}};$.fingermultiselect_checkchange=function(id,index){};$.fingermultiselect_itemchange=function(id){};$.fingerbuttonedit_click=function(id){};$.fingerbuttonedit_change=function(id,value){};$.fingerbuttonedit_keypress=function(id,value){};$.fingerbuttonedit_lostfocus=function(id,value){};$.fingercheckbox_change=function(id,value){};$.fingercombobox_change=function(id,value){if(id=="cmbMonYn"){if($.cmbMonYn.getValue()=="20"){$.txtMonSH.setVisible(false);$.txtMonSM.setVisible(false);$.txtMonEH.setVisible(false);$.txtMonEM.setVisible(false);$.lblCol1.setVisible(false);$.lblCol2.setVisible(false);$.lblex1.setVisible(false)}else{if($.cmbMonYn.getValue()=="10"){$.txtMonSH.setVisible(true);$.txtMonSM.setVisible(true);$.txtMonEH.setVisible(true);$.txtMonEM.setVisible(true);$.lblCol1.setVisible(true);$.lblCol2.setVisible(true);$.lblex1.setVisible(true)}}}else{if(id=="cmbTueYn"){if($.cmbTueYn.getValue()=="20"){$.txtTueSH.setVisible(false);$.txtTueSM.setVisible(false);$.txtTueEH.setVisible(false);$.txtTueEM.setVisible(false);$.lblCol3.setVisible(false);$.lblCol4.setVisible(false);$.lblex2.setVisible(false)}else{if($.cmbTueYn.getValue()=="10"){$.txtTueSH.setVisible(true);$.txtTueSM.setVisible(true);$.txtTueEH.setVisible(true);$.txtTueEM.setVisible(true);$.lblCol3.setVisible(true);$.lblCol4.setVisible(true);$.lblex2.setVisible(true)}}}else{if(id=="cmbWedYn"){if($.cmbWedYn.getValue()=="20"){$.txtWedSH.setVisible(false);$.txtWedSM.setVisible(false);$.txtWedEH.setVisible(false);$.txtWedEM.setVisible(false);$.lblCol5.setVisible(false);$.lblCol6.setVisible(false);$.lblex3.setVisible(false)}else{if($.cmbWedYn.getValue()=="10"){$.txtWedSH.setVisible(true);$.txtWedSM.setVisible(true);$.txtWedEH.setVisible(true);$.txtWedEM.setVisible(true);$.lblCol5.setVisible(true);$.lblCol6.setVisible(true);$.lblex3.setVisible(true)}}}else{if(id=="cmbThuYn"){if($.cmbThuYn.getValue()=="20"){$.txtThuSH.setVisible(false);$.txtThuSM.setVisible(false);$.txtThuEH.setVisible(false);$.txtThuEM.setVisible(false);$.lblCol7.setVisible(false);$.lblCol8.setVisible(false);$.lblex4.setVisible(false)}else{if($.cmbThuYn.getValue()=="10"){$.txtThuSH.setVisible(true);$.txtThuSM.setVisible(true);$.txtThuEH.setVisible(true);$.txtThuEM.setVisible(true);$.lblCol7.setVisible(true);$.lblCol8.setVisible(true);$.lblex4.setVisible(true)}}}else{if(id=="cmbFriYn"){if($.cmbFriYn.getValue()=="20"){$.txtFriSH.setVisible(false);$.txtFriSM.setVisible(false);$.txtFriEH.setVisible(false);$.txtFriEM.setVisible(false);$.lblCol9.setVisible(false);$.lblCol10.setVisible(false);$.lblex5.setVisible(false)}else{if($.cmbFriYn.getValue()=="10"){$.txtFriSH.setVisible(true);$.txtFriSM.setVisible(true);$.txtFriEH.setVisible(true);$.txtFriEM.setVisible(true);$.lblCol9.setVisible(true);$.lblCol10.setVisible(true);$.lblex5.setVisible(true)}}}}}}}};$.fingerdateedit_click=function(id){};$.fingerdateedit_change=function(id,value){};$.fingerdatagrid_itemclick=function(id,rId,cInd){};$.fingerdatagrid_selectionchange=function(id,rId){};$.fingerdatagrid_cellvaluechange=function(id,rId,cInd,nValue,oValue){};$.fingerdatagrid_rowdblclicked=function(id,rId,cInd){};$.fingerdatagrid_celllink_click=function(e,gridid,rId,cId,value){};$.fingerdatagrid_popupcelldblclicked=function(id,rId,cInd){};$.fingerdatagrid_drag=function(id,sId,tId,sObj,tObj,sInd,tInd){};$.fingeredit_change=function(id,value){};$.fingeredit_keypress=function(id,value){};$.fingeredit_lostfocus=function(id,value){};$.fingerlayout_panelresizefinish=function(id){};$.fingerlayout_resizefinish=function(id){};$.fingerpanel_button_click=function(panelId,btnId){if(panelId=="panDoc"){if(btnId=="btnAdd"){$.popUpCallId="btnDocAdd";var param={};g_main.openPopup("crmWFEndDocSub.html","crmWFEndDocSub","기결문서",1100,735,"","",param,"","")}else{if(btnId=="btnDelete"){var rId=$.grdDoc.getSelectedRowIdx();if(!rId){MessageBoxShow("삭제할 기결문서를 선택해 주시기 바랍니다.");return}$.grdDoc.deleteRow(rId)}}}else{if(panelId=="panFile"){if(btnId=="btnAdd"){OpenFileUploader("WFFileAttatch",function(ds){if(!ds||ds.errorCode=="ERR0000"){MessageBoxShow("파일 업로드가 실패 하였습니다.");return}var fileList=ds.resultList[0];var grdFileLen=$.grdFile.getRowCount();for(var i=0;i<fileList.length;i++){for(var j=0;j<grdFileLen;j++){if(fileList[i]["local_fname"]==$.grdFile.getValue(j,"local_fname")&&fileList[i]["file_size"]==$.grdFile.getSSSSValue(j,"file_size")){MessageBoxShow("중복된 파일이 있습니다. 리스트를 확인해 주세요.")}}}$.grdFile.addRows(ds.resultList[0])})}else{if(btnId=="btnDelete"){var rId=$.grdFile.getSelectedRowIdx();if(!rId){MessageBoxShow("삭제할 파일을 선택해 주시기 바랍니다.");return}var result=removeSysAttachFile({file_path:($.grdFile.getValue(rId,"server_path")+$.grdFile.getValue(rId,"server_fname"))});if(result){$.grdFile.deleteRow(rId)}else{MessageBoxShow("파일을 삭제하는 도중 오류가 발생 하였습니다.");return}}}}}};$.fingerpopup_close=function(id){var popResult=g_popupStack.shareData;if(popResult){if(id=="popModAppr"){if($.popUpCallId=="btnSubmit"){if(popResult.isCancel){$.wfDocId=popResult.wf_doc_id}else{if(saveWFDocument("","Y",popResult)){saveWFCutWork()}}}}else{if(id=="crmWFEndDocSub"){for(var i=0;i<popResult.length;i++){if(chkdoc(popResult[i]["wf_doc_id"])){$.grdDoc.addRow(popResult[i],$.grdDoc.getRowCount())}}}}}};$.fingerpopup2_close=function(id){};$.fingertab_selectionchange=function(id,tabid){};$.fingertab_ontabclose=function(id,tabid){};$.fingertree_select=function(id,value){};$.fingertree_dblclick=function(id,nodeid){};$.fingertree_refresh=function(id){};$.fingerscheduler_before_event_changed=function(id,event_object,native_event,is_new,unmodified_event){};$.fingerscheduler_before_event_delete=function(id,event_id,event_object){};$.fingerscheduler_event_click=function(id,event_id,event_object,native_event_object){};$.fingerscheduler_ready=function(id){};$.fingerscheduler_before_event_created=function(id,start_date,end_date){};$.fingerscheduler_view_display=function(id,view){};$.fingerscheduler_event_reg=function(id,obj){};$.fingerfilepanel_upload_click=function(id,fileId,fileName){};$.fingerfilepanel_download_click=function(id,fileId,fileName){};$.fingerfilepanel_delete_click=function(id,fileId,fileName){};$.fingerradiobox_change=function(id,value){};$.fingerimage_click=function(id){}};</script>