function dtmlXMLLoaderObject(t,e,i,s){return this.xmlDoc="",this.async="undefined"!=typeof i?i:!0,this.onloadAction=t||null,this.mainObject=e||null,this.waitCall=null,this.rSeed=s||!1,this}function callerFunction(t,e){return this.handler=function(i){return i||(i=window.event),t(i,e),!0}}function getAbsoluteLeft(t){return getOffset(t).left}function getAbsoluteTop(t){return getOffset(t).top}function getOffsetSum(t){for(var e=0,i=0;t;)e+=parseInt(t.offsetTop),i+=parseInt(t.offsetLeft),t=t.offsetParent;return{top:e,left:i}}function getOffsetRect(t){var e=t.getBoundingClientRect(),i=document.body,s=document.documentElement,n=window.pageYOffset||s.scrollTop||i.scrollTop,o=window.pageXOffset||s.scrollLeft||i.scrollLeft,l=s.clientTop||i.clientTop||0,h=s.clientLeft||i.clientLeft||0,r=e.top+n-l,a=e.left+o-h;return{top:Math.round(r),left:Math.round(a)}}function getOffset(t){return t.getBoundingClientRect?getOffsetRect(t):getOffsetSum(t)}function convertStringToBoolean(t){switch("string"==typeof t&&(t=t.toLowerCase()),t){case"1":case"true":case"yes":case"y":case 1:case!0:return!0;default:return!1}}function getUrlSymbol(t){return-1!=t.indexOf("?")?"&":"?"}function dhtmlDragAndDropObject(){return window.dhtmlDragAndDrop?window.dhtmlDragAndDrop:(this.dragStartObject=this.dragStartNode=this.dragNode=this.lastLanding=0,this.tempDOMM=this.tempDOMU=null,this.waitDrag=0,window.dhtmlDragAndDrop=this,this)}function M(){return this.catches||(this.catches=[]),this}function dhtmlXHeir(t,e){for(var i in e)"function"==typeof e[i]&&(t[i]=e[i]);return t}function dhtmlxEvent(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)}function dhtmlXAccordionItem(){}function dhtmlXAccordion(t,e){if(window.dhtmlXContainer){var i=this;if(this.skin=null!=e?e:"undefined"!=typeof dhtmlx&&"string"==typeof dhtmlx.skin?dhtmlx.skin:"dhx_skyblue",t==document.body){this._isAccFS=!0,document.body.className+=" dhxacc_fullscreened";var s=document.createElement("DIV");s.className="dhxcont_global_layout_area",t.appendChild(s),this.cont=new dhtmlXContainer(t),this.cont.setContent(s),t.adjustContent(t,0),this.base=document.createElement("DIV"),this.base.className="dhx_acc_base_"+this.skin,this.base.style.overflow="hidden",this.base.style.position="absolute",this._adjustToFullScreen=function(){this.base.style.left="2px",this.base.style.top="2px",this.base.style.width=parseInt(s.childNodes[0].style.width)-4+"px",this.base.style.height=parseInt(s.childNodes[0].style.height)-4+"px"},this._adjustToFullScreen(),s.childNodes[0].appendChild(this.base),this._resizeTM=null,this._resizeTMTime=400,this._doOnResize=function(){window.clearTimeout(i._resizeTM),i._resizeTM=window.setTimeout(function(){i._adjustAccordion()},i._resizeTMTime)},this._adjustAccordion=function(){document.body.adjustContent(document.body,0),this._adjustToFullScreen(),this.setSizes()},dhtmlxEvent(window,"resize",this._doOnResize)}else this.base="string"==typeof t?document.getElementById(t):t,this.base.className="dhx_acc_base_"+this.skin,this.base.innerHTML="";return this.w=this.base.offsetWidth,this.h=this.base.offsetHeight,this.skinParams={dhx_blue:{cell_height:24,cell_space:1,content_offset:1},dhx_skyblue:{cell_height:27,cell_space:-1,content_offset:-1},dhx_black:{cell_height:24,cell_space:1,content_offset:1},dhx_web:{cell_height:26,cell_space:9,content_offset:0,cell_pading_max:1,cell_pading_min:0},dhx_terrace:{cell_height:37,cell_space:-1,content_offset:-1}},this.sk=this.skinParams[this.skin],this.setSkinParameters=function(t,e){isNaN(t)||(this.sk.cell_space=t),isNaN(e)||(this.sk.content_offset=e),this._reopenItem()},this.setSkin=function(t){if(this.skinParams[t]){this.skin=t,this.sk=this.skinParams[this.skin],this.base.className="dhx_acc_base_"+this.skin+(this._r?" dhx_acc_rtl":"");for(var e in this.idPull)this.idPull[e].skin=this.skin;this._reopenItem()}},this.idPull={},this.opened=null,this.cells=function(t){return null==this.idPull[t]?null:this.idPull[t]},this.itemH=90,this.multiMode=!1,this.enableMultiMode=function(){var t,e=0;for(t in this.idPull)e++;0==e&&(this.userOffset||(this.skinParams.dhx_skyblue.cell_space=3),this.multiMode=!0),"dhx_terrace"==this.skin&&(this.skinParams.dhx_terrace.cell_space=12)},this.userOffset=!1,this.setOffset=function(t,e){this.userOffset=!0,isNaN(t)||(this.skinParams[this.skin].cell_space=t),isNaN(e)||(this.skinParams[this.skin].content_offset=e),this.setSizes()},this.imagePath="",this.setIconsPath=function(t){this.imagePath=t},this.addItem=function(t,e){if(this.multiMode)var s=this._lastVisible();var n=document.createElement("DIV");n.className="dhx_acc_item",n.dir="ltr",n._isAcc=!0,n.skin=this.skin,this.base.appendChild(n),this.multiMode&&(n.h=this.itemH);var o=document.createElement("DIV");o._idd=t,o.className="dhx_acc_item_label",o.innerHTML="<span>"+e+"</span><div class='dhx_acc_item_label_btmbrd'>&nbsp;</div><div class='dhx_acc_item_arrow'></div><div class='dhx_acc_hdr_line_l'></div><div class='dhx_acc_hdr_line_r'></div>",o.onselectstart=function(t){t=t||event,t.returnValue=!1},o.onclick=function(){(i.multiMode||!i.idPull[this._idd]._isActive)&&(i.multiMode?(i.idPull[this._idd]._isActive?i.checkEvent("onBeforeActive")?i.callEvent("onBeforeActive",[this._idd,"close"])&&i.closeItem(this._idd,"dhx_accord_outer_event"):i.closeItem(this._idd,"dhx_accord_outer_event"):i.checkEvent("onBeforeActive")?i.callEvent("onBeforeActive",[this._idd,"open"])&&i.openItem(this._idd,"dhx_accord_outer_event"):i.openItem(this._idd,"dhx_accord_outer_event"),i._autoHeightEnabled&&i.setSizes()):i.checkEvent("onBeforeActive")?i.callEvent("onBeforeActive",[this._idd,"open"])&&i.openItem(this._idd,"dhx_accord_outer_event"):i.openItem(this._idd,"dhx_accord_outer_event"))},o.onmouseover=function(){this.className="dhx_acc_item_label dhx_acc_item_lavel_hover"},o.onmouseout=function(){this.className="dhx_acc_item_label"},n.appendChild(o);var l=document.createElement("DIV");l.className="dhxcont_global_content_area",n.appendChild(l);var h=new dhtmlXContainer(n);h.setContent(l),"dhx_terrace"==this.skin&&this._hideBorders===!0&&n._setPadding([0,-1,2,0]),n.adjustContent(n,this.sk.cell_height+this.sk.content_offset),n._id=t,this.idPull[t]=n,n.getId=function(){return this._id},n.setText=function(t){i.setText(this._id,t)},n.getText=function(){return i.getText(this._id)},n.open=function(){i.openItem(this._id)},n.isOpened=function(){return i.isActive(this._id)},n.close=function(){i.closeItem(this._id)},n.setIcon=function(t){i.setIcon(this._id,t)},n.clearIcon=function(){i.clearIcon(this._id)},n.dock=function(){i.dockItem(this._id)},n.undock=function(){i.undockItem(this._id)},n.show=function(){i.showItem(this._id)},n.hide=function(){i.hideItem(this._id)},n.setHeight=function(t){i.setItemHeight(this._id,t)},n.moveOnTop=function(){i.moveOnTop(this._id)},n._doOnAttachMenu=function(){i._reopenItem()},n._doOnAttachToolbar=function(){i._reopenItem()},n._doOnAttachStatusBar=function(){i._reopenItem()},n._doOnFrameContentLoaded=function(){i.callEvent("onContentLoaded",[this])},this.multiMode&&null!=s&&(1==s._isActive?(this.idPull[s._id].adjustContent(this.idPull[s._id],this.sk.cell_height+this.sk.content_offset,null,null,this.sk.cell_space),this.idPull[s._id].updateNestedObjects()):this.idPull[s._id].style.height=this.sk.cell_height+this.sk.cell_space+"px",s=null);var r=this._enableOpenEffect;return this._enableOpenEffect=!1,this.openItem(t),this._enableOpenEffect=r,this.multiMode?this.setSizes():this._defineLastItem(),n},this.openItem=function(t,e,i){if(this.multiMode&&this._checkAutoHeight(),!this._openBuzy)if(this._enableOpenEffect&&!i)(!this.multiMode||!this.idPull[t]._isActive)&&this._openWithEffect(t,null,null,null,null,e);else if(this.multiMode)for(var s in this.idPull)(this.idPull[s]._isActive||s==t)&&(this.idPull[s].style.height=this.idPull[s].h+"px",this.idPull[s].childNodes[1].style.display="","dhx_web"==this.skin&&this.idPull[s]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_acc_dhx_web"),this.idPull[s].adjustContent(this.idPull[s],this.sk.cell_height+this.sk.content_offset,null,null,this.idPull[s]==this._lastVisible()&&"dhx_web"!=this.skin?0:this.sk.cell_space),this.idPull[s].updateNestedObjects(),this.idPull[s]._isActive=!0,this._updateArrows(),"dhx_accord_outer_event"==e&&s==t&&this.callEvent("onActive",[t,!0]));else if(!t||!this.idPull[t]._isActive||i){var n=0;for(s in this.idPull)this.idPull[s].style.height=this.sk.cell_height+(this.idPull[s]!=this._lastVisible()&&s!=t?this.sk.cell_space:0)+"px",s!=t&&(this.idPull[s].childNodes[1].style.display="none","dhx_web"==this.skin&&this.idPull[s]._setPadding(this.skinParams[this.skin].cell_pading_min,""),this.idPull[s]._isActive=!1,n+=this.idPull[s].offsetHeight);n=this.base.offsetHeight-n,t&&(this.idPull[t].style.height=n+"px",this.idPull[t].childNodes[1].style.display="","dhx_web"==this.skin&&this.idPull[t]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_acc_dhx_web"),this.idPull[t].adjustContent(this.idPull[t],this.sk.cell_height+this.sk.content_offset,null,null,this.idPull[t]==this._lastVisible()?0:this.sk.cell_space),this.idPull[t].updateNestedObjects(),this.idPull[t]._isActive=!0,"dhx_accord_outer_event"==e&&this.callEvent("onActive",[t,!0])),this._updateArrows()}},this._lastVisible=function(){for(var t=null,e=this.base.childNodes.length-1;e>=0;e--)!this.base.childNodes[e]._isHidden&&!t&&(t=this.base.childNodes[e]);return t},this.closeItem=function(t,e){null!=this.idPull[t]&&this.idPull[t]._isActive&&!this._openBuzy&&(this._enableOpenEffect?this._openWithEffect(this.multiMode?t:null,null,null,null,null,e):(this.idPull[t].style.height=this.sk.cell_height+(this.idPull[t]!=this._lastVisible()?this.sk.cell_space:0)+"px",this.idPull[t].childNodes[1].style.display="none","dhx_web"==this.skin&&this.idPull[t]._setPadding(this.skinParams[this.skin].cell_pading_min,""),this.idPull[t]._isActive=!1,"dhx_accord_outer_event"==e&&this.callEvent("onActive",[t,!1]),this._updateArrows()))},this._updateArrows=function(){for(var t in this.idPull){for(var e=this.idPull[t].childNodes[0],i=null,s=0;s<e.childNodes.length;s++)-1!=String(e.childNodes[s].className).search("dhx_acc_item_arrow")&&(i=e.childNodes[s]);null!=i&&(i.className="dhx_acc_item_arrow "+(this.idPull[t]._isActive?"item_opened":"item_closed"),i=null)}},this.setText=function(t,e,s){if(null!=i.idPull[t]){for(var n=i.idPull[t].childNodes[0],o=null,l=0;l<n.childNodes.length;l++)null!=n.childNodes[l].tagName&&"span"==String(n.childNodes[l].tagName).toLowerCase()&&(o=n.childNodes[l]);isNaN(s)?o.innerHTML=e:(o.style.paddingLeft=s+"px",o.style.paddingRight=s+"px")}},this.getText=function(t){if(null!=i.idPull[t]){for(var e=i.idPull[t].childNodes[0],s=null,n=0;n<e.childNodes.length;n++)null!=e.childNodes[n].tagName&&"span"==String(e.childNodes[n].tagName).toLowerCase()&&(s=e.childNodes[n]);return s.innerHTML}},this._initWindows=function(t){if(window.dhtmlXWindows){if(!this.dhxWins&&(this.dhxWins=new dhtmlXWindows,this.dhxWins.setSkin(this.skin),this.dhxWins.setImagePath(this.imagePath),this.dhxWinsIdPrefix="",!t))return;var e=this.dhxWinsIdPrefix+t;if(this.dhxWins.window(e))this.dhxWins.window(e).show();else{var i=this,s=this.dhxWins.createWindow(e,20,20,320,200);s.setText(this.getText(t)),s.button("close").hide(),s.attachEvent("onClose",function(t){t.hide()}),s.addUserButton("dock",99,this.dhxWins.i18n.dock,"dock"),s.button("dock").attachEvent("onClick",function(){i.cells(t).dock()})}}},this.dockWindow=function(t){this.idPull[t]._isUnDocked&&this.dhxWins&&this.dhxWins.window(this.dhxWinsIdPrefix+t)&&(this.dhxWins.window(this.dhxWinsIdPrefix+t).moveContentTo(this.idPull[t]),this.dhxWins.window(this.dhxWinsIdPrefix+t).close(),this.idPull[t]._isUnDocked=!1,this.showItem(t),this.callEvent("onDock",[t]))},this.undockWindow=function(t){this.idPull[t]._isUnDocked||(this._initWindows(t),this.idPull[t].moveContentTo(this.dhxWins.window(this.dhxWinsIdPrefix+t)),this.idPull[t]._isUnDocked=!0,this.hideItem(t),this.callEvent("onUnDock",[t]))},this.setSizes=function(){this._reopenItem()},this.showItem=function(t){null!=this.idPull[t]&&this.idPull[t]._isHidden&&(this.idPull[t]._isUnDocked?this.dockItem(t):(this.idPull[t].className="dhx_acc_item",this.idPull[t]._isHidden=!1,this._defineLastItem(),this._reopenItem()))},this.hideItem=function(t){null==this.idPull[t]||this.idPull[t]._isHidden||(this.closeItem(t),this.idPull[t].className="dhx_acc_item_hidden",this.idPull[t]._isHidden=!0,this._defineLastItem(),this._reopenItem())},this.isItemHidden=function(t){return null==this.idPull[t]?void 0:1==this.idPull[t]._isHidden},this._reopenItem=function(){var t,e=null;for(t in this.idPull)this.idPull[t]._isActive&&!this.idPull[t]._isHidden&&(e=t);this.openItem(e,null,!0)},this.forEachItem=function(t){for(var e in this.idPull)t(this.idPull[e])},this._enableOpenEffect=!1,this._openStep=10,this._openStepIncrement=5,this._openStepTimeout=10,this._openBuzy=!1,this.setEffect=function(t){this._enableOpenEffect=1==t?!0:!1},this._openWithEffect=function(t,e,i,s,n,o){if(this.multiMode){n||(this._openBuzy=!0,n=this._openStep,this.idPull[t]._isActive?(e=t,t=null,i=this.sk.cell_height+(this.idPull[e]!=this._lastVisible()?this.sk.cell_space:0),this.idPull[e].childNodes[1].style.display=""):(s=this.idPull[t].h,this.idPull[t].childNodes[1].style.display=""));var l=!1;if(t){var h=parseInt(this.idPull[t].style.height||0)+n;h>s&&(h=s,l=!0),this.idPull[t].style.height=h+"px"}if(e&&(h=parseInt(this.idPull[e].style.height)-n,i>h&&(h=i,l=!0),this.idPull[e].style.height=h+"px"),n+=this._openStepIncrement,l)t&&(this.idPull[t].adjustContent(this.idPull[t],this.sk.cell_height+this.sk.content_offset,null,null,this.idPull[t]==this._lastVisible()?0:this.sk.cell_space),this.idPull[t].updateNestedObjects(),this.idPull[t]._isActive=!0),e&&(this.idPull[e].childNodes[1].style.display="none",this.idPull[e]._isActive=!1),this._updateArrows(),this._openBuzy=!1,t&&"dhx_accord_outer_event"==o&&this.callEvent("onActive",[t,!0]),e&&"dhx_accord_outer_event"==o&&this.callEvent("onActive",[e,!1]);else{var r=this;window.setTimeout(function(){r._openWithEffect(t,e,i,s,n,o)},this._openStepTimeout)}}else{if(!n&&(this._openBuzy=!0,n=this._openStep,t)&&(this.idPull[t].childNodes[1].style.display=""),!e||!i||!s){var a,s=i=0;for(a in this.idPull){var d=this.sk.cell_height+(this.idPull[a]!=this._lastVisible()&&a!=t?this.sk.cell_space:0);this.idPull[a]._isActive&&t!=a&&(e=a,i=d),a!=t&&(s+=d)}s=this.base.offsetHeight-s}if(l=!1,t){var c=parseInt(this.idPull[t].style.height)+n;c>s&&(l=!0)}if(e){var u=parseInt(this.idPull[e].style.height)-n;i>u&&(l=!0)}n+=this._openStepIncrement,l&&(c=s,u=i),e&&(this.idPull[e].style.height=u+"px"),t&&(this.idPull[t].style.height=c+"px"),l?(e&&(this.idPull[e].childNodes[1].style.display="none",this.idPull[e]._isActive=!1),t&&(this.idPull[t].adjustContent(this.idPull[t],this.sk.cell_height+this.sk.content_offset,null,null,this.idPull[t]==this._lastVisible()?0:this.sk.cell_space),this.idPull[t].updateNestedObjects(),this.idPull[t]._isActive=!0),this._updateArrows(),this._openBuzy=!1,"dhx_accord_outer_event"==o&&t&&this.callEvent("onActive",[t,!0])):(r=this,window.setTimeout(function(){r._openWithEffect(t,e,i,s,n,o)},this._openStepTimeout))}},this.setActive=function(t){this.openItem(t)},this.isActive=function(t){return this.idPull[t]._isActive===!0?!0:!1},this.dockItem=function(t){this.dockWindow(t)},this.undockItem=function(t){this.undockWindow(t)},this.setItemHeight=function(t,e){if(this.multiMode){if("*"==e)this.idPull[t].h_auto=!0;else{if(isNaN(e))return;this.idPull[t].h_auto=!1,this.idPull[t].h=e}this._reopenItem()}},this._checkAutoHeight=function(){var t=this.base.offsetHeight;this._autoHeightEnabled=!1;var e,i=[];for(e in this.idPull)!this._autoHeightEnabled&&this.idPull[e].h_auto&&(this._autoHeightEnabled=!0),this.idPull[e].h_auto&&this.idPull[e]._isActive?i.push(e):t=this.idPull[e]._isActive?Math.max(0,t-this.idPull[e].h):Math.max(0,t-this.idPull[e].offsetHeight);if(i.length>0)for(var s=Math.floor(t/i.length),n=0;n<i.length;n++)n==i.length-1?s=t:t-=s,this.idPull[i[n]].h=s},this.setIcon=function(t,e){if(null!=this.idPull[t]){for(var i=this.idPull[t].childNodes[0],s=null,n=0;n<i.childNodes.length;n++)"dhx_acc_item_icon"==i.childNodes[n].className&&(s=i.childNodes[n]);null==s&&(s=document.createElement("IMG"),s.className="dhx_acc_item_icon",i.insertBefore(s,i.childNodes[0]),this.setText(t,null,20)),s.src=this.imagePath+e}},this.clearIcon=function(t){if(null!=this.idPull[t]){for(var e=this.idPull[t].childNodes[0],i=null,s=0;s<e.childNodes.length;s++)"dhx_acc_item_icon"==e.childNodes[s].className&&(i=e.childNodes[s]);null!=i&&(e.removeChild(i),i=null,this.setText(t,null,0))}},this.moveOnTop=function(t){this.idPull[t]&&!(this.base.childNodes.length<=1)&&(this.base.insertBefore(this.idPull[t],this.base.childNodes[0]),this.setSizes())},this._defineLastItem=function(){if(!this.multiMode)for(var t=!1,e=this.base.childNodes.length-1;e>=0;e--)this.base.childNodes[e].className.search("last_item")>=0?this.base.childNodes[e]._isHidden||t?this.base.childNodes[e].className=String(this.base.childNodes[e].className).replace(/last_item/gi,""):t=!0:!this.base.childNodes[e]._isHidden&&!t&&(this.base.childNodes[e].className+=" last_item",t=!0)},this.removeItem=function(t){var e=this.idPull[t],i=e.childNodes[0];for(i.onclick=null,i.onmouseover=null,i.onmouseout=null,i.onselectstart=null,i._idd=null,i.className="",e._dhxContDestruct();i.childNodes.length>0;)i.removeChild(i.childNodes[0]);for(i.parentNode&&i.parentNode.removeChild(i),i=null;e.childNodes.length>0;)e.removeChild(e.childNodes[0]);e._dhxContDestruct=null,e._doOnAttachMenu=null,e._doOnAttachToolbar=null,e._doOnAttachStatusBar=null,e.clearIcon=null,e.close=null,e.dock=null,e.getId=null,e.getText=null,e.hide=null,e.isOpened=null,e.open=null,e.setHeight=null,e.setIcon=null,e.setText=null,e.show=null,e.undock=null,e.parentNode&&e.parentNode.removeChild(e),e=null,this.idPull[t]=null;try{delete this.idPull[t]}catch(s){}},this.unload=function(){for(var t in this.skinParams){this.skinParams[t]=null;try{delete this.skinParams[t]}catch(e){}}this.skinParams=null;for(t in this.idPull)this.removeItem(t);this.userOffset=this.unload=this.undockWindowunload=this.undockWindow=this.undockItem=this.w=this.skin=this.showItem=this.setText=this.setSkinParameters=this.setSkin=this.setSizes=this.setOffset=this.setItemHeight=this.setIconsPath=this.setIcon=this.setEffect=this.setActive=this.removeItem=this.openItem=this.multiMode=this.itemH=this.isActive=this.imagePath=this.hideItem=this.h=this.getText=this.forEachItem=this.eventCatcher=this.enableMultiMode=this.dockWindow=this.dockItem=this.detachEvent=this.closeItem=this.clearIcon=this.checkEvent=this.cells=this.callEvent=this.attachEvent=this.addItem=this._updateArrows=this._reopenItem=this._lastVisible=this._initWindows=this.sk=this.idPull=null,1==this._isAccFS&&("function"==typeof window.addEventListener?window.removeEventListener("resize",this._doOnResize,!1):window.detachEvent("onresize",this._doOnResize),this._resizeTMTime=this._resizeTM=this._adjustToFullScreen=this._adjustAccordion=this._doOnResize=this._isAccFS=null,document.body.className=String(document.body.className).replace("dhxacc_fullscreened",""),this.cont.obj._dhxContDestruct(),this.cont.dhxcont.parentNode&&this.cont.dhxcont.parentNode.removeChild(this.cont.dhxcont),this.cont.dhxcont=null,this.cont=this.cont.setContent=null),this.dhxWins&&(this.dhxWins.unload(),this.dhxWins=null),this.base.className="",this.base=null;for(t in this)try{delete this[t]}catch(i){}},this._initWindows(),dhtmlxEventable(this),this}alert(this.i18n.dhxcontalert)}function dhtmlXContainer(t){var e=this;if(this.obj=t,t=null,this.obj._padding=!0,this.dhxcont=null,this.st=document.createElement("DIV"),this.st.style.position="absolute",this.st.style.left="-200px",this.st.style.top="0px",this.st.style.width="100px",this.st.style.height="1px",this.st.style.visibility="hidden",this.st.style.overflow="hidden",document.body.insertBefore(this.st,document.body.childNodes[0]),this.obj._getSt=function(){return e.st},this.obj.dv="def",this.obj.av=this.obj.dv,this.obj.cv=this.obj.av,this.obj.vs={},this.obj.vs[this.obj.av]={},this.obj.view=function(t){if(!this.vs[t]){this.vs[t]={},this.vs[t].dhxcont=this.vs[this.dv].dhxcont;var i=document.createElement("DIV");i.style.position="relative",i.style.left="0px",i.style.width="200px",i.style.height="200px",i.style.overflow="hidden",i.style.visibility="",e.st.appendChild(i),this.vs[t].dhxcont.mainCont[t]=i,i=null}return this.avt=this.av,this.av=t,this},this.obj.setActive=function(){if(this.vs[this.av]){if(this.cv=this.av,this.vs[this.avt].dhxcont==this.vs[this.avt].dhxcont.mainCont[this.avt].parentNode){if(e.st.appendChild(this.vs[this.avt].dhxcont.mainCont[this.avt]),this.vs[this.avt].menu&&e.st.appendChild(document.getElementById(this.vs[this.avt].menuId)),this.vs[this.avt].toolbar){e.st.appendChild(document.getElementById(this.vs[this.avt].toolbarId));var t=this.vs[this.avt].toolbar;t.forEachItem(function(e){var i=t.objPull[t.idPrefix+e].obj;null!=i&&"function"==typeof i._doOnMouseOut&&i._doOnMouseOut(),i=null}),t=null}this.vs[this.avt].sb&&e.st.appendChild(document.getElementById(this.vs[this.avt].sbId))}this.vs[this.av].dhxcont!=this.vs[this.av].dhxcont.mainCont[this.av].parentNode&&(this.vs[this.av].dhxcont.insertBefore(this.vs[this.av].dhxcont.mainCont[this.av],this.vs[this.av].dhxcont.childNodes[this.vs[this.av].dhxcont.childNodes.length-1]),this.vs[this.av].menu&&this.vs[this.av].dhxcont.insertBefore(document.getElementById(this.vs[this.av].menuId),this.vs[this.av].dhxcont.childNodes[0]),this.vs[this.av].toolbar&&this.vs[this.av].dhxcont.insertBefore(document.getElementById(this.vs[this.av].toolbarId),this.vs[this.av].dhxcont.childNodes[this.vs[this.av].menu?1:0]),this.vs[this.av].sb&&this.vs[this.av].dhxcont.insertBefore(document.getElementById(this.vs[this.av].sbId),this.vs[this.av].dhxcont.childNodes[this.vs[this.av].dhxcont.childNodes.length-1])),this._doOnResize&&this._doOnResize(),this._isWindow&&this.updateNestedObjects(),this.avt=null}},this.obj._viewRestore=function(){var t=this.av;return this.avt&&(this.av=this.avt,this.avt=null),t},this.setContent=function(t){this.obj.vs[this.obj.av].dhxcont=t,this.obj._init(),t=null},this.obj._init=function(){this.vs[this.av].dhxcont.innerHTML="<div ida='dhxMainCont' style='position: relative; left: 0px; top: 0px; overflow: hidden;'></div><div class='dhxcont_content_blocker' style='display: none;'></div>",this.vs[this.av].dhxcont.mainCont={},this.vs[this.av].dhxcont.mainCont[this.av]=this.vs[this.av].dhxcont.childNodes[0]},this.obj._genStr=function(t){for(var e="",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=0;t>s;s++)e+=i.charAt(Math.round(Math.random()*(i.length-1)));return e},this.obj.setMinContentSize=function(t,e){this.vs[this.av]._minDataSizeW=t,this.vs[this.av]._minDataSizeH=e},this.obj._setPadding=function(t,e){"object"==typeof t?(this._offsetTop=t[0],this._offsetLeft=t[1],this._offsetWidth=t[2],this._offsetHeight=t[3],t=null):(this._offsetLeft=this._offsetTop=t,this._offsetWidth=2*-t,this._offsetHeight=2*-t),this.vs[this.av].dhxcont.className="dhxcont_global_content_area "+(e||"")},this.obj.moveContentTo=function(t){for(var e in this.vs){t.view(e).setActive();var i=null;if(this.vs[e].grid&&(i="grid"),this.vs[e].tree&&(i="tree"),this.vs[e].tabbar&&(i="tabbar"),this.vs[e].folders&&(i="folders"),this.vs[e].layout&&(i="layout"),null!=i&&(t.view(e).attachObject(this.vs[e][i+"Id"],!1,!0,!1),t.vs[e][i]=this.vs[e][i],t.vs[e][i+"Id"]=this.vs[e][i+"Id"],t.vs[e][i+"Obj"]=this.vs[e][i+"Obj"],this.vs[e][i]=null,this.vs[e][i+"Id"]=null,this.vs[e][i+"Obj"]=null),this.vs[e]._frame&&(t.vs[e]._frame=this.vs[e]._frame,this.vs[e]._frame=null),null!=this.vs[e].menu){if(t.cv==t.av)t.vs[t.av].dhxcont.insertBefore(document.getElementById(this.vs[e].menuId),t.vs[t.av].dhxcont.childNodes[0]);else{var s=t._getSt();s.appendChild(document.getElementById(this.vs[e].menuId)),s=null}t.vs[e].menu=this.vs[e].menu,t.vs[e].menuId=this.vs[e].menuId,t.vs[e].menuHeight=this.vs[e].menuHeight,this.vs[e].menu=null,this.vs[e].menuId=null,this.vs[e].menuHeight=null,this.cv==this.av&&this._doOnAttachMenu&&this._doOnAttachMenu("unload"),t.cv==t.av&&t._doOnAttachMenu&&t._doOnAttachMenu("move")}if(null!=this.vs[e].toolbar&&(t.cv==t.av?t.vs[t.av].dhxcont.insertBefore(document.getElementById(this.vs[e].toolbarId),t.vs[t.av].dhxcont.childNodes[null!=t.vs[t.av].menu?1:0]):(s=t._getSt(),s.appendChild(document.getElementById(this.vs[e].toolbarId)),s=null),t.vs[e].toolbar=this.vs[e].toolbar,t.vs[e].toolbarId=this.vs[e].toolbarId,t.vs[e].toolbarHeight=this.vs[e].toolbarHeight,this.vs[e].toolbar=null,this.vs[e].toolbarId=null,this.vs[e].toolbarHeight=null,this.cv==this.av&&this._doOnAttachToolbar&&this._doOnAttachToolbar("unload"),t.cv==t.av&&t._doOnAttachToolbar&&t._doOnAttachToolbar("move")),null!=this.vs[e].sb){if(t.cv!=t.av)return s=t._getSt(),s.appendChild(document.getElementById(this.vs[e].sbId)),s;t.vs[t.av].dhxcont.insertBefore(document.getElementById(this.vs[e].sbId),t.vs[t.av].dhxcont.childNodes[t.vs[t.av].dhxcont.childNodes.length-1]),t.vs[e].sb=this.vs[e].sb,t.vs[e].sbId=this.vs[e].sbId,t.vs[e].sbHeight=this.vs[e].sbHeight,this.vs[e].sb=null,this.vs[e].sbId=null,this.vs[e].sbHeight=null,this.cv==this.av&&this._doOnAttachStatusBar&&this._doOnAttachStatusBar("unload"),t.cv==t.av&&t._doOnAttachStatusBar&&t._doOnAttachStatusBar("move")}for(var n=this.vs[e].dhxcont.mainCont[e],o=t.vs[e].dhxcont.mainCont[e];n.childNodes.length>0;)o.appendChild(n.childNodes[0])}t.view(this.av).setActive(),t=null},this.obj.adjustContent=function(t,e,i,s,n){var o=this.vs[this.av].dhxcont,l=o.mainCont[this.av];o.style.left=(this._offsetLeft||0)+"px",o.style.top=(this._offsetTop||0)+e+"px";var h=t.clientWidth+(this._offsetWidth||0);s!==!0&&(o.style.width=Math.max(0,h)+"px"),s!==!0&&o.offsetWidth>h&&(o.style.width=Math.max(0,2*h-o.offsetWidth)+"px");var r=t.clientHeight+(this._offsetHeight||0);o.style.height=Math.max(0,r-e)+(null!=i?i:0)+"px",o.offsetHeight>r-e&&(o.style.height=Math.max(0,2*(r-e)-o.offsetHeight)+"px"),n&&!isNaN(n)&&(o.style.height=Math.max(0,parseInt(o.style.height)-n)+"px"),null!=this.vs[this.av]._minDataSizeH&&parseInt(o.style.height)<this.vs[this.av]._minDataSizeH&&(o.style.height=this.vs[this.av]._minDataSizeH+"px"),null!=this.vs[this.av]._minDataSizeW&&parseInt(o.style.width)<this.vs[this.av]._minDataSizeW&&(o.style.width=this.vs[this.av]._minDataSizeW+"px"),s!==!0&&(l.style.width=o.clientWidth+"px",l.offsetWidth>o.clientWidth)&&(l.style.width=Math.max(0,2*o.clientWidth-l.offsetWidth)+"px");var a=null!=this.vs[this.av].menu?this.vs[this.av].menuHidden?0:this.vs[this.av].menuHeight:0,d=null!=this.vs[this.av].toolbar?this.vs[this.av].toolbarHidden?0:this.vs[this.av].toolbarHeight:0,c=null!=this.vs[this.av].sb?this.vs[this.av].sbHidden?0:this.vs[this.av].sbHeight:0;l.style.height=o.clientHeight+"px",l.offsetHeight>o.clientHeight&&(l.style.height=Math.max(0,2*o.clientHeight-l.offsetHeight)+"px"),l.style.height=Math.max(0,parseInt(l.style.height)-a-d-c)+"px",t=o=l=null},this.obj.coverBlocker=function(){return this.vs[this.av].dhxcont.childNodes[this.vs[this.av].dhxcont.childNodes.length-1]},this.obj.showCoverBlocker=function(){var t=this.coverBlocker();t.style.display="",t=null},this.obj.hideCoverBlocker=function(){var t=this.coverBlocker();t.style.display="none",t=null},this.obj.updateNestedObjects=function(t){if("dhx_terrace"==this.skin){var e=null!=this.vs[this.av].menu||null!=this.vs[this.av].toolbar;if(this.vs[this.av].grid){var i=e||this._isWindow?14:0,s=this._isWindow?14:0,n=this._isWindow?14:0;t&&(this._isWindow||(this.vs[this.av].grid.entBox.style.border="0px solid white",this.vs[this.av].grid.skin_h_correction=-2),this.vs[this.av].grid.dontSetSizes=!0,this.vs[this.av].gridObj.style.position="absolute"),this.vs[this.av].gridObj.style.top=i+"px",this.vs[this.av].gridObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-i-s+"px",this.vs[this.av].gridObj.style.left=n+"px",this.vs[this.av].gridObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-2*n+"px",this.vs[this.av].grid.setSizes()}this.vs[this.av].tree&&(i=e||this._isWindow?14:0,s=this._isWindow?14:0,n=this._isWindow?14:0,t&&(this.vs[this.av].treeObj.style.position="absolute"),this.vs[this.av].treeObj.style.top=i+"px",this.vs[this.av].treeObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-i-s+"px",this.vs[this.av].treeObj.style.left=n+"px",this.vs[this.av].treeObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-2*n+"px"),this.vs[this.av].form&&(i=e||this._isWindow?14:0,s=this._isWindow?14:0,n=this._isWindow?14:0,t&&(this.vs[this.av].formObj.style.position="absolute"),this.vs[this.av].formObj.style.top=i+"px",this.vs[this.av].formObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-i-s+"px",this.vs[this.av].formObj.style.left=n+"px",this.vs[this.av].formObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-2*n+"px",this.vs[this.av].form.setSizes()),this.vs[this.av].layout&&(t&&!this._isWindow&&!this._isCell&&this.vs[this.av].layout._hideBorders(),i=this._isCell&&this._noHeader&&!e?0:14,s=this._isCell&&this._noHeader?0:14,n=this._isCell&&this._noHeader?0:14,this.vs[this.av].layoutObj.style.top=i+"px",this.vs[this.av].layoutObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-i-s+"px",this.vs[this.av].layoutObj.style.left=n+"px",this.vs[this.av].layoutObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-2*n+"px",this.vs[this.av].layout.setSizes()),this.vs[this.av].accordion&&(t&&(this.vs[this.av].accordion._hideBorders=!0),i=this._isCell&&this._noHeader&&!e?0:14,s=this._isCell&&this._noHeader?0:14,n=this._isCell&&this._noHeader?0:14,this.vs[this.av].accordionObj.style.top=i+"px",this.vs[this.av].accordionObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-i-s+"px",this.vs[this.av].accordionObj.style.left=n+"px",this.vs[this.av].accordionObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-2*n+"px",this.vs[this.av].accordion.setSizes()),null!=this.vs[this.av].tabbar&&(i=!e&&this._isCell&&this._noHeader?0:14,s=this._isCell&&this._noHeader?i:28,n=this._isCell&&this._noHeader?0:14,this.vs[this.av].tabbarObj.style.top=i+"px",this.vs[this.av].tabbarObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-s+"px",this.vs[this.av].tabbarObj.style.left=n+"px",this.vs[this.av].tabbarObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-2*n+"px",this.vs[this.av].tabbar.adjustOuterSize()),this.vs[this.av].editor&&(n=i=14,this.vs[this.av].editorObj.style.top=i+"px",this.vs[this.av].editorObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)-2*i+"px",this.vs[this.av].editorObj.style.left=n+"px",this.vs[this.av].editorObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)-2*n+"px",_isIE||this.vs[this.av].editor._prepareContent(!0),this.vs[this.av].editor.setSizes()),this.vs[this.av].sched&&this.vs[this.av].sched.setSizes(),this.vs[this.av].dockedCell&&this.vs[this.av].dockedCell.updateNestedObjects()}else this.vs[this.av].grid&&this.vs[this.av].grid.setSizes(),this.vs[this.av].sched&&this.vs[this.av].sched.setSizes(),this.vs[this.av].tabbar&&this.vs[this.av].tabbar.adjustOuterSize(),this.vs[this.av].folders&&this.vs[this.av].folders.setSizes(),this.vs[this.av].editor&&(_isIE||this.vs[this.av].editor._prepareContent(!0),this.vs[this.av].editor.setSizes()),this.vs[this.av].layout&&((this._isAcc||this._isTabbarCell)&&"dhx_skyblue"==this.skin?(this.vs[this.av].layoutObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+2+"px",this.vs[this.av].layoutObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+2+"px"):(this.vs[this.av].layoutObj.style.width=this.vs[this.av].dhxcont.mainCont[this.av].style.width,this.vs[this.av].layoutObj.style.height=this.vs[this.av].dhxcont.mainCont[this.av].style.height),this.vs[this.av].layout.setSizes()),null!=this.vs[this.av].accordion&&("dhx_web"==this.skin?(this.vs[this.av].accordionObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+"px",this.vs[this.av].accordionObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+"px"):(this.vs[this.av].accordionObj.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+2+"px",this.vs[this.av].accordionObj.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+2+"px"),this.vs[this.av].accordion.setSizes()),this.vs[this.av].dockedCell&&this.vs[this.av].dockedCell.updateNestedObjects(),this.vs[this.av].form&&this.vs[this.av].form.setSizes(),this.vs[this.av].carousel&&this.vs[this.av].carousel.setSizes()
},this.obj.attachStatusBar=function(){if(!this.vs[this.av].sb){var t=document.createElement("DIV");return t.className=this._isCell?"dhxcont_sb_container_layoutcell":"dhxcont_sb_container",t.id="sbobj_"+this._genStr(12),t.innerHTML="<div class='dhxcont_statusbar'></div>",this.cv==this.av?this.vs[this.av].dhxcont.insertBefore(t,this.vs[this.av].dhxcont.childNodes[this.vs[this.av].dhxcont.childNodes.length-1]):e.st.appendChild(t),t.setText=function(t){this.childNodes[0].innerHTML=t},t.getText=function(){return this.childNodes[0].innerHTML},t.onselectstart=function(t){return t=t||event,t.returnValue=!1},this.vs[this.av].sb=t,this.vs[this.av].sbHeight="dhx_web"==this.skin?41:"dhx_skyblue"==this.skin?23:t.offsetHeight,this.vs[this.av].sbId=t.id,this._doOnAttachStatusBar&&this._doOnAttachStatusBar("init"),this.adjust(),this.vs[this._viewRestore()].sb}},this.obj.detachStatusBar=function(t){this.vs[this.av].sb&&(this.vs[this.av].sb.setText=null,this.vs[this.av].sb.getText=null,this.vs[this.av].sb.onselectstart=null,this.vs[this.av].sb.parentNode.removeChild(this.vs[this.av].sb),this.vs[this.av].sb=null,this.vs[this.av].sbHeight=null,this.vs[this.av].sbId=null,this._viewRestore(),this._doOnAttachStatusBar&&!t&&this._doOnAttachStatusBar("unload"))},this.obj.getFrame=function(){return this.getView()._frame},this.obj.getView=function(t){return this.vs[t||this.av]},this.obj.attachMenu=function(t){if(!this.vs[this.av].menu){var i=document.createElement("DIV");return i.style.position="relative",i.style.overflow="hidden",i.id="dhxmenu_"+this._genStr(12),this.cv==this.av?this.vs[this.av].dhxcont.insertBefore(i,this.vs[this.av].dhxcont.childNodes[0]):e.st.appendChild(i),"object"!=typeof t?this.vs[this.av].menu=new dhtmlXMenuObject(i.id,t||this.skin):(t.parent=i.id,this.vs[this.av].menu=new dhtmlXMenuObject(t)),this.vs[this.av].menuHeight="dhx_web"==this.skin?29:i.offsetHeight,this.vs[this.av].menuId=i.id,this._doOnAttachMenu&&this._doOnAttachMenu("init"),this.adjust(),this.vs[this._viewRestore()].menu}},this.obj.detachMenu=function(t){if(this.vs[this.av].menu){var e=document.getElementById(this.vs[this.av].menuId);this.vs[this.av].menu.unload(),this.vs[this.av].menu=null,this.vs[this.av].menuId=null,this.vs[this.av].menuHeight=null,e&&e.parentNode.removeChild(e),e=null,this._viewRestore(),this._doOnAttachMenu&&!t&&this._doOnAttachMenu("unload")}},this.obj.attachToolbar=function(t){if(!this.vs[this.av].toolbar){var i=document.createElement("DIV");i.style.position="relative",i.style.overflow="hidden",i.id="dhxtoolbar_"+this._genStr(12),this.cv==this.av?this.vs[this.av].dhxcont.insertBefore(i,this.vs[this.av].dhxcont.childNodes[null!=this.vs[this.av].menu?1:0]):e.st.appendChild(i),"object"!=typeof t?this.vs[this.av].toolbar=new dhtmlXToolbarObject(i.id,t||this.skin):(t.parent=i.id,this.vs[this.av].toolbar=new dhtmlXToolbarObject(t)),this.vs[this.av].toolbarHeight=i.offsetHeight,this.vs[this.av].toolbarId=i.id,this._doOnAttachToolbar&&this._doOnAttachToolbar("init"),this.adjust();var s=this;return this.vs[this.av].toolbar.attachEvent("_onIconSizeChange",function(){s.vs[s.av].toolbarHeight=this.cont.offsetHeight,s.vs[s.av].toolbarId=this.cont.id,s.adjust(),s._doOnAttachToolbar&&s._doOnAttachToolbar("iconSizeChange")}),"dhx_terrace"!=this.skin&&this.vs[this.av].toolbar.callEvent("_onIconSizeChange",[]),this.vs[this._viewRestore()].toolbar}},this.obj.detachToolbar=function(t){if(this.vs[this.av].toolbar){var e=document.getElementById(this.vs[this.av].toolbarId);this.vs[this.av].toolbar.unload(),this.vs[this.av].toolbar=null,this.vs[this.av].toolbarId=null,this.vs[this.av].toolbarHeight=null,e&&e.parentNode.removeChild(e),e=null,this._viewRestore(),this._doOnAttachToolbar&&!t&&this._doOnAttachToolbar("unload")}},this.obj.attachGrid=function(){this._isWindow&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw());var t=document.createElement("DIV");return t.id="dhxGridObj_"+this._genStr(12),t.style.width="100%",t.style.height="100%",t.cmp="grid",document.body.appendChild(t),this.attachObject(t.id,!1,!0,!1),this.vs[this.av].grid=new dhtmlXGridObject(t.id),this.vs[this.av].grid.setSkin(this.skin),("dhx_skyblue"==this.skin||"dhx_black"==this.skin||"dhx_blue"==this.skin)&&(this.vs[this.av].grid.entBox.style.border="0px solid white",this.vs[this.av].grid._sizeFix=2),this.vs[this.av].gridId=t.id,this.vs[this.av].gridObj=t,"dhx_terrace"==this.skin&&(this.adjust(),this.updateNestedObjects(!0)),this.vs[this._viewRestore()].grid},this.obj.attachScheduler=function(t,e,i,s){var s=s||window.scheduler,n=0;if(i&&(l=document.getElementById(i))&&(n=1),!n){var o=i||'<div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div>',l=document.createElement("DIV");l.id="dhxSchedObj_"+this._genStr(12),l.innerHTML='<div id="'+l.id+'" class="dhx_cal_container" style="width:100%; height:100%;"><div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div>'+o+'</div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div></div>',document.body.appendChild(l.firstChild)}return this.attachObject(l.id,!1,!0,!1),this.vs[this.av].sched=s,this.vs[this.av].schedId=l.id,s.setSizes=s.update_view,s.destructor=function(){},s.init(l.id,t,e),this.vs[this._viewRestore()].sched},this.obj.attachTree=function(t){this._isWindow&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw());var e=document.createElement("DIV");return e.id="dhxTreeObj_"+this._genStr(12),e.style.width="100%",e.style.height="100%",e.cmp="tree",document.body.appendChild(e),this.attachObject(e.id,!1,!0,!1),this.vs[this.av].tree=new dhtmlXTreeObject(e.id,"100%","100%",t||0),this.vs[this.av].tree.setSkin(this.skin),this.vs[this.av].tree.allTree.childNodes[0].style.marginTop="2px",this.vs[this.av].tree.allTree.childNodes[0].style.marginBottom="2px",this.vs[this.av].treeId=e.id,this.vs[this.av].treeObj=e,"dhx_terrace"==this.skin&&(this.adjust(),this.updateNestedObjects(!0)),this.vs[this._viewRestore()].tree},this.obj.attachTabbar=function(t){this._isWindow&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.style.border="none",this.setDimension(this.w,this.h));var e=document.createElement("DIV");return e.id="dhxTabbarObj_"+this._genStr(12),e.style.width="100%",e.style.height="100%",e.style.overflow="hidden",e.cmp="tabbar",this._isWindow||(e._hideBorders=!0),document.body.appendChild(e),this.attachObject(e.id,!1,!0,!1),this._isCell&&(this.hideHeader(),this._padding=e._hideBorders=!1),this.vs[this.av].tabbar=new dhtmlXTabBar(e.id,t||"top","dhx_terrace"==this.skin?null:20),this._isWindow||"dhx_terrace"==this.skin||(this.vs[this.av].tabbar._s.expand=!0),this.vs[this.av].tabbar.setSkin(this.skin),this.vs[this.av].tabbar.adjustOuterSize(),this.vs[this.av].tabbarId=e.id,this.vs[this.av].tabbarObj=e,"dhx_terrace"==this.skin&&(this.adjust(),this.updateNestedObjects(!0)),this.vs[this._viewRestore()].tabbar},this.obj.attachFolders=function(){this._isWindow&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw());var t=document.createElement("DIV");return t.id="dhxFoldersObj_"+this._genStr(12),t.style.width="100%",t.style.height="100%",t.style.overflow="hidden",t.cmp="folders",document.body.appendChild(t),this.attachObject(t.id,!1,!0,!1),this.vs[this.av].folders=new dhtmlxFolders(t.id),this.vs[this.av].folders.setSizes(),this.vs[this.av].foldersId=t.id,this.vs[this.av].foldersObj=t,this.vs[this._viewRestore()].folders},this.obj.attachAccordion=function(){this._isWindow&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw());var t=document.createElement("DIV");return t.id="dhxAccordionObj_"+this._genStr(12),this._padding=!0,"dhx_web"==this.skin?(t.style.left="0px",t.style.top="0px",t.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+"px",t.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+"px"):"dhx_terrace"!=this.skin&&(t.style.left="-1px",t.style.top="-1px",t.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+2+"px",t.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+2+"px"),t.style.position="relative",t.cmp="accordion",document.body.appendChild(t),this.attachObject(t.id,!1,!0,!1),this.vs[this.av].accordion=new dhtmlXAccordion(t.id,this.skin),this.vs[this.av].accordion.setSizes(),this.vs[this.av].accordionId=t.id,this.vs[this.av].accordionObj=t,"dhx_terrace"==this.skin&&(this.adjust(),this.updateNestedObjects(!0)),this.vs[this._viewRestore()].accordion},this.obj.attachLayout=function(t,e){this._isCell&&"dhx_skyblue"==this.skin&&(this.hideHeader(),this.vs[this.av].dhxcont.style.border="0px solid white",this.adjustContent(this.childNodes[0],0)),this._isCell&&"dhx_web"==this.skin&&this.hideHeader(),this._padding=!0;var i=document.createElement("DIV");return i.id="dhxLayoutObj_"+this._genStr(12),i.style.overflow="hidden",i.style.position="absolute",i.style.left="0px",i.style.top="0px",i.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+"px",i.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+"px",(this._isTabbarCell||this._isAcc)&&"dhx_skyblue"==this.skin&&(i.style.left="-1px",i.style.top="-1px",i.style.width=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.width)+2+"px",i.style.height=parseInt(this.vs[this.av].dhxcont.mainCont[this.av].style.height)+2+"px"),i.dhxContExists=!0,i.cmp="layout",document.body.appendChild(i),this.attachObject(i.id,!1,!0,!1),this.vs[this.av].layout=new dhtmlXLayoutObject(i,t,e||this.skin),this._isWindow&&this.attachEvent("_onBeforeTryResize",this.vs[this.av].layout._defineWindowMinDimension),this.vs[this.av].layoutId=i.id,this.vs[this.av].layoutObj=i,"dhx_terrace"==this.skin&&(this._isCell&&(this.style.backgroundColor="transparent",this.vs[this.av].dhxcont.style.backgroundColor="transparent",this.hideHeader()),this.adjust(),this.updateNestedObjects(!0)),this.vs[this._viewRestore()].layout},this.obj.attachEditor=function(t){this._isWindow&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw());var e=document.createElement("DIV");return e.id="dhxEditorObj_"+this._genStr(12),e.style.position="relative",e.style.display="none",e.style.overflow="hidden",e.style.width="100%",e.style.height="100%",e.cmp="editor",document.body.appendChild(e),"dhx_terrace"==this.skin&&(e._attached=!0),this.attachObject(e.id,!1,!0,!1),this.vs[this.av].editor=new dhtmlXEditor(e.id,t||this.skin),this.vs[this.av].editorId=e.id,this.vs[this.av].editorObj=e,"dhx_terrace"==this.skin&&(this.adjust(),this.updateNestedObjects(!0)),this.vs[this._viewRestore()].editor},this.obj.attachMap=function(t){var e=document.createElement("DIV");return e.id="GMapsObj_"+this._genStr(12),e.style.position="relative",e.style.display="none",e.style.overflow="hidden",e.style.width="100%",e.style.height="100%",e.cmp="gmaps",document.body.appendChild(e),this.attachObject(e.id,!1,!0,!0),t||(t={center:new google.maps.LatLng(40.719837,-73.992348),zoom:11,mapTypeId:google.maps.MapTypeId.ROADMAP}),this.vs[this.av].gmaps=new google.maps.Map(e,t),this.vs[this.av].gmaps},this.obj.attachObject=function(t,e,i,s){if("string"==typeof t&&(t=document.getElementById(t)),e){t.style.visibility="hidden",t.style.display="";var n=t.offsetWidth,o=t.offsetHeight}this._attachContent("obj",t),e&&this._isWindow&&(t.style.visibility="",this._adjustToContent(n,o)),"dhx_terrace"!=this.skin||null==this.vs[this.av].menu&&null==this.vs[this.av].toolbar||(this.adjust("undefined"==typeof s||1==s),this.updateNestedObjects(!0)),i||this._viewRestore()},this.obj.detachObject=function(t,e){for(var i=null,s=null,n="tree,grid,layout,tabbar,accordion,folders,form".split(","),o=0;o<n.length;o++)if(this.vs[this.av][n[o]]){if(i=this.vs[this.av][n[o]],s=this.vs[this.av][n[o]+"Obj"],t){for(i.unload&&i.unload(),i.destructor&&i.destructor();s.childNodes.length>0;)s.removeChild(s.childNodes[0]);s.parentNode.removeChild(s),i=s=null}else document.body.appendChild(s),s.style.display="none";this.vs[this.av][n[o]]=null,this.vs[this.av][n[o]+"Id"]=null,this.vs[this.av][n[o]+"Obj"]=null}if(null!=i&&null!=s)return[i,s];t&&this.vs[this.av]._frame&&(this._detachURLEvents(),this.vs[this.av]._frame=null);for(var l=this.vs[this.av].dhxcont.mainCont[this.av];l.childNodes.length>0;)if(1==t)l.removeChild(l.childNodes[0]);else{var h=l.childNodes[0];null!=e?("object"!=typeof e&&(e=document.getElementById(e)),e.appendChild(h)):document.body.appendChild(h),h.style.display="none"}l=e=null},this.obj.appendObject=function(t){"string"==typeof t&&(t=document.getElementById(t)),this._attachContent("obj",t,!0)},this.obj.attachHTMLString=function(t){this._attachContent("str",t);for(var e=t.match(/<script[^>]*>[^\f]*?<\/script>/g)||[],i=0;i<e.length;i++){var s=e[i].replace(/<([\/]{0,1})script[^>]*>/g,"");s&&(window.execScript?window.execScript(s):window.eval(s))}},this.obj.attachURL=function(t,e){this._attachContent(1==e?"urlajax":"url",t,!1),"dhx_terrace"!=this.skin||null==this.vs[this.av].menu&&null==this.vs[this.av].toolbar||(this.adjust(!0),this.updateNestedObjects(!0)),this._viewRestore()},this.obj.adjust=function(t){if("dhx_skyblue"==this.skin&&(this.vs[this.av].menu&&((this._isWindow||this._isLayout)&&(this.vs[this.av].menu._topLevelOffsetLeft=0,document.getElementById(this.vs[this.av].menuId).style.height="26px",this.vs[this.av].menuHeight=document.getElementById(this.vs[this.av].menuId).offsetHeight,this._doOnAttachMenu&&this._doOnAttachMenu("show")),this._isCell&&(document.getElementById(this.vs[this.av].menuId).className+=" in_layoutcell",this.vs[this.av].menuHeight=25),this._isAcc&&(document.getElementById(this.vs[this.av].menuId).className+=" in_acccell",this.vs[this.av].menuHeight=25),this._doOnAttachMenu&&this._doOnAttachMenu("adjust")),this.vs[this.av].toolbar&&(this._isWindow&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_window"),this._isLayout&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_layout"),this._isCell&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_layoutcell"),this._isAcc&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_acccell"),this._isTabbarCell&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_tabbarcell"))),"dhx_web"==this.skin&&this.vs[this.av].toolbar&&(this._isWindow&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_window"),this._isLayout&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_layout"),this._isCell&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_layoutcell"),this._isAcc&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_acccell"),this._isTabbarCell&&(document.getElementById(this.vs[this.av].toolbarId).className+=" in_tabbarcell")),"dhx_terrace"==this.skin){var e=0;(this._isWindow||this._isCell||this._isAcc||this._isTabbarCell)&&(e=14),this._isCell&&this._noHeader&&(e=0);var i=0;(this._isWindow||this._isCell||this._isAcc||this._isTabbarCell)&&(i=14),this._isCell&&this._noHeader&&(i=0);var s=1==t&&!this.vs[this.av].toolbar||this._isLayout?14:0,n=1==t||this._isLayout?14:0,o=!1;this.vs[this.av].menu&&(document.getElementById(this.vs[this.av].menuId).style.marginLeft=e+"px",document.getElementById(this.vs[this.av].menuId).style.marginRight=e+"px",document.getElementById(this.vs[this.av].menuId).style.marginTop=i+"px",document.getElementById(this.vs[this.av].menuId).style.marginBottom=s+"px",this.vs[this.av].menuHeight=32+i+s,this._doOnAttachMenu&&this._doOnAttachMenu("show"),o=!0),this.vs[this.av].toolbar&&(0==i&&null!=this.vs[this.av].menu&this._isCell&&(i=14),document.getElementById(this.vs[this.av].toolbarId).style.marginLeft=e+"px",document.getElementById(this.vs[this.av].toolbarId).style.marginRight=e+"px",document.getElementById(this.vs[this.av].toolbarId).style.marginTop=i+"px",document.getElementById(this.vs[this.av].toolbarId).style.marginBottom=n+"px",this.vs[this.av].toolbarHeight=this.vs[this.av].toolbar.cont.offsetHeight+i+n,this._doOnAttachToolbar&&this._doOnAttachToolbar("show"),o=!0)}},this.obj._attachContent=function(t,e,i){if(i!==!0)for(this.vs[this.av]._frame&&(this._detachURLEvents(),this.vs[this.av]._frame=null);this.vs[this.av].dhxcont.mainCont[this.av].childNodes.length>0;)this.vs[this.av].dhxcont.mainCont[this.av].removeChild(this.vs[this.av].dhxcont.mainCont[this.av].childNodes[0]);if("url"==t){this._isWindow&&null==e.cmp&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this._redraw());var s=document.createElement("IFRAME");s.frameBorder=0,s.border=0,s.style.width="100%",s.style.height="100%",s.setAttribute("src","javascript:false;"),this.vs[this.av].dhxcont.mainCont[this.av].appendChild(s),s.src=e,this.vs[this.av]._frame=s,this._attachURLEvents()}else if("urlajax"==t){this._isWindow&&null==e.cmp&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this.vs[this.av].dhxcont.mainCont[this.av].style.backgroundColor="#FFFFFF",this._redraw());var n=this,o=String(this.av).valueOf(),l=function(){var t=n.av;n.av=o,n.attachHTMLString(this.xmlDoc.responseText,this),n.av=t,n._doOnFrameContentLoaded&&n._doOnFrameContentLoaded(),this.destructor()},h=new dtmlXMLLoaderObject(l,window);h.dhxWindowObject=this,h.loadXML(e)}else"obj"==t?(this._isWindow&&null==e.cmp&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this.vs[this.av].dhxcont.mainCont[this.av].style.backgroundColor="#FFFFFF",this._redraw()),this.vs[this.av].dhxcont._frame=null,this.vs[this.av].dhxcont.mainCont[this.av].appendChild(e),this.vs[this.av].dhxcont.mainCont[this.av].style.overflow=i===!0?"auto":"hidden",e.style.display=""):"str"==t&&(this._isWindow&&null==e.cmp&&"dhx_skyblue"==this.skin&&(this.vs[this.av].dhxcont.mainCont[this.av].style.border="#a4bed4 1px solid",this.vs[this.av].dhxcont.mainCont[this.av].style.backgroundColor="#FFFFFF",this._redraw()),this.vs[this.av].dhxcont._frame=null,this.vs[this.av].dhxcont.mainCont[this.av].innerHTML=e)},this.obj._attachURLEvents=function(){var t=this,e=this.vs[this.av]._frame;_isIE?e.onreadystatechange=function(){if("complete"==e.readyState){try{e.contentWindow.document.body.onmousedown=function(){t._doOnFrameMouseDown&&t._doOnFrameMouseDown()}}catch(i){}try{t._doOnFrameContentLoaded&&t._doOnFrameContentLoaded()}catch(s){}}}:e.onload=function(){try{e.contentWindow.onmousedown=function(){t._doOnFrameMouseDown&&t._doOnFrameMouseDown()}}catch(i){}try{t._doOnFrameContentLoaded&&t._doOnFrameContentLoaded()}catch(s){}}},this.obj._detachURLEvents=function(){if(_isIE)try{this.vs[this.av]._frame.onreadystatechange=null,this.vs[this.av]._frame.contentWindow.document.body.onmousedown=null,this.vs[this.av]._frame.onload=null}catch(t){}else try{this.vs[this.av]._frame.contentWindow.onmousedown=null,this.vs[this.av]._frame.onload=null}catch(e){}},this.obj.showMenu=function(){this.vs[this.av].menu&&this.vs[this.av].menuId&&"none"==document.getElementById(this.vs[this.av].menuId).style.display&&(this.vs[this.av].menuHidden=!1,this._doOnAttachMenu&&this._doOnAttachMenu("show"),document.getElementById(this.vs[this.av].menuId).style.display="",this._viewRestore())},this.obj.hideMenu=function(){this.vs[this.av].menu&&this.vs[this.av].menuId&&"none"!=document.getElementById(this.vs[this.av].menuId).style.display&&(document.getElementById(this.vs[this.av].menuId).style.display="none",this.vs[this.av].menuHidden=!0,this._doOnAttachMenu&&this._doOnAttachMenu("hide"),this._viewRestore())},this.obj.showToolbar=function(){this.vs[this.av].toolbar&&this.vs[this.av].toolbarId&&"none"==document.getElementById(this.vs[this.av].toolbarId).style.display&&(this.vs[this.av].toolbarHidden=!1,this._doOnAttachToolbar&&this._doOnAttachToolbar("show"),document.getElementById(this.vs[this.av].toolbarId).style.display="",this._viewRestore())},this.obj.hideToolbar=function(){this.vs[this.av].toolbar&&this.vs[this.av].toolbarId&&"none"!=document.getElementById(this.vs[this.av].toolbarId).style.display&&(this.vs[this.av].toolbarHidden=!0,document.getElementById(this.vs[this.av].toolbarId).style.display="none",this._doOnAttachToolbar&&this._doOnAttachToolbar("hide"),this._viewRestore())},this.obj.showStatusBar=function(){this.vs[this.av].sb&&this.vs[this.av].sbId&&"none"==document.getElementById(this.vs[this.av].sbId).style.display&&(this.vs[this.av].sbHidden=!1,this._doOnAttachStatusBar&&this._doOnAttachStatusBar("show"),document.getElementById(this.vs[this.av].sbId).style.display="",this._viewRestore())},this.obj.hideStatusBar=function(){this.vs[this.av].sb&&this.vs[this.av].sbId&&"none"!=document.getElementById(this.vs[this.av].sbId).style.display&&(this.vs[this.av].sbHidden=!0,document.getElementById(this.vs[this.av].sbId).style.display="none",this._doOnAttachStatusBar&&this._doOnAttachStatusBar("hide"),this._viewRestore())},this.obj._dhxContDestruct=function(){{var t;this.av}for(t in this.vs)this.av=t,this.detachMenu(!0),this.detachToolbar(!0),this.detachStatusBar(!0),this.detachObject(!0),this.vs[t].dhxcont.mainCont[t]=null;for(t in this.vs)this.vs[t].dhxcont.mainCont=null,this.vs[t].dhxcont.innerHTML="",this.vs[t].dhxcont=null,this.vs[t]=null;if(this.setActive=this.getView=this.getFrame=this._getSt=this._dhxContDestruct=this._genStr=this._init=this._setPadding=this._viewRestore=this._detachURLEvents=this._attachURLEvents=this._attachContent=this.updateNestedObjects=this.hideCoverBlocker=this.showCoverBlocker=this.coverBlocker=this.adjustContent=this.moveContentTo=this.setMinContentSize=this.adjust=this.show=this.view=this.attachMap=this.attachURL=this.attachHTMLString=this.appendObject=this.detachObject=this.attachObject=this.attachEditor=this.attachLayout=this.attachAccordion=this.attachFolders=this.attachTabbar=this.attachTree=this.attachScheduler=this.attachGrid=this.hideStatusBar=this.hideToolbar=this.hideMenu=this.showStatusBar=this.showToolbar=this.showMenu=this.detachStatusBar=this.detachToolbar=this.detachMenu=this.attachStatusBar=this.attachToolbar=this.attachMenu=this.vs=null,e.st.innerHTML="",e.st.parentNode.removeChild(e.st),e.st=null,e.setContent=null,e.dhxcont=null,e=e.obj=null,dhtmlx.detaches)for(t in dhtmlx.detaches)dhtmlx.detaches[t](this)},dhtmlx.attaches)for(var i in dhtmlx.attaches)this.obj[i]=dhtmlx.attaches[i];return this}function dhtmlXCalendarObject(t,e){this.i={},this.uid=function(){return this.uidd||(this.uidd=(new Date).getTime()),this.uidd++};var i=null,s="string"==typeof t?document.getElementById(t):t;s&&"object"==typeof s&&s.tagName&&"input"!=String(s.tagName).toLowerCase()&&(i=s),s=null,"object"==typeof t&&t.length||(t=[t]);for(var n=0;n<t.length;n++)"string"==typeof t[n]&&(t[n]=document.getElementById(t[n])||null),null!=t[n]&&t[n].tagName&&"input"==String(t[n].tagName).toLowerCase()?this.i[this.uid()]={input:t[n]}:t[n]instanceof Array||!(t[n]instanceof Object)||null==t[n].input&&null==t[n].button||(null!=t[n].input&&"string"==typeof t[n].input&&(t[n].input=document.getElementById(t[n].input)),null!=t[n].button&&"string"==typeof t[n].button&&(t[n].button=document.getElementById(t[n].button)),this.i[this.uid()]=t[n]),t[n]=null;this.skinDetect=function(){var t=document.createElement("DIV");t.className="dhtmlxcalendar_skin_detect",document.body.firstChild?document.body.insertBefore(t,document.body.firstChild):document.body.appendChild(t);var e=t.offsetWidth;return t.parentNode.removeChild(t),t=null,{10:"dhx_skyblue",20:"dhx_web",30:"dhx_terrace",40:"dhx_blue",50:"dhx_black",60:"omega"}[e]||null},this.skin=null!=e?e:"undefined"!=typeof dhtmlx&&"string"==typeof dhtmlx.skin?dhtmlx.skin:this.skinDetect()||"dhx_skyblue",this.setSkin=function(t,e){(this.skin!=t||e)&&(this.skin=t,this.base.className="dhtmlxcalendar_container dhtmlxcalendar_skin_"+this.skin,this._ifrSize())},this.base=document.createElement("DIV"),this.base.className="dhtmlxcalendar_container",this.base.style.display="none",this.base.appendChild(document.createElement("DIV")),null!=i?(this._hasParent=!0,i.appendChild(this.base),i=null):document.body.appendChild(this.base),this.setParent=function(t){this._hasParent&&("object"==typeof t?t.appendChild(this.base):"string"==typeof t&&document.getElementById(t).appendChild(this.base))},this.setSkin(this.skin,!0),this.base.onclick=function(t){t=t||event,t.cancelBubble=!0},this.base.onmousedown=function(){return!1},this.loadUserLanguage=function(t){if(this.langData[t]&&(this.lang=t,this.setWeekStartDay(this.langData[this.lang].weekstart),this.setDateFormat(this.langData[this.lang].dateformat||"%Y-%m-%d"),this.msCont))for(var e=0,i=0;i<this.msCont.childNodes.length;i++)for(var s=0;s<this.msCont.childNodes[i].childNodes.length;s++)this.msCont.childNodes[i].childNodes[s].innerHTML=this.langData[this.lang].monthesSNames[e++]},this.contMonth=document.createElement("DIV"),this.contMonth.className="dhtmlxcalendar_month_cont",this.contMonth.onselectstart=function(t){return t=t||event,t.cancelBubble=!0,t.returnValue=!1},this.base.firstChild.appendChild(this.contMonth);var o=document.createElement("UL");o.className="dhtmlxcalendar_line",this.contMonth.appendChild(o);var l=document.createElement("LI");l.className="dhtmlxcalendar_cell dhtmlxcalendar_month_hdr",l.innerHTML="<div class='dhtmlxcalendar_month_arrow dhtmlxcalendar_month_arrow_left' onmouseover='this.className=\"dhtmlxcalendar_month_arrow dhtmlxcalendar_month_arrow_left_hover\";' onmouseout='this.className=\"dhtmlxcalendar_month_arrow dhtmlxcalendar_month_arrow_left\";'></div><span class='dhtmlxcalendar_month_label_month'>Month</span><span class='dhtmlxcalendar_month_label_year'>Year</span><div class='dhtmlxcalendar_month_arrow dhtmlxcalendar_month_arrow_right' onmouseover='this.className=\"dhtmlxcalendar_month_arrow dhtmlxcalendar_month_arrow_right_hover\";' onmouseout='this.className=\"dhtmlxcalendar_month_arrow dhtmlxcalendar_month_arrow_right\";'></div>",o.appendChild(l);var h=this;for(l.onclick=function(t){var t=t||event,e=t.target||t.srcElement;if(e.className&&0===e.className.indexOf("dhtmlxcalendar_month_arrow")){h._hideSelector();var i=e.parentNode.firstChild==e?-1:1,s=new Date(h._activeMonth);h._drawMonth(new Date(h._activeMonth.getFullYear(),h._activeMonth.getMonth()+i,1,0,0,0,0)),h.callEvent("onArrowClick",[s,new Date(h._activeMonth)])}else e.className&&"dhtmlxcalendar_month_label_month"==e.className?(t.cancelBubble=!0,h._showSelector("month",31,21,"selector_month",!0)):e.className&&"dhtmlxcalendar_month_label_year"==e.className?(t.cancelBubble=!0,h._showSelector("year",42,21,"selector_year",!0)):h._hideSelector()},this.contDays=document.createElement("DIV"),this.contDays.className="dhtmlxcalendar_days_cont",this.base.firstChild.appendChild(this.contDays),this.setWeekStartDay=function(t){0==t&&(t=7),this._wStart=Math.min(Math.max(isNaN(t)?1:t,1),7),this._drawDaysOfWeek()},this._drawDaysOfWeek=function(){if(0==this.contDays.childNodes.length){var t=document.createElement("UL");t.className="dhtmlxcalendar_line",this.contDays.appendChild(t)}else t=this.contDays.firstChild;var e=this._wStart,i=this.langData[this.lang].daysSNames;i.push(String(this.langData[this.lang].daysSNames[0]).valueOf());for(var s=0;8>s;s++){if(null==t.childNodes[s]){var n=document.createElement("LI");t.appendChild(n)}else n=t.childNodes[s];0==s?(n.className="dhtmlxcalendar_cell_wn",n.innerHTML="<div class='dhtmlxcalendar_label'>"+(this.langData[this.lang].weekname||"w")+"</div>"):(n.className="dhtmlxcalendar_cell"+(e>=6?" dhtmlxcalendar_day_weekday_cell":"")+(1==s?"_first":""),n.innerHTML=i[e],++e>7&&(e=1))}null!=this._activeMonth&&this._drawMonth(this._activeMonth)},this._wStart=this.langData[this.lang].weekstart,this.setWeekStartDay(this._wStart),this.contDates=document.createElement("DIV"),this.contDates.className="dhtmlxcalendar_dates_cont",this.base.firstChild.appendChild(this.contDates),this.contDates.onclick=function(t){var t=t||event,e=t.target||t.srcElement;if(null!=e.parentNode&&null!=e.parentNode._date&&(e=e.parentNode),null!=e._date&&!e._css_dis){var i=h._activeDate.getHours(),s=h._activeDate.getMinutes(),n=e._date;if(!h.checkEvent("onBeforeChange")||h.callEvent("onBeforeChange",[new Date(e._date.getFullYear(),e._date.getMonth(),e._date.getDate(),i,s)])){null!=h._activeDateCell&&(h._activeDateCell._css_date=!1,h._updateCellStyle(h._activeDateCell._q,h._activeDateCell._w));var o=h._activeDate.getFullYear()+"_"+h._activeDate.getMonth()!=n.getFullYear()+"_"+n.getMonth();h._nullDate=!1,h._activeDate=new Date(n.getFullYear(),n.getMonth(),n.getDate(),i,s),h._activeDateCell=e,h._activeDateCell._css_date=!0,h._activeDateCell._css_hover=!1,h._updateCellStyle(h._activeDateCell._q,h._activeDateCell._w),o&&h._drawMonth(h._activeDate),h._activeInp&&h.i[h._activeInp]&&null!=h.i[h._activeInp].input&&(h.i[h._activeInp].input.value=h._dateToStr(new Date(h._activeDate.getTime()))),h._hasParent||h._hide(),h.callEvent("onClick",[new Date(h._activeDate.getTime())])}}},this.contDates.onmouseover=function(t){var t=t||event,e=t.target||t.srcElement;null!=e.parentNode&&null!=e.parentNode._date&&(e=e.parentNode),null==e._date||h._lastHover==e||e._css_hover||(e._css_hover=!0,h._updateCellStyle(e._q,e._w),h._lastHover=e,h.callEvent("onMouseOver",[new Date(e._date.getFullYear(),e._date.getMonth(),e._date.getDate(),0,0,0,0),t]),e=null)},this.contDates.onmouseout=function(t){h._clearDayHover(t||event)},this._lastHover=null,this._clearDayHover=function(t){this._lastHover&&(this._lastHover._css_hover=!1,this._updateCellStyle(this._lastHover._q,this._lastHover._w),h.callEvent("onMouseOut",[new Date(this._lastHover._date.getFullYear(),this._lastHover._date.getMonth(),this._lastHover._date.getDate(),0,0,0,0),t]),this._lastHover=null)},n=0;6>n;n++){o=document.createElement("UL"),o.className="dhtmlxcalendar_line",this.contDates.appendChild(o);for(var r=0;7>=r;r++)l=document.createElement("LI"),l.className=0==r?"dhtmlxcalendar_cell_wn":"dhtmlxcalendar_cell",o.appendChild(l)}this.contTime=document.createElement("DIV"),this.contTime.className="dhtmlxcalendar_time_cont",this.base.firstChild.appendChild(this.contTime);var a=document.createElement("DIV");a.className="dhtmlxcalendar_bottom",this.base.firstChild.appendChild(a),a=null,this.showTime=function(){this.contTime.style.display="",this._ifrSize()},this.hideTime=function(){this.contTime.style.display="none",this._ifrSize()},o=document.createElement("UL"),o.className="dhtmlxcalendar_line",this.contTime.appendChild(o),l=document.createElement("LI"),l.className="dhtmlxcalendar_cell dhtmlxcalendar_time_hdr",l.innerHTML="<div class='dhtmlxcalendar_time_label'></div><span class='dhtmlxcalendar_label_hours'></span><span class='dhtmlxcalendar_label_colon'>:</span><span class='dhtmlxcalendar_label_minutes'></span>",o.appendChild(l),l.onclick=function(t){var t=t||event,e=t.target||t.srcElement;if(null!=e.tagName&&"span"==e.tagName.toLowerCase()&&1==e._par&&null!=e.parentNode&&(e=e.parentNode),e.className&&"dhtmlxcalendar_label_hours"==e.className)t.cancelBubble=!0,h._showSelector("hours",3,115,"selector_hours",!0);else if(e.className&&"dhtmlxcalendar_label_minutes"==e.className){t.cancelBubble=!0;var i=59,s=115;if(1==h._minutesInterval){var n=h.getFormatedDate("%i");e.innerHTML="<span class='dhtmlxcalendar_selected_date'>"+n.charAt(0)+"</span>"+n.charAt(1),e.firstChild._par=!0,h._selectorMode=1,s=149}10==h._minutesInterval&&(s=149),15==h._minutesInterval&&(i=46,s=165),h._showSelector("minutes",i,s,"selector_minutes",!0)
}else h._hideSelector()},this._activeMonth=null,this._activeDate=new Date,this._activeDateCell=null,this.setDate=function(t){this._nullDate="undefined"==typeof t||""===t||!t,t instanceof Date||(t=this._strToDate(String(t||"")),"Invalid Date"==t&&(t=new Date));var e=t.getTime();this._isOutOfRange(e)||(this._activeDate=new Date(e),this._drawMonth(this._nullDate?new Date:this._activeDate),this._updateVisibleHours(),this._updateVisibleMinutes())},this.getDate=function(t){if(this._nullDate)return null;var e=new Date(this._activeDate.getTime());return t?this._dateToStr(e):e},this._drawMonth=function(t){if(t instanceof Date){isNaN(t.getFullYear())&&(t=new Date(this._activeMonth.getFullYear(),this._activeMonth.getMonth(),1,0,0,0,0)),this._activeMonth=new Date(t.getFullYear(),t.getMonth(),1,0,0,0,0),this._activeDateCell=null;var e=new Date(this._activeMonth.getTime()),i=e.getDay(),s=i-this._wStart;0>s&&(s+=7),e.setDate(e.getDate()-s);for(var n=t.getMonth(),o=new Date(this._activeDate.getFullYear(),this._activeDate.getMonth(),this._activeDate.getDate(),0,0,0,0).getTime(),l=0,h=0;6>h;h++)for(var r=this._wStart,a=0;7>=a;a++)if(0==a){var d=this.getWeekNumber(new Date(e.getFullYear(),e.getMonth(),e.getDate()+l,0,0,0,0));this.contDates.childNodes[h].childNodes[a].innerHTML="<div class='dhtmlxcalendar_label'>"+d+"</div>"}else{var c=new Date(e.getFullYear(),e.getMonth(),e.getDate()+l,0,0,0,0),u=(c.getDay(),c.getTime()),_="dhtmlxcalendar_label";null!=this._tipData[u]?(this._tipData[u].usePopup&&"function"==typeof window.dhtmlXPopup?(this.contDates.childNodes[h].childNodes[a].removeAttribute("title"),this._initTooltipPopup()):this.contDates.childNodes[h].childNodes[a].setAttribute("title",this._tipData[u].text),this._tipData[u].showIcon&&(_+=" dhtmlxcalendar_label_title")):this.contDates.childNodes[h].childNodes[a].removeAttribute("title"),this.contDates.childNodes[h].childNodes[a].innerHTML="<div class='"+_+"'>"+c.getDate()+"</div>",this.contDates.childNodes[h].childNodes[a]._date=new Date(u),this.contDates.childNodes[h].childNodes[a]._q=h,this.contDates.childNodes[h].childNodes[a]._w=a,this.contDates.childNodes[h].childNodes[a]._css_month=c.getMonth()==n,this.contDates.childNodes[h].childNodes[a]._css_date=!this._nullDate&&u==o,this.contDates.childNodes[h].childNodes[a]._css_weekend=r>=6,this.contDates.childNodes[h].childNodes[a]._css_dis=this._isOutOfRange(u),this.contDates.childNodes[h].childNodes[a]._css_holiday=1==this._holidays[u],this._updateCellStyle(h,a),u==o&&(this._activeDateCell=this.contDates.childNodes[h].childNodes[a]),++r>7&&(r=1),l++}this.contMonth.firstChild.firstChild.childNodes[1].innerHTML=this.langData[this.lang].monthesFNames[t.getMonth()],this.contMonth.firstChild.firstChild.childNodes[2].innerHTML=t.getFullYear()}},this._updateCellStyle=function(t,e){var i=this.contDates.childNodes[t].childNodes[e],s="dhtmlxcalendar_cell dhtmlxcalendar_cell";s+=i._css_month?"_month":"",s+=i._css_date?"_date":"",s+=i._css_weekend?"_weekend":"",s+=i._css_holiday?"_holiday":"",s+=i._css_dis?"_dis":"",s+=i._css_hover&&!i._css_dis?"_hover":"",i.className=s,i=null},this._minutesInterval=5,this._initSelector=function(t,e){if(this._selCover||(this._selCover=document.createElement("DIV"),this._selCover.className="dhtmlxcalendar_selector_cover",this.base.firstChild.appendChild(this._selCover)),this._sel||(this._sel=document.createElement("DIV"),this._sel.className="dhtmlxcalendar_selector_obj",this.base.firstChild.appendChild(this._sel),this._sel.appendChild(document.createElement("TABLE")),this._sel.firstChild.className="dhtmlxcalendar_selector_table",this._sel.firstChild.cellSpacing=0,this._sel.firstChild.cellPadding=0,this._sel.firstChild.border=0,this._sel.firstChild.appendChild(document.createElement("TBODY")),this._sel.firstChild.firstChild.appendChild(document.createElement("TR")),this._sel.firstChild.firstChild.firstChild.appendChild(document.createElement("TD")),this._sel.firstChild.firstChild.firstChild.appendChild(document.createElement("TD")),this._sel.firstChild.firstChild.firstChild.appendChild(document.createElement("TD")),this._sel.firstChild.firstChild.firstChild.childNodes[0].className="dhtmlxcalendar_selector_cell_left",this._sel.firstChild.firstChild.firstChild.childNodes[1].className="dhtmlxcalendar_selector_cell_middle",this._sel.firstChild.firstChild.firstChild.childNodes[2].className="dhtmlxcalendar_selector_cell_right",this._sel.firstChild.firstChild.firstChild.childNodes[0].innerHTML="&nbsp;",this._sel.firstChild.firstChild.firstChild.childNodes[2].innerHTML="&nbsp;",this._sel.firstChild.firstChild.firstChild.childNodes[0].onmouseover=function(){this.className="dhtmlxcalendar_selector_cell_left dhtmlxcalendar_selector_cell_left_hover"},this._sel.firstChild.firstChild.firstChild.childNodes[0].onmouseout=function(){this.className="dhtmlxcalendar_selector_cell_left"},this._sel.firstChild.firstChild.firstChild.childNodes[2].onmouseover=function(){this.className="dhtmlxcalendar_selector_cell_right dhtmlxcalendar_selector_cell_right_hover"},this._sel.firstChild.firstChild.firstChild.childNodes[2].onmouseout=function(){this.className="dhtmlxcalendar_selector_cell_right"},this._sel.firstChild.firstChild.firstChild.childNodes[0].onclick=function(t){t=t||event,t.cancelBubble=!0,h._scrollYears(-1)},this._sel.firstChild.firstChild.firstChild.childNodes[2].onclick=function(t){t=t||event,t.cancelBubble=!0,h._scrollYears(1)},this._sel._ta={},this._selHover=null,this._sel.onmouseover=function(t){var t=t||event,e=t.target||t.srcElement;e._cell===!0&&(h._selHover!=e&&h._clearSelHover(),null!=String(e.className).match(/^\s{0,}dhtmlxcalendar_selector_cell\s{0,}$/gi))&&(e.className+=" dhtmlxcalendar_selector_cell_hover",h._selHover=e)},this._sel.onmouseout=function(){h._clearSelHover()},this._sel.appendChild(document.createElement("DIV")),this._sel.lastChild.className="dhtmlxcalendar_selector_obj_arrow"),1!=this._sel._ta[t]){if("month"==t){this._msCells={},this.msCont=document.createElement("DIV"),this.msCont.className="dhtmlxcalendar_area_"+e,this._sel.firstChild.firstChild.firstChild.childNodes[1].appendChild(this.msCont);for(var i=0,s=0;4>s;s++){var n=document.createElement("UL");n.className="dhtmlxcalendar_selector_line",this.msCont.appendChild(n);for(var o=0;3>o;o++){var l=document.createElement("LI");l.innerHTML=this.langData[this.lang].monthesSNames[i],l.className="dhtmlxcalendar_selector_cell",n.appendChild(l),l._month=i,l._cell=!0,this._msCells[i++]=l}}this.msCont.onclick=function(t){t=t||event,t.cancelBubble=!0;var e=t.target||t.srcElement;null!=e._month&&(h._hideSelector(),h._updateActiveMonth(),h._drawMonth(new Date(h._activeMonth.getFullYear(),e._month,1,0,0,0,0)),h._doOnSelectorChange())}}if("year"==t){for(this._ysCells={},this.ysCont=document.createElement("DIV"),this.ysCont.className="dhtmlxcalendar_area_"+e,this._sel.firstChild.firstChild.firstChild.childNodes[1].appendChild(this.ysCont),s=0;4>s;s++)for(n=document.createElement("UL"),n.className="dhtmlxcalendar_selector_line",this.ysCont.appendChild(n),o=0;3>o;o++)l=document.createElement("LI"),l.className="dhtmlxcalendar_selector_cell",l._cell=!0,n.appendChild(l);this.ysCont.onclick=function(t){t=t||event,t.cancelBubble=!0;var e=t.target||t.srcElement;null!=e._year&&(h._hideSelector(),h._drawMonth(new Date(e._year,h._activeMonth.getMonth(),1,0,0,0,0)),h._doOnSelectorChange())}}if("hours"==t){for(this._hsCells={},this.hsCont=document.createElement("DIV"),this.hsCont.className="dhtmlxcalendar_area_"+e,this._sel.firstChild.firstChild.firstChild.childNodes[1].appendChild(this.hsCont),s=i=0;4>s;s++)for(n=document.createElement("UL"),n.className="dhtmlxcalendar_selector_line",this.hsCont.appendChild(n),o=0;6>o;o++)l=document.createElement("LI"),l.innerHTML=this._fixLength(i,2),l.className="dhtmlxcalendar_selector_cell",n.appendChild(l),l._hours=i,l._cell=!0,this._hsCells[i++]=l;this.hsCont.onclick=function(t){t=t||event,t.cancelBubble=!0;var e=t.target||t.srcElement;null!=e._hours&&(h._hideSelector(),h._activeDate.setHours(e._hours),h._updateActiveHours(),h._updateVisibleHours(),h._doOnSelectorChange())}}if("minutes"==t){var r=4,a=3,d=2;for(1==this._minutesInterval&&(1==this._selectorMode?(r=2,a=3,d=1):(r=2,a=5,d=1,e+="5")),10==this._minutesInterval&&(r=2),15==this._minutesInterval&&(r=1,a=4,e+="4"),this._rsCells={},this.rsCont=document.createElement("DIV"),this.rsCont.className="dhtmlxcalendar_area_"+e,this._sel.firstChild.firstChild.firstChild.childNodes[1].appendChild(this.rsCont),s=i=0;r>s;s++)for(n=document.createElement("UL"),n.className="dhtmlxcalendar_selector_line",this.rsCont.appendChild(n),o=0;a>o;o++)l=document.createElement("LI"),l.innerHTML=d>1?this._fixLength(i,d):i,l.className="dhtmlxcalendar_selector_cell",n.appendChild(l),l._minutes=i,l._cell=!0,this._rsCells[i]=l,i+=this._minutesInterval;this.rsCont.onclick=function(t){t=t||event,t.cancelBubble=!0;var e=t.target||t.srcElement;if(null!=e._minutes){if(1==h._minutesInterval){var i=h.getFormatedDate("%i"),i=1==h._selectorMode?e._minutes.toString()+i.charAt(1):i.charAt(0)+e._minutes.toString();if(h._activeDate.setMinutes(Number(i)),h._hideSelector(),1==h._selectorMode)return h._updateVisibleMinutes(!0),h._selectorMode=2,h._showSelector("minutes",32,149,"selector_minutes",!0),void h._updateActiveMinutes();h._selectorMode=1}else h._hideSelector(),h._activeDate.setMinutes(e._minutes),h._updateActiveMinutes();h._updateVisibleMinutes(),h._doOnSelectorChange()}}}this._sel._ta[t]=!0}},this._showSelector=function(t,e,i,s,n){n===!0&&null!=this._sel&&this._isSelectorVisible()&&t==this._sel._t?this._hideSelector():("dhx_terrace"==this.skin&&(e+={month:14,year:27,hours:19,minutes:24}[t],i+={month:8,year:8,hours:14,minutes:14}[t]),(!this._sel||!this._sel._ta[t])&&this._initSelector(t,s),this._selCover.style.display="",this._sel._t=t,this._sel.style.left=e+"px",this._sel.style.top=i+"px",this._sel.style.display="",this._sel.className="dhtmlxcalendar_selector_obj dhtmlxcalendar_"+s,this._sel.childNodes[0].firstChild.firstChild.childNodes[0].style.display=this._sel.childNodes[0].firstChild.firstChild.childNodes[2].style.display="year"==t?"":"none",this._sel.childNodes[1].style.width=this._sel.childNodes[0].offsetWidth+"px",this._doOnSelectorShow(t))},this._doOnSelectorShow=function(t){"month"==t&&this._updateActiveMonth(),"year"==t&&this._updateYearsList(this._activeMonth),"hours"==t&&this._updateActiveHours(),"minutes"==t&&this._updateActiveMinutes()},this._hideSelector=function(){this._sel&&(this._sel.style.display="none",this._selCover.style.display="none","minutes"==this._sel._t&&1==this._minutesInterval)&&(this.contTime.firstChild.firstChild.childNodes[3].innerHTML=this.getFormatedDate("%i"),this._unloadSelector("minutes"))},this._isSelectorVisible=function(){return this._sel?"none"!=this._sel.style.display:!1},this._doOnSelectorChange=function(t){this.callEvent("onChange",[new Date(this._activeMonth.getFullYear(),this._activeMonth.getMonth(),this._activeDate.getDate(),this._activeDate.getHours(),this._activeDate.getMinutes(),this._activeDate.getSeconds()),t===!0])},this._clearSelHover=function(){this._selHover&&(this._selHover.className=String(this._selHover.className.replace(/dhtmlxcalendar_selector_cell_hover/gi,"")),this._selHover=null)},this._unloadSelector=function(t){if(this._sel&&this._sel._ta[t]){if("month"==t){this._msActive=this.msCont.onclick=null;for(var e in this._msCells)this._msCells[e]._cell=null,this._msCells[e]._month=null,this._msCells[e].parentNode.removeChild(this._msCells[e]),this._msCells[e]=null;for(this._msCells=null;this.msCont.childNodes.length>0;)this.msCont.removeChild(this.msCont.lastChild);this.msCont.parentNode.removeChild(this.msCont),this.msCont=null}if("year"==t){this.ysCont.onclick=null;for(e in this._ysCells)this._ysCells[e]._cell=null,this._ysCells[e]._year=null,this._ysCells[e].parentNode.removeChild(this._ysCells[e]),this._ysCells[e]=null;for(this._ysCells=null;this.ysCont.childNodes.length>0;)this.ysCont.removeChild(this.ysCont.lastChild);this.ysCont.parentNode.removeChild(this.ysCont),this.ysCont=null}if("hours"==t){this._hsActive=this.hsCont.onclick=null;for(e in this._hsCells)this._hsCells[e]._cell=null,this._hsCells[e]._hours=null,this._hsCells[e].parentNode.removeChild(this._hsCells[e]),this._hsCells[e]=null;for(this._hsCells=null;this.hsCont.childNodes.length>0;)this.hsCont.removeChild(this.hsCont.lastChild);this.hsCont.parentNode.removeChild(this.hsCont),this.hsCont=null}if("minutes"==t){this._rsActive=this.rsCont.onclick=null;for(e in this._rsCells)this._rsCells[e]._cell=null,this._rsCells[e]._minutes=null,this._rsCells[e].parentNode.removeChild(this._rsCells[e]),this._rsCells[e]=null;for(this._rsCells=null;this.rsCont.childNodes.length>0;)this.rsCont.removeChild(this.rsCont.lastChild);this.rsCont.parentNode.removeChild(this.rsCont),this.rsCont=null}this._sel._ta[t]=null}},this.setMinutesInterval=function(t){(1==t||5==t||10==t||15==t)&&(this._minutesInterval=t,this._unloadSelector("minutes"))},this._updateActiveMonth=function(){"undefined"!=typeof this._msActive&&"undefined"!=typeof this._msCells[this._msActive]&&(this._msCells[this._msActive].className="dhtmlxcalendar_selector_cell"),this._msActive=this._activeMonth.getMonth(),this._msCells[this._msActive].className="dhtmlxcalendar_selector_cell dhtmlxcalendar_selector_cell_active"},this._updateActiveYear=function(){var t=this._activeMonth.getFullYear();this._ysCells[t]&&(this._ysCells[t].className="dhtmlxcalendar_selector_cell dhtmlxcalendar_selector_cell_active")},this._updateYearsList=function(t){for(var e in this._ysCells)this._ysCells[e]=null,delete this._ysCells[e];for(var i=12*Math.floor(t.getFullYear()/12),s=0;4>s;s++)for(var n=0;3>n;n++)this.ysCont.childNodes[s].childNodes[n].innerHTML=i,this.ysCont.childNodes[s].childNodes[n]._year=i,this.ysCont.childNodes[s].childNodes[n].className="dhtmlxcalendar_selector_cell",this._ysCells[i++]=this.ysCont.childNodes[s].childNodes[n];this._updateActiveYear()},this._scrollYears=function(t){var e=(0>t?this.ysCont.firstChild.firstChild._year:this.ysCont.lastChild.lastChild._year)+t,i=new Date(e,this._activeMonth.getMonth(),1,0,0,0,0);this._updateYearsList(i)},this._updateActiveHours=function(){"undefined"!=typeof this._hsActive&&"undefined"!=typeof this._hsCells[this._hsActive]&&(this._hsCells[this._hsActive].className="dhtmlxcalendar_selector_cell"),this._hsActive=this._activeDate.getHours(),this._hsCells[this._hsActive].className="dhtmlxcalendar_selector_cell dhtmlxcalendar_selector_cell_active"},this._updateVisibleHours=function(){this.contTime.firstChild.firstChild.childNodes[1].innerHTML=this._fixLength(this._activeDate.getHours(),2)},this._updateActiveMinutes=function(){null!=this._rsActive&&"undefined"!=typeof this._rsActive&&"undefined"!=typeof this._rsCells[this._rsActive]&&(this._rsCells[this._rsActive].className="dhtmlxcalendar_selector_cell"),this._rsActive=1==this._minutesInterval?this.getFormatedDate("%i").toString().charAt(1==this._selectorMode?0:1):this._activeDate.getMinutes(),"undefined"!=typeof this._rsCells[this._rsActive]&&(this._rsCells[this._rsActive].className="dhtmlxcalendar_selector_cell dhtmlxcalendar_selector_cell_active")},this._updateVisibleMinutes=function(t){var e=this._fixLength(this._activeDate.getMinutes(),2).toString();1==t&&(e=e.charAt(0)+"<span class='dhtmlxcalendar_selected_date'>"+e.charAt(1)+"</span>"),this.contTime.firstChild.firstChild.childNodes[3].innerHTML=e,1==t&&(this.contTime.firstChild.firstChild.childNodes[3].lastChild._par=!0)},this._fixLength=function(t,e){for(;String(t).length<e;)t="0"+String(t);return t},this._dateFormat="",this._dateFormatRE=null,this.setDateFormat=function(t){this._dateFormat=t,this._dateFormatRE=RegExp(String(this._dateFormat).replace(/%[a-zA-Z]+/g,function(t){var e=t.replace(/%/,"");switch(e){case"n":case"h":case"j":case"g":case"G":return"\\d{1,2}";case"m":case"d":case"H":case"i":case"s":case"y":return"\\d{2}";case"Y":return"\\d{4}";case"M":return"("+h.langData[h.lang].monthesSNames.join("|").toLowerCase()+"){1,}";case"F":return"("+h.langData[h.lang].monthesFNames.join("|").toLowerCase()+"){1,}";case"D":return"[a-z]{2}";case"a":case"A":return"AM|PM"}return t}),"i")},this.setDateFormat(this.langData[this.lang].dateformat||"%Y-%m-%d"),this._getInd=function(t,e){for(var i=0;i<e.length;i++)if(e[i].toLowerCase()==t)return i;return-1},this._strToDate=function(t,e){var e=e||this._dateFormat,i=t.match(/[a-z0-9\u00e9\u00fb\u00e4\u0430-\u044F\u0451]{1,}/gi),s=e.match(/%[a-zA-Z]/g);if(!i||i.length!=s.length)return"Invalid Date";for(var n={"%y":1,"%Y":1,"%n":2,"%m":2,"%M":2,"%F":2,"%d":3,"%j":3,"%a":4,"%A":4,"%H":5,"%G":5,"%h":5,"%g":5,"%i":6,"%s":7},o={},l={},r=0;r<s.length;r++)if("undefined"!=typeof n[s[r]]){var a=n[s[r]];o[a]||(o[a]=[],l[a]=[]),o[a].push(i[r]),l[a].push(s[r])}for(i=[],s=[],r=1;7>=r;r++)if(null!=o[r])for(var d=0;d<o[r].length;d++)i.push(o[r][d]),s.push(l[r][d]);var c=new Date;for(c.setDate(1),c.setMinutes(0),c.setSeconds(0),r=0;r<i.length;r++)switch(s[r]){case"%d":case"%j":case"%n":case"%m":case"%Y":case"%H":case"%G":case"%i":case"%s":isNaN(i[r])||c[{"%d":"setDate","%j":"setDate","%n":"setMonth","%m":"setMonth","%Y":"setFullYear","%H":"setHours","%G":"setHours","%i":"setMinutes","%s":"setSeconds"}[s[r]]](Number(i[r])+("%m"==s[r]||"%n"==s[r]?-1:0));break;case"%M":case"%F":var u=this._getInd(i[r].toLowerCase(),h.langData[h.lang][{"%M":"monthesSNames","%F":"monthesFNames"}[s[r]]]);u>=0&&c.setMonth(u);break;case"%y":if(!isNaN(i[r])){var _=Number(i[r]);c.setFullYear(_+(_>50?1900:2e3))}break;case"%g":case"%h":isNaN(i[r])||(_=Number(i[r]),12>=_&&_>=0&&c.setHours(_+(this._getInd("pm",i)>=0?12==_?0:12:12==_?-12:0)))}return c},this._dateToStr=function(t,e){if(t instanceof Date)var i=function(t){return 1==String(t).length?"0"+String(t):t},s=function(e){switch(e){case"%d":return i(t.getDate());case"%j":return t.getDate();case"%D":return h.langData[h.lang].daysSNames[t.getDay()];case"%l":return h.langData[h.lang].daysFNames[t.getDay()];case"%m":return i(t.getMonth()+1);case"%n":return t.getMonth()+1;case"%M":return h.langData[h.lang].monthesSNames[t.getMonth()];case"%F":return h.langData[h.lang].monthesFNames[t.getMonth()];case"%y":return i(t.getYear()%100);case"%Y":return t.getFullYear();case"%g":return(t.getHours()+11)%12+1;case"%h":return i((t.getHours()+11)%12+1);case"%G":return t.getHours();case"%H":return i(t.getHours());case"%i":return i(t.getMinutes());case"%s":return i(t.getSeconds());case"%a":return t.getHours()>11?"pm":"am";case"%A":return t.getHours()>11?"PM":"AM";default:return e}},n=String(e||this._dateFormat).replace(/%[a-zA-Z]/g,s);return n||String(t)},this._updateDateStr=function(t){if(this._dateFormatRE&&t.match(this._dateFormatRE)&&t!=this.getFormatedDate()){var e=this._strToDate(t);e instanceof Date&&(this.checkEvent("onBeforeChange")&&!this.callEvent("onBeforeChange",[new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())])?null!=this.i&&null!=this._activeInp&&null!=this.i[this._activeInp]&&null!=this.i[this._activeInp].input&&(this.i[this._activeInp].input.value=this.getFormatedDate()):(this._nullDate=!1,this._activeDate=e,this._drawMonth(this._nullDate?new Date:this._activeDate),this._updateVisibleMinutes(),this._updateVisibleHours(),this._sel&&this._isSelectorVisible()&&this._doOnSelectorShow(this._sel._t),this._doOnSelectorChange(!0)))}},this.showMonth=function(t){"string"==typeof t&&(t=this._strToDate(t)),t instanceof Date&&this._drawMonth(t)},this.setFormatedDate=function(t,e,i,s){var n=this._strToDate(e,t);return s?n:void this.setDate(n)},this.getFormatedDate=function(t,e){if(!(e&&e instanceof Date)){if(this._nullDate)return"";e=new Date(this._activeDate)}return this._dateToStr(e,t)},this.getWeekNumber=function(t){if("string"==typeof t&&(t=this._strToDate(t)),!(t instanceof Date))return"Invalid Date";"undefined"==typeof this._ftDay&&(this._ftDay=4);var e=this._wStart,i=4,s=new Date(t.getFullYear(),0,1,0,0,0,0),n=s.getDay();0==n&&(n=7),e>i&&(i+=7,n+=7);var o=0;n>=e&&i>=n||(o=1);var l=n-e,h=new Date(t.getFullYear(),0,1-l+7*o,0,0,0,0),r=6048e5,a=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1,0,0,0,0),d=Math.ceil((a.getTime()-h.getTime())/r);return d},this.showWeekNumbers=function(){this.base.firstChild.className="dhtmlxcalendar_wn"},this.hideWeekNumbers=function(){this.base.firstChild.className=""},this.show=function(t){if(!t&&this._hasParent)this._show();else if("object"==typeof t&&"undefined"!=typeof t._dhtmlxcalendar_uid&&this.i[t._dhtmlxcalendar_uid]==t)this._show(t._dhtmlxcalendar_uid);else{if("undefined"==typeof t)for(var e in this.i)t||(t=e);t&&this._show(t)}},this.hide=function(){this._isVisible()&&this._hide()},this.isVisible=function(){return this._isVisible()},this.draw=function(){this.show()},this.close=function(){this.hide()},this._activeInp=null,this.pos="bottom",this.setPosition=function(t,e){this._py=this._px=null,"right"==t||"bottom"==t?this.pos=t:(this.pos="int","undefined"==typeof t||isNaN(t)||(this.base.style.left=t+"px",this._px=t),"undefined"==typeof e||isNaN(e)||(this.base.style.top=e+"px",this._py=e),this._ifrSize())},this._show=function(t,e){if(e===!0&&this._activeInp==t&&this._isVisible())this._hide();else{if(this.base.style.visibility="hidden",this.base.style.display="",t){var i=this.i[t].input||this.i[t].button,s=-1!=navigator.appVersion.indexOf("MSIE"),n=Math.max((s?document.documentElement:document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop),o=n+(s?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0):window.innerHeight);"right"==this.pos?(this.base.style.left=this._getLeft(i)+i.offsetWidth-1+"px",this.base.style.top=Math.min(this._getTop(i),o-this.base.offsetHeight)+"px"):"bottom"==this.pos?(this.base.style.left=this._getLeft(i)+"px",this.base.style.top=this._getTop(i)+i.offsetHeight+1+"px"):(this.base.style.left=(this._px||0)+"px",this.base.style.top=(this._py||0)+"px"),this._activeInp=t,i=null}else this._px&&this._py?(this.base.style.left=this._px+"px",this.base.style.top=this._py+"px"):(this.base.style.left="0px",this.base.style.top="0px");this._hideSelector(),this.base.style.visibility="visible",this._ifrSize(),this._ifr&&(this._ifr.style.display=""),this.callEvent("onShow",[])}},this._hide=function(){this._hideSelector(),this.base.style.display="none",this._activeInp=null,this._ifr&&(this._ifr.style.display="none"),this.callEvent("onHide",[])},this._isVisible=function(){return"none"!=this.base.style.display},this._getLeft=function(t){return this._posGetOffset(t).left},this._getTop=function(t){return this._posGetOffset(t).top},this._posGetOffsetSum=function(t){for(var e=0,i=0;t;)e+=parseInt(t.offsetTop),i+=parseInt(t.offsetLeft),t=t.offsetParent;return{top:e,left:i}},this._posGetOffsetRect=function(t){var e=t.getBoundingClientRect(),i=document.body,s=document.documentElement,n=window.pageYOffset||s.scrollTop||i.scrollTop,o=window.pageXOffset||s.scrollLeft||i.scrollLeft,l=s.clientTop||i.clientTop||0,h=s.clientLeft||i.clientLeft||0,r=e.top+n-l,a=e.left+o-h;return{top:Math.round(r),left:Math.round(a)}},this._posGetOffset=function(t){return this[t.getBoundingClientRect?"_posGetOffsetRect":"_posGetOffsetSum"](t)},this._rangeActive=!1,this._rangeTo=this._rangeFrom=null,this._rangeSet={},this.setInsensitiveDays=function(t){for(var e=this._extractDates(t),i=0;i<e.length;i++)this._rangeSet[new Date(e[i].getFullYear(),e[i].getMonth(),e[i].getDate(),0,0,0,0).getTime()]=!0;this._drawMonth(this._activeMonth)},this.clearInsensitiveDays=function(){this._clearRangeSet(),this._drawMonth(this._activeMonth)},this._holidays={},this.setHolidays=function(t){if(null==t)this._clearHolidays();else if(null!=t)for(var e=this._extractDates(t),i=0;i<e.length;i++)this._holidays[new Date(e[i].getFullYear(),e[i].getMonth(),e[i].getDate(),0,0,0,0).getTime()]=!0;this._drawMonth(this._activeMonth)},this._extractDates=function(t){("string"==typeof t||t instanceof Date)&&(t=[t]);for(var e=[],i=0;i<t.length;i++)if("string"==typeof t[i])for(var s=t[i].split(","),n=0;n<s.length;n++)e.push(this._strToDate(s[n]));else t[i]instanceof Date&&e.push(t[i]);return e},this._clearRange=function(){this._rangeActive=!1,this._rangeTo=this._rangeFrom=this._rangeType=null},this._clearRangeSet=function(){for(var t in this._rangeSet)this._rangeSet[t]=null,delete this._rangeSet[t]},this._clearHolidays=function(){for(var t in this._holidays)this._holidays[t]=null,delete this._holidays[t]},this._isOutOfRange=function(t){if(1==this._rangeSet[t])return!0;if(this._rangeActive){if("in"==this._rangeType&&(t<this._rangeFrom||t>this._rangeTo))return!0;if("out"==this._rangeType&&t>=this._rangeFrom&&t<=this._rangeTo)return!0;if("from"==this._rangeType&&t<this._rangeFrom)return!0;if("to"==this._rangeType&&t>this._rangeTo)return!0}var e=new Date(t);return this._rangeWeek&&this._rangeWeekData[e.getDay()]===!0?!0:this._rangeMonth&&this._rangeMonthData[e.getDate()]===!0?!0:this._rangeYear&&this._rangeYearData[e.getMonth()+"_"+e.getDate()]===!0?!0:!1},this.clearSensitiveRange=function(){this._clearRange(),this._drawMonth(this._activeMonth)},this.setSensitiveRange=function(t,e,i){var s=!1;if(null!=t&&null!=e){if(t instanceof Date||(t=this._strToDate(t)),e instanceof Date||(e=this._strToDate(e)),t.getTime()>e.getTime())return;this._rangeFrom=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0).getTime(),this._rangeTo=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0).getTime(),this._rangeActive=!0,this._rangeType="in",s=!0}s||null==t||null!=e||(t instanceof Date||(t=this._strToDate(t)),this._rangeFrom=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0).getTime(),this._rangeTo=null,i===!0&&this._rangeFrom++,this._rangeActive=!0,this._rangeType="from",s=!0),s||null!=t||null==e||(e instanceof Date||(e=this._strToDate(e)),this._rangeFrom=null,this._rangeTo=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0).getTime(),i===!0&&this._rangeTo--,this._rangeActive=!0,this._rangeType="to",s=!0),s&&this._drawMonth(this._activeMonth)},this.setInsensitiveRange=function(t,e){null!=t&&null!=e?(t instanceof Date||(t=this._strToDate(t)),e instanceof Date||(e=this._strToDate(e)),t.getTime()>e.getTime()||(this._rangeFrom=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0).getTime(),this._rangeTo=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0).getTime(),this._rangeActive=!0,this._rangeType="out",this._drawMonth(this._activeMonth))):null!=t&&null==e?this.setSensitiveRange(null,t,!0):null==t&&null!=e&&this.setSensitiveRange(e,null,!0)},this.disableDays=function(t,e){if("week"==t){"object"!=typeof e&&"undefined"==typeof e.length&&(e=[e]),this._rangeWeekData||(this._rangeWeekData={});for(var i in this._rangeWeekData)this._rangeWeekData[i]=!1,delete this._rangeWeekData[i];for(var s=0;s<e.length;s++)this._rangeWeekData[e[s]]=!0,7==e[s]&&(this._rangeWeekData[0]=!0);this._rangeWeek=!0}if("month"==t){"object"!=typeof e&&"undefined"==typeof e.length&&(e=[e]),this._rangeMonthData||(this._rangeMonthData={});for(i in this._rangeMonthData)this._rangeMonthData[i]=!1,delete this._rangeMonthData[i];for(s=0;s<e.length;s++)this._rangeMonthData[e[s]]=!0;this._rangeMonth=!0}if("year"==t){var n=this._extractDates(e);this._rangeYearData||(this._rangeYearData={});for(i in this._rangeYearData)this._rangeYearData[i]=!1,delete this._rangeYearData[i];for(s=0;s<n.length;s++)this._rangeYearData[n[s].getMonth()+"_"+n[s].getDate()]=!0;this._rangeYear=!0}this._drawMonth(this._activeMonth)},this.enableDays=function(t){"week"==t&&(this._rangeWeek=!1),"month"==t&&(this._rangeMonth=!1),"year"==t&&(this._rangeYear=!1),this._drawMonth(this._activeMonth)},this._tipData={},this._tipTM=null,this._tipTMTime=400,this._tipEvs=!1,this._tipCellDim=this._tipCellDate=this._tipPopup=null,this.setTooltip=function(t,e,i,s){for(var n=this._extractDates(t),o=0;o<n.length;o++){var l=new Date(n[o].getFullYear(),n[o].getMonth(),n[o].getDate(),0,0,0,0).getTime();this._tipData[l]={text:e,showIcon:i,usePopup:s}}this._drawMonth(this._activeMonth)},this.clearTooltip=function(t){for(var e=this._extractDates(t),i=0;i<e.length;i++){var s=new Date(e[i].getFullYear(),e[i].getMonth(),e[i].getDate(),0,0,0,0).getTime();this._tipData[s]=null,delete this._tipData[s]}this._drawMonth(this._activeMonth)},this._initTooltipPopup=function(){this._tipEvs||(this.attachEvent("onMouseOver",function(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0).getTime();null!=this._tipData[e]&&(this._tipTM&&window.clearTimeout(this._tipTM),this._tipCellDate=t,this._tipCellDim=this.getCellDimension(t),this._tipText=this._tipData[e].text,this._tipTM=window.setTimeout(this._showTooltipPopup,this._tipTMTime))}),this.attachEvent("onMouseOut",this._hideTooltipPopup),this._tipEvs=!0)},this._showTooltipPopup=function(){h._tipPopup||(h._tipPopup=new dhtmlXPopup({mode:"top"})),h._tipPopup.attachHTML(h._tipText),h._tipPopup.show(h._tipCellDim.x,h._tipCellDim.y,h._tipCellDim.w,h._tipCellDim.h),h.callEvent("onPopupShow",[h._tipCellDate])},this._hideTooltipPopup=function(){this._tipTM&&window.clearTimeout(this._tipTM),null!=this._tipPopup&&this._tipPopup.isVisible()&&(this._tipPopup.hide(),this.callEvent("onPopupHide",[this._tipCellDate]))},this.getPopup=function(){return this._tipPopup},this.getCellDimension=function(t){if("string"==typeof t&&(t=this._strToDate(t)),!(t instanceof Date))return null;for(var e=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0).getTime(),i=null,s=0;s<this.contDates.childNodes.length;s++)for(var n=0;n<this.contDates.childNodes[s].childNodes.length;n++){var o=this.contDates.childNodes[s].childNodes[n];null!=o._date&&o._date.getTime()==e&&(i={x:this._getLeft(o),y:this._getTop(o),w:o.offsetWidth,h:o.offsetHeight}),o=null}return i},this._updateFromInput=function(t){if(this._nullInInput&&0==t.value.replace(/\s/g,"").length){if(this.checkEvent("onBeforeChange")&&!this.callEvent("onBeforeChange",[null]))return void(null!=this.i&&null!=this._activeInp&&null!=this.i[this._activeInp]&&null!=this.i[this._activeInp].input&&(this.i[this._activeInp].input.value=this.getFormatedDate()));this.setDate(null)}else this._updateDateStr(t.value);t=null},this._doOnClick=function(t){var t=t||event,e=t.target||t.srcElement;e._dhtmlxcalendar_uid&&e._dhtmlxcalendar_uid!=h._activeInp&&h._isVisible()&&h._activeInp?h._hide():e._dhtmlxcalendar_uid&&h.i[e._dhtmlxcalendar_uid]||(h._isSelectorVisible()?h._hideSelector():!h._hasParent&&h._isVisible()&&h._hide())},this._doOnKeyDown=function(t){t=t||event,(27==t.keyCode||13==t.keyCode)&&(h._isSelectorVisible()?h._hideSelector():h._isVisible()&&!h._hasParent&&h._hide())},this._doOnInpClick=function(t){var t=t||event,e=t.target||t.srcElement;e._dhtmlxcalendar_uid&&(h._listenerEnabled||h._updateFromInput(e),h._show(e._dhtmlxcalendar_uid,!0))},this._doOnInpKeyUp=function(t){var t=t||event,e=t.target||t.srcElement;13!=t.keyCode&&e._dhtmlxcalendar_uid&&(h._listenerEnabled||h._updateFromInput(e))},this._doOnBtnClick=function(t){var t=t||event,e=t.target||t.srcElement;e._dhtmlxcalendar_uid&&(null!=h.i[e._dhtmlxcalendar_uid].input&&h._updateFromInput(h.i[e._dhtmlxcalendar_uid].input),h._show(e._dhtmlxcalendar_uid,!0))},this._doOnUnload=function(){h&&h.unload&&h.unload()},window.addEventListener?(document.body.addEventListener("click",h._doOnClick,!1),window.addEventListener("keydown",h._doOnKeyDown,!1),window.addEventListener("unload",h._doOnUnload,!1)):(document.body.attachEvent("onclick",h._doOnClick),document.body.attachEvent("onkeydown",h._doOnKeyDown),window.attachEvent("onunload",h._doOnUnload)),this.attachObj=function(t){"string"==typeof t&&(t=document.getElementById(t));var e=this.uid();this.i[e]=t,this._attachEventsToObject(e)},this.detachObj=function(t){"string"==typeof t&&(t=document.getElementById(t));var e=t._dhtmlxcalendar_uid;null!=this.i[e]&&(this._detachEventsFromObject(e),this.i[e]._dhtmlxcalendar_uid=null,this.i[e]=null,delete this.i[e])},this._attachEventsToObject=function(t){null!=this.i[t].button?(this.i[t].button._dhtmlxcalendar_uid=t,window.addEventListener?this.i[t].button.addEventListener("click",h._doOnBtnClick,!1):this.i[t].button.attachEvent("onclick",h._doOnBtnClick)):null!=this.i[t].input&&(this.i[t].input._dhtmlxcalendar_uid=t,window.addEventListener?(this.i[t].input.addEventListener("click",h._doOnInpClick,!1),this.i[t].input.addEventListener("keyup",h._doOnInpKeyUp,!1)):(this.i[t].input.attachEvent("onclick",h._doOnInpClick),this.i[t].input.attachEvent("onkeyup",h._doOnInpKeyUp)))
},this.enableListener=function(t){t&&(window.addEventListener?(t.addEventListener("focus",h._listenerEvFocus,!1),t.addEventListener("blur",h._listenerEvBlur,!1)):(t.attachEvent("onfocus",h._listenerEvFocus),t.attachEvent("onblur",h._listenerEvBlur)),t=null)},this.disableListener=function(t){t&&(t._f0=!1,this._tmListener&&window.clearTimeout(this._tmListener),window.addEventListener?(t.removeEventListener("focus",h._listenerEvFocus,!1),t.removeEventListener("blur",h._listenerEvBlur,!1)):(t.detachEvent("onfocus",h._listenerEvFocus),t.detachEvent("onblur",h._listenerEvBlur)),t=null)},this._startListener=function(t){this._tmListener&&window.clearTimeout(this._tmListener),"undefined"==typeof t._v1&&(t._v1=t.value),t._v1!=t.value&&(this._updateFromInput(t),t._v1=t.value),t._f0&&(this._tmListener=window.setTimeout(function(){h._startListener(t)},100))},this._listenerEvFocus=function(t){var t=t||event,e=t.target||t.srcElement;e._f0=!0,h._startListener(e),e=null},this._listenerEvBlur=function(t){var t=t||event,e=t.target||t.srcElement;e._f0=!1,e=null},this._detachEventsFromObject=function(t){null!=this.i[t].button?window.addEventListener?this.i[t].button.removeEventListener("click",h._doOnBtnClick,!1):this.i[t].button.detachEvent("onclick",h._doOnBtnClick):null!=this.i[t].input&&(window.addEventListener?(this.i[t].input.removeEventListener("click",h._doOnInpClick,!1),this.i[t].input.removeEventListener("keyup",h._doOnInpKeyUp,!1)):(this.i[t].input.detachEvent("onclick",h._doOnInpClick),this.i[t].input.detachEvent("onkeyup",h._doOnInpKeyUp)))};for(var d in this.i)this._attachEventsToObject(d);return this.evs={},this.attachEvent=function(t,e){var i=this.uid();return this.evs[i]={name:String(t).toLowerCase(),func:e},i},this.detachEvent=function(t){this.evs[t]&&(this.evs[t].name=null,this.evs[t].func=null,this.evs[t]=null,delete this.evs[t])},this.callEvent=function(t,e){var i,s=!0,n=String(t).toLowerCase(),e=e||[];for(i in this.evs)if(this.evs[i].name==n)var o=this.evs[i].func.apply(this,e),s=s&&o;return s},this.checkEvent=function(t){var e,i=!1,s=String(t).toLowerCase();for(e in this.evs)i=i||this.evs[e].name==s;return i},this.unload=function(){this.uidd=this.uid=this._lastHover=this._dateFormatRE=this._dateFormat=this._activeMonth=this._activeInp=this._activeDateCell=this._activeDate=null,this._tmListener&&window.clearTimeout(this._tmListener),this._tmListener=null,window.addEventListener?(document.body.removeEventListener("click",h._doOnClick,!1),window.removeEventListener("keydown",h._doOnKeyDown,!1),window.removeEventListener("unload",h._doOnUnload,!1)):(document.body.detachEvent("onclick",h._doOnClick),document.body.detachEvent("onkeydown",h._doOnKeyDown),window.detachEvent("onunload",h._doOnKeyDown)),this._doOnUnload=this._doOnKeyDown=this._doOnClick=null;for(var t in this.i)this.i[t]._dhtmlxcalendar_uid=null,this._detachEventsFromObject(t),this.disableListener(this.i[t].input),this.i[t]=null,delete this.i[t];this._doOnInpKeyUp=this._doOnInpClick=this.i=null;for(t in this.evs)this.detachEvent(t);for(this.callEvent=this.checkEvent=this.detachEvent=this.attachEvent=this.evs=null,this.contMonth.onselectstart=null,this.contMonth.firstChild.firstChild.onclick=null,this.contMonth.firstChild.firstChild.firstChild.onmouseover=null,this.contMonth.firstChild.firstChild.firstChild.onmouseout=null,this.contMonth.firstChild.firstChild.lastChild.onmouseover=null,this.contMonth.firstChild.firstChild.lastChild.onmouseout=null;this.contMonth.firstChild.firstChild.childNodes.length>0;)this.contMonth.firstChild.firstChild.removeChild(this.contMonth.firstChild.firstChild.lastChild);for(this.contMonth.firstChild.removeChild(this.contMonth.firstChild.firstChild),this.contMonth.removeChild(this.contMonth.firstChild),this.contMonth.parentNode.removeChild(this.contMonth),this.contMonth=null;this.contDays.firstChild.childNodes.length>0;)this.contDays.firstChild.removeChild(this.contDays.firstChild.lastChild);for(this.contDays.removeChild(this.contDays.firstChild),this.contDays.parentNode.removeChild(this.contDays),this.contDays=null,this.contDates.onclick=null,this.contDates.onmouseover=null,this.contDates.onmouseout=null;this.contDates.childNodes.length>0;){for(;this.contDates.lastChild.childNodes.length>0;)this.contDates.lastChild.lastChild._css_date=null,this.contDates.lastChild.lastChild._css_month=null,this.contDates.lastChild.lastChild._css_weekend=null,this.contDates.lastChild.lastChild._css_hover=null,this.contDates.lastChild.lastChild._date=null,this.contDates.lastChild.lastChild._q=null,this.contDates.lastChild.lastChild._w=null,this.contDates.lastChild.removeChild(this.contDates.lastChild.lastChild);this.contDates.removeChild(this.contDates.lastChild)}for(this.contDates.parentNode.removeChild(this.contDates),this.contDates=null,this.contTime.firstChild.firstChild.onclick=null;this.contTime.firstChild.firstChild.childNodes.length>0;)this.contTime.firstChild.firstChild.removeChild(this.contTime.firstChild.firstChild.lastChild);if(this.contTime.firstChild.removeChild(this.contTime.firstChild.firstChild),this.contTime.removeChild(this.contTime.firstChild),this.contTime.parentNode.removeChild(this.contTime),this._lastHover=this.contTime=null,this._unloadSelector("month"),this._unloadSelector("year"),this._unloadSelector("hours"),this._unloadSelector("minutes"),this._selCover&&(this._selCover.parentNode.removeChild(this._selCover),this._selCover=null),this._sel){for(t in this._sel._ta)this._sel._ta[t]=null;for(this._sel._ta=null,this._sel._t=null,this._sel.onmouseover=null,this._sel.onmouseout=null;this._sel.firstChild.firstChild.firstChild.childNodes.length>0;)this._sel.firstChild.firstChild.firstChild.lastChild.onclick=null,this._sel.firstChild.firstChild.firstChild.lastChild.onmouseover=null,this._sel.firstChild.firstChild.firstChild.lastChild.onmouseout=null,this._sel.firstChild.firstChild.firstChild.removeChild(this._sel.firstChild.firstChild.firstChild.lastChild);for(this._sel.firstChild.firstChild.removeChild(this._sel.firstChild.firstChild.firstChild),this._sel.firstChild.removeChild(this._sel.firstChild.firstChild);this._sel.childNodes.length>0;)this._sel.removeChild(this._sel.lastChild);this._sel.parentNode.removeChild(this._sel),this._sel=null}this.base.onclick=null,this.base.onmouseout=null,this.base.parentNode.removeChild(this.base),this.unload=this.showTime=this.show=this.setYearsRange=this.setDateFormat=this.setDate=this.hideTime=this.hide=this.enableIframe=this._updateYearsList=this._updateVisibleMinutes=this._updateVisibleHours=this._updateDateStr=this._updateCellStyle=this._updateActiveYear=this._updateActiveMonth=this._updateActiveMinutes=this._updateActiveHours=this._strToDate=this._showSelector=this._show=this._scrollYears=this._posGetOffsetSum=this._posGetOffsetRect=this._posGetOffset=this._isVisible=this._isSelectorVisible=this._initSelector=this._hideSelector=this._hide=this._ifrSize=this._getTop=this._getLeft=this._fixLength=this._drawMonth=this._doOnSelectorShow=this._doOnSelectorChange=this._clearSelHover=this._clearDayHover=this.base=null,null!=this._tipPopup&&(this._tipPopup.unload(),this._tipPopup=null);for(t in this)delete this[t];t=h=null},this.setDate(this._activeDate),this}function dhtmlXColorPickerInput(t){"object"!=typeof t&&(t=document.getElementById(t));var e=t,i=e.getAttribute("colorbox"),s=e.getAttribute("customcolors"),n=e.getAttribute("selectonclick"),o=e.getAttribute("fullview"),l=e.getAttribute("selectedcolor"),h=e;if(i){var r=document.createElement("DIV");r.style.width=e.offsetWidth+"px",r.style.height=e.offsetHeight+"px",e.style.width=e.offsetWidth-e.offsetHeight-2,e.parentNode.insertBefore(r,e),r.style.position="relative",h=document.createElement("DIV"),r.appendChild(h),r.appendChild(e),h.className="cs_colorBox",e.className+=" cs_colorInput",h.style.width=h.style.height=e.offsetHeight-(document.all?0:2)+"px",e.style.left=e.offsetHeight+2+"px"}var a=new dhtmlXColorPicker(null,n,s,!0,o);return l&&a.setColor(l),a.linkToObjects=[h,e,e],a}function dhtmlXColorPicker(t,e,i,s,n){if(document.all)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(o){}if(this._cc=i,t||(t=document.createElement("DIV"),t.style.position="absolute",document.body.appendChild(t),t._dhx_remove=!0),this.container="object"!=typeof t?document.getElementById(t):t,dhtmlxEventable(this),this.skinName=dhtmlx.skin||"",this.ready=!1,this.hideOnInit=s||!1,this.linkToObjects=[],this.imgURL=dhtmlx.image_path||window.dhx_globalImgPath||"",this.hideSelfOnSelect=!0,this.hex="000000",this.h=100,this.s=.9,this.v=.1,this.old_sat=this.old_hue=this.b=this.g=this.r=0,this.fullview=n||!1,this.customColorsCount=this.fullview?8:10,this.language=null,this.elements=[],this.customColors=[],this.restoreFrom=null,this.fullview?this.colorSelectW=this.colorSelectH=255:(this.colorSelectH=119,this.colorSelectW=209),this.isClickOnly=e||!1,null==window.cs_dechex){var l=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f"];window.cs_dechex=[];for(var h=0;256>h;h++){var r=l[h>>4].toString()+l[15&h].toString();r.length<2&&(r="0"+r),window.cs_dechex[h]=r}}return defLeng={langname:"en-us",labelHue:"Hue",labelSat:"Sat",labelLum:"Lum",labelRed:"Red",labelGreen:"Green",labelBlue:"Blue",btnAddColor:"Add to Custom Colors",btnSelect:"Select",btnCancel:"Cancel"},window.dhtmlxColorPickerObjects?window.dhtmlxColorPickerObjects[window.dhtmlxColorPickerObjects.length]=this:window.dhtmlxColorPickerObjects=[this],window.dhtmlxColorPickerLangModules||(window.dhtmlxColorPickerLangModules={}),window.dhtmlxColorPickerLangModules["en-us"]=defLeng,this}function dhtmlXComboFromSelect(t,e){"string"==typeof t&&(t=document.getElementById(t)),e=e||t.getAttribute("width")||(window.getComputedStyle?window.getComputedStyle(t,null).width:t.currentStyle?t.currentStyle.width:0),e&&"auto"!=e&&-1==e.indexOf("em")||(e=t.offsetWidth||100);var i=document.createElement("SPAN");t.parentNode.insertBefore(i,t),t.style.display="none";for(var s=t.getAttribute("opt_type"),n=new dhtmlXCombo(i,t.name,e,s,t.tabIndex),o=[],l=-1,h=0;h<t.options.length;h++){t.options[h].selected&&(l=h);var r=t.options[h].innerHTML,a=t.options[h].getAttribute("value");("undefined"==typeof a||null===a)&&(a=r),o[h]={value:a,text:r,img_src:t.options[h].getAttribute("img_src")}}return o.length&&n.addOption(o),t.parentNode.removeChild(t),l>=0&&(n._skipFocus=!0,n.selectOption(l,null,!0)),t.onchange&&n.attachEvent("onChange",t.onchange),"rtl"==t.style.direction&&n.setRTL&&n.setRTL(!0),n}function dhtmlXCombo(t,e,i,s,n){return"string"==typeof t&&(t=document.getElementById(t)),this.dhx_Event(),this.optionType=s!=window.undefined&&dhtmlXCombo_optionTypes[s]?s:"default",this._optionObject=dhtmlXCombo_optionTypes[this.optionType],this._disabled=!1,this.readonlyDelay=750,this.filterEntities="[,],{,},(,),+,*,\\,?,.,$,^".split(","),window.dhx_glbSelectAr||(window.dhx_glbSelectAr=[],window.dhx_openedSelect=null,window.dhx_SelectId=1,dhtmlxEvent(document.body,"click",this.closeAll),dhtmlxEvent(document.body,"keydown",function(t){try{9==(t||event).keyCode&&window.dhx_glbSelectAr[0].closeAll()}catch(e){}return!0})),"SELECT"==t.tagName?dhtmlXComboFromSelect(t):(this._createSelf(t,e,i,n),void dhx_glbSelectAr.push(this))}function dhtmlXRange(t,e,i){var s="object"==typeof t?t:document.getElementById(t);try{s.focus()}catch(n){}var o=s.value.length;if(e--,(0>e||e>i||e>o)&&(e=0),i>o&&(i=o),e!=i)if(s.setSelectionRange)s.setSelectionRange(e,i);else if(s.createTextRange){var l=s.createTextRange();l.moveStart("character",e),l.moveEnd("character",i-o);try{l.select()}catch(h){}}}function dataProcessor(t){return this.serverProcessor=t,this.action_param="!nativeeditor_status",this.object=null,this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._tMode="GET",this.post_delim="_",this._waitMode=0,this._in_progress={},this._invalid={},this.mandatoryFields=[],this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),dhtmlxEventable(this),this}function dhtmlXEditor(t,e){var i=this;for(this.skin=e||dhtmlx.skin||"dhx_skyblue",this.iconsPath=dhtmlx.image_path||"../../codebase/imgs/","string"==typeof t&&(t=document.getElementById(t)),this.base=t;this.base.childNodes.length>0;)this.base.removeChild(this.base.childNodes[0]);this.tbData=(this._isToolbar=null!=this.initDhtmlxToolbar&&null!=window.dhtmlXToolbarObject?!0:!1)?"":"<div class='dhxeditor_"+this.skin+"_btns'><a href='javascript:void(0);' onclick='return false;' tabindex='-1'><div actv='b' cmd='applyBold' class='dhxeditor_"+this.skin+"_tbbtn btn_bold'></div></a><a href='javascript:void(0);' onclick='return false;' tabindex='-1'><div actv='i' cmd='applyItalic' class='dhxeditor_"+this.skin+"_tbbtn btn_italic'></div></a><a href='javascript:void(0);' onclick='return false;' tabindex='-1'><div actv='u' cmd='applyUnderscore' class='dhxeditor_"+this.skin+"_tbbtn btn_underline'></div></a><a href='javascript:void(0);' onclick='return false;' tabindex='-1'><div actv='c' cmd='clearFormatting' class='dhxeditor_"+this.skin+"_tbbtn btn_clearformat'></div></a><div class='verline_l'></div><div class='verline_r'></div></div>";var s=_isIE?this.base.currentStyle.position:window.getComputedStyle(this.base,null).getPropertyValue("position");"relative"!=s&&"absolute"!=s&&(this.base.style.position="relative"),this.base.innerHTML=this.tbData+"<div style='position:absolute; width: 100%; overflow: hidden;'></div>";var n=new dhtmlXContainerLite(this.base);n.skin=this.skin,n.setContent(this.base.childNodes[this._isToolbar?0:1]);var o=this._isToolbar?0:this.base.childNodes[0].offsetHeight;this.base.adjustContent(this.base,o),this.cBlock=document.createElement("DIV"),this.cBlock.className="dhxcont_content_blocker",this.cBlock.style.display="none",this.base.appendChild(this.cBlock),this.editor=document.createElement("IFRAME"),this.editor.className="dhxeditor_mainiframe_"+this.skin,this.editor.frameBorder=0,_isOpera&&(this.editor.scrolling="yes");var l=this.editor;if("undefined"!=typeof window.addEventListener){{this.editor}l.onload=function(){this.contentWindow.addEventListener("focus",function(t){i._ev("focus",t)},!1),this.contentWindow.addEventListener("blur",function(t){i._ev("blur",t)},!1),this.contentWindow.addEventListener("keydown",function(t){i._ev("keydown",t)},!1),this.contentWindow.addEventListener("keyup",function(t){i._ev("keyup",t)},!1),this.contentWindow.addEventListener("keypress",function(t){i._ev("keypress",t)},!1),this.contentWindow.addEventListener("mouseup",function(t){i._ev("mouseup",t)},!1),this.contentWindow.addEventListener("mousedown",function(t){i._ev("mousedown",t)},!1),this.contentWindow.addEventListener("click",function(t){i._ev("click",t)},!1)},l.onunload=function(){this.contentWindow.removeEventListener("focus",function(t){i._ev("focus",t)},!1),this.contentWindow.removeEventListener("blur",function(t){i._ev("blur",t)},!1),this.contentWindow.removeEventListener("keydown",function(t){i._ev("keydown",t)},!1),this.contentWindow.removeEventListener("keyup",function(t){i._ev("keyup",t)},!1),this.contentWindow.removeEventListener("keypress",function(t){i._ev("keypress",t)},!1),this.contentWindow.removeEventListener("mouseup",function(t){i._ev("mouseup",t)},!1),this.contentWindow.removeEventListener("mousedown",function(t){i._ev("mousedown",t)},!1),this.contentWindow.removeEventListener("click",function(t){i._ev("click",t)},!1)}}else l.onreadystatechange=function(){if("complete"==l.readyState)try{this.contentWindow.document.body.attachEvent("onfocus",function(t){i._ev("focus",t)}),this.contentWindow.document.body.attachEvent("onblur",function(t){i._ev("blur",t)}),this.contentWindow.document.body.attachEvent("onkeydown",function(t){i._ev("keydown",t)}),this.contentWindow.document.body.attachEvent("onkeyup",function(t){i._ev("keyup",t)}),this.contentWindow.document.body.attachEvent("onkeypress",function(t){i._ev("keypress",t)}),this.contentWindow.document.body.attachEvent("onmouseup",function(t){i._ev("mouseup",t)}),this.contentWindow.document.body.attachEvent("onmousedown",function(t){i._ev("mousedown",t)}),this.contentWindow.document.body.attachEvent("onclick",function(t){i._ev("click",t)})}catch(t){}},l.onunload=function(){this.contentWindow.document.body.detachEvent("onfocus",function(){i._ev("focus",event)}),this.contentWindow.document.body.detachEvent("onblur",function(){i._ev("blur",event)}),this.contentWindow.document.body.detachEvent("onkeydown",function(){i._ev("keydown",event)}),this.contentWindow.document.body.detachEvent("onkeyup",function(){i._ev("keyup",event)}),this.contentWindow.document.body.detachEvent("onkeypress",function(){i._ev("keypress",event)}),this.contentWindow.document.body.detachEvent("onmouseup",function(){i._ev("mouseup",event)}),this.contentWindow.document.body.detachEvent("onmousedown",function(){i._ev("mousedown",event)}),this.contentWindow.document.body.detachEvent("onclick",function(){i._ev("click",event)})};this._ev=function(t,e){this.callEvent("onAccess",[t,e])},this._focus=function(){_isIE?this.editor.contentWindow.document.body.focus():this.editor.contentWindow.focus()},this.base.attachObject(this.editor),this.edWin=this.editor.contentWindow,this.edDoc=this.edWin.document,this._prepareContent=function(t,e){var i="";t===!0&&null!=this.getContent&&(i=this.getContent());var s=this.editor.contentWindow.document;if(s.open("text/html","replace"),s.write(_isOpera?"<html><head><style> html, body { overflow:auto;-webkit-overflow-scrolling: touch; padding:0px; padding-left:1px !important; height:100%; margin:0px; font-family:Tahoma; font-size:10pt; background-color:#ffffff;} </style></head><body "+(e!==!0?"contenteditable='true'":"")+" tabindex='0'></body></html>":window._KHTMLrv?"<html><head><style> html {overflow-x: auto;-webkit-overflow-scrolling: touch; overflow-y: auto;} body { overflow: auto; overflow-y: scroll;} html,body { padding:0px; padding-left:1px !important; height:100%; margin:0px; font-family:Tahoma; font-size:10pt; background-color:#ffffff;} </style></head><body "+(e!==!0?"contenteditable='true'":"")+" tabindex='0'></body></html>":_isIE?"<html><head><style> html {overflow-y: auto;} body {overflow-y: scroll;-webkit-overflow-scrolling: touch;} html,body { overflow-x: auto; padding:0px; padding-left:1px !important; height:100%; margin:0px; font-family:Tahoma; font-size:10pt; background-color: #ffffff; outline: none;} </style></head><body "+(e!==!0?"contenteditable='true'":"")+" tabindex='0'></body></html>":"<html><head><style> html,body { overflow-x: auto; overflow-y:-webkit-overflow-scrolling: touch; scroll; padding:0px; padding-left:1px !important; height:100%; margin:0px; font-family:Tahoma; font-size:10pt; background-color:#ffffff;} </style></head><body "+(e!==!0?"contenteditable='true'":"")+" tabindex='0'></body></html>"),s.close(),_isIE?s.contentEditable=e!==!0:s.designMode=e!==!0?"On":"Off",_isFF)try{s.execCommand("useCSS",!1,!0)}catch(n){}t===!0&&null!=this.setContent&&this.setContent(i)},this._prepareContent(),this.setIconsPath=function(){},this.init=function(){},this.setSizes=function(){var t=this._isToolbar?0:this.base.childNodes[0].offsetHeight;this.base.adjustContent(this.base,t)},this._resizeTM=null,this._resizeTMTime=100,this._doOnResize=function(){window.clearTimeout(i._resizeTM),i._resizeTM=window.setTimeout(function(){i.setSizes&&i.setSizes()},i._resizeTMTime)},this._doOnUnload=function(){"function"==typeof window.addEventListener?window.removeEventListener("resize",this._doOnResize,!1):window.detachEvent("onresize",this._doOnResize)},dhtmlxEvent(window,"resize",this._doOnResize),this.base.childNodes[0].onselectstart=function(t){return t=t||event,t.cancelBubble=!0,t.returnValue=!1,t.preventDefault&&t.preventDefault(),!1};for(var h=0;h<this.base.childNodes[0].childNodes.length-2;h++)this.base.childNodes[0].childNodes[h].childNodes[0].onmousedown=function(){var t=this.getAttribute("cmd");return"function"==typeof i[t]&&(i[t](),i.callEvent("onToolbarClick",[this.getAttribute("actv")])),!1},this.base.childNodes[0].childNodes[h].childNodes[0].onclick=function(){return!1};this.runCommand=function(t,e){if(this._roMode!==!0){arguments.length<2&&(e=null),_isIE&&this.edWin.focus();try{var i=this.editor.contentWindow.document;i.execCommand(t,!1,e)}catch(s){}if(_isIE){this.edWin.focus();var n=this;window.setTimeout(function(){n.edWin.focus()},1)}}},this.applyBold=function(){this.runCommand("Bold")},this.applyItalic=function(){this.runCommand("Italic")},this.applyUnderscore=function(){this.runCommand("Underline")},this.clearFormatting=function(){this.runCommand("RemoveFormat")},this._isToolbar&&this.initDhtmlxToolbar(),dhtmlxEventable(this),dhtmlxEvent(this.edDoc,"click",function(t){var e=t||window.event,s=e.target||e.srcElement;i.showInfo(s)}),_isOpera&&dhtmlxEvent(this.edDoc,"mousedown",function(t){var e=t||window.event,s=e.target||e.srcElement;i.showInfo(s)}),dhtmlxEvent(this.edDoc,"keyup",function(t){var e=t||window.event,s=e.keyCode,n=e.target||e.srcElement;(37==s||38==s||39==s||40==s||13==s)&&i.showInfo(n)}),this.attachEvent("onFocusChanged",function(t){i._doOnFocusChanged&&i._doOnFocusChanged(t)}),this.showInfo=function(t){if((t=this.getSelectionBounds().end?this.getSelectionBounds().end:t)&&this.setStyleProperty)try{if(this.edWin.getComputedStyle){var e=this.edWin.getComputedStyle(t,null),i=401==e.getPropertyValue("font-weight")?700:e.getPropertyValue("font-weight");this.style={fontStyle:e.getPropertyValue("font-style"),fontSize:e.getPropertyValue("font-size"),textDecoration:e.getPropertyValue("text-decoration"),fontWeight:i,fontFamily:e.getPropertyValue("font-family"),textAlign:e.getPropertyValue("text-align")},window._KHTMLrv&&(this.style.fontStyle=e.getPropertyValue("font-style"),this.style.vAlign=e.getPropertyValue("vertical-align"),this.style.del=this.isStyleProperty(t,"span","textDecoration","line-through"),this.style.u=this.isStyleProperty(t,"span","textDecoration","underline"))}else e=t.currentStyle,this.style={fontStyle:e.fontStyle,fontSize:e.fontSize,textDecoration:e.textDecoration,fontWeight:e.fontWeight,fontFamily:e.fontFamily,textAlign:e.textAlign};this.setStyleProperty(t,"h1"),this.setStyleProperty(t,"h2"),this.setStyleProperty(t,"h3"),this.setStyleProperty(t,"h4"),window._KHTMLrv||(this.setStyleProperty(t,"del"),this.setStyleProperty(t,"sub"),this.setStyleProperty(t,"sup"),this.setStyleProperty(t,"u")),this.callEvent("onFocusChanged",[this.style,e])}catch(s){return null}},this.getSelectionBounds=function(){var t,e,i,s;if(this.edWin.getSelection){var n=this.edWin.getSelection();return t=n.getRangeAt(n.rangeCount-1),i=t.startContainer,s=t.endContainer,e=t.commonAncestorContainer,"#text"==i.nodeName&&(e=e.parentNode),"#text"==i.nodeName&&(i=i.parentNode),"body"==i.nodeName.toLowerCase()&&(i=i.firstChild),"#text"==s.nodeName&&(s=s.parentNode),"body"==s.nodeName.toLowerCase()&&(s=s.lastChild),i==s&&(e=i),{root:e,start:i,end:s}}if(this.edWin.document.selection){if(t=this.edDoc.selection.createRange(),!t.duplicate)return null;e=t.parentElement();var o=t.duplicate(),l=t.duplicate();return o.collapse(!0),l.moveToElementText(o.parentElement()),l.setEndPoint("EndToStart",o),i=o.parentElement(),o=t.duplicate(),l=t.duplicate(),l.collapse(!1),o.moveToElementText(l.parentElement()),o.setEndPoint("StartToEnd",l),s=l.parentElement(),"body"==i.nodeName.toLowerCase()&&(i=i.firstChild),"body"==s.nodeName.toLowerCase()&&(s=s.lastChild),i==s&&(e=i),{root:e,start:i,end:s}}return null},this.getContent=function(){return this.edDoc.body?_isFF?this.editor.contentWindow.document.body.innerHTML.replace(/<\/{0,}br\/{0,}>\s{0,}$/gi,""):_isIE&&0==this.edDoc.body.innerText.length?"":this.edDoc.body.innerHTML:""},this.setContent=function(t){t=t||"",this.edDoc.body?(-1!=navigator.userAgent.indexOf("Firefox")?("undefined"==typeof this._ffTest&&(this.editor.contentWindow.document.body.innerHTML="",this.runCommand("InsertHTML","test"),this._ffTest=this.editor.contentWindow.document.body.innerHTML.length>0),this._ffTest?this.editor.contentWindow.document.body.innerHTML=t:(this.editor.contentWindow.document.body.innerHTML="",0==t.length&&(t=" "),this.runCommand("InsertHTML",t))):this.editor.contentWindow.document.body.innerHTML=t,this.callEvent("onContentSet",[])):dhtmlxEvent(this.edWin,"load",function(){i.setContent(t)})},this.setContentHTML=function(t){new dtmlXMLLoaderObject(this._ajaxOnLoad,this,!1,!0).loadXML(t)},this._ajaxOnLoad=function(t,e,i,s,n){n.xmlDoc.responseText&&t.setContent(n.xmlDoc.responseText)}}function dhtmlXContainerLite(t){var e=this;this.obj=t,this.dhxcont=null,this.setContent=function(t){this.dhxcont=t,this.dhxcont.innerHTML="<div style='position: relative; left: 0px; top: 0px; overflow: hidden;'></div>",this.dhxcont.mainCont=this.dhxcont.childNodes[0],this.obj.dhxcont=this.dhxcont},this.obj._genStr=function(t){for(var e="",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=0;t>s;s++)e+=i.charAt(Math.round(Math.random()*(i.length-1)));return e},this.obj.adjustContent=function(t,e,i,s,n){this.dhxcont.style.left=(this._offsetLeft||0)+"px",this.dhxcont.style.top=(this._offsetTop||0)+e+"px";var o=t.clientWidth+(this._offsetWidth||0);s!==!0&&(this.dhxcont.style.width=Math.max(0,o)+"px"),s!==!0&&this.dhxcont.offsetWidth>o&&(this.dhxcont.style.width=Math.max(0,2*o-this.dhxcont.offsetWidth)+"px");var l=t.clientHeight+(this._offsetHeight||0);this.dhxcont.style.height=Math.max(0,l-e)+(null!=i?i:0)+"px",this.dhxcont.offsetHeight>l-e&&(this.dhxcont.style.height=Math.max(0,2*(l-e)-this.dhxcont.offsetHeight)+"px"),n&&!isNaN(n)&&(this.dhxcont.style.height=Math.max(0,parseInt(this.dhxcont.style.height)-n)+"px"),null!=this._minDataSizeH&&parseInt(this.dhxcont.style.height)<this._minDataSizeH&&(this.dhxcont.style.height=this._minDataSizeH+"px"),null!=this._minDataSizeW&&parseInt(this.dhxcont.style.width)<this._minDataSizeW&&(this.dhxcont.style.width=this._minDataSizeW+"px"),s!==!0&&(this.dhxcont.mainCont.style.width=this.dhxcont.clientWidth+"px",this.dhxcont.mainCont.offsetWidth>this.dhxcont.clientWidth)&&(this.dhxcont.mainCont.style.width=Math.max(0,2*this.dhxcont.clientWidth-this.dhxcont.mainCont.offsetWidth)+"px");var h=null!=this.menu?this.menuHidden?0:this.menuHeight:0,r=null!=this.toolbar?this.toolbarHidden?0:this.toolbarHeight:0,a=null!=this.sb?this.sbHidden?0:this.sbHeight:0;this.dhxcont.mainCont.style.height=this.dhxcont.clientHeight+"px",this.dhxcont.mainCont.offsetHeight>this.dhxcont.clientHeight&&(this.dhxcont.mainCont.style.height=Math.max(0,2*this.dhxcont.clientHeight-this.dhxcont.mainCont.offsetHeight)+"px"),this.dhxcont.mainCont.style.height=Math.max(0,parseInt(this.dhxcont.mainCont.style.height)-h-r-a)+"px"},this.obj.attachToolbar=function(){var t=document.createElement("DIV");return t.style.position="relative",t.style.overflow="hidden",t.id="dhxtoolbar_"+this._genStr(12),this.dhxcont.insertBefore(t,this.dhxcont.childNodes[null!=this.menu?1:0]),this.toolbar=new dhtmlXToolbarObject(t.id,this.skin),"dhx_web"==e.skin?(this.toolbarHeight=32,this.dhxcont.className="dhtmlx_editor_extended_"+e.skin):"dhx_terrace"==e.skin?(this._attached?(this.toolbarHeight=46,t.style.marginBottom="14px"):(this.toolbarHeight=34,t.style.marginTop="2px",t.style.marginLeft="2px",t.style.marginBottom="2px"),this.dhxcont.className="dhtmlx_editor_extended_"+e.skin):this.toolbarHeight=t.offsetHeight+(this._isLayout&&"dhx_skyblue"==this.skin?2:0),this.toolbarId=t.id,this._doOnAttachToolbar&&this._doOnAttachToolbar("init"),this.adjust(),this.toolbar},this.obj.attachObject=function(t,e){if("string"==typeof t&&(t=document.getElementById(t)),e){t.style.visibility="hidden",t.style.display="";var i=t.offsetWidth,s=t.offsetHeight}this._attachContent("obj",t),e&&this._isWindow&&(t.style.visibility="visible",this._adjustToContent(i,s))},this.obj.adjust=function(){"dhx_skyblue"==this.skin&&this.toolbar&&((this._isWindow||this._isLayout)&&(document.getElementById(this.toolbarId).style.height="29px",this.toolbarHeight=document.getElementById(this.toolbarId).offsetHeight,this._doOnAttachToolbar&&this._doOnAttachToolbar("show")),this._isCell&&(document.getElementById(this.toolbarId).className+=" in_layoutcell"),this._isAcc&&(document.getElementById(this.toolbarId).className+=" in_acccell"))},this.obj._attachContent=function(t,i,s){for(;e.dhxcont.mainCont.childNodes.length>0;)e.dhxcont.mainCont.removeChild(e.dhxcont.mainCont.childNodes[0]);"obj"==t&&(this._isWindow&&null==i.cmp&&"dhx_skyblue"==this.skin&&(this.dhxcont.mainCont.style.border="#a4bed4 1px solid",this.dhxcont.mainCont.style.backgroundColor="#FFFFFF",this._redraw()),e.dhxcont._frame=null,e.dhxcont.mainCont.appendChild(i),e.dhxcont.mainCont.style.overflow=s===!0?"auto":"hidden",i.style.display="")},this.obj._dhxContDestruct=function(){for(;this.dhxcont.mainCont.childNodes.length>0;)this.dhxcont.mainCont.removeChild(this.dhxcont.mainCont.childNodes[0]);this.dhxcont.mainCont.innerHTML="",this.dhxcont.mainCont=null;try{delete this.dhxcont.mainCont}catch(t){}for(;this.dhxcont.childNodes.length>0;)this.dhxcont.removeChild(this.dhxcont.childNodes[0]);this.dhxcont.innerHTML="",this.dhxcont=null;try{delete this.dhxcont}catch(e){}this.attachToolbar=this.adjustContent=this.moveContentTo=this.attachObject=this.adjust=this._dhxContDestruct=this._attachContent=this._genStr=null}}function dhtmlXForm(a,b,c){this.idef={position:"label-left",labelWidth:"auto",labelHeight:"auto",inputWidth:"auto",inputHeight:"auto",labelAlign:"left",noteWidth:"auto",offsetTop:0,offsetLeft:0,blockOffset:20},this.idef_const={offsetNested:20},this.apos_css={"label-left":"dhxform_item_label_left","label-right":"dhxform_item_label_right","label-top":"dhxform_item_label_top","label-bottom":"dhxform_item_label_bottom",absolute:"dhxform_item_absolute"},this.align_css={left:"dhxform_label_align_left",center:"dhxform_label_align_center",right:"dhxform_label_align_right"};var d=this;this.setSkin=function(t){this.skin=t,this.cont.className="dhxform_obj_"+this.skin,this.cont.style.fontSize="13px",this._updateBlocks(),this.forEachItem(function(e){"calendar"==d.getItemType(e)&&d.doWithItem(e,"setSkin",t)})},this.skinDetect=function(){var t=document.createElement("DIV");t.className="dhxform_skin_detect",document.body.firstChild?document.body.insertBefore(t,document.body.firstChild):document.body.appendChild(t);var e=t.offsetWidth;return t.parentNode.removeChild(t),t=null,{10:"dhx_skyblue",20:"dhx_web",30:"dhx_terrace"}[e]||null},this.skin=c||("undefined"!=typeof dhtmlx?dhtmlx.skin:null)||this.skinDetect()||"dhx_skyblue",this.separator=",",this.live_validate=!1,this._type="checkbox",this._rGroup="default",this._idIndex={},this._indexId=[],this.cont="object"==typeof a?a:document.getElementById(a),a._isNestedForm||(this._parentForm=!0,this.cont.style.fontSize="13px",this.cont.className="dhxform_obj_"+this.skin,this.setFontSize=function(t){this.cont.style.fontSize=t,this._updateBlocks()},this.getForm=function(){return this},this.cont.onkeypress=function(t){if(t=t||event,13==t.keyCode){var e=t.target||t.srcElement;"undefined"!=typeof e.tagName&&"textarea"==String(e.tagName).toLowerCase()&&!t.ctrlKey||d.callEvent("onEnter",[])}}),this.b_index=null,this.base=[],this._prepare=function(t){null==this.b_index?this.b_index=0:this.b_index++,this.base[this.b_index]=document.createElement("DIV"),this.base[this.b_index].className="dhxform_base","undefined"!=typeof t&&(this.base[this.b_index].style.cssText+=" margin-left:"+t+"px!important;"),this.cont.appendChild(this.base[this.b_index])},this.setSizes=function(){},this._mergeSettings=function(t){var e,i=-1,s={type:"settings"};for(e in this.idef)s[e]=this.idef[e];for(var n=0;n<t.length;n++)if("undefined"!=typeof t[n]&&"settings"==t[n].type){for(e in t[n])s[e]=t[n][e];i=n}return t[i>=0?i:t.length]=s,t},this._genStr=function(t){for(var e="",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=0;t>s;s++)e+=i.charAt(Math.round(Math.random()*(i.length-1)));
return e},this.idPrefix="dhxForm_"+this._genStr(12)+"_",this._rId=this._parentForm?this._genStr(12)+"_":a._rId,this.objPull={},this.itemPull={},this._ic=0,this._addItem=function(t,e,i,s,n,o){if(this.items[t]._index&&(this.getForm()._indexId.push(e),this.getForm()._idIndex[e]={ind:this.getForm()._indexId.length-1}),t||(t=this._type),"list"==t&&null!=n&&null!=this.itemPull[this.idPrefix+n]&&"function"==typeof this.itemPull[this.idPrefix+n]._addSubListNode)var l=this.itemPull[this.idPrefix+n]._addSubListNode();else if("newcolumn"==t)l={};else{var h=null;if("undefined"==typeof o||isNaN(o)||"list"==t){if("list"==t)for(var r in this.itemPull)r==this.idPrefix+e&&(h=this.itemPull[r].nextSibling,null!=this.itemPull[r]._listBase&&this.itemPull[r]._listBase.length>0&&(h=this.itemPull[r]._listBase[this.itemPull[r]._listBase.length-1]))}else for(var o=Math.max(parseInt(o),0)+1,a=0;a<this.base[this.b_index].childNodes.length;a++)1!=this.base[this.b_index].childNodes[a]._isNestedForm&&(o--,0==o&&(h=this.base[this.b_index].childNodes[a]));l=document.createElement("DIV"),h?this.base[this.b_index].insertBefore(l,h):this.base[this.b_index].appendChild(l)}if(l._idd=e,l._rId=this._rId,"undefined"!=typeof l.style){"undefined"==typeof i.offsetLeft&&this.idef.offsetLeft>0&&(i.offsetLeft=this.idef.offsetLeft),"undefined"==typeof i.offsetTop&&this.idef.offsetTop>0&&(i.offsetTop=this.idef.offsetTop);var c="";"undefined"!=typeof i.offsetLeft&&(c+=" padding-left:"+i.offsetLeft+"px!important;"),"undefined"!=typeof i.offsetTop&&(c+=" padding-top:"+i.offsetTop+"px!important;"),l.style.cssText+=c}if("block"==t&&isNaN(i.blockOffset)&&(i.blockOffset=this.idef.blockOffset),"list"==t){"undefined"==typeof l._ofsNested&&(l._ofsNested=this.idef_const.offsetNested),null!=s&&(l._sId=s);var u=this.items[t].render(l);return this.itemPull[this.idPrefix+e]._listObj||(this.itemPull[this.idPrefix+e]._listObj=[]),this.itemPull[this.idPrefix+e]._list||(this.itemPull[this.idPrefix+e]._list=[]),this.itemPull[this.idPrefix+e]._listBase||(this.itemPull[this.idPrefix+e]._listBase=[]),this.itemPull[this.idPrefix+e]._listObj.push(u[0]),this.itemPull[this.idPrefix+e]._list.push(u[1]),this.itemPull[this.idPrefix+e]._listBase.push(l),u[1].checkEvent=function(t){return d.checkEvent(t)},u[1].callEvent=function(t,e){return d.callEvent(t,e)},u[1].getForm=function(){return d.getForm()},u[1]._initObj(this._mergeSettings(i)),l._inBlcok&&(l.className+=" in_block"),u[1]}if("newcolumn"==t)this._prepare(i.offset);else{if("label"==t&&0==this._ic++&&(i._isTopmost=!0),i.position=this.apos_css[i.position&&this.apos_css[i.position]?i.position:this.idef.position],l.className=i.position+("string"==typeof i.className?" "+i.className:""),i.labelWidth||(i.labelWidth=this.idef.labelWidth),i.labelHeight||(i.labelHeight=this.idef.labelHeight),"undefined"!=typeof i.wrap&&(i.wrap=this._s2b(i.wrap)),i.labelAlign=this.align_css[i.labelAlign]?this.align_css[i.labelAlign]:this.align_css[this.idef.labelAlign],i.inputWidth=i.width?i.width:i.inputWidth?i.inputWidth:this.idef.inputWidth,i.inputHeight||(i.inputHeight=this.idef.inputHeight),"undefined"!=typeof i.note&&(null!=i.note.length&&null!=i.note[0]&&(i.note=i.note[0]),"undefined"==typeof i.note.width&&(i.note.width=this.idef.noteWidth),"auto"==i.note.width&&(i.note.width=i.inputWidth)),l.checkEvent=function(t){return d.checkEvent(t)},l.callEvent=function(t,e){return d.callEvent(t,e)},l.getForm=function(){return d.getForm()},l._autoCheck=function(t){d._autoCheck(t)},"string"==typeof i.readonly&&(i.readonly=this._s2b(i.readonly)),"string"==typeof i.autoStart&&(i.autoStart=this._s2b(i.autoStart)),"string"==typeof i.autoRemove&&(i.autoRemove=this._s2b(i.autoRemove)),"string"==typeof i.titleScreen&&(i.titleScreen=this._s2b(i.titleScreen)),"string"==typeof i.info&&(i.info=this._s2b(i.info)),"string"==typeof i.hidden&&(i.hidden=this._s2b(i.hidden)),"string"==typeof i.checked&&(i.checked=this._s2b(i.checked)),"undefined"!=typeof i.userdata)for(r in i.userdata)this.getForm().setUserData(e,r,i.userdata[r]);if(i.validate&&(l._validate="function"==typeof i.validate||"function"==typeof window[i.validate]?[i.validate]:String(i.validate).split(this.separator)),"undefined"!=typeof i.required&&("string"==typeof i.required&&(i.required=this._s2b(i.required)),l._required=1==i.required),l._required){l._validate||(l._validate=[]);for(var _=!1,a=0;a<l._validate.length;a++)_=_||"NotEmpty"==l._validate[a];_||l._validate.push("NotEmpty")}l._ll=i.position==this.apos_css["label-left"]||i.position==this.apos_css["label-top"],this.objPull[this.idPrefix+e]=this.items[t].render(l,i),this.itemPull[this.idPrefix+e]=l}},this._initObj=function(t){this._prepare();for(var e=0;e<t.length;e++)if("undefined"!=typeof t[e]&&"settings"==t[e].type)for(var i in t[e])this.idef[i]=t[e][i];for(e=0;e<t.length;e++)this._prepareItem(t[e]);this._autoCheck()},this._prepareItem=function(t,e){var i=null!=t&&null!=t.type?t.type:"";if(this.items[i]){t.name||(t.name=this._genStr(12));var s=t.name;(null!=this.objPull[this.idPrefix+s]||"radio"==i)&&(s=this._genStr(12));var n=t;n.label=n.label||"",n.value=n.value,n.checked=this._s2b(n.checked),n.disabled=this._s2b(n.disabled),n.name=n.name||this._genStr(12),n.options=n.options||[],n.rows=n.rows||"none",n.uid=this._genStr(12),this._addItem(i,s,n,null,null,e),e=null,this._parentEnabled===!1&&this._disableItem(s);for(var o=0;o<n.options.length;o++)if(null!=n.options[o].list){n.options[o].value||(n.options[o].value=this._genStr());var l=this._addItem("list",s,n.options[o].list,n.options[o].value,null);l._subSelect=!0,l._subSelectId=n.options[o].value}null!=t.list&&(t.listParent||(t.listParent=n.name),l=this._addItem("list",s,t.list,null,t.listParent))}},this._s2b=function(t){return"true"==t||"1"==t||"yes"==t||1==t?!0:!1},this._xmlSubItems={item:"list",option:"options",note:"note",userdata:"_userdata"},this._xmlToObject=function(t,e){for(var i=e?[]:{},s=0;s<t.childNodes.length;s++)if("undefined"!=typeof t.childNodes[s].tagName){var n=t.childNodes[s].tagName;if(null!=this._xmlSubItems[n]){var o=this._xmlSubItems[n];"undefined"==typeof i[o]&&(i[o]=[]);for(var l={},h=0;h<t.childNodes[s].attributes.length;h++){var r=t.childNodes[s].attributes[h].name,a=t.childNodes[s].attributes[h].value;l[r]=a}"note"==o&&(l.text=t.childNodes[s].firstChild.nodeValue),"_userdata"==o&&(l.value=t.childNodes[s].firstChild.nodeValue);var d,c=this._xmlToObject(t.childNodes[s]);for(d in c)if("_userdata"==d)for(l.userdata||(l.userdata={}),h=0;h<c[d].length;h++)l.userdata[c[d][h].name]=c[d][h].value;else l[d]=c[d];e?i.push(l):i[o].push(l)}}return i},this._xmlParser=function(){if("json"==d._loadType)eval("var formJSONData="+this.xmlDoc.responseText),"object"==typeof formJSONData&&null!=formJSONData&&d._initObj(formJSONData);else{var a=d._xmlToObject(this.getXMLTopNode("items"),!0);d._initObj(a)}d.cont&&d.cont.cmp&&"form"==d.cont.cmp&&d.setSizes(),d.callEvent("onXLE",[]),"function"==typeof d._doOnLoad&&d._doOnLoad()},this._doOnLoad=null,this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window),this.loadStruct=function(t,e,i){if(this._loadType="xml","string"==typeof e){if("json"==e.toLowerCase()&&(this._loadType="json","string"!=typeof t))return void this._initObj(t);this._doOnLoad=i||null}else this._doOnLoad=e||null;this.callEvent("onXLS",[]),this._xmlLoader.loadXML(t)},this.loadStructString=function(t,e){this._doOnLoad=e||null,this._xmlLoader.loadXMLString(t)},this._autoCheck=function(t){this._locked===!0?t=!1:"undefined"==typeof t&&(t=!0);for(var e in this.itemPull){var i=t&&this.itemPull[e]._udis!==!0;this[i?"_enableItem":"_disableItem"](this.itemPull[e]._idd),null!=this.getForm()._idIndex[this.itemPull[e]._idd]&&(this.getForm()._idIndex[this.itemPull[e]._idd].enabled=i);var s=i&&("boolean"==typeof this.itemPull[e]._checked?this.itemPull[e]._checked:!0);if(this.itemPull[e]._list)for(var n=0;n<this.itemPull[e]._list.length;n++){var o=!0;if(1==this.itemPull[e]._list[n]._subSelect){var o=!1,l=this.getItemValue(this.itemPull[e]._idd);"object"==typeof l&&"number"==typeof l.length||(l=[l]);for(var h=0;h<l.length;h++)o=l[h]==this.itemPull[e]._list[n]._subSelectId||o;this.itemPull[e]._listObj[n][o?"show":"hide"](this.itemPull[e]._listBase[n])}this.itemPull[e]._list[n]._autoCheck(s&&o)}}},this.doWithItem=function(t,e,i,s,n,o){if("object"!=typeof t){if(this.itemPull[this.idPrefix+t])return this.objPull[this.idPrefix+t][e](this.itemPull[this.idPrefix+t],i,s,n,o);a=null;for(l in this.itemPull)if(this.itemPull[l]._list&&!a)for(d=0;d<this.itemPull[l]._list.length;d++)null==a&&(a=this.itemPull[l]._list[d].doWithItem(t,e,i,s,n,o));return a}var l,h=t[0],r=t[1],a=null;for(l in this.itemPull){if((this.itemPull[l]._value==r||null===r)&&this.itemPull[l]._group==h)return this.objPull[l][e](this.itemPull[l],i,s,n,o);if(null!=this.itemPull[l]._list&&!a)for(var d=0;d<this.itemPull[l]._list.length;d++)a=this.itemPull[l]._list[d].doWithItem(t,e,i,s,n)}return null!=a?a:"getType"==e?this.doWithItem(t[0],"getType"):void 0},this._removeItem=function(t,e){null!=e?t=this.doWithItem([t,e],"destruct"):this.doWithItem(t,"destruct"),this._clearItemData(t)},this._clearItemData=function(t){if(this.itemPull[this.idPrefix+t]){t=this.idPrefix+t;try{this.objPull[t]=null,this.itemPull[t]=null,delete this.objPull[t],delete this.itemPull[t]}catch(e){}}else for(var i in this.itemPull)if(this.itemPull[i]._list)for(var s=0;s<this.itemPull[i]._list.length;s++)this.itemPull[i]._list[s]._clearItemData(t)},this.isItem=function(t,e){return null!=e&&(t=[t,e]),this.doWithItem(t,"isExist")},this.getItemType=function(t,e){return t=[t,e||null],this.doWithItem(t,"getType")},this.getItemsList=function(){var t,e=[],i=[];for(t in this.itemPull){var s=null,s=this.itemPull[t]._group?this.itemPull[t]._group:t.replace(this.idPrefix,"");1!=i[s]&&e.push(s),i[s]=!0}return e},this.forEachItem=function(t){for(var e in this.objPull)if("radio"==this.objPull[e].t?t(this.itemPull[e]._group,this.itemPull[e]._value):t(String(e).replace(this.idPrefix,"")),this.itemPull[e]._list)for(var i=0;i<this.itemPull[e]._list.length;i++)this.itemPull[e]._list[i].forEachItem(t)},this.setItemLabel=function(t,e,i){null!=i?t=[t,e]:i=e,this.doWithItem(t,"setText",i)},this.getItemLabel=function(t,e){return null!=e&&(t=[t,e]),this.doWithItem(t,"getText")},this.setItemText=this.setItemLabel,this.getItemText=this.getItemLabel,this._enableItem=function(t){this.doWithItem(t,"enable")},this._disableItem=function(t){this.doWithItem(t,"disable")},this._isItemEnabled=function(t){return this.doWithItem(t,"isEnabled")},this.checkItem=function(t,e){null!=e&&(t=[t,e]),this.doWithItem(t,"check"),this._autoCheck()},this.uncheckItem=function(t,e){null!=e&&(t=[t,e]),this.doWithItem(t,"unCheck"),this._autoCheck()},this.isItemChecked=function(t,e){return null!=e&&(t=[t,e]),this.doWithItem(t,"isChecked")},this.getCheckedValue=function(t){return this.doWithItem([t,null],"getChecked")},this._getRGroup=function(t,e){for(var i in this.itemPull){if(this.itemPull[i]._group==t&&(null==e||this.itemPull[i]._value==e))return this.itemPull[i]._idd;if(null!=this.itemPull[i]._list)for(var s=0;s<this.itemPull[i]._list.length;s++){var n=this.itemPull[i]._list[s]._getRGroup(t,e);if(null!=n)return n}}return null},this.setItemValue=function(t,e){return"radio"==this.getItemType(t)?(null!=this._getRGroup(t,e)?this.checkItem(t,e):this.uncheckItem(t,this.getCheckedValue(t)),null):this.doWithItem(t,"setValue",e)},this.getItemValue=function(t,e){return"radio"==this.getItemType(t)?this.getCheckedValue(t):this.doWithItem(t,"getValue",e)},this.updateValues=function(){this._updateValues()},this.showItem=function(t,e){null!=e&&(t=[t,e]),this.doWithItem(t,"show")},this.hideItem=function(t,e){null!=e&&(t=[t,e]),this.doWithItem(t,"hide")},this.isItemHidden=function(t,e){return null!=e&&(t=[t,e]),this.doWithItem(t,"isHidden")},this.getOptions=function(t){return this.doWithItem(t,"getOptions")},this.setItemWidth=function(t,e){this.doWithItem(t,"setWidth",e)},this.getItemWidth=function(t){return this.doWithItem(t,"getWidth")},this.setItemHeight=function(t,e){this.doWithItem(t,"setHeight",e)},this.setItemFocus=function(t,e){null!=e&&(t=[t,e]),this.doWithItem(t,"setFocus")},this._updateValues=function(){for(var t in this.itemPull)if(this.objPull[t]&&"function"==typeof this.objPull[t].updateValue&&this.objPull[t].updateValue(this.itemPull[t]),this.itemPull[t]._list)for(var e=0;e<this.itemPull[t]._list.length;e++)this.itemPull[t]._list[e]._updateValues()},this._getItemByName=function(t){for(var e in this.itemPull){if(this.itemPull[e]._idd==t)return this.itemPull[e];if(null!=this.itemPull[e]._list)for(var i=0;i<this.itemPull[e]._list.length;i++){var s=this.itemPull[e]._list[i]._getItemByName(t);if(null!=s)return s}}return null},this._resetValidateCss=function(t){t.className=t.className.replace(t._vcss,""),t._vcss=null},this.setValidateCss=function(t,e,i){var s=this["radio"==this.getItemType(t)?"_getRGroup":"_getItemByName"](t);s&&(null!=s._vcss&&this._resetValidateCss(s),s._vcss="string"==typeof i?i:"validate_"+(e===!0?"ok":"error"),s.className+=" "+s._vcss)},this.resetValidateCss=function(){for(var t in this.itemPull)if(null!=this.itemPull[t]._vcss&&this._resetValidateCss(this.itemPull[t]),null!=this.itemPull[t]._list)for(var e=0;e<this.itemPull[t]._list.length;e++)this.itemPull[t]._list[e].resetValidateCss()},this.validate=function(){if(0!=this.callEvent("onBeforeValidate",[])){var t=!0;return this.forEachItem(function(e,i){"undefined"!=typeof i&&(e=[e,i]),t=d.doWithItem(e,"_validate")&&t}),this.callEvent("onAfterValidate",[t]),t}},this.validateItem=function(t,e){return"undefined"!=typeof e&&(t=[t,e]),this.doWithItem(t,"_validate")},this.enableLiveValidation=function(t){this.live_validate=1==t},this.setReadonly=function(t,e){this.doWithItem(t,"setReadonly",e)},this.isReadonly=function(t){return this.doWithItem(t,"isReadonly")},this.getFirstActive=function(t){for(var e=0;e<this._indexId.length;e++){var i=!0;if(1==t){var s=this.getItemType(this._indexId[e]);dhtmlXForm.prototype.items[s].setFocus||(i=!1)}if(i&&this._idIndex[this._indexId[e]].enabled)return this._indexId[e]}return null},this.setFocusOnFirstActive=function(){var t=this.getFirstActive(!0);null!=t&&this.setItemFocus(t)},this.enableItem=function(t,e){null!=e&&(t=[t,e]),this.doWithItem(t,"userEnable"),this._autoCheck()},this.disableItem=function(t,e){null!=e&&(t=[t,e]),this.doWithItem(t,"userDisable"),this._autoCheck()},this.isItemEnabled=function(t,e){return null!=e&&(t=[t,e]),this.doWithItem(t,"isUserEnabled")},this.clear=function(){var t={};this.formId=(new Date).valueOf(),this.resetDataProcessor("inserted");for(var e in this.itemPull){var i=this.itemPull[e]._idd;if("ch"==this.itemPull[e]._type&&this.uncheckItem(i),this.itemPull[e]._type in{ta:1,editor:1,calendar:1,pw:1,hd:1}&&this.setItemValue(i,""),"combo"==this.itemPull[e]._type){this.itemPull[e]._apiChange=!0;var s=this.getCombo(i);s.selectOption(0),s=null,this.itemPull[e]._apiChange=!1}if("se"==this.itemPull[e]._type){var n=this.getOptions(i);n.length>0&&(n[0].selected=!0)}if("ra"==this.itemPull[e]._type){var o=this.itemPull[e]._group;t[o]||(this.checkItem(o,this.doWithItem(i,"_getFirstValue")),t[o]=!0)}if(this.itemPull[e]._list)for(var l=0;l<this.itemPull[e]._list.length;l++)this.itemPull[e]._list[l].clear();this["setFormData_"+this.itemPull[e]._type]&&this["setFormData_"+this.itemPull[e]._type](i,"")}t=null,this._parentForm&&this._autoCheck(),this.resetValidateCss()},this.unload=function(){for(var t in this.objPull)this._removeItem(String(t).replace(this.idPrefix,""));this.detachAllEvents(),this._ccTm&&window.clearTimeout(this._ccTm),this._formLS=null,this._xmlLoader.destructor(),this._subSelectId=this._subSelect=this.idPrefix=this.skin=this.idef=this.b_index=this.align_css=this.apos_css=this.isReadonly=this.setReadonly=this.isLocked=this.unlock=this.lock=this.getItemsList=this.getFormData=this.setFormData=this.getEditor=this.getCombo=this.getColorPicker=this.getCalendar=this.setSizes=this.setRTL=this.getUserData=this.setUserData=this.getItemWidth=this.getCheckedValue=this.detachAllEvents=this._prepare=this._locked=this._mergeSettings=this._doLock=this._parentForm=this._parentEnabled=this._type=this._rGroup=this.setSkin=this.setItemWidth=this.setItemHeight=this.setFontSize=this.remove=this.loadStructString=this.loadStruct=this._ulToObject=this._ic=this.getOptions=this.isItemChecked=this.uncheckItem=this.checkItem=this.isItemHidden=this.hideItem=this.showItem=this.getItemValue=this.setItemValue=this.getItemText=this.setItemText=this.getItemLabel=this.setItemLabel=this._getPosition=this._setPosition=this.getItemPosition=this.setItemPosition=this.eventCatcher=this.detachEvent=this.checkEvent=this.callEvent=this.attachEvent=this.removeItem=this.addItem=this.getForm=this.unload=this.getItemType=this.doWithItem=this.clear=this.isItem=this.forEachItem=this._isItemEnabled=this._disableItem=this._enableItem=this._clearItemData=this._autoCheck=this._initObj=this._genStr=this._removeItem=this._addItem=this.itemPull=this.objPull=this.items=this.loadXMLString=this.loadXML=this._xmlToObject=this._xmlParser=this._xmlLoader=null;for(var e=0;e<this.base.length;e++){for(;this.base[e].childNodes.length>0;)this.base[e].removeChild(this.base[e].childNodes[0]);this.base[e].parentNode&&this.base[e].parentNode.removeChild(this.base[e]),this.base[e]=null}this.base=null,this.cont.onkeypress=null,this.cont.className="",this.cont=null};for(var e in this.items)this.items[e].t=e,"undefined"==typeof this.items[e]._index&&(this.items[e]._index=!0),this.items[e].show||(this.items[e].show=function(t){if(t.style.display="",t._listObj)for(var e=0;e<t._listObj.length;e++)t._listObj[e].show(t._listBase[e])}),this.items[e].hide||(this.items[e].hide=function(t){if(t.style.display="none",t._listObj)for(var e=0;e<t._listObj.length;e++)t._listObj[e].hide(t._listBase[e])}),this.items[e].isHidden||(this.items[e].isHidden=function(t){return"none"==t.style.display}),this.items[e].userEnable||(this.items[e].userEnable=function(t){t._udis=!1}),this.items[e].userDisable||(this.items[e].userDisable=function(t){t._udis=!0}),this.items[e].isUserEnabled||(this.items[e].isUserEnabled=function(t){return t._udis!==!0}),this.items[e].getType||(this.items[e].getType=function(){return this.t}),this.items[e].isExist||(this.items[e].isExist=function(){return!0}),this.items[e]._validate||(this.items[e]._validate=function(t){if(!t._validate||!t._enabled)return!0;for(var e="ch"==t._type?this.isChecked(t)?this.getValue(t):0:this.getValue(t),i=!0,s=0;s<t._validate.length;s++){var n="is"+t._validate[s];if(null!=e&&0!=e.length||"isNotEmpty"==n){var o=dhtmlxValidation[n];"function"!=typeof o&&"function"==typeof t._validate[s]&&(o=t._validate[s]),"function"!=typeof o&&"function"==typeof window[t._validate[s]]&&(o=window[t._validate[s]]),i=("function"==typeof o?o(e):RegExp(t._validate[s]).test(e))&&i,o=null}}return t.callEvent("onValidate"+(i?"Success":"Error"),[t._idd,e,i])!==!1&&t.getForm().setValidateCss(t._idd,i),i});return this._locked=!1,this._doLock=function(t){var e=t===!0?!0:!1;this._locked!=e&&(this._locked=e,this._autoCheck(!this._locked))},this.lock=function(){this._doLock(!0)},this.unlock=function(){this._doLock(!1)},this.isLocked=function(){return this._locked},this.setNumberFormat=function(t,e,i,s){return this.doWithItem(t,"setNumberFormat",e,i,s)},dhtmlxEventable(this),this.attachEvent("_onButtonClick",function(t,e){this.callEvent("onButtonClick",[t,e])}),this._updateBlocks=function(){this.forEachItem(function(t){("block"==d.getItemType(t)||"combo"==d.getItemType(t))&&d.doWithItem(t,"_setCss",d.skin,d.cont.style.fontSize)})},this._isObj=function(t){return null!=t&&"object"==typeof t&&"undefined"==typeof t.length},this._copyObj=function(t){if(this._isObj(t)){var e,i={};for(e in t)i[e]="object"==typeof t[e]&&null!=t[e]?this._copyObj(t[e]):t[e]}else for(i=[],e=0;e<t.length;e++)i[e]="object"==typeof t[e]&&null!=t[e]?this._copyObj(t[e]):t[e];return i},null!=b&&"object"==typeof b&&this._initObj(this._copyObj(b)),this._parentForm&&this._updateBlocks(),this._ccActive=!1,this._ccTm=null,this}function dhtmlXFileUploader(a,b,c,d,e,f,g,h){var i=this;if("string"==typeof d&&"function"==typeof this[d])this.engine=d;else{this.engine="html4";var j=null;"undefined"!=typeof window.FormData&&"undefined"!=typeof window.XMLHttpRequest&&(j=new XMLHttpRequest,"undefined"==typeof j.upload&&(j=null)),null!=j?this.engine="html5":"undefined"!=typeof window.swfobject||j===!1?(j=swfobject.getFlashPlayerVersion(),j.major>=10&&(this.engine="flash")):(this._sl_v=this.getSLVersion())&&(this.engine="sl"),j=null}"string"==typeof a&&(a=document.getElementById(a)),this._swf_file_url=b||"",this._swf_upolad_url=c||"",this._swf_logs=e,this._sl_xap=f,this._sl_upload_url=g,this._sl_logs=h,this.p=document.createElement("DIV"),this.p.className+=" dhx_file_uploader",a.appendChild(this.p),this.p_files=document.createElement("DIV"),this.p_files.className="dhx_upload_files",this.p.appendChild(this.p_files),this.p_controls=document.createElement("DIV"),this.p_controls.className="dhx_upload_controls",this.p.appendChild(this.p_controls),this._files={},this._items={},this._data={},this._autoRemove=this._autoStart=!1,this._enabled=this._titleScreen=!0,this._uploaded_count=0,this._uid=function(){return this._idd?this._idd++:this._idd=(new Date).getTime(),this._idd},this._initToolbar=function(){this.b_opts={info:{onclick:null},browse:{onclick:null,tooltip:"Browse"},upload:{onclick:function(){i._enabled&&!i._uploading&&(i._switchButton(!0),i._uploadStart())},tooltip:"Upload"},cancel:{onclick:function(){i._enabled&&(i._uploadStop(),i._switchButton(!1))},tooltip:"Stop"},clear:{onclick:function(){i._enabled&&i.clear()},tooltip:"Clear list"}},this.buttons={};for(var t in this.b_opts){var e=document.createElement("DIV");e.innerHTML="&nbsp;",e.className="dhx_file_uploader_button button_"+t,e.onclick=this.b_opts[t].onclick,this.b_opts[t].tooltip&&(e.title=this.b_opts[t].tooltip),this.p_controls.appendChild(e),this.buttons[t]=e,e=null}this.buttons.cancel.style.display="none"},this._readableSize=function(t){for(var e=!1,i="b,Kb,Mb,Gb,Tb,Pb,Eb".split(","),s=0;s<i.length;s++)t>1024?t/=1024:e===!1&&(e=s);return e===!1&&(e=i.length-1),Math.round(100*t)/100+" "+i[e]},this._beforeAddFileToList=function(t,e){return this.callEvent("onBeforeFileAdd",[t,e])===!0},this._addFileToList=function(t,e,s,n,o){this._checkTitleScreen();var l=document.createElement("DIV");l._idd=t,l.className="dhx_file dhx_file_"+n,l.innerHTML="<div class='dhx_file_param dhx_file_name'>&nbsp;</div><div class='dhx_file_param dhx_file_progress'>"+o+"%</div><div class='dhx_file_param dhx_file_delete' title='Remove from list'>&nbsp;</div>",this.p_files.appendChild(l),l.childNodes[0].style.width=l.offsetWidth-127+"px",this._items[t]=l,this._updateFileNameSize(t),l.childNodes[2].onclick=function(){if(i._enabled){var t=this.parentNode._idd;i._removeFileFromQueue(t)}},this.callEvent("onFileAdd",[e])},this._removeFileFromList=function(t){this._items[t]&&(this._items[t].childNodes[2].onclick=null,this._items[t].parentNode.removeChild(this._items[t]),this._items[t]=null,delete this._items[t],this._data[t]&&(this._data[t]=null,delete this._data[t]),this._checkTitleScreen())},this._updateFileNameSize=function(t){this._items[t].childNodes[0].innerHTML=this._files[t].name+(isNaN(this._files[t].size)?"&nbsp;":" ("+this._readableSize(this._files[t].size)+")"),this._items[t].childNodes[0].title=this._files[t].name+(isNaN(this._files[t].size)?"":" ("+this._readableSize(this._files[t].size)+")")},this._updateFileInList=function(t,e,i){this._items[t]&&(this._items[t].className="dhx_file dhx_file_"+e,"uploading"==e&&100>i&&"loader"==this._progress_type?(this._items[t].childNodes[1].className="dhx_file_param dhx_file_uploading",this._items[t].childNodes[1].innerHTML="&nbsp;"):(this._items[t].childNodes[1].className="dhx_file_param dhx_file_progress",this._items[t].childNodes[1].innerHTML=i+"%"),this._updateFileNameSize(t))},this._removeFilesByState=function(t){for(var e in this._files)(t===!0||this._files[e].state==t)&&this._removeFileFromQueue(e)},this._switchButton=function(t){if(1==t)this.buttons.upload.style.display="none",this.buttons.cancel.style.display="";else{var e=this._uploaded_count;this.buttons.upload.style.display="",this.buttons.cancel.style.display="none",this._uploaded_count=0,e>0&&this.callEvent("onUploadComplete",[e])}},this._uploadStart=function(){if(!this._uploading)for(var t in this._files)"fail"==this._files[t].state&&(this._files[t].state="added",this._updateFileInList(t,"added",0));this._uploading=!0;var e=!1;for(t in this._files)e||"added"!=[this._files[t].state]||(e=!0,this._files[t].state="uploading",this._updateFileInList(t,"uploading",0),this._doUploadFile(t));e||(this._uploading=!1,this._switchButton(!1))},this._onUploadSuccess=function(a,b,c){if("undefined"!=typeof c&&"flash"==this.engine){try{eval("var t="+c.data)}catch(d){}if("undefined"==typeof t||1!=t.state||null==t.name)return void this._onUploadFail(a);b=t.name}this._uploaded_count++,this._data[a]={realName:this._files[a].name,serverName:b},this._files[a].state="uploaded",this._updateFileInList(a,"uploaded",100),this.callEvent("onUploadFile",[this._files[a].name,b]),this._autoRemove&&this._removeFileFromQueue(a),this._uploading&&this._uploadStart()},this._onUploadFail=function(t){this._files[t].state="fail",this._updateFileInList(t,"fail",0),this.callEvent("onUploadFail",[this._files[t].name]),this._uploading&&this._uploadStart()},this._onUploadAbort=function(t){this._uploading=!1,this._files[t].state="added",this._updateFileInList(t,"added",0),this.callEvent("onUploadCancel",[this._files[t].name])},this._checkTitleScreen=function(){var t,e=0;for(t in this._files)e++;0==e&&this.p.className.search("dhx_file_uploader_title")<0&&this._titleScreen&&(this.p.className+=" dhx_file_uploader_title",this.buttons.info.innerHTML=this._titleText,this.buttons.info.style.width=Math.max(this.p_controls.offsetWidth-134,0)+"px"),(e>0||!this._titleScreen)&&this.p.className.search("dhx_file_uploader_title")>=0&&(this.p.className=this.p.className.replace(/dhx_file_uploader_title/g,""),this.buttons.info.innerHTML="")},this.callEvent=function(){},this.upload=function(){this._uploading||this._uploadStart()},this.setAutoStart=function(t){this._autoStart=1==t},this.setAutoRemove=function(t){this._autoRemove=1==t},this.enableTitleScreen=function(t){this._titleScreen=1==t,this._checkTitleScreen()},this.setTitleText=function(t){this._titleText=t,this.p.className.search("dhx_file_uploader_title")>=0&&(this.buttons.info.innerHTML=this._titleText)},this.setURL=function(t){this._url=t},this.setSWFURL=function(t){this._swf_upolad_url=t},this.enable=function(){this._enabled=!0,this.p_files.className="dhx_upload_files",this.p_controls.className="dhx_upload_controls"},this.disable=function(){this._enabled=!1,this.p_files.className="dhx_upload_files dhx_uploader_dis",this.p_controls.className="dhx_upload_controls dhx_uploader_dis"},this.getStatus=function(){var t,e=0;for(t in this._files){if("uploaded"!=this._files[t].state)return-1;e=1}return e},this.getData=function(){return this._data},this.clear=function(){this.callEvent("onBeforeClear",[])===!0&&(this._uploading&&i._uploadStop(),i._switchButton(!1),i._removeFilesByState(!0),this.callEvent("onClear",[]))},this.unload=function(){this._removeFilesByState(!0),this._items=this._files=this._data=null,this._unloadEngine();for(var t in this.buttons)this.buttons[t].onclick=null,this.buttons[t].parentNode.removeChild(this.buttons[t]),this.buttons[t]=null,delete this.buttons[t];this.buttons=null;for(t in this.b_opts)this.b_opts[t].onclick=null,this.b_opts[t]=null,delete this.b_opts[t];this.b_opts=null,this.p_controls.parentNode.removeChild(this.p_controls),this.p_controls=null,this.p_files.parentNode.removeChild(this.p_files),this.engine=this._swf_upolad_url=this._swf_file_url=this.unload=this.clear=this.getData=this.getStatus=this.disable=this.enable=this.setURL=this.setTitleText=this.enableTitleScreen=this.setAutoRemove=this.setAutoStart=this.upload=this.callEvent=this._checkTitleScreen=this._onUploadAbort=this._onUploadFail=this._onUploadSuccess=this._uploadStart=this._switchButton=this._removeFilesByState=this._updateFileInList=this._updateFileNameSize=this._removeFileFromList=this._addFileToList=this._readableSize=this._initToolbar=this._uid=this._idd=this._uploading=this._url=this._uploaded_count=this._titleText=this._titleScreen=this._progress_type=this._enabled=this._autoStart=this._autoRemove=this.p_files=null,this.p.className=this.p.className.replace(/dhx_file_uploader_title/gi,"").replace(/dhx_file_uploader/gi,""),i=t=this.p=null};var k=new this[this.engine],l;for(l in k)this[l]=k[l],k[l]=null;return l=k=a=null,this._initToolbar(),this._initEngine(),this._checkTitleScreen(),this}function dhtmlxArray(t){return dhtmlXHeir(t||[],dhtmlxArray._master)}function dhtmlXGridObject(a){if(_isIE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(b){}a?"object"==typeof a?(this.entBox=a,this.entBox.id||(this.entBox.id="cgrid2_"+this.uid())):this.entBox=document.getElementById(a):(this.entBox=document.createElement("DIV"),this.entBox.id="cgrid2_"+this.uid()),this.entBox.innerHTML="",dhtmlxEventable(this);var c=this;this._wcorr=0,this.fontWidth=7,this.row=this.cell=null,this.iconURL="",this.editor=null,this._dclE=this._f2kE=!0,this.combos=[],this.defVal=[],this.rowsAr={},this.rowsBuffer=dhtmlxArray(),this.rowsCol=dhtmlxArray(),this._data_cache={},this._ecache={},this._ud_enabled=!0,this.xmlLoader=new dtmlXMLLoaderObject(this.doLoadDetails,this,!0,this.no_cashe),this._maskArr=[],this.selectedRows=dhtmlxArray(),this.UserData={},this._sizeFix=this._borderFix=0,this.entBox.className+=" gridbox",this.entBox.style.width=this.entBox.getAttribute("width")||(window.getComputedStyle?this.entBox.style.width||window.getComputedStyle(this.entBox,null).width:this.entBox.currentStyle?this.entBox.currentStyle.width:this.entBox.style.width||0)||"100%",this.entBox.style.height=this.entBox.getAttribute("height")||(window.getComputedStyle?this.entBox.style.height||window.getComputedStyle(this.entBox,null).height:this.entBox.currentStyle?this.entBox.currentStyle.height:this.entBox.style.height||0)||"100%",this.entBox.style.cursor="default",this.entBox.onselectstart=function(){return!1};var d=function(t){var e=document.createElement("TABLE");return e.cellSpacing=e.cellPadding=0,e.style.cssText="width:100%;table-layout:fixed;",e.className=t.substr(2),e};return this.obj=d("c_obj"),this.hdr=d("c_hdr"),this.hdr.style.marginRight="20px",this.hdr.style.paddingRight="20px",this.objBox=document.createElement("DIV"),this.objBox.style.width="100%",this.objBox.style.overflow="auto",this.objBox.appendChild(this.obj),this.objBox.className="objbox",dhtmlx.$customScroll&&dhtmlx.CustomScroll.enable(this),this.hdrBox=document.createElement("DIV"),this.hdrBox.style.width="100%",this.hdrBox.style.height="25px",this.hdrBox.style.overflow="hidden",this.hdrBox.className="xhdr",this.preloadImagesAr=[],this.sortImg=document.createElement("IMG"),this.sortImg.style.display="none",this.hdrBox.appendChild(this.sortImg),this.hdrBox.appendChild(this.hdr),this.hdrBox.style.position="relative",this.entBox.appendChild(this.hdrBox),this.entBox.appendChild(this.objBox),this.entBox.grid=this,this.objBox.grid=this,this.hdrBox.grid=this,this.obj.grid=this,this.hdr.grid=this,this.cellWidthPX=[],this.cellWidthPC=[],this.cellWidthType=this.entBox.cellwidthtype||"px",this.delim=this.entBox.delimiter||",",this._csvDelim=",",this.hdrLabels=[],this.columnIds=[],this.columnColor=[],this._hrrar=[],this.cellType=dhtmlxArray(),this.cellAlign=[],this.initCellWidth=[],this.fldSort=[],this._srdh=_isIE&&"BackCompat"!=document.compatMode?22:20,this.imgURL=window.dhx_globalImgPath||"",this.isActive=!1,this.isEditable=!0,this.pagingOn=this.useImagesInHeader=!1,this.rowsBufferOutSize=0,dhtmlxEvent(window,"unload",function(){try{c.destructor&&c.destructor()
}catch(t){}}),this.setSkin=function(t){this.skin_name=t;var e=this.entBox.className.split(" gridbox")[0];switch(this.entBox.className=e+" gridbox gridbox_"+t,this.skin_h_correction=0,this.enableAlterCss("ev_"+t,"odd_"+t,this.isTreeGrid()),this._fixAlterCss(),t){case"clear":this._topMb=document.createElement("DIV"),this._topMb.className="topMumba",this._topMb.innerHTML="<img style='left:0px'   src='"+this.imgURL+"skinC_top_left.gif'><img style='right:20px' src='"+this.imgURL+"skinC_top_right.gif'>",this.entBox.appendChild(this._topMb),this._botMb=document.createElement("DIV"),this._botMb.className="bottomMumba",this._botMb.innerHTML="<img style='left:0px'   src='"+this.imgURL+"skinD_bottom_left.gif'><img style='right:20px' src='"+this.imgURL+"skinD_bottom_right.gif'>",this.entBox.appendChild(this._botMb),"absolute"!=this.entBox.style.position&&(this.entBox.style.position="relative"),this.skin_h_correction=20;break;case"dhx_terrace":this._srdh=40,this.forceDivInHeader=!0;break;case"dhx_skyblue":case"dhx_web":case"glassy_blue":case"dhx_black":case"dhx_blue":case"modern":case"light":this._srdh=20,this.forceDivInHeader=!0;break;case"xp":this.forceDivInHeader=!0,this._srdh=_isIE&&"BackCompat"!=document.compatMode?26:22;break;case"mt":this._srdh=_isIE&&"BackCompat"!=document.compatMode?26:22;break;case"gray":_isIE&&"BackCompat"!=document.compatMode&&(this._srdh=22)}if(_isIE&&this.hdr){var i=this.hdr.parentNode;i.removeChild(this.hdr),i.appendChild(this.hdr)}this.setSizes()},_isIE&&this.preventIECaching(!0),window.dhtmlDragAndDropObject&&(this.dragger=new dhtmlDragAndDropObject),this._doOnScroll=function(t,e){this.callEvent("onScroll",[this.objBox.scrollLeft,this.objBox.scrollTop]),this.doOnScroll(t,e)},this.doOnScroll=function(t,e){this.hdrBox.scrollLeft=this.objBox.scrollLeft,this.ftr&&(this.ftr.parentNode.scrollLeft=this.objBox.scrollLeft),!e&&this._srnd&&(this._dLoadTimer&&window.clearTimeout(this._dLoadTimer),this._dLoadTimer=window.setTimeout(function(){c._update_srnd_view&&c._update_srnd_view()},100))},this.attachToObject=function(t){t.appendChild(this.globalBox?this.globalBox:this.entBox),this.setSizes()},this.init=function(t){if(this.isTreeGrid()&&!this._h2&&(this._h2=new dhtmlxHierarchy,this._fake&&!this._realfake&&(this._fake._h2=this._h2),this._tgc={imgURL:null}),this._hstyles){if(this.editStop(),this.fldSorted=this.r_fldSorted=this.resized=this.lastClicked=null,this.cellWidthPX=[],this.cellWidthPC=[],this.hdr.rows.length>0){var e=this.xmlFileUrl;this.clearAll(!0),this.xmlFileUrl=e}for(var i=this.hdr.insertRow(0),s=0;s<this.hdrLabels.length;s++)i.appendChild(document.createElement("TH")),i.childNodes[s]._cellIndex=s,i.childNodes[s].style.height="0px";_isIE&&8>_isIE&&document.body.style.msTouchAction==this.undefined?i.style.position="absolute":i.style.height="auto",i=this.hdr.insertRow(_isKHTML?2:1),i._childIndexes=[];for(var n=0,s=0;s<this.hdrLabels.length;s++)i._childIndexes[s]=s-n,this.hdrLabels[s]==this.splitSign&&0!=s?(_isKHTML&&i.insertCell(s-n),i.cells[s-n-1].colSpan=(i.cells[s-n-1].colSpan||1)+1,i.childNodes[s-n-1]._cellIndex++,n++,i._childIndexes[s]=s-n):(i.insertCell(s-n),i.childNodes[s-n]._cellIndex=s,i.childNodes[s-n]._cellIndexS=s,this.setColumnLabel(s,this.hdrLabels[s]));0==n&&(i._childIndexes=null),this._cCount=this.hdrLabels.length,_isIE&&window.setTimeout(function(){c.setSizes&&c.setSizes()},1),this.obj.firstChild||this.obj.appendChild(document.createElement("TBODY"));var o=this.obj.firstChild;if(!o.firstChild)for(o.appendChild(document.createElement("TR")),o=o.firstChild,_isIE&&8>_isIE&&document.body.style.msTouchAction==this.undefined?o.style.position="absolute":o.style.height="auto",s=0;s<this.hdrLabels.length;s++)o.appendChild(document.createElement("TH")),o.childNodes[s].style.height="0px";this._c_order=null,1!=this.multiLine&&(this.obj.className+=" row20px"),this.sortImg.style.position="absolute",this.sortImg.style.display="none",this.sortImg.src=this.imgURL+"sort_desc.gif",this.sortImg.defLeft=0,this.noHeader?this.hdrBox.style.display="none":this.noHeader=!1,this._ivizcol&&this.setColHidden(),this.attachHeader(),this.attachHeader(0,0,"_aFoot"),this.setSizes(),t&&this.parseXML(),this.obj.scrollTop=0,this.dragAndDropOff&&this.dragger.addDragLanding(this.entBox,this),this._initDrF&&this._initD(),this._init_point&&this._init_point()}},this.setColumnSizes=function(t){for(var e=0,i=[],s=0,n=0;n<this._cCount;n++)if("*"!=this.initCellWidth[n]||this._hrrar[n]){if("%"==this.cellWidthType){"undefined"==typeof this.cellWidthPC[n]&&(this.cellWidthPC[n]=this.initCellWidth[n]);var o=t*this.cellWidthPC[n]/100||0;s>.5&&(o++,s--);var l=this.cellWidthPX[n]=Math.floor(o),s=s+o-l}else"undefined"==typeof this.cellWidthPX[n]&&(this.cellWidthPX[n]=this.initCellWidth[n]);this._hrrar[n]||(e+=1*this.cellWidthPX[n])}else this._awdth=!1,i.push(n);if(i.length){var h=Math.floor((t-e)/i.length);for(0>h&&(h=1),n=0;n<i.length;n++){var r=Math.max(this._drsclmW?this._drsclmW[i[n]]||0:0,h);this.cellWidthPX[i[n]]=r,e+=r}if(t>e){var a=i[i.length-1];this.cellWidthPX[a]+=t-e,e=t}this._setAutoResize()}return this.obj.style.width=e+"px",this.hdr.style.width=e+"px",this.ftr&&(this.ftr.style.width=e+"px"),this.chngCellWidth(),e},this.setSizes=function(){if(this.hdr.rows[0]){var t=this.quirks=_isIE&&"BackCompat"==document.compatMode,e=(this.entBox.offsetWidth-this.entBox.clientWidth)/2;if(!this.dontSetSizes)if(this.globalBox){var i=(this.globalBox.offsetWidth-this.globalBox.clientWidth)/2;if(this._delta_x&&!this._realfake){var s=this.globalBox.clientWidth;this.globalBox.style.width=this._delta_x,this.entBox.style.width=Math.max(0,this.globalBox.clientWidth+(t?2*i:0)-this._fake.entBox.clientWidth)+"px",s!=this.globalBox.clientWidth&&this._fake._correctSplit(this._fake.entBox.clientWidth)}this._delta_y&&!this._realfake&&(this.globalBox.style.height=this._delta_y,this.entBox.style.overflow=this._fake.entBox.style.overflow="hidden",this.entBox.style.height=this._fake.entBox.style.height=this.globalBox.clientHeight+(t?2*i:0)+"px")}else this._delta_x&&(this.entBox.parentNode&&"TD"==this.entBox.parentNode.tagName?(this.entBox.style.width="1px",this.entBox.style.width=parseInt(this._delta_x)*this.entBox.parentNode.clientWidth/100-2*e+"px"):this.entBox.style.width=this._delta_x),this._delta_y&&(this.entBox.style.height=this._delta_y);if(window.clearTimeout(this._sizeTime),this.entBox.offsetWidth||this.globalBox&&this.globalBox.offsetWidth){var n=this._wthB||!this.entBox.cmp&&!this._delta_x||0!=(this.skin_name||"").indexOf("dhx")||t?0:2,o=this._wthB||!this.entBox.cmp&&!this._delta_y||0!=(this.skin_name||"").indexOf("dhx")||t?0:2;this._sizeFix&&(n-=this._sizeFix,o-=this._sizeFix);var l=this.parentGrid?!1:this.objBox.scrollHeight>this.objBox.offsetHeight,h=dhtmlx.$customScroll?0:18,r=this.entBox.clientWidth-(this.skin_h_correction||0)*(t?0:1)-n,a=this.entBox.clientWidth-(this.skin_h_correction||0)-n,d=this.entBox.clientHeight-o,u=this.setColumnSizes(a-(l?h:0)-(this._correction_x||0)),_=this.parentGrid?!1:this.objBox.scrollWidth>this.objBox.offsetWidth||"scroll"==this.objBox.style.overflowX,p=this.hdr.clientHeight,f=this.ftr?this.ftr.clientHeight:0,m=r,g=d-p-f;this._awdth&&this._awdth[0]&&99999==this._awdth[1]&&(_=0),this._ahgr&&(g=this._ahgrMA?this.entBox.parentNode.clientHeight-p-f:this.obj.offsetHeight+(_?h:0)+(this._correction_y||0),this._ahgrM&&(g=this._ahgrF?Math.min(this._ahgrM,g+p+f)-p-f:Math.min(this._ahgrM,g)),l&&g>=this.obj.scrollHeight+(_?h:0))&&(l=!1,this.setColumnSizes(a-(this._correction_x||0))),this._awdth&&this._awdth[0]&&("%"==this.cellWidthType&&(this.cellWidthType="px"),this._fake&&(u+=this._fake.entBox.clientWidth),m=Math.min(Math.max(u+(l?h:0),this._awdth[2]),this._awdth[1])+(this._correction_x||0),this._fake&&(m-=this._fake.entBox.clientWidth)),g=Math.max(0,g),this._ff_size_delta=.1==this._ff_size_delta?.2:.1,_isFF||(this._ff_size_delta=0),this.dontSetSizes||(this.entBox.style.width=Math.max(0,m+(t?2:0)*e+this._ff_size_delta)+"px",this.entBox.style.height=g+(t?2:0)*e+p+f+"px"),this.objBox.style.height=g+(t&&!l?2:0)*e+"px",this.hdrBox.style.height=p+"px",g!=d&&this.doOnScroll(0,!this._srnd);var b=this["setSizes_"+this.skin_name];b&&b.call(this),this.setSortImgPos(),p!=this.hdr.clientHeight&&this._ahgr&&this.setSizes(),this.callEvent("onSetSizes",[])}else this._sizeTime=window.setTimeout(function(){c.setSizes&&c.setSizes()},250)}},this.setSizes_clear=function(){var t=this.hdr.offsetHeight,e=this.entBox.offsetWidth,i=t+this.objBox.offsetHeight;this._topMb.style.top=(t||0)+"px",this._topMb.style.width=e+20+"px",this._botMb.style.top=i-3+"px",this._botMb.style.width=e+20+"px"},this.chngCellWidth=function(){_isOpera&&this.ftr&&(this.ftr.width=this.objBox.scrollWidth+"px");for(var t=this._cCount,e=0;t>e;e++)this.hdr.rows[0].cells[e].style.width=this.cellWidthPX[e]+"px",this.obj.rows[0].childNodes[e].style.width=this.cellWidthPX[e]+"px",this.ftr&&(this.ftr.rows[0].cells[e].style.width=this.cellWidthPX[e]+"px")},this.setDelimiter=function(t){this.delim=t},this.setInitWidthsP=function(t,e){this.cellWidthType="%",this.initCellWidth=t.split(this.delim.replace(/px/gi,"")),e||this._setAutoResize()},this._setAutoResize=function(){if(!this._realfake){var t=this;dhtmlxEvent(window,"resize",function(){window.clearTimeout(t._resize_timer),t._setAutoResize&&(t._resize_timer=window.setTimeout(function(){t.setSizes&&t.setSizes(),t._fake&&t._fake._correctSplit()},100))})}},this.setInitWidths=function(t){if(this.cellWidthType="px",this.initCellWidth=t.split(this.delim),_isFF)for(var e=0;e<this.initCellWidth.length;e++)"*"!=this.initCellWidth[e]&&(this.initCellWidth[e]=parseInt(this.initCellWidth[e]))},this.enableMultiline=function(t){this.multiLine=convertStringToBoolean(t)},this.enableMultiselect=function(t){this.selMultiRows=convertStringToBoolean(t)},this.setImagesPath=this.setImagePath=function(t){this.imgURL=t},this.setIconsPath=this.setIconPath=function(t){this.iconURL=t},this.changeCursorState=function(t){var e=t.target||t.srcElement;if("TD"!=e.tagName&&(e=this.getFirstParentOfType(e,"TD")),e){if("TD"==e.tagName&&this._drsclmn&&!this._drsclmn[e._cellIndex])return e.style.cursor="default";var i=(t.layerX||0)+(_isIE||"DIV"!=t.target.tagName?0:e.offsetLeft);e.style.cursor=e.offsetWidth-(t.offsetX||-1*(parseInt(this.getPosition(e,this.hdrBox))-i))<(_isOpera?20:10)?"E-resize":"default",_isOpera&&(this.hdrBox.scrollLeft=this.objBox.scrollLeft)}},this.startColResize=function(t){this.resized&&this.stopColResize(),this.resized=null;var e=t.target||t.srcElement;"TD"!=e.tagName&&(e=this.getFirstParentOfType(e,"TD"));var i=t.clientX,s=this.hdr.offsetWidth,n=parseInt(e.offsetWidth);"TD"!=e.tagName||"default"==e.style.cursor||this._drsclmn&&!this._drsclmn[e._cellIndex]||(c._old_d_mm=document.body.onmousemove,c._old_d_mu=document.body.onmouseup,document.body.onmousemove=function(t){c&&c.doColResize(t||window.event,e,n,i,s)},document.body.onmouseup=function(){c&&c.stopColResize()})},this.stopColResize=function(){document.body.onmousemove=c._old_d_mm||"",document.body.onmouseup=c._old_d_mu||"",this.setSizes(),this.doOnScroll(0,1),this.callEvent("onResizeEnd",[this])},this.doColResize=function(t,e,i,s,n){e.style.cursor="E-resize",this.resized=e;{var o=i+(t.clientX-s);n+(t.clientX-s)}if(this.callEvent("onResize",[e._cellIndex,o,this])){if(_isIE&&(this.objBox.scrollLeft=this.hdrBox.scrollLeft),e.colSpan>1){for(var l=[],h=0;h<e.colSpan;h++)l[h]=Math.round(o*this.hdr.rows[0].childNodes[e._cellIndexS+h].offsetWidth/e.offsetWidth);for(h=0;h<e.colSpan;h++)this._setColumnSizeR(e._cellIndexS+1*h,l[h])}else this._setColumnSizeR(e._cellIndex,o);this.doOnScroll(0,1),this.setSizes(),this._fake&&this._awdth&&this._fake._correctSplit()}},this._setColumnSizeR=function(t,e){if(e>(this._drsclmW&&!this._notresize?this._drsclmW[t]||10:10)){if(this.obj.rows[0].childNodes[t].style.width=e+"px",this.hdr.rows[0].childNodes[t].style.width=e+"px",this.ftr&&(this.ftr.rows[0].childNodes[t].style.width=e+"px"),"px"==this.cellWidthType)this.cellWidthPX[t]=e;else{var i=parseInt(this.entBox.offsetWidth);this.objBox.scrollHeight>this.objBox.offsetHeight&&(i-=17);var s=Math.round(e/i*100);this.cellWidthPC[t]=s}"none"!=this.sortImg.style.display&&this.setSortImgPos()}},this.setSortImgState=function(t,e,i,s){if(i=(i||"asc").toLowerCase(),convertStringToBoolean(t)){this.sortImg.src="asc"==i?this.imgURL+"sort_asc.gif":this.imgURL+"sort_desc.gif",this.sortImg.style.display="",this.fldSorted=this.hdr.rows[0].childNodes[e];var n=this.hdr.rows[s||1];if(n){for(var o=0;o<n.childNodes.length;o++)if(n.childNodes[o]._cellIndexS==e)return this.r_fldSorted=n.childNodes[o],this.setSortImgPos();return this.setSortImgState(t,e,i,(s||1)+1)}}else this.sortImg.style.display="none",this.fldSorted=this.r_fldSorted=null},this.setSortImgPos=function(t,e,i,s){if(!(this._hrrar&&this._hrrar[this.r_fldSorted?this.r_fldSorted._cellIndex:t]||(s||(s=t?this.hdr.rows[i||0].cells[t]:this.r_fldSorted),null==s))){var n=this.getPosition(s,this.hdrBox),o=s.offsetWidth;this.sortImg.style.left=Number(n[0]+o-13)+"px",this.sortImg.defLeft=parseInt(this.sortImg.style.left),this.sortImg.style.top=Number(n[1]+5)+"px",this.useImagesInHeader||e||(this.sortImg.style.display="inline"),this.sortImg.style.left=this.sortImg.defLeft+"px"}},this.setActive=function(t){0==arguments.length&&(t=!0),1==t?(globalActiveDHTMLGridObject&&globalActiveDHTMLGridObject!=this&&(globalActiveDHTMLGridObject.editStop(),globalActiveDHTMLGridObject.callEvent("onBlur",[globalActiveDHTMLGridObject])),globalActiveDHTMLGridObject=this,this.isActive=!0):(this.isActive=!1,this.callEvent("onBlur",[this]))},this._doClick=function(t){var e=0,i=this.getFirstParentOfType(_isIE?t.srcElement:t.target,"TD");if(i){var s=!0;if(this.markedCells){var n=0;return(t.shiftKey||t.metaKey)&&(n=1),t.ctrlKey&&(n=2),this.doMark(i,n),!0}0!=this.selMultiRows&&(t.shiftKey&&null!=this.row&&this.selectedRows.length&&(e=1),t.ctrlKey||t.metaKey)&&(e=2),this.doClick(i,s,e)}},this._doContClick=function(t){var e=this.getFirstParentOfType(_isIE?t.srcElement:t.target,"TD");if(!e||"undefined"==typeof e.parentNode.idd)return this.callEvent("onEmptyClick",[t]),!0;if(2==t.button||_isMacOS&&t.ctrlKey){if(!this.callEvent("onRightClick",[e.parentNode.idd,e._cellIndex,t])){var i=function(t){return(t||event).cancelBubble=!0,!1};return(t.srcElement||t.target).oncontextmenu=i,i(t)}if(this._ctmndx){if(!this.callEvent("onBeforeContextMenu",[e.parentNode.idd,e._cellIndex,this]))return!0;if(_isIE&&(t.srcElement.oncontextmenu=function(){return event.cancelBubble=!0,!1}),this._ctmndx.showContextMenu){var s=window.document.documentElement,n=window.document.body,o=[s.scrollLeft||n.scrollLeft,s.scrollTop||n.scrollTop];if(_isIE)var l=t.clientX+o[0],h=t.clientY+o[1];else l=t.pageX,h=t.pageY;this._ctmndx.showContextMenu(l-1,h-1),this.contextID=this._ctmndx.contextMenuZoneId=e.parentNode.idd+"_"+e._cellIndex,this._ctmndx._skip_hide=!0}else e.contextMenuId=e.parentNode.idd+"_"+e._cellIndex,e.contextMenu=this._ctmndx,e.a=this._ctmndx._contextStart,e.a(e,t),e.a=null;return t.cancelBubble=!0,!1}}else this._ctmndx&&(this._ctmndx.hideContextMenu?this._ctmndx.hideContextMenu():this._ctmndx._contextEnd());return!0},this.doClick=function(t,e,i,s){this.selMultiRows||(i=0);var n=this.row?this.row.idd:0;if(this.setActive(!0),i||(i=0),null!=this.cell&&(this.cell.className=this.cell.className.replace(/cellselected/g,"")),"TD"==t.tagName){if(this.checkEvent("onSelectStateChanged"))var o=this.getSelectedId();var l=this.row;if(1==i){var h=this.rowsCol._dhx_find(t.parentNode),r=this.rowsCol._dhx_find(this.lastClicked);if(h>r)var a=r,d=h;else a=h,d=r;for(var u=0;u<this.rowsCol.length;u++)if(u>=a&&d>=u){if(!this.rowsCol[u]||this.rowsCol[u]._sRow)return this.clearSelection(),this.doClick(t,e,0,s);-1==this.rowsCol[u].className.indexOf("rowselected")&&this.callEvent("onBeforeSelect",[this.rowsCol[u].idd,n])&&(this.rowsCol[u].className+=" rowselected",this.selectedRows[this.selectedRows.length]=this.rowsCol[u])}}else if(2==i&&-1!=t.parentNode.className.indexOf("rowselected")){t.parentNode.className=t.parentNode.className.replace(/rowselected/g,""),this.selectedRows._dhx_removeAt(this.selectedRows._dhx_find(t.parentNode));var _=!0,s=!1}if(this.editStop(),"undefined"==typeof t.parentNode.idd)return!0;if(_||t.parentNode._sRow||(this.callEvent("onBeforeSelect",[t.parentNode.idd,n])?this.getSelectedRowId()!=t.parentNode.idd?(0==i&&this.clearSelection(),this.cell=t,l==t.parentNode&&this._chRRS&&(e=!1),this.row=t.parentNode,this.row.className+=" rowselected",-1==this.selectedRows._dhx_find(this.row)&&(this.selectedRows[this.selectedRows.length]=this.row)):(this.cell=t,this.row=t.parentNode):e=!1),this.cell&&-1!=this.cell.parentNode.className.indexOf("rowselected")&&(this.cell.className=this.cell.className.replace(/cellselected/g,"")+" cellselected"),1!=i&&!this.row)return;this.lastClicked=t.parentNode;var p=this.row.idd,f=this.cell;if(e&&"undefined"!=typeof p&&f&&!_?c.onRowSelectTime=setTimeout(function(){c.callEvent&&c.callEvent("onRowSelect",[p,f._cellIndex])},100):this.callEvent("onRowSelectRSOnly",[p]),this.checkEvent("onSelectStateChanged")){var m=this.getSelectedId();o!=m&&this.callEvent("onSelectStateChanged",[m,o])}}this.isActive=!0,s!==!1&&this.cell&&this.cell.parentNode.idd&&this.moveToVisible(this.cell)},this.selectAll=function(){this.clearSelection();var t=this.rowsBuffer;this.pagingOn&&(t=this.rowsCol);for(var e=0;e<t.length;e++)this.render_row(e).className+=" rowselected";this.selectedRows=dhtmlxArray([].concat(t)),this.selectedRows.length&&(this.row=this.selectedRows[0],this.cell=this.row.cells[0]),this._fake&&!this._realfake&&this._fake.selectAll()},this.selectCell=function(t,e,i,s,n,o){if(i||(i=!1),"object"!=typeof t&&(t=this.render_row(t)),!t||-1==t)return null;var l=t._childIndexes?t.childNodes[t._childIndexes[e]]:t.childNodes[e];l||(l=t.childNodes[0]),this.markedCells?this.doMark(l,s?2:0):s?this.doClick(l,i,3,o):this.doClick(l,i,0,o),n&&this.editCell()},this.moveToVisible=function(t,e){if(this.pagingOn){var i=Math.floor(this.getRowIndex(t.parentNode.idd)/this.rowsBufferOutSize)+1;i!=this.currentPage&&this.changePage(i)}try{if(t.offsetHeight){var s=t.offsetLeft+t.offsetWidth+20,n=0;s>this.objBox.offsetWidth+this.objBox.scrollLeft?t.offsetLeft>this.objBox.scrollLeft&&(n=t.offsetLeft-5):t.offsetLeft<this.objBox.scrollLeft&&(s-=2*t.offsetWidth/3,s<this.objBox.scrollLeft&&(n=t.offsetLeft-5)),n&&!e&&(this.objBox.scrollLeft=n)}if(t.offsetHeight)s=t.offsetTop;else var o=this._realfake?this._fake.rowsAr[t.parentNode.idd]:t.parentNode,s=this.rowsBuffer._dhx_find(o)*this._srdh;var l=s+t.offsetHeight+38;if(l>this.objBox.offsetHeight+this.objBox.scrollTop)var h=s;else s<this.objBox.scrollTop&&(h=s-5);h&&(this.objBox.scrollTop=h)}catch(r){}},this.editCell=function(){if(!this.editor||this.cell!=this.editor.cell){if(this.editStop(),1!=this.isEditable||!this.cell)return!1;var t=this.cell;if(t.parentNode._locked)return!1;if(this.editor=this.cells4(t),null!=this.editor){if(this.editor.isDisabled())return this.editor=null,!1;0!=this.callEvent("onEditCell",[0,this.row.idd,this.cell._cellIndex])&&this.editor.edit?(this._Opera_stop=(new Date).valueOf(),t.className+=" editable",this.editor.edit(),this.callEvent("onEditCell",[1,this.row.idd,this.cell._cellIndex])):this.editor=null}}},this.editStop=function(t){if(_isOpera&&this._Opera_stop){if(1*this._Opera_stop+50>(new Date).valueOf())return;this._Opera_stop=null}if(this.editor&&null!=this.editor)if(this.editor.cell.className=this.editor.cell.className.replace("editable",""),t){var e=this.editor.val;this.editor.detach(),this.editor.setValue(e),this.editor=null,this.callEvent("onEditCancel",[this.row.idd,this.cell._cellIndex,e])}else{this.editor.detach()&&(this.cell.wasChanged=!0);var i=this.editor;this.editor=null;var s=this.callEvent("onEditCell",[2,this.row.idd,this.cell._cellIndex,i.getValue(),i.val]);"string"==typeof s||"number"==typeof s?i[i.setImage?"setLabel":"setValue"](s):s||i[i.setImage?"setLabel":"setValue"](i.val),this._ahgr&&this.multiLine&&this.setSizes()}},this._nextRowCell=function(t,e,i){return t=this._nextRow((this._groups?this.rowsCol:this.rowsBuffer)._dhx_find(t),e),t?t.childNodes[t._childIndexes?t._childIndexes[i]:i]:null},this._getNextCell=function(t,e,i){var t=t||this.cell,s=t.parentNode;return this._tabOrder?(i=this._tabOrder[t._cellIndex],"undefined"!=typeof i&&(t=0>i?this._nextRowCell(s,e,Math.abs(i)-1):s.childNodes[i])):(i=t._cellIndex+e,i>=0&&i<this._cCount?(s._childIndexes&&(i=s._childIndexes[t._cellIndex]+e),t=s.childNodes[i]):t=this._nextRowCell(s,e,1==e?0:this._cCount-1)),t?"none"==t.style.display||this.smartTabOrder&&this.cells(t.parentNode.idd,t._cellIndex).isDisabled()?this._getNextCell(t,e):t:(1==e&&this.tabEnd&&(this.tabEnd.focus(),this.tabEnd.focus(),this.setActive(!1)),-1==e&&this.tabStart&&(this.tabStart.focus(),this.tabStart.focus(),this.setActive(!1)),null)},this._nextRow=function(t,e){var i=this.render_row(t+e);return i&&-1!=i?i&&"none"==i.style.display?this._nextRow(t+e,e):i:null},this.scrollPage=function(t){if(this.rowsBuffer.length){var e=this._realfake?this._fake:this,i=Math.floor((e._r_select||this.getRowIndex(this.row.idd)||0)+t*this.objBox.offsetHeight/(this._srdh||20));0>i&&(i=0),i>=this.rowsBuffer.length&&(i=this.rowsBuffer.length-1),this._srnd&&!this.rowsBuffer[i]?(this.objBox.scrollTop+=Math.floor(t*this.objBox.offsetHeight/(this._srdh||20))*(this._srdh||20),this._fake&&(this._fake.objBox.scrollTop=this.objBox.scrollTop),e._r_select=i):(this.selectCell(i,this.cell._cellIndex,!0,!1,!1,this.multiLine||this._srnd),this.multiLine||this._srnd||this._realfake||(this.objBox.scrollTop=this.getRowById(this.getRowId(i)).offsetTop,!this._fake)||(this._fake.objBox.scrollTop=this.objBox.scrollTop),e._r_select=null)}},this.doKey=function(t){if(!t)return!0;if((t.target||t.srcElement).value!==window.undefined){var e=t.target||t.srcElement;if(!e.parentNode||-1==e.parentNode.className.indexOf("editable"))return!0}if(globalActiveDHTMLGridObject&&this!=globalActiveDHTMLGridObject)return globalActiveDHTMLGridObject.doKey(t);if(0==this.isActive)return!0;if(this._htkebl)return!0;if(!this.callEvent("onKeyPress",[t.keyCode,t.ctrlKey,t.shiftKey,t]))return!1;var i="k"+t.keyCode+"_"+(t.ctrlKey?1:0)+"_"+(t.shiftKey?1:0);if(this.cell){if(this._key_events[i])return!1===this._key_events[i].call(this)?!0:(t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,!1);this._key_events.k_other&&this._key_events.k_other.call(this,t)}return!0},this.selectRow=function(t,e,i,s){"object"!=typeof t&&(t=this.render_row(t)),this.selectCell(t,0,e,i,!1,s)},this.wasDblClicked=function(t){var e=this.getFirstParentOfType(_isIE?t.srcElement:t.target,"TD");if(e){var i=e.parentNode.idd;return this.callEvent("onRowDblClicked",[i,e._cellIndex,t])}},this._onHeaderClick=function(t,e){var i=this.grid,e=e||i.getFirstParentOfType(_isIE?event.srcElement:t.target,"TD");if(null==this.grid.resized){if(!this.grid.callEvent("onHeaderClick",[e._cellIndexS,t||window.event]))return!1;i.sortField(e._cellIndexS,!1,e)}this.grid.resized=null},this.deleteSelectedRows=function(){var t=this.selectedRows.length;if(0!=t){var e=this.selectedRows;this.selectedRows=dhtmlxArray();for(var i=t-1;i>=0;i--){var s=e[i];if(this.deleteRow(s.idd,s)){if(s==this.row)var n=i}else this.selectedRows[this.selectedRows.length]=s}if(n)try{n+1>this.rowsCol.length&&n--,this.selectCell(n,0,!0)}catch(o){this.cell=this.row=null}}},this.getSelectedRowId=function(){for(var t=[],e={},i=0;i<this.selectedRows.length;i++){var s=this.selectedRows[i].idd;e[s]||(t[t.length]=s,e[s]=!0)}return 0==t.length?null:t.join(this.delim)},this.getSelectedCellIndex=function(){return null!=this.cell?this.cell._cellIndex:-1},this.getColWidth=function(t){return parseInt(this.cellWidthPX[t])},this.setColWidth=function(t,e){if("*"==e)this.initCellWidth[t]="*";else{if(this._hrrar[t])return;"px"==this.cellWidthType?this.cellWidthPX[t]=parseInt(e):this.cellWidthPC[t]=parseInt(e)}this.setSizes()},this.getRowIndex=function(t){for(var e=0;e<this.rowsBuffer.length;e++)if(this.rowsBuffer[e]&&this.rowsBuffer[e].idd==t)return e;return-1},this.getRowId=function(t){return this.rowsBuffer[t]?this.rowsBuffer[t].idd:this.undefined},this.setRowId=function(t,e){this.changeRowId(this.getRowId(t),e)},this.changeRowId=function(t,e){if(t!=e){var i=this.rowsAr[t];i.idd=e,this.UserData[t]&&(this.UserData[e]=this.UserData[t],this.UserData[t]=null),this._h2&&this._h2.get[t]&&(this._h2.get[e]=this._h2.get[t],this._h2.get[e].id=e,delete this._h2.get[t]),this.rowsAr[t]=null,this.rowsAr[e]=i;for(var s=0;s<i.childNodes.length;s++)i.childNodes[s]._code&&(i.childNodes[s]._code=this._compileSCL(i.childNodes[s]._val,i.childNodes[s]));if(this._mat_links&&this._mat_links[t]){var n=this._mat_links[t];delete this._mat_links[t];for(var o in n)for(s=0;s<n[o].length;s++)this._compileSCL(n[o][s].original,n[o][s])}this.callEvent("onRowIdChange",[t,e])}},this.setColumnIds=function(t){this.columnIds=t.split(this.delim)},this.setColumnId=function(t,e){this.columnIds[t]=e},this.getColIndexById=function(t){for(var e=0;e<this.columnIds.length;e++)if(this.columnIds[e]==t)return e},this.getColumnId=function(t){return this.columnIds[t]},this.getColLabel=this.getColumnLabel=function(t,e,i){for(var s=(i||this.hdr).rows[(e||0)+1],n=0;n<s.cells.length;n++)if(s.cells[n]._cellIndexS==t)return _isIE?s.cells[n].innerText:s.cells[n].textContent;return""},this.getFooterLabel=function(t,e){return this.getColumnLabel(t,e,this.ftr)},this.setRowTextBold=function(t){var e=this.getRowById(t);e&&(e.style.fontWeight="bold")},this.setRowTextStyle=function(t,e){var i=this.getRowById(t);if(i)for(var s=0;s<i.childNodes.length;s++){var n=i.childNodes[s]._attrs.style||"";this._hrrar&&this._hrrar[s]&&(n="display:none;"),i.childNodes[s].style.cssText=n+"width:"+i.childNodes[s].style.width+";"+e}},this.setRowColor=function(t,e){for(var i=this.getRowById(t),s=0;s<i.childNodes.length;s++)i.childNodes[s].bgColor=e},this.setCellTextStyle=function(t,e,i){var s=this.getRowById(t);if(s){var n=s.childNodes[s._childIndexes?s._childIndexes[e]:e];if(n){var o="";this._hrrar&&this._hrrar[e]&&(o="display:none;"),n.style.cssText=o+"width:"+n.style.width+";"+i}}},this.setRowTextNormal=function(t){var e=this.getRowById(t);e&&(e.style.fontWeight="normal")},this.doesRowExist=function(t){return null!=this.getRowById(t)?!0:!1},this.getColumnsNum=function(){return this._cCount},this.moveRowUp=function(t){var e=this.getRowById(t);if(this.isTreeGrid())return this.moveRowUDTG(t,-1);var i=this.rowsCol._dhx_find(e);if(e.previousSibling&&0!=i){e.parentNode.insertBefore(e,e.previousSibling),this.rowsCol._dhx_swapItems(i,i-1),this.setSizes();var s=this.rowsBuffer._dhx_find(e);this.rowsBuffer._dhx_swapItems(s,s-1),this._cssEven&&this._fixAlterCss(i-1)}},this.moveRowDown=function(t){var e=this.getRowById(t);if(this.isTreeGrid())return this.moveRowUDTG(t,1);var i=this.rowsCol._dhx_find(e);if(e.nextSibling){this.rowsCol._dhx_swapItems(i,i+1),e.nextSibling.nextSibling?e.parentNode.insertBefore(e,e.nextSibling.nextSibling):e.parentNode.appendChild(e),this.setSizes();var s=this.rowsBuffer._dhx_find(e);this.rowsBuffer._dhx_swapItems(s,s+1),this._cssEven&&this._fixAlterCss(i)}},this.getCombo=function(t){return this.combos[t]||(this.combos[t]=new dhtmlXGridComboObject),this.combos[t]},this.setUserData=function(t,e,i){t||(t="gridglobaluserdata"),this.UserData[t]||(this.UserData[t]=new Hashtable),this.UserData[t].put(e,i)},this.getUserData=function(t,e){t||(t="gridglobaluserdata"),this.getRowById(t);var i=this.UserData[t];return i?i.get(e):""},this.setEditable=function(t){this.isEditable=convertStringToBoolean(t)},this.selectRowById=function(t,e,i,s){s||(s=!1),this.selectCell(this.getRowById(t),0,s,e,!1,i)},this.clearSelection=function(){this.editStop();for(var t=0;t<this.selectedRows.length;t++){var e=this.rowsAr[this.selectedRows[t].idd];e&&(e.className=e.className.replace(/rowselected/g,""))}this.selectedRows=dhtmlxArray(),this.row=null,null!=this.cell&&(this.cell.className=this.cell.className.replace(/cellselected/g,""),this.cell=null),this.callEvent("onSelectionCleared",[])},this.copyRowContent=function(t,e){var i=this.getRowById(t);if(this.isTreeGrid())this._copyTreeGridRowContent(i,t,e);else for(var s=0;s<i.cells.length;s++)this.cells(e,s).setValue(this.cells(t,s).getValue());_isIE||(this.getRowById(t).cells[0].height=i.cells[0].offsetHeight)},this.setFooterLabel=function(t,e,i){return this.setColumnLabel(t,e,i,this.ftr)},this.setColumnLabel=function(t,e,i,s){var n=(s||this.hdr).rows[i||1],o=n._childIndexes?n._childIndexes[t]:t;if(n.cells[o]){if(this.useImagesInHeader){n.cells[o].style.textAlign="left",n.cells[o].innerHTML="<img src='"+this.imgURL+e+"' onerror='this.src = \""+this.imgURL+"imageloaderror.gif\"'>";var l=new Image;l.src=this.imgURL+""+e.replace(/(\.[a-z]+)/,".des$1"),this.preloadImagesAr[this.preloadImagesAr.length]=l;var h=new Image;h.src=this.imgURL+""+e.replace(/(\.[a-z]+)/,".asc$1"),this.preloadImagesAr[this.preloadImagesAr.length]=h}else{var r="<div class='hdrcell'>";if(-1!=e.indexOf("img:[")){var a=e.replace(/.*\[([^>]+)\].*/,"$1"),e=e.substr(e.indexOf("]")+1,e.length);r+="<img width='18px' height='18px' align='absmiddle' src='"+a+"' hspace='2'>"}r+=e,r+="</div>",n.cells[o].innerHTML=r,this._hstyles[o]&&(n.cells[o].style.cssText=this._hstyles[o])}if(-1!=(e||"").indexOf("#")){var d=e.match(/(^|{)#([^}]+)(}|$)/);if(d){var c="_in_header_"+d[2];this[c]&&this[c](this.forceDivInHeader?n.cells[o].firstChild:n.cells[o],o,e.split(d[0]))}}}},this.setColLabel=function(t,e,i,s){return this.setColumnLabel(t,e,(i||0)+1,s)},this.clearAll=function(t){if(this.obj.rows[0]){this._h2&&(this._h2=new dhtmlxHierarchy,this._fake)&&(this._realfake?this._h2=this._fake._h2:this._fake._h2=this._h2),this.limit=this._limitC=0,this.editStop(!0),this._dLoadTimer&&window.clearTimeout(this._dLoadTimer),this._dload&&(this.objBox.scrollTop=0,this.limit=this._limitC||0,this._initDrF=!0);for(var e=this.rowsCol.length,e=this.obj.rows.length,i=e-1;i>0;i--){var s=this.obj.rows[i];s.parentNode.removeChild(s)}if(t){for(this._master_row=null,this.obj.rows[0].parentNode.removeChild(this.obj.rows[0]),i=this.hdr.rows.length-1;i>=0;i--)s=this.hdr.rows[i],s.parentNode.removeChild(s);this.ftr&&(this.ftr.parentNode.removeChild(this.ftr),this.ftr=null),this._aHead=this.ftr=this.cellWidth=this._aFoot=null,this.cellType=dhtmlxArray(),this._hrrar=[],this.columnIds=[],this.combos=[],this._strangeParams=[],this.defVal=[],this._ivizcol=null}this.cell=this.row=null,this.rowsCol=dhtmlxArray(),this.rowsAr={},this._RaSeCol=[],this.rowsBuffer=dhtmlxArray(),this.UserData=[],this.selectedRows=dhtmlxArray(),(this.pagingOn||this._srnd)&&(this.xmlFileUrl=""),this.pagingOn&&this.changePage(1),this._contextCallTimer&&window.clearTimeout(this._contextCallTimer),this._sst&&this.enableStableSorting(!0),this._fillers=this.undefined,this.setSortImgState(!1),this.setSizes(),this.callEvent("onClearAll",[])}},this.sortField=function(t,e,i){if(0==this.getRowsNum())return!1;var s=this.hdr.rows[0].cells[t];if(s&&"TH"==s.tagName&&this.fldSort.length-1>=s._cellIndex&&"na"!=this.fldSort[s._cellIndex]){var n=this.getSortingState(),o=n[0]==t&&"asc"==n[1]?"des":"asc";if(this.callEvent("onBeforeSorting",[t,this.fldSort[t],o])){if(this.sortImg.src=this.imgURL+"sort_"+("asc"==o?"asc":"desc")+".gif",this.useImagesInHeader){var l=this.hdr.rows[1].cells[s._cellIndex].firstChild;if(null!=this.fldSorted){var h=this.hdr.rows[1].cells[this.fldSorted._cellIndex].firstChild;h.src=h.src.replace(/(\.asc\.)|(\.des\.)/,".")}l.src=l.src.replace(/(\.[a-z]+)$/,"."+o+"$1")}this.sortRows(s._cellIndex,this.fldSort[s._cellIndex],o),this.fldSorted=s,this.r_fldSorted=i;{var r=this.hdr.rows[1],r=i.parentNode;r._childIndexes?r._childIndexes[s._cellIndex]:s._cellIndex}this.setSortImgPos(!1,!1,!1,i)}}},this.setCustomSorting=function(a,b){this._customSorts||(this._customSorts=[]),this._customSorts[b]="string"==typeof a?eval(a):a,this.fldSort[b]="cus"},this.enableHeaderImages=function(t){this.useImagesInHeader=t
},this.setHeader=function(t,e,i){for(var s="object"!=typeof t?this._eSplit(t):[].concat(t),n=[],o=new dhtmlxArray(0),l=[],h=[],r=[],a=0;a<s.length;a++)n[n.length]=Math.round(100/s.length),o[o.length]="ed",l[l.length]="left",h[h.length]="middle",r[r.length]="na";this.splitSign=e||"#cspan",this.hdrLabels=s,this.cellWidth=n,this.initCellWidth.length||this.setInitWidthsP(n.join(this.delim),!0),this.cellType=o,this.cellAlign=l,this.cellVAlign=h,this.fldSort=r,this._hstyles=i||[]},this._eSplit=function(t){if(![].push)return t.split(this.delim);var e="r"+(new Date).valueOf(),i=this.delim.replace(/([\|\+\*\^])/g,"\\$1");return(t||"").replace(RegExp(i,"g"),e).replace(RegExp("\\\\"+e,"g"),this.delim).split(e)},this.getColType=function(t){return this.cellType[t]},this.getColTypeById=function(t){return this.cellType[this.getColIndexById(t)]},this.setColTypes=function(t){this.cellType=dhtmlxArray(t.split(this.delim)),this._strangeParams=[];for(var e=0;e<this.cellType.length;e++){if(-1!=this.cellType[e].indexOf("[")){var i=this.cellType[e].split(/[\[\]]+/g);this.cellType[e]=i[0],this.defVal[e]=i[1],0==i[1].indexOf("=")&&(this.cellType[e]="math",this._strangeParams[e]=i[0])}window["eXcell_"+this.cellType[e]]||dhtmlxError.throwError("Configuration","Incorrect cell type: "+this.cellType[e],[this,this.cellType[e]])}},this.setColSorting=function(t){this.fldSort=t.split(this.delim);for(var e=0;e<this.fldSort.length;e++)this.fldSort[e].length>4&&"function"==typeof window[this.fldSort[e]]&&(this._customSorts||(this._customSorts=[]),this._customSorts[e]=window[this.fldSort[e]],this.fldSort[e]="cus")},this.setColAlign=function(t){this.cellAlign=t.split(this.delim);for(var e=0;e<this.cellAlign.length;e++)this.cellAlign[e]=this.cellAlign[e]._dhx_trim()},this.setColVAlign=function(t){this.cellVAlign=t.split(this.delim)},this.setNoHeader=function(t){this.noHeader=convertStringToBoolean(t)},this.showRow=function(t){this.getRowById(t),this._h2&&this.openItem(this._h2.get[t].parent.id);for(var e=this.getRowById(t).childNodes[0];e&&"none"==e.style.display;)e=e.nextSibling;e&&this.moveToVisible(e,!0)},this.setStyle=function(t,e,i,s){this.ssModifier=[t,e,i,i,s];for(var n=["#"+this.entBox.id+" table.hdr td","#"+this.entBox.id+" table.obj td","#"+this.entBox.id+" table.obj tr.rowselected td.cellselected","#"+this.entBox.id+" table.obj td.cellselected","#"+this.entBox.id+" table.obj tr.rowselected td"],o=0;!_isIE;){try{{document.styleSheets[o].cssRules.length}}catch(l){o++;continue}break}for(var h=0;h<n.length;h++)this.ssModifier[h]&&(_isIE?document.styleSheets[0].addRule(n[h],this.ssModifier[h]):document.styleSheets[o].insertRule(n[h]+(" { "+this.ssModifier[h]+" }"),document.styleSheets[o].cssRules.length))},this.setColumnColor=function(t){this.columnColor=t.split(this.delim)},this.enableAlterCss=function(t,e,i,s){(t||e)&&this.attachEvent("onGridReconstructed",function(){this._fixAlterCss(),this._fake&&this._fake._fixAlterCss()}),this._cssSP=i,this._cssSU=s,this._cssEven=t,this._cssUnEven=e},this._fixAlterCss=function(t){if(this._h2&&(this._cssSP||this._cssSU))return this._fixAlterCssTGR(t);if(this._cssEven||this._cssUnEven)for(var e=t=t||0,i=t;i<this.rowsCol.length;i++)this.rowsCol[i]&&"none"!=this.rowsCol[i].style.display&&(this.rowsCol[i]._cntr?e=1:(this.rowsCol[i].className=-1!=this.rowsCol[i].className.indexOf("rowselected")?e%2==1?this._cssUnEven+" rowselected "+(this.rowsCol[i]._css||""):this._cssEven+" rowselected "+(this.rowsCol[i]._css||""):e%2==1?this._cssUnEven+" "+(this.rowsCol[i]._css||""):this._cssEven+" "+(this.rowsCol[i]._css||""),e++))},this.clearChangedState=function(){for(var t=0;t<this.rowsCol.length;t++){var e=this.rowsCol[t];if(e&&e.childNodes)for(var i=e.childNodes.length,s=0;i>s;s++)e.childNodes[s].wasChanged=!1}},this.getChangedRows=function(t){var e=[];return this.forEachRow(function(i){var s=this.rowsAr[i];if("TR"==s.tagName){var n=s.childNodes.length;if(t&&s._added)e[e.length]=s.idd;else for(var o=0;n>o;o++)if(s.childNodes[o].wasChanged){e[e.length]=s.idd;break}}}),e.join(this.delim)},this._sAll=this._sUDa=!1,this.setSerializationLevel=function(t,e,i,s,n,o){this._sUDa=t,this._sAll=e,this._sConfig=i,this._chAttr=s,this._onlChAttr=n,this._asCDATA=o},this.setSerializableColumns=function(t){if(t){this._srClmn=(t||"").split(",");for(var e=0;e<this._srClmn.length;e++)this._srClmn[e]=convertStringToBoolean(this._srClmn[e])}else this._srClmn=null},this._serialise=function(){this.editStop();var t=[],e="</"+this.xml.s_row+">";if(this.isTreeGrid())this._h2.forEachChildF(0,function(e){var i=this._serializeRow(this.render_row_tree(-1,e.id));return t.push(i),i?!0:!1},this,function(){t.push(e)});else for(var i=0;i<this.rowsBuffer.length;i++)if(this.rowsBuffer[i]&&(!this._chAttr||!this.rowsBuffer[i]._locator)){var s=this._serializeRow(this.render_row(i));t.push(s),s&&t.push(e)}return[t.join("")]},this._serializeRow=function(t,e){var i=[],s=this.xml.row_attrs,n=this.xml.cell_attrs;if(i.push("<"+this.xml.s_row),i.push(" id='"+t.idd+"'"),this._sAll&&-1!=this.selectedRows._dhx_find(t)&&i.push(" selected='1'"),this._h2&&"minus"==this._h2.get[t.idd].state&&i.push(" open='1'"),s.length)for(e=0;e<s.length;e++)i.push(" "+s[e]+"='"+t._attrs[s[e]]+"'");if(i.push(">"),this._sUDa&&this.UserData[t.idd]){keysAr=this.UserData[t.idd].getKeys();for(var o=0;o<keysAr.length;o++)i.push("<userdata name='"+keysAr[o]+"'>"+(this._asCDATA?"<![CDATA[":"")+this.UserData[t.idd].get(keysAr[o])+(this._asCDATA?"]]>":"")+"</userdata>")}for(var l=!1,h=0;h<this._cCount;h++)if(!this._srClmn||this._srClmn[h]){var r=this.cells3(t,h);if(i.push("<cell"),n.length)for(e=0;e<n.length;e++)i.push(" "+n[e]+"='"+r.cell._attrs[n[e]]+"'");if(zxVal=r[this._agetm](),this._asCDATA&&(zxVal="<![CDATA["+zxVal+"]]>"),this._ecspn&&r.cell.colSpan&&r.cell.colSpan>1&&i.push(' colspan="'+r.cell.colSpan+'" '),this._chAttr?r.wasChanged()&&(i.push(' changed="1"'),l=!0):this._onlChAttr&&r.wasChanged()&&(l=!0),i.push(this._sAll&&"tree"==this.cellType[h]?(this._h2?" image='"+this._h2.get[t.idd].image+"'":"")+">"+zxVal+"</cell>":">"+zxVal+"</cell>"),this._ecspn&&r.cell.colSpan)for(var a=0;a<r.cell.colSpan-1;a++)i.push("<cell/>"),h++}return!this._onlChAttr||l||t._added?i.join(""):""},this._serialiseConfig=function(){for(var t="<head>",e=0;e<this.hdr.rows[0].cells.length;e++)if(!this._srClmn||this._srClmn[e]){var i=this.fldSort[e];"cus"==i&&(i=this._customSorts[e].toString(),i=i.replace(/function[\ ]*/,"").replace(/\([^\f]*/,"")),t+="<column width='"+this.getColWidth(e)+"' align='"+this.cellAlign[e]+"' type='"+this.cellType[e]+"' sort='"+(i||"na")+"' color='"+this.columnColor[e]+"'"+(this.columnIds[e]?" id='"+this.columnIds[e]+"'":"")+">",t+=this._asCDATA?"<![CDATA["+this.getHeaderCol(e)+"]]>":this.getHeaderCol(e);var s=this.getCombo(e);if(s)for(var n=0;n<s.keys.length;n++)t+="<option value='"+s.keys[n]+"'>"+s.values[n]+"</option>";t+="</column>"}return t+="</head>"},this.serialize=function(){var t='<?xml version="1.0"?><rows>';if(this._agetm=this._mathSerialization?"getMathValue":"getValue",this._sUDa&&this.UserData.gridglobaluserdata)for(var e=this.UserData.gridglobaluserdata.getKeys(),i=0;i<e.length;i++)t+="<userdata name='"+e[i]+"'>"+this.UserData.gridglobaluserdata.get(e[i])+"</userdata>";return this._sConfig&&(t+=this._serialiseConfig()),t+=this._serialise(),t+="</rows>"},this.getPosition=function(t,e){if(!e){var i=getOffset(t);return[i.left,i.top]}for(var e=e||document.body,s=t,n=0,o=0;s&&s!=e;)n+=s.offsetLeft-s.scrollLeft,o+=s.offsetTop-s.scrollTop,s=s.offsetParent;return e==document.body&&(_isIE?(o+=document.body.offsetTop||document.documentElement.offsetTop,n+=document.body.offsetLeft||document.documentElement.offsetLeft):_isFF||(n+=document.body.offsetLeft,o+=document.body.offsetTop)),[n,o]},this.getFirstParentOfType=function(t,e){for(;t&&t.tagName!=e&&"BODY"!=t.tagName;)t=t.parentNode;return t},this.objBox.onscroll=function(){this.grid._doOnScroll()},this.objBox.ontouchend=function(){this.hdrBox.scrollLeft=this.objBox.scrollLeft},this.hdrBox.onscroll=function(){this._try_header_sync||(this._try_header_sync=!0,this.grid.objBox.scrollLeft!=this.scrollLeft&&(this.grid.objBox.scrollLeft=this.scrollLeft),this._try_header_sync=!1)},(!_isOpera||_OperaRv>8.5)&&(this.hdr.onmousemove=function(t){this.grid.changeCursorState(t||window.event)},this.hdr.onmousedown=function(t){return this.grid.startColResize(t||window.event)}),this.obj.onmousemove=this._drawTooltip,this.objBox.onclick=function(t){(t||event).cancelBubble=!0},this.obj.onclick=function(t){this.grid._doClick(t||window.event),this.grid._sclE?this.grid.editCell(t||window.event):this.grid.editStop(),(t||event).cancelBubble=!0},_isMacOS?this.entBox.oncontextmenu=function(t){t.cancelBubble=!0,t.returnValue=!1;var e=this.grid;return e._realfake&&(e=e._fake),e._doContClick(t||window.event)}:(this.entBox.onmousedown=function(t){return this.grid._doContClick(t||window.event)},this.entBox.oncontextmenu=function(t){return this.grid._ctmndx&&((t||event).cancelBubble=!0),!this.grid._ctmndx}),this.obj.ondblclick=function(t){if(!this.grid.wasDblClicked(t||window.event))return!1;if(this.grid._dclE){var e=this.grid.getFirstParentOfType(_isIE?event.srcElement:t.target,"TR");e==this.grid.row&&this.grid.editCell(t||window.event)}return(t||event).cancelBubble=!0,_isOpera?!1:void 0},this.hdr.onclick=this._onHeaderClick,this.sortImg.onclick=function(){c._onHeaderClick.apply({grid:c},[null,c.r_fldSorted])},this.hdr.ondblclick=this._onHeaderDblClick,document.body._dhtmlxgrid_onkeydown||(dhtmlxEvent(document,"keydown",function(t){return globalActiveDHTMLGridObject?globalActiveDHTMLGridObject.doKey(t||window.event):void 0}),document.body._dhtmlxgrid_onkeydown=!0),dhtmlxEvent(document.body,"click",function(t){"SELECT"!=t.srcElement.tagName&&(c.editStop&&c.editStop(),c.isActive&&c.setActive(!1))}),-1!=this.entBox.style.height.toString().indexOf("%")&&(this._delta_y=this.entBox.style.height),-1!=this.entBox.style.width.toString().indexOf("%")&&(this._delta_x=this.entBox.style.width),(this._delta_x||this._delta_y)&&this._setAutoResize(),this.setColHidden=this.setColumnsVisibility,this.enableCollSpan=this.enableColSpan,this.setMultiselect=this.enableMultiselect,this.setMultiLine=this.enableMultiline,this.deleteSelectedItem=this.deleteSelectedRows,this.getSelectedId=this.getSelectedRowId,this.getHeaderCol=this.getColumnLabel,this.isItemExists=this.doesRowExist,this.getColumnCount=this.getColumnsNum,this.setSelectedRow=this.selectRowById,this.setHeaderCol=this.setColumnLabel,this.preventIECashing=this.preventIECaching,this.enableAutoHeigth=this.enableAutoHeight,this.getUID=this.uid,dhtmlx.image_path&&this.setImagePath(dhtmlx.image_path),dhtmlx.skin&&this.setSkin(dhtmlx.skin),this}function dhtmlXGridCellObject(t){this.destructor=function(){return this.base=this.grid=this.cell=this.cell.obj=null},this.cell=t,this.getValue=function(){return this.cell.firstChild&&"TEXTAREA"==this.cell.firstChild.tagName?this.cell.firstChild.value:this.cell.innerHTML._dhx_trim()},this.getMathValue=function(){return this.cell.original?this.cell.original:this.getValue()},this.getFont=function(){return arOut=Array(3),this.cell.style.fontFamily&&(arOut[0]=this.cell.style.fontFamily),("bold"==this.cell.style.fontWeight||"bold"==this.cell.parentNode.style.fontWeight)&&(arOut[1]="bold"),("italic"==this.cell.style.fontStyle||"italic"==this.cell.parentNode.style.fontWeight)&&(arOut[1]+="italic"),arOut[2]=this.cell.style.fontSize?this.cell.style.fontSize:"",arOut.join("-")},this.getTextColor=function(){return this.cell.style.color?this.cell.style.color:"#000000"},this.getBgColor=function(){return this.cell.bgColor?this.cell.bgColor:"#FFFFFF"},this.getHorAlign=function(){return this.cell.style.textAlign?this.cell.style.textAlign:this.cell.style.textAlign?this.cell.style.textAlign:"left"},this.getWidth=function(){return this.cell.scrollWidth},this.setFont=function(t){fntAr=t.split("-"),this.cell.style.fontFamily=fntAr[0],this.cell.style.fontSize=fntAr[fntAr.length-1],3==fntAr.length&&(/bold/.test(fntAr[1])&&(this.cell.style.fontWeight="bold"),/italic/.test(fntAr[1])&&(this.cell.style.fontStyle="italic"),/underline/.test(fntAr[1])&&(this.cell.style.textDecoration="underline"))},this.setTextColor=function(t){this.cell.style.color=t},this.setBgColor=function(t){""==t&&(t=null),this.cell.bgColor=t},this.setHorAlign=function(t){this.cell.style.textAlign=1==t.length?"c"==t?"center":"l"==t?"left":"right":t},this.wasChanged=function(){return this.cell.wasChanged?!0:!1},this.isCheckbox=function(){var t=this.cell.firstChild;return t&&"INPUT"==t.tagName?(type=t.type,"radio"==type||"checkbox"==type?!0:!1):!1},this.isChecked=function(){return this.isCheckbox()?this.cell.firstChild.checked:void 0},this.isDisabled=function(){return this.cell._disabled},this.setChecked=function(t){this.isCheckbox()&&("true"!=t&&1!=t&&(t=!1),this.cell.firstChild.checked=t)},this.setDisabled=function(t){"true"!=t&&1!=t&&(t=!1),this.isCheckbox()&&(this.cell.firstChild.disabled=t,this.disabledF&&this.disabledF(t)),this.cell._disabled=t}}function eXcell(){this.val=this.obj=null,this.changeState=function(){return!1},this.edit=function(){this.val=this.getValue()},this.detach=function(){return!1},this.getPosition=function(t){for(var e=t,i=0,s=0;"BODY"!=e.tagName;)i+=e.offsetLeft,s+=e.offsetTop,e=e.offsetParent;return[i,s]}}function eXcell_ed(t){t&&(this.cell=t,this.grid=this.cell.parentNode.grid),this.edit=function(){this.cell.atag=!this.grid.multiLine&&(_isKHTML||_isMacOS||_isFF)?"INPUT":"TEXTAREA",this.val=this.getValue(),this.obj=document.createElement(this.cell.atag),this.obj.setAttribute("autocomplete","off"),this.obj.style.height=this.cell.offsetHeight-(_isIE?4:4)+"px",this.obj.className="dhx_combo_edit",this.obj.wrap="soft",this.obj.style.textAlign=this.cell.style.textAlign,this.obj.onclick=function(t){(t||event).cancelBubble=!0},this.obj.onmousedown=function(t){(t||event).cancelBubble=!0},this.obj.value=this.val,this.cell.innerHTML="",this.cell.appendChild(this.obj),this.obj.onselectstart=function(t){return t||(t=event),t.cancelBubble=!0},_isIE&&(this.obj.focus(),this.obj.blur()),this.obj.focus()},this.getValue=function(){return this.cell.firstChild&&this.cell.atag&&this.cell.firstChild.tagName==this.cell.atag?this.cell.firstChild.value:this.cell._clearCell?"":this.cell.innerHTML.toString()._dhx_trim()},this.detach=function(){return this.setValue(this.obj.value),this.val!=this.getValue()}}function eXcell_edtxt(t){t&&(this.cell=t,this.grid=this.cell.parentNode.grid),this.getValue=function(){return this.cell.firstChild&&this.cell.atag&&this.cell.firstChild.tagName==this.cell.atag?this.cell.firstChild.value:this.cell._clearCell?"":_isIE?this.cell.innerText:this.cell.textContent},this.setValue=function(t){t&&""!=t.toString()._dhx_trim()?this.cell._clearCell=!1:(t=" ",this.cell._clearCell=!0),this.setCTxtValue(t)}}function eXcell_edn(t){t&&(this.cell=t,this.grid=this.cell.parentNode.grid),this.getValue=function(){return this.cell.firstChild&&"TEXTAREA"==this.cell.firstChild.tagName?this.cell.firstChild.value:this.cell._clearCell?"":this.cell._orig_value||this.grid._aplNFb(this.cell.innerHTML.toString()._dhx_trim(),this.cell._cellIndex)},this.detach=function(){var t=this.obj.value;return this.setValue(t),this.val!=this.getValue()}}function eXcell_ch(t){t&&(this.cell=t,this.grid=this.cell.parentNode.grid),this.disabledF=function(t){this.cell.innerHTML=1==t||1==t?this.cell.innerHTML.replace("item_chk0.","item_chk0_dis.").replace("item_chk1.","item_chk1_dis."):this.cell.innerHTML.replace("item_chk0_dis.","item_chk0.").replace("item_chk1_dis.","item_chk1.")},this.changeState=function(t){t===!0&&!this.grid.isActive&&(null!=window.globalActiveDHTMLGridObject&&window.globalActiveDHTMLGridObject!=this.grid&&window.globalActiveDHTMLGridObject.isActive&&window.globalActiveDHTMLGridObject.setActive(!1),this.grid.setActive(!0)),!this.grid.isEditable||this.cell.parentNode._locked||this.isDisabled()||(this.grid.callEvent("onEditCell",[0,this.cell.parentNode.idd,this.cell._cellIndex])?(this.val=this.getValue(),this.setValue("1"==this.val?"0":"1"),this.cell.wasChanged=!0,this.grid.callEvent("onEditCell",[1,this.cell.parentNode.idd,this.cell._cellIndex]),this.grid.callEvent("onCheckbox",[this.cell.parentNode.idd,this.cell._cellIndex,"1"!=this.val]),this.grid.callEvent("onCheck",[this.cell.parentNode.idd,this.cell._cellIndex,"1"!=this.val])):this.editor=null)},this.getValue=function(){return this.cell.chstate?this.cell.chstate.toString():"0"},this.isCheckbox=function(){return!0},this.isChecked=function(){return"1"==this.getValue()?!0:!1},this.setChecked=function(t){this.setValue(t.toString())},this.detach=function(){return this.val!=this.getValue()},this.edit=null}function eXcell_ra(t){this.base=eXcell_ch,this.base(t),this.grid=t.parentNode.grid,this.disabledF=function(t){this.cell.innerHTML=1==t||1==t?this.cell.innerHTML.replace("radio_chk0.","radio_chk0_dis.").replace("radio_chk1.","radio_chk1_dis."):this.cell.innerHTML.replace("radio_chk0_dis.","radio_chk0.").replace("radio_chk1_dis.","radio_chk1.")},this.changeState=function(t){t===!1&&1==this.getValue()||!this.grid.isEditable||this.cell.parentNode._locked||(0!=this.grid.callEvent("onEditCell",[0,this.cell.parentNode.idd,this.cell._cellIndex])?(this.val=this.getValue(),this.setValue("1"==this.val?"0":"1"),this.cell.wasChanged=!0,this.grid.callEvent("onEditCell",[1,this.cell.parentNode.idd,this.cell._cellIndex]),this.grid.callEvent("onCheckbox",[this.cell.parentNode.idd,this.cell._cellIndex,"1"!=this.val]),this.grid.callEvent("onCheck",[this.cell.parentNode.idd,this.cell._cellIndex,"1"!=this.val])):this.editor=null)},this.edit=null}function eXcell_txt(t){t&&(this.cell=t,this.grid=this.cell.parentNode.grid),this.edit=function(){this.val=this.getValue(),this.obj=document.createElement("TEXTAREA"),this.obj.className="dhx_textarea",this.obj.onclick=function(t){(t||event).cancelBubble=!0};var t=this.grid.getPosition(this.cell);if(this.obj.value=this.val,this.obj.style.display="",this.obj.style.textAlign=this.cell.style.textAlign,_isFF){var e=document.createElement("DIV");e.appendChild(this.obj),e.style.overflow="auto",e.className="dhx_textarea",this.obj.style.margin="0px 0px 0px 0px",this.obj.style.border="0px",this.obj=e}document.body.appendChild(this.obj),_isOpera&&(this.obj.onkeypress=function(t){return 9==t.keyCode?!1:void 0}),this.obj.onkeydown=function(t){var e=t||event;return 9==e.keyCode?(globalActiveDHTMLGridObject.entBox.focus(),globalActiveDHTMLGridObject.doKey({keyCode:e.keyCode,shiftKey:e.shiftKey,srcElement:"0"}),!1):void 0},this.obj.style.left=t[0]+"px",this.obj.style.top=t[1]+this.cell.offsetHeight+"px";var i=this.cell.offsetWidth<200?200:this.cell.offsetWidth;this.obj.style.width=i+(_isFF?18:16)+"px",_isFF&&(this.obj.firstChild.style.width=parseInt(this.obj.style.width)+"px",this.obj.firstChild.style.height=this.obj.offsetHeight-3+"px"),_isIE&&(this.obj.select(),this.obj.value=this.obj.value),_isFF?this.obj.firstChild.focus():this.obj.focus()},this.detach=function(){var t="",t=_isFF?this.obj.firstChild.value:this.obj.value;return this.cell._clearCell=""==t?!0:!1,this.setValue(t),document.body.removeChild(this.obj),this.obj=null,this.val!=this.getValue()},this.getValue=function(){return this.obj?_isFF?this.obj.firstChild.value:this.obj.value:this.cell._clearCell?"":"undefined"!=typeof this.cell._brval?this.cell._brval:this.grid.multiLine?this.cell._brval||this.cell.innerHTML.replace(/<br[^>]*>/gi,"\n")._dhx_trim():this.cell._brval||this.cell.innerHTML}}function eXcell_txttxt(t){t&&(this.cell=t,this.grid=this.cell.parentNode.grid),this.getValue=function(){return this.cell.firstChild&&"TEXTAREA"==this.cell.firstChild.tagName?this.cell.firstChild.value:this.cell._clearCell?"":!this.grid.multiLine&&this.cell._brval?this.cell._brval:_isIE?this.cell.innerText:this.cell.textContent},this.setValue=function(t){this.cell._brval=t,t&&""!=t.toString()._dhx_trim()?this.cell._clearCell=!1:(t=" ",this.cell._clearCell=!0),this.setCTxtValue(t)}}function eXcell_co(t){t&&(this.cell=t,this.grid=this.cell.parentNode.grid,this.combo=this.cell._combo||this.grid.getCombo(this.cell._cellIndex),this.editable=!0),this.shiftNext=function(){var t=this.list.options[this.list.selectedIndex+1];return t&&(t.selected=!0),this.obj.value=this.list.options[this.list.selectedIndex].text,!0},this.shiftPrev=function(){if(0!=this.list.selectedIndex){var t=this.list.options[this.list.selectedIndex-1];t&&(t.selected=!0),this.obj.value=this.list.options[this.list.selectedIndex].text}return!0},this.edit=function(){this.val=this.getValue(),this.text=this.getText()._dhx_trim();var t=this.grid.getPosition(this.cell);this.obj=document.createElement("TEXTAREA"),this.obj.className="dhx_combo_edit",this.obj.style.height=this.cell.offsetHeight-4+"px",this.obj.wrap="soft",this.obj.style.textAlign=this.cell.style.textAlign,this.obj.onclick=function(t){(t||event).cancelBubble=!0},this.obj.onmousedown=function(t){(t||event).cancelBubble=!0},this.obj.value=this.text,this.obj.onselectstart=function(t){return t||(t=event),t.cancelBubble=!0};var e=this;this.obj.onkeyup=function(t){var i=(t||event).keyCode;if(38!=i&&40!=i&&9!=i)for(var s=this.readonly?String.fromCharCode(i):this.value,n=e.list.options,o=0;o<n.length;o++)if(0==n[o].text.indexOf(s))return n[o].selected=!0},this.list=document.createElement("SELECT"),this.list.className="dhx_combo_select",this.list.style.width=this.cell.offsetWidth+"px",this.list.style.left=t[0]+"px",this.list.style.top=t[1]+this.cell.offsetHeight+"px";var i=function(t){try{var i=t||window.event,s=i.target||i.srcElement;"OPTION"==s.tagName&&(s=s.parentNode),e.editable=!1,e.grid.editStop(),i.cancelBubble=!0}catch(n){alert(n)}};this.list.onchange=i;for(var s=this.combo.getKeys(),n=!1,o=0,l=0;l<s.length;l++){var h=this.combo.get(s[l]);this.list.options[this.list.options.length]=new Option(h,s[l]),s[l]==this.val&&(o=this.list.options.length-1,n=!0)}0==n&&(this.list.options[this.list.options.length]=new Option(this.text,null===this.val?"":this.val),o=this.list.options.length-1),document.body.appendChild(this.list),this.list.size="6",this.cstate=1,this.editable?this.cell.innerHTML="":(this.obj.style.width="1px",this.obj.style.height="1px"),this.cell.appendChild(this.obj),this.list.options[o].selected=!0,(!_isFF||this.editable)&&(this.obj.focus(),this.obj.focus()),this.editable||(this.obj.style.visibility="hidden",this.list.focus(),this.list.onkeydown=function(t){return t=t||window.event,e.grid.setActive(!0),t.keyCode<30?e.grid.doKey({target:e.cell,keyCode:t.keyCode,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey}):void 0})},this.getValue=function(){return this.cell.combo_value==window.undefined?"":this.cell.combo_value},this.detach=function(){if(this.val!=this.getValue()&&(this.cell.wasChanged=!0),null!=this.list.parentNode)if(this.editable){var t=this.list.options[this.list.selectedIndex];if(t&&t.text==this.obj.value)this.setValue(this.list.value);else{var e=this.cell._combo||this.grid.getCombo(this.cell._cellIndex),i=e.values._dhx_find(this.obj.value);-1!=i?this.setValue(e.keys[i]):this.setCValue(this.cell.combo_value=this.obj.value)}}else this.setValue(this.list.value);return this.list.parentNode&&this.list.parentNode.removeChild(this.list),this.obj.parentNode&&this.obj.parentNode.removeChild(this.obj),this.val!=this.getValue()}}function eXcell_coro(t){this.base=eXcell_co,this.base(t),this.editable=!1}function eXcell_cotxt(t){this.base=eXcell_co,this.base(t)}function eXcell_corotxt(t){this.base=eXcell_co,this.base(t),this.editable=!1}function eXcell_cp(t){try{this.cell=t,this.grid=this.cell.parentNode.grid}catch(e){}this.edit=function(){this.val=this.getValue(),this.obj=document.createElement("SPAN"),this.obj.style.border="1px solid black",this.obj.style.position="absolute";var t=this.grid.getPosition(this.cell);this.colorPanel(4,this.obj),document.body.appendChild(this.obj),this.obj.style.left=t[0]+"px",this.obj.style.zIndex=1e3,this.obj.style.top=t[1]+this.cell.offsetHeight+"px"},this.toolDNum=function(t){return 1==t.length&&(t="0"+t),t},this.colorPanel=function(t,e){var i=document.createElement("TABLE");e.appendChild(i),i.cellSpacing=0,i.editor_obj=this,i.style.cursor="default",i.onclick=function(t){var e=t||window.event,i=e.target||e.srcElement,s=i.parentNode.parentNode.parentNode.editor_obj;s.setValue(i._bg),s.grid.editStop()};for(var s=256/t,n=0;256/s>=n;n++)for(var o=i.insertRow(n),l=0;256/s>=l;l++)for(var h=0;256/s>=h;h++){R=new Number(s*n)-(0==n?0:1),G=new Number(s*l)-(0==l?0:1),B=new Number(s*h)-(0==h?0:1);var r=this.toolDNum(R.toString(16))+""+this.toolDNum(G.toString(16))+this.toolDNum(B.toString(16)),a=o.insertCell(l);a.width="10px",a.innerHTML="&nbsp;",a.title=r.toUpperCase(),a.style.backgroundColor="#"+r,a._bg="#"+r,null!=this.val&&"#"+r.toUpperCase()==this.val.toUpperCase()&&(a.style.border="2px solid white")}},this.getValue=function(){return this.cell.firstChild._bg||""},this.getRed=function(){return Number(parseInt(this.getValue().substr(1,2),16))},this.getGreen=function(){return Number(parseInt(this.getValue().substr(3,2),16))},this.getBlue=function(){return Number(parseInt(this.getValue().substr(5,2),16))},this.detach=function(){return null!=this.obj.offsetParent&&document.body.removeChild(this.obj),this.val!=this.getValue()}}function eXcell_img(t){try{this.cell=t,this.grid=this.cell.parentNode.grid}catch(e){}this.getValue=function(){if("IMG"==this.cell.firstChild.tagName)return this.cell.firstChild.src+(null!=this.cell.titFl?"^"+this.cell._brval:"");if("A"==this.cell.firstChild.tagName){var t=this.cell.firstChild.firstChild.src+(null!=this.cell.titFl?"^"+this.cell._brval:"");return t+="^"+this.cell.lnk,this.cell.trg&&(t+="^"+this.cell.trg),t}},this.isDisabled=function(){return!0}}function eXcell_price(t){this.base=eXcell_ed,this.base(t),this.getValue=function(){return this.cell.childNodes.length>1?this.cell.childNodes[1].innerHTML.toString()._dhx_trim():"0"}}function eXcell_dyn(t){this.base=eXcell_ed,this.base(t),this.getValue=function(){return this.cell.firstChild.childNodes[1].innerHTML.toString()._dhx_trim()}}function eXcell_ro(t){t&&(this.cell=t,this.grid=this.cell.parentNode.grid),this.edit=function(){},this.isDisabled=function(){return!0},this.getValue=function(){return this.cell._clearCell?"":this.cell.innerHTML.toString()._dhx_trim()}}function eXcell_ron(t){this.cell=t,this.grid=this.cell.parentNode.grid,this.edit=function(){},this.isDisabled=function(){return!0},this.getValue=function(){return this.cell._clearCell?"":this.grid._aplNFb(this.cell.innerHTML.toString()._dhx_trim(),this.cell._cellIndex).toString()}}function eXcell_rotxt(t){this.cell=t,this.grid=this.cell.parentNode.grid,this.edit=function(){},this.isDisabled=function(){return!0},this.setValue=function(t){t?this.cell._clearCell=!1:(t=" ",this.cell._clearCell=!0),this.setCTxtValue(t)},this.getValue=function(){return this.cell._clearCell?"":_isIE?this.cell.innerText:this.cell.textContent}}function dhtmlXGridComboObject(){return this.keys=new dhtmlxArray,this.values=new dhtmlxArray,this.put=function(t,e){for(var i=0;i<this.keys.length;i++)if(this.keys[i]==t)return this.values[i]=e,!0;this.values[this.values.length]=e,this.keys[this.keys.length]=t},this.get=function(t){for(var e=0;e<this.keys.length;e++)if(this.keys[e]==t)return this.values[e];return null},this.clear=function(){this.keys=new dhtmlxArray,this.values=new dhtmlxArray},this.remove=function(t){for(var e=0;e<this.keys.length;e++)if(this.keys[e]==t)return this.keys._dhx_removeAt(e),this.values._dhx_removeAt(e),!0},this.size=function(){for(var t=0,e=0;e<this.keys.length;e++)null!=this.keys[e]&&t++;return t},this.getKeys=function(){for(var t=[],e=0;e<this.keys.length;e++)null!=this.keys[e]&&(t[t.length]=this.keys[e]);return t},this.save=function(){this._save=[];for(var t=0;t<this.keys.length;t++)this._save[t]=[this.keys[t],this.values[t]]},this.restore=function(){if(this._save){this.keys[t]=[],this.values[t]=[];for(var t=0;t<this._save.length;t++)this.keys[t]=this._save[t][0],this.values[t]=this._save[t][1]}},this}function Hashtable(){return this.keys=new dhtmlxArray,this.values=new dhtmlxArray,this}function dragContext(t,e,i,s,n,o,l,h,r,a){return this.source=t||"grid",this.target=e||"grid",this.mode=i||"move",this.dropmode=s||"child",this.sid=n||0,this.tid=o,this.sobj=l||null,this.tobj=h||null,this.sExtra=r||null,this.tExtra=a||null,this}function eXcell_math(t){t&&(this.cell=t,this.grid=this.cell.parentNode.grid),this.edit=function(){this.grid.editor=new eXcell_ed(this.cell),this.grid.editor.fix_self=!0,this.grid.editor.getValue=this.cell.original?function(){return this.cell.original}:this.getValue,this.grid.editor.setValue=this.setValue,this.grid.editor.edit()},this.isDisabled=function(){return!this.grid._mathEdit},this.setValue=function(t){t=this.grid._compileSCL(t,this.cell,this.fix_self),this.grid._strangeParams[this.cell._cellIndex]?this.grid.cells5(this.cell,this.grid._strangeParams[this.cell._cellIndex]).setValue(t):(this.setCValue(t),this.cell._clearCell=!1)},this.getValue=function(){return this.grid._strangeParams[this.cell._cellIndex]?this.grid.cells5(this.cell,this.grid._strangeParams[this.cell._cellIndex]).getValue():this.cell.innerHTML}}function dhtmlXGridFromTable(a,b){"object"!=typeof a&&(a=document.getElementById(a));var c=document.createElement("DIV");c.setAttribute("width",a.getAttribute("gridWidth")||(a.offsetWidth?a.offsetWidth+"px":0)||(window.getComputedStyle?window.getComputedStyle(a,null).width:a.currentStyle?a.currentStyle.width:0)),c.setAttribute("height",a.getAttribute("gridHeight")||(a.offsetHeight?a.offsetHeight+"px":0)||(window.getComputedStyle?window.getComputedStyle(a,null).height:a.currentStyle?a.currentStyle.height:0)),c.className=a.className,a.className="",a.id&&(c.id=a.id);var d=a,e=a.getAttribute("dragAndDrop");d.parentNode.insertBefore(c,d);var f=d.getAttribute("name")||"name_"+(new Date).valueOf(),g=new dhtmlXGridObject(c);window[f]=g;var h=d.getAttribute("onbeforeinit"),i=d.getAttribute("oninit");h&&eval(h),g.setImagePath(g.imgURL||d.getAttribute("imgpath")||d.getAttribute("image_path")||"");var j=d.getAttribute("skin");j&&g.setSkin(j),b&&b(g);for(var k=d.rows[0],l="",m="",n="",o="",p="",q=0;q<k.cells.length;q++){l+=(l?",":"")+k.cells[q].innerHTML;var r=k.cells[q].getAttribute("width")||k.cells[q].offsetWidth||(window.getComputedStyle?window.getComputedStyle(k.cells[q],null).width:k.cells[q].currentStyle?k.cells[q].currentStyle.width:0);m+=(m?",":"")+("*"==r?r:parseInt(r)),n+=(n?",":"")+(k.cells[q].getAttribute("align")||"left"),o+=(o?",":"")+(k.cells[q].getAttribute("type")||"ed"),p+=(p?",":"")+(k.cells[q].getAttribute("sort")||"str");var s=k.cells[q].getAttribute("format");s&&(-1!=k.cells[q].getAttribute("type").toLowerCase().indexOf("calendar")?g._dtmask=s:g.setNumberFormat(s,q))}g.setHeader(l),g.setInitWidths(m),g.setColAlign(n),g.setColTypes(o),g.setColSorting(p),"auto"==a.getAttribute("gridHeight")&&g.enableAutoHeigth(!0),a.getAttribute("multiline")&&g.enableMultiline(!0);var v=d.getAttribute("lightnavigation");v&&g.enableLightMouseNavigation(v);var t=d.getAttribute("evenrow"),u=d.getAttribute("unevenrow");return(t||u)&&g.enableAlterCss(t,u),e&&g.enableDragAndDrop(!0),g.init(),a.getAttribute("split")&&g.splitAt(a.getAttribute("split")),g._process_inner_html(d,1),i&&eval(i),a.parentNode&&a.parentNode.removeChild&&a.parentNode.removeChild(a),g}function eXcell_sub_row(t){t&&(this.cell=t,this.grid=this.cell.parentNode.grid),this.getValue=function(){return this.grid.getUserData(this.cell.parentNode.idd,"__sub_row")},this._setState=function(t,e){(e||this.cell).innerHTML="<img src='"+this.grid.imgURL+t+"' width='18' height='18' />",(e||this.cell).firstChild.onclick=this.grid._expandMonolite},this.open=function(){this.cell.firstChild.onclick(null,!0)},this.close=function(){this.cell.firstChild.onclick(null,!1,!0)},this.isOpen=function(){return!!this.cell.parentNode._expanded},this.setValue=function(t){t&&this.grid.setUserData(this.cell.parentNode.idd,"__sub_row",t),this._setState(t?"plus.gif":"blanc.gif")
},this.setContent=function(t){this.cell.parentNode._expanded?(this.cell.parentNode._expanded.innerHTML=t,this.resize()):(this.cell._previous_content=null,this.setValue(t),this.cell._sub_row_type=null)},this.resize=function(){this.grid._detectHeight(this.cell.parentNode._expanded,this.cell,this.cell.parentNode._expanded.scrollHeight)},this.isDisabled=function(){return!0},this.getTitle=function(){return this.grid.getUserData(this.cell.parentNode.idd,"__sub_row")?"click to expand|collapse":""}}function eXcell_sub_row_ajax(t){this.base=eXcell_sub_row,this.base(t),this.setValue=function(t){t&&this.grid.setUserData(this.cell.parentNode.idd,"__sub_row",t),this.cell._sub_row_type="ajax",this.cell._previous_content=null,this._setState(t?"plus.gif":"blanc.gif")}}function eXcell_sub_row_grid(t){this.base=eXcell_sub_row,this.base(t),this.setValue=function(t){t&&this.grid.setUserData(this.cell.parentNode.idd,"__sub_row",t),this.cell._sub_row_type="grid",this._setState(t?"plus.gif":"blanc.gif")},this.getSubGrid=function(){return t._sub_grid?t._sub_grid:null}}function eXcell_dhxCalendar(t){if(t&&(this.cell=t,this.grid=this.cell.parentNode.grid,!this.grid._grid_calendarA)){var e=this.grid._grid_calendarA=new dhtmlxCalendarObject;this.grid.callEvent("onDhxCalendarCreated",[e]);var i=this.grid;e.attachEvent("onClick",function(){return this._last_operation_calendar=!0,window.setTimeout(function(){i.editStop()},1),!0});var s=function(t){(t||event).cancelBubble=!0};dhtmlxEvent(e.base,"click",s),e=null}}function eXcell_dhxCalendarA(t){if(t&&(this.cell=t,this.grid=this.cell.parentNode.grid,!this.grid._grid_calendarA)){var e=this.grid._grid_calendarA=new dhtmlxCalendarObject;this.grid.callEvent("onDhxCalendarCreated",[e]);var i=this.grid;e.attachEvent("onClick",function(){return this._last_operation_calendar=!0,window.setTimeout(function(){i.editStop()},1),!0});var s=function(t){(t||event).cancelBubble=!0};dhtmlxEvent(e.base,"click",s)}}function eXcell_combo(t){t&&(this.cell=t,this.grid=t.parentNode.grid,this._combo_pre="",this.edit=function(){window.dhx_globalImgPath||(window.dhx_globalImgPath=this.grid.imgURL),this.val=this.getValue();var t=this.getText();this.cell._clearCell&&(t=""),this.cell.innerHTML="",this.combo=this.cell._brval?this.cell._brval:(this.grid._realfake?this.grid._fake:this.grid)._col_combos[this.cell._cellIndex],this.cell.appendChild(this.combo.DOMParent),this.combo.DOMParent.style.margin="0",this.combo.DOMelem_input.focus(),this.combo.setSize(this.cell.offsetWidth-2),this.combo._xml?this.combo.setComboText(t):-1!=this.combo.getIndexByValue(this.cell.combo_value)?this.combo.selectOption(this.combo.getIndexByValue(this.cell.combo_value)):this.combo.getOptionByLabel(t)?this.combo.selectOption(this.combo.getIndexByValue(this.combo.getOptionByLabel(t).value)):this.combo.setComboText(t),this.combo.openSelect()},this.selectComboOption=function(t,e){e.selectOption(e.getIndexByValue(e.getOptionByLabel(t).value))},this.getValue=function(){return this.cell.combo_value||""},this.getText=function(){var t=this.cell;return""==this._combo_pre&&t.childNodes[1]&&(t=t.childNodes[1]),_isIE?t.innerText:t.textContent},this.setValue=function(t){if("object"==typeof t){this.cell._brval=this.initCombo();var e=this.cell._cellIndex,i=this.cell.parentNode.idd;t.firstChild?this.cell.combo_value=t.firstChild.data:(this.cell.combo_value="&nbsp;",this.cell._clearCell=!0),this.setComboOptions(this.cell._brval,t,this.grid,e,i)}else{this.cell.combo_value=t;var s=null;(s=this.cell._brval)&&"object"==typeof this.cell._brval?t=(s.getOption(t)||{}).text||t:(s=this.grid._col_combos[this.cell._cellIndex]||this.grid._fake&&(s=this.grid._fake._col_combos[this.cell._cellIndex]))&&(t=(s.getOption(t)||{}).text||t),""==(t||"").toString()._dhx_trim()&&(t=null),null!==t?this.setComboCValue(t):(this.setComboCValue("&nbsp;",""),this.cell._clearCell=!0)}},this.detach=function(){this.cell.removeChild(this.combo.DOMParent);var t=this.cell.combo_value;return this.combo.getComboText()&&""!=this.combo.getComboText().toString()._dhx_trim()?(this.setComboCValue(this.combo.getComboText().replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),this.combo.getActualValue()),this.cell._clearCell=!1):(this.setComboCValue("&nbsp;"),this.cell._clearCell=!0),this.combo._confirmSelection(),this.cell.combo_value=this.combo.getActualValue(),this.combo.closeAll(),this.grid._still_active=!0,this.grid.setActive(1),t!=this.cell.combo_value})}function eXcell_cntr(t){this.cell=t,this.grid=this.cell.parentNode.grid,this.grid._ex_cntr_ready||this._realfake||(this.grid._ex_cntr_ready=!0,this.grid._h2&&this.grid.attachEvent("onOpenEn",function(){this.resetCounter(t._cellIndex)}),this.grid.attachEvent("onBeforeSorting",function(){var e=this;return window.setTimeout(function(){e.resetCounter&&(e._fake&&!e._realfake&&t._cellIndex<e._fake._cCount?e._fake.resetCounter(t._cellIndex):e.resetCounter(t._cellIndex))},1),!0})),this.edit=function(){},this.getValue=function(){return this.cell.innerHTML},this.setValue=function(){this.cell.style.paddingRight="2px";var t=this.cell;window.setTimeout(function(){if(t.parentNode){var e=t.parentNode.rowIndex;(t.parentNode.grid.currentPage||0>e||t.parentNode.grid._srnd)&&(e=t.parentNode.grid.rowsBuffer._dhx_find(t.parentNode)+1),0>=e||(t.innerHTML=e,t.parentNode.grid._fake&&t._cellIndex<t.parentNode.grid._fake._cCount&&t.parentNode.grid._fake.rowsAr[t.parentNode.idd]&&t.parentNode.grid._fake.cells(t.parentNode.idd,t._cellIndex).setCValue(e),t=null)}},100)}}function eXcell_link(t){this.cell=t,this.grid=this.cell.parentNode.grid,this.isDisabled=function(){return!0},this.edit=function(){},this.getValue=function(){if(this.cell.firstChild.getAttribute){var t=this.cell.firstChild.getAttribute("target");return this.cell.firstChild.innerHTML+"^"+this.cell.firstChild.getAttribute("href")+(t?"^"+t:"")}return""},this.setValue=function(t){if("number"!=typeof t&&(!t||""==t.toString()._dhx_trim()))return this.setCValue("&nbsp;",e),this.cell._clearCell=!0;var e=t.split("^");1==e.length?e[1]="":e.length>1&&(e[1]="href='"+e[1]+"'",e[1]+=3==e.length?" target='"+e[2]+"'":" target='_blank'"),this.setCValue("<a "+e[1]+" onclick='(_isIE?event:arguments[0]).cancelBubble = true;'>"+e[0]+"</a>",e)}}function eXcell_clist(t){try{this.cell=t,this.grid=this.cell.parentNode.grid}catch(e){}this.edit=function(){this.val=this.getValue();var t=this.cell._combo||this.grid.clists[this.cell._cellIndex];if(t){this.obj=document.createElement("DIV");for(var e=this.val.split(","),i="",s=0;s<t.length;s++){for(var n=!1,o=0;o<e.length;o++)t[s]==e[o]&&(n=!0);i+=n?"<div><input type='checkbox' id='dhx_clist_"+s+"' checked='true' /><label for='dhx_clist_"+s+"'>"+t[s]+"</label></div>":"<div><input type='checkbox' id='dhx_clist_"+s+"'/><label for='dhx_clist_"+s+"'>"+t[s]+"</label></div>"}i+="<div><input type='button' value='"+(this.grid.applyButtonText||"Apply")+"' style='width:100px; font-size:8pt;' onclick='this.parentNode.parentNode.editor.grid.editStop();'/></div>",this.obj.editor=this,this.obj.innerHTML=i,document.body.appendChild(this.obj),this.obj.style.position="absolute",this.obj.className="dhx_clist",this.obj.onclick=function(t){return(t||event).cancelBubble=!0};var l=this.grid.getPosition(this.cell);this.obj.style.left=l[0]+"px",this.obj.style.top=l[1]+this.cell.offsetHeight+"px",this.obj.getValue=function(){for(var t="",e=0;e<this.childNodes.length-1;e++)this.childNodes[e].childNodes[0].checked&&(t&&(t+=","),t+=this.childNodes[e].childNodes[1].innerHTML);return t.replace(/&amp;/g,"&")}}},this.getValue=function(){return this.cell._clearCell?"":this.cell.innerHTML.toString()._dhx_trim().replace(/&amp;/g,"&")},this.detach=function(){return this.obj&&(this.setValue(this.obj.getValue()),this.obj.editor=null,this.obj.parentNode.removeChild(this.obj),this.obj=null),this.val!=this.getValue()}}function eXcell_ra_str(t){t&&(this.base=eXcell_ra,this.base(t),this.grid=t.parentNode.grid)}function dhtmlXLayoutPanel(){}function dhtmlXLayoutObject(t,e,i){if(window.dhtmlXContainer){var s=this;if(this._autodetectSkin=function(){var t=document.createElement("DIV");t.className="dhxlayout_skin_detect",document.body.childNodes.length>0?document.body.insertBefore(t,document.body.childNodes[0]):document.body.appendChild(t);var e=t.offsetWidth;return document.body.removeChild(t),t=null,199==e?"dhx_skyblue":299==e?"dhx_blue":399==e?"dhx_black":499==e?"dhx_web":599==e?"dhx_terrace":"dhx_skyblue"},this.skin=null!=i?i:"undefined"!=typeof dhtmlx&&"string"==typeof dhtmlx.skin?dhtmlx.skin:this._autodetectSkin(),this.setSkin=function(t){if(this.skinParams[t]){this.skin=t,this._CPanelHeight=this.skinParams[this.skin].cpanel_height,this._collapsedW=this.skinParams[this.skin].cpanel_collapsed_width,this._collapsedH=this.skinParams[this.skin].cpanel_collapsed_height,this.tpl.className="dhtmlxLayoutPolyContainer_"+this.skin+(this._r?" dhxlayout_rtl":""),this.sizer.className="dhxLayout_Sizer_"+this.skin,this.dhxWins&&this.dhxWins.setSkin(this.skin);for(var e in this.polyObj)this.polyObj[e].skin=this.skin;this.base.skin=this.skin,this._fixIcons(),this.setSizes()}},this._isIPad=navigator.userAgent.search(/iPad/gi)>=0,this._dblClickTM=600,this._mBottom=this._mTop=0,"string"==typeof t&&(t=document.getElementById(t)),(1==t._isWindow||t._isCell)&&!this.base){if(t._isCell&&t.attachLayout)return t.attachLayout(e,i);if(t.isWindow)return t.attachLayout(e,i);this.base=t}if(t!=document.body||this.base||(document.body.style.overflow="hidden"),("object"==typeof t||t==document.body)&&!this.base){var n=document.createElement("DIV");n.className="dhxcont_global_layout_area",t.appendChild(n),t._isLayout=!0,this.cont=new dhtmlXContainer(t),this.cont.setContent(n),t==document.body&&(("dhx_skyblue"==this.skin||"dhx_blue"==this.skin)&&(this.cont.obj._offsetTop=2,this.cont.obj._offsetLeft=2,this.cont.obj._offsetHeight=-4,this.cont.obj._offsetWidth=-4),"dhx_web"==this.skin&&(this.cont.obj._offsetTop=9,this.cont.obj._offsetLeft=9,this.cont.obj._offsetHeight=-18,this.cont.obj._offsetWidth=-18),"dhx_terrace"==this.skin&&(this.cont.obj._offsetTop=14,this.cont.obj._offsetLeft=14,this.cont.obj._offsetHeight=-28,this.cont.obj._offsetWidth=-28),document.body.className+=" dhxlayout_fullscreened"),t.adjustContent(t,this._mTop,null,null,this._mBottom),this.base=document.createElement("DIV"),this.base.style.overflow="hidden",this.base.style.position="absolute",this.base.style.left="0px",this.base.style.top="0px",this.base.style.width=n.childNodes[0].style.width,this.base.style.height=n.childNodes[0].style.height,n.childNodes[0].appendChild(this.base),t==document.body&&(this._lw=this._tmTime=null,this._doOnResizeStart=function(){window.clearTimeout(this._tmTime),this._tmTime=window.setTimeout(function(){s._doOnResizeEnd()},200)},this._doOnResizeEnd=function(){this.setSizes(!1)},"undefined"!=typeof window.addEventListener?window.addEventListener("resize",s._doOnResizeStart,!1):window.attachEvent("onresize",s._doOnResizeStart)),t._doOnAttachToolbar=function(){null!=s&&"function"==typeof s.setSizes&&s.setSizes()}}this.items=[],this.cells=function(t){return null!=this.polyObj[t]?this.polyObj[t]:null},this.getIdByIndex=function(t){return 0>t?null:t>=this.items.length?null:this.items[t]._idd},this.getIndexById=function(t){return null!=this.cells(t)?this.cells(t).getIndex():null},this.imagePath=dhtmlx.image_path||"codebase/imgs/",this.setImagePath=function(t){this.imagePath=t},this.polyObj={},this.sepHor=[],this.sepVer=[],this._layoutView=null!=e?String(e).toUpperCase():"3E",this._minHeight=this._minWidth=40,this._CPanelBtnsWidth=32,this.skinParams={dhx_black:{hor_sep_height:5,ver_sep_width:5,cpanel_height:34,cpanel_collapsed_width:18,cpanel_collapsed_height:18},dhx_blue:{hor_sep_height:5,ver_sep_width:5,cpanel_height:34,cpanel_collapsed_width:18,cpanel_collapsed_height:18},dhx_skyblue:{hor_sep_height:5,ver_sep_width:5,cpanel_height:26,cpanel_collapsed_width:18,cpanel_collapsed_height:18},dhx_web:{hor_sep_height:9,ver_sep_width:9,cpanel_height:27,cpanel_collapsed_width:18,cpanel_collapsed_height:18,cell_pading_max:1,cell_pading_min:0},dhx_terrace:{hor_sep_height:14,ver_sep_width:14,cpanel_height:37,cpanel_collapsed_width:18,cpanel_collapsed_height:18,cell_pading_max:1,cell_pading_min:0}},this._CPanelHeight=this.skinParams[this.skin].cpanel_height,this._collapsedW=this.skinParams[this.skin].cpanel_collapsed_width,this._collapsedH=this.skinParams[this.skin].cpanel_collapsed_height,this.tpl=document.createElement("TABLE"),this.tpl.dir="ltr",this.tpl.className="dhtmlxLayoutPolyContainer_"+this.skin,this.tpl.cellSpacing=0,this.tpl.cellPadding=0;var o=document.createElement("TBODY");this.tpl.appendChild(o),this.tpl.border=0,this.tplSizes={},this._effects={collapse:!1,resize:!1,highlight:!0},this.sizer=document.createElement("DIV"),this.sizer.className="dhxLayout_Sizer_"+this.skin,this.sizer.style.display="none",document.body.appendChild(this.sizer),this._attachSizer=function(t){s.sizer.style.left=getAbsoluteLeft(t)+"px",s.sizer.style.top=getAbsoluteTop(t)+"px",s.sizer.style.width=t.offsetWidth+"px",s.sizer.style.height=t.offsetHeight+"px",null!=s._sizerML&&(s.sizer.style.marginLeft=s._sizerML+"px"),null!=s._sizerMT&&(s.sizer.style.marginTop=s._sizerMT+"px"),s.sizer.style.display="",s.sizer.className="dhxLayout_Sizer_"+s.skin,null!=t._dir&&(s.sizer.className+=" "+("hor"==t._dir?"dhxCursorNResize":"dhxCursorWResize"))},this.listViews=function(){var t,e=[];for(t in this.tplData)e[e.length]=t;return e},this._init=function(){this.obj=document.createElement("DIV"),this.obj.className="dhtmlxLayoutObject",this.base.appendChild(this.obj),this.obj.appendChild(this.tpl),this.w=this.obj.offsetWidth,this.h=this.obj.offsetHeight,this._xmlLoader.loadXMLString(null!=this.tplData[this._layoutView]?this.tplData[this._layoutView]:this.tplData["3E"]),this._initWindows()},this._autoHor=[],this._autoVer=[],this._dimension=[320,200],this._colsRatio=this._rowsRatio=100,this._xmlParser=function(){for(var t=[],e=[],i={},n=this.getXMLTopNode("layout"),o=0;o<n.childNodes.length;o++){if("row"==n.childNodes[o].tagName){var l=n.childNodes[o],h=document.createElement("TR");s.tpl.childNodes[0].appendChild(h);for(var r=0;r<l.childNodes.length;r++)if("cell"==l.childNodes[r].tagName){var a=l.childNodes[r],d=document.createElement("TD");if(d._dir="null",null!=a.getAttribute("obj")){for(var c=a.getAttribute("obj"),u=String(a.getAttribute("wh")).split(","),_=isNaN(u[0]),p=isNaN(u[0])?parseInt(s.polyObj[u[0]].style.width):0,f=0;f<t.length;f++)for(var m=0;m<t[f].length;m++)if(t[f][m]==c){if(!_){for(var _=!0,g=s.base.offsetWidth-i[c][0]*s.skinParams[s.skin].ver_sep_width,b=0;b<t[f].length;b++)isNaN(t[f][b])||(g-=t[f][b],u[0]-=1);p=Math.ceil(g/u[0])}t[f][m]=p}d.style.width=p+"px";for(var _=isNaN(u[1]),v=isNaN(u[1])?parseInt(s.polyObj[u[1]].style.height):0,f=0;f<e.length;f++)for(m=0;m<e[f].length;m++)if(e[f][m]==c){if(!_){for(var _=!0,y=s.base.offsetHeight-i[c][1]*s.skinParams[s.skin].hor_sep_height,b=0;b<e.length;b++)isNaN(e[b][m])||(y-=e[b][m],u[1]-=1);v=Math.ceil(y/u[1])}e[f][m]=v}d.style.height=v+"px",d.className="dhtmlxLayoutSinglePoly",d.innerHTML="",d._minW=null!=a.getAttribute("minWidth")?Number(a.getAttribute("minWidth")):s._minWidth,d._minH=null!=a.getAttribute("minHeight")?Number(a.getAttribute("minHeight")):s._minHeight,d._initCPanel=null!=a.getAttribute("cpanel")&&"false"==a.getAttribute("cpanel")?!1:!0,d._resize=a.getAttribute("resize");for(var x=String(a.getAttribute("neighbors")).split(";"),w=0;w<x.length;w++){var C=String(x[w]).split(",");C.length>1&&(x[w]=C)}d._rowData=x,s.polyObj[c]=d}if(null!=a.getAttribute("sep")){var N=a.getAttribute("sep");if("hor"==N){d.className="dhtmlxLayoutPolySplitterHor",d._dir="hor";for(var I=a.getAttribute("top").split(";"),w=0;w<I.length;w++)C=String(I[w]).split(","),C.length>1&&(I[w]=C);d._top=I;for(var k=a.getAttribute("bottom").split(";"),w=0;w<k.length;w++)C=String(k[w]).split(","),C.length>1&&(k[w]=C);d._bottom=k,s.sepHor[s.sepHor.length]=d}else{d.className="dhtmlxLayoutPolySplitterVer",d._dir="ver";for(var S=a.getAttribute("left").split(";"),w=0;w<S.length;w++)C=String(S[w]).split(","),C.length>1&&(S[w]=C);d._left=S;for(var O=a.getAttribute("right").split(";"),w=0;w<O.length;w++)C=String(O[w]).split(","),C.length>1&&(O[w]=C);d._right=O,s.sepVer[s.sepVer.length]=d}d._dblClick=a.getAttribute("dblclick"),d._isSep=!0,d.innerHTML='<div style="height:2px;overflow:hidden;">&nbsp;</div>'}null!=a.getAttribute("colspan")&&(d.colSpan=a.getAttribute("colspan")),null!=a.getAttribute("rowspan")&&(d.rowSpan=a.getAttribute("rowspan")),h.appendChild(d)}}if("autosize"==n.childNodes[o].tagName&&(s._autoHor=n.childNodes[o].getAttribute("hor").split(";"),s._autoVer=n.childNodes[o].getAttribute("ver").split(";"),s._totalCols=n.childNodes[o].getAttribute("cols"),s._totalRows=n.childNodes[o].getAttribute("rows"),s._dimension[0]=s._totalCols*s._colsRatio,s._dimension[1]=s._totalRows*s._rowsRatio),"table"==n.childNodes[o].tagName){for(var j=n.childNodes[o].getAttribute("data"),b=String(j).split(";"),f=0;f<b.length;f++){t[f]=[],e[f]=[];for(var T=String(b[f]).split(","),m=0;m<T.length;m++)t[f][m]=T[m],e[f][m]=T[m],null==i[T[m]]&&(i[T[m]]=[0,0])}for(var E in i)for(_=!1,f=0;f<t.length;f++)for(m=0;m<t[f].length;m++)if(t[f][m]==E&&!_){for(var _=!0,A=0;A<t[f].length;A++)t[f][A]!=E&&i[E][0]++;for(A=0;A<t.length;A++)t[A][m]!=E&&i[E][1]++}}}e=t=null,s._buildSurface(),this.destructor()},this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window),this.listAutoSizes=function(){var t=this._availAutoSize[this._layoutView+"_hor"],e=this._availAutoSize[this._layoutView+"_ver"],i=this._autoHor.join(";"),s=this._autoVer.join(";");return[i,s,t,e]},this.setAutoSize=function(t,e){if(null!=t){for(var i=!1,s=this._availAutoSize[this._layoutView+"_hor"],n=0;n<s.length;n++)i=i||s[n]==t;1==i&&(this._autoHor=t.split(";"))}if(null!=e){for(i=!1,s=this._availAutoSize[this._layoutView+"_ver"],n=0;n<s.length;n++)i=i||s[n]==e;1==i&&(this._autoVer=e.split(";"))}},this._buildSurface=function(){for(var t=0;t<this.tpl.childNodes[0].childNodes.length;t++)for(var e=this.tpl.childNodes[0].childNodes[t],i=0;i<e.childNodes.length;i++){var s=e.childNodes[i],n=this;s._isSep||(s._isCell=!0,s.skin=this.skin,s.getId=function(){return this._idd},s.getIndex=function(){return this._ind},s.showHeader=function(){n.showPanel(this._idd)},s.hideHeader=function(){n.hidePanel(this._idd)},s.isHeaderVisible=function(){return n.isPanelVisible(this._idd)},s.setText=function(t){n.setText(this._idd,t)},s.getText=function(){return n.getText(this._idd)},s.expand=function(){n._isCollapsed(this._idd)&&n._expand(this._idd,"hide")},s.collapse=function(){n._isCollapsed(this._idd)||n._collapse(this._idd,"hide")},s.isCollapsed=function(){return n._isCollapsed(this._idd)},s.dock=function(){n._isCollapsed(this._idd)&&(n._expand(this._idd,"dock"),n.dockWindow(this._idd))},s.undock=function(){n._isCollapsed(this._idd)||(n.unDockWindow(this._idd),n._collapse(this._idd,"dock"))},s.setWidth=function(t){if(Number(t)){var e=this._isBlockedWidth||!1;this._isBlockedWidth=!1,n._setWidth(this._idd,t),this._isBlockedWidth=e}},s.getWidth=function(){return parseInt(this.style.width)},s.setHeight=function(t){if(Number(t)){var e=this._isBlockedHeight||!1;this._isBlockedHeight=!1,n._setHeight(this._idd,t),this._isBlockedHeight=e}},s.getHeight=function(){return parseInt(this.style.height)},s.fixSize=function(t,e){n._fixSize(this._idd,t,e)},s.progressOn=function(){n._progressControl(this._idd,!0)},s.progressOff=function(){n._progressControl(this._idd,!1)},s._doOnAttachMenu=function(){this.adjustContent(this.childNodes[0],this._noHeader?0:n.skinParams[n.skin].cpanel_height),this.updateNestedObjects()},s._doOnAttachToolbar=function(){this.adjustContent(this.childNodes[0],this._noHeader?0:n.skinParams[n.skin].cpanel_height),this.updateNestedObjects()},s._doOnAttachStatusBar=function(){this.adjustContent(this.childNodes[0],this._noHeader?0:n.skinParams[n.skin].cpanel_height),this.updateNestedObjects()},s._doOnFrameContentLoaded=function(){n.callEvent("onContentLoaded",[this._idd])},s._doOnResize=function(){this.adjustContent(this.childNodes[0],this._noHeader?0:n.skinParams[n.skin].cpanel_height),this.updateNestedObjects()},s._redraw=function(){},s.showArrow=function(){this.childNodes[0].childNodes[0].childNodes[4].style.display=""},s.hideArrow=function(){this.childNodes[0].childNodes[0].childNodes[4].style.display="none"},s.isArrowVisible=function(){return"none"!=this.childNodes[0].childNodes[0].childNodes[4].style.display}),"ver"==s._dir&&(s.onselectstart=function(t){t=t||event,t.returnValue=!1},_isIE&&(s.ondblclick=function(){n._doOnDoubleClick(this)}),s[this._isIPad?"ontouchstart":"onmousedown"]=function(t){if(t=t||event,!_isIE)if(this._lastClick){var e=this._lastClick;if(this._lastClick=(new Date).getTime(),e+n._dblClickTM>=this._lastClick&&n._doOnDoubleClick(this)===!0)return}else this._lastClick=(new Date).getTime();var i=n._findDockCellsVer(this);if(n._resAreaData=[],null!=i[0]&&null!=i[1]){if(-1==String(document.body.className).search("dhxCursorWResize")&&(document.body.className+=" dhxCursorWResize"),n._resObj=this,n._anyExpL=i[0],n._anyExpR=i[1],n._collectResAreaData(i),n._resX=n._isIPad?t.touches[0].clientX:t.clientX,0==n._effects.resize){n._attachSizer(this),n.sizer._leftXStart=parseInt(n.sizer.style.left);var s=n.polyObj[n._anyExpL[0]];n._resXMaxWidthLeft=parseInt(s.style.width)-n._minWidth;var o=n.polyObj[n._anyExpR[0]];if(n._resXMaxWidthRight=parseInt(o.style.width)-n._minWidth,n._alterSizes.length>0)for(var l=0;l<n._alterSizes.length;l++){for(var h=0;h<n._anyExpL.length;h++)if(n._alterSizes[l][0]==n._anyExpL[h]){var r=n._resXMaxWidthLeft=parseInt(s.style.width)-n._alterSizes[l][1];r<n._resXMaxWidthLeft&&(n._resXMaxWidthLeft=r)}for(h=0;h<n._anyExpR.length;h++)n._alterSizes[l][0]==n._anyExpR[h]&&(r=parseInt(o.style.width)-n._alterSizes[l][1],r<n._resXMaxWidthRight)&&(n._resXMaxWidthRight=r)}n._resXStart=n._resX}n._resFunc=n._resizeVer,n._isIPad&&t.preventDefault()}},s.onmouseup=function(){1==n._effects.resize&&(n._resizeStop(),n._anyExpL=null,n._anyExpR=null)}),"hor"==s._dir&&(s.onselectstart=function(t){t=t||event,t.returnValue=!1},s[this._isIPad?"ontouchstart":"onmousedown"]=function(t){if(t=t||event,this._lastClick){var e=this._lastClick;if(this._lastClick=(new Date).getTime(),e+n._dblClickTM>=this._lastClick&&n._doOnDoubleClick(this)===!0)return}else this._lastClick=(new Date).getTime();var i=n._findDockCellsHor(this);if(n._resAreaData=[],null!=i[0]&&null!=i[1]){if(-1==String(document.body.className).search("dhxCursorNResize")&&(document.body.className+=" dhxCursorNResize"),n._resObj=this,n._anyExpT=i[0],n._anyExpB=i[1],n._collectResAreaData(i),n._resY=n._isIPad?t.touches[0].clientY:t.clientY,0==n._effects.resize){n._attachSizer(this),n.sizer._topYStart=parseInt(n.sizer.style.top);var s=n.polyObj[n._anyExpT[0]];n._resYMaxHeightTop=parseInt(s.style.height)-n._minHeight;var o=n.polyObj[n._anyExpB[0]];if(n._resYMaxHeightBottom=parseInt(o.style.height)-n._minHeight,n._alterSizes.length>0)for(var l=0;l<n._alterSizes.length;l++){for(var h=0;h<n._anyExpT.length;h++)if(n._alterSizes[l][0]==n._anyExpT[h]){var r=parseInt(s.style.height)-n._alterSizes[l][2]-("none"!=s.childNodes[0].style.display?n.skinParams[n.skin].cpanel_height:0);r<n._resYMaxHeightTop&&(n._resYMaxHeightTop=r)}for(h=0;h<n._anyExpB.length;h++)n._alterSizes[l][0]==n._anyExpB[h]&&(r=parseInt(o.style.height)-n._alterSizes[l][2]-("none"!=o.childNodes[0].style.display?n.skinParams[n.skin].cpanel_height:0),r<n._resYMaxHeightBottom)&&(n._resYMaxHeightBottom=r)}n._resYStart=n._resY}n._resFunc=n._resizeHor,n._isIPad&&t.preventDefault()}},s.onmouseup=function(){1==n._effects.resize&&(n._resizeStop(),n._anyExpT=null,n._anyExpB=null)})}for(var o in this.polyObj){this.polyObj[o]._collapsed=!1,this.polyObj[o]._idd=o,this.polyObj[o]._ind=this.items.length,this.items[this.items.length]=this.polyObj[o];var l=document.createElement("DIV");l.style.position="relative",l.style.left="0px",l.style.top="0px",l.style.width=this.polyObj[o].style.width,l.style.height=this.polyObj[o].style.height,l.style.overflow="hidden",this.polyObj[o].appendChild(l);var h=document.createElement("DIV");for(h._dockCell=o,h._resize=this.polyObj[o]._resize,h.className="dhtmlxPolyInfoBar",h.innerHTML="<div class='dhtmlxInfoBarLabel'>"+o+"</div><div class='dhtmlxInfoBarButtonsFake'><div class='dhtmlxInfoBarButtonsFake2'></div></div><div class='dhtmlxInfoButtonDock' title='"+this.i18n.dock+"'></div><div class='dhtmlxInfoButtonUnDock' style='display: none;' title='"+this.i18n.undock+"'></div><div class='dhtmlxInfoButtonShowHide_"+h._resize+"' title='"+this.i18n.collapse+"'></div><div class='dhtmlxLineL'></div><div class='dhtmlxLineR'></div>",1==this.polyObj[o]._initCPanel?(h._h=this._CPanelHeight,h.style.display=""):(h._h=0,h.style.display="none"),this.polyObj[o].childNodes[0].appendChild(h),h.ondblclick=function(){n.callEvent("onDblClick",[this._dockCell])},h.childNodes[4].onclick=function(){var t=this.parentNode._dockCell;n._isCollapsed(t)?n._expand(t,"hide"):n._collapse(t,"hide")},t=0;t<h.childNodes.length;t++)h.childNodes[t].onselectstart=function(t){t=t||event,t.returnValue=!1};var r=document.createElement("DIV");r.className="dhxcont_global_content_area",this.polyObj[o].childNodes[0].appendChild(r);var a=new dhtmlXContainer(this.polyObj[o]);a.setContent(r),"dhx_web"==this.skin&&this.polyObj[o]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_layout_dhx_web"),"dhx_terrace"==this.skin&&(this.polyObj[o]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_layout_dhx_terrace"),this.polyObj[o].childNodes[0].style.borderRadius="3px",this.polyObj[o].childNodes[0].childNodes[1].style.borderBottomLeftRadius=this.polyObj[o].childNodes[0].childNodes[1].style.borderBottomRightRadius="3px"),this.polyObj[o].adjustContent(this.polyObj[o].childNodes[0],this.skinParams[this.skin].cpanel_height)}this._fixIcons()},this._anyExpB=this._anyExpT=this._anyExpR=this._anyExpL=this._resFunc=this._resObj=this._resY=this._resX=null,this._expand=function(t,e){this._doExpand(this.polyObj[t]._resize,t,this.polyObj[t]._rowData,e)},this._collapse=function(t,e){this._isCollapsed(t)||(this.polyObj[t]._savedW=parseInt(this.polyObj[t].style.width),this.polyObj[t]._savedH=parseInt(this.polyObj[t].style.height),this._doCollapse(this.polyObj[t]._resize,t,this.polyObj[t]._rowData,e))},this._isCollapsed=function(t){return this.polyObj[t]._collapsed},this._checkAlterMinSize=function(t){this._alterSizes=[];for(var e=0;e<t.length;e++)for(var i=0;i<t[e].length;i++)if(null!=this.polyObj[t[e][i]].vs[this.polyObj[t[e][i]].av].layout){var s=this.polyObj[t[e][i]].vs[this.polyObj[t[e][i]].av].layout._defineWindowMinDimension(this.polyObj[t[e][i]],!0);s[0]=t[e][i],this._alterSizes[this._alterSizes.length]=s}},this._findDockCellsVer=function(t){var e=[null,null];if(null==t)return e;for(var i=null,s=t._left.length-1;s>=0;s--)if(null==i)if("object"==typeof t._left[s]){for(var n=!1,o=0;o<t._left[s].length;o++)n=n||this.polyObj[t._left[s][o]]._isBlockedWidth||!1;n||(i=t._left[s])}else 0==this.polyObj[t._left[s]]._collapsed&&(this.polyObj[t._left[s]]._isBlockedWidth||(i=t._left[s]));for(var l=null,s=0;s<t._right.length;s++)if(null==l)if("object"==typeof t._right[s]){for(n=!1,o=0;o<t._right[s].length;o++)n=n||this.polyObj[t._right[s][o]]._isBlockedWidth||!1;n||(l=t._right[s])}else 0==this.polyObj[t._right[s]]._collapsed&&(this.polyObj[t._right[s]]._isBlockedWidth||(l=t._right[s]));if(null==i||null==l)return e;if("string"==typeof i&&(i=Array(i)),"string"==typeof l&&(l=Array(l)),e[0]=i,e[1]=l,this._checkAlterMinSize(e),this._minWRAlter=this._minWLAlter=0,this._alterSizes.length>0&&1==this._effects.resize){for(var h=[],r=[],s=0;s<i.length;s++)h[s]=this.polyObj[i[s]];for(s=0;s<l.length;s++)r[s]=this.polyObj[l[s]];for(s=0;s<h.length;s++)for(o=0;o<this._alterSizes.length;o++)this._alterSizes[o][0]==h[s]._idd&&this._minWLAlter<this._alterSizes[o][1]&&(this._minWLAlter=this._alterSizes[o][1]);for(s=0;s<r.length;s++)for(o=0;o<this._alterSizes.length;o++)this._alterSizes[o][0]==r[s]._idd&&this._maxWRAlter<this._alterSizes[o][1]&&(this._minWRAlter=this._alterSizes[o][1])}return e},this._findDockCellsHor=function(t){var e=[null,null];if(null==t)return e;for(var i=null,s=t._top.length-1;s>=0;s--)if(null==i)if("object"==typeof t._top[s]){for(var n=!1,o=0;o<t._top[s].length;o++)n=n||this.polyObj[t._top[s][o]]._isBlockedHeight||!1;n||(i=t._top[s])}else 0==this.polyObj[t._top[s]]._collapsed&&(this.polyObj[t._top[s]]._isBlockedHeight||(i=t._top[s]));for(var l=null,s=0;s<t._bottom.length;s++)if(null==l)if("object"==typeof t._bottom[s]){for(n=!1,o=0;o<t._bottom[s].length;o++)n=n||this.polyObj[t._bottom[s][o]]._isBlockedHeight||!1;n||(l=t._bottom[s])}else 0==this.polyObj[t._bottom[s]]._collapsed&&(this.polyObj[t._bottom[s]]._isBlockedHeight||(l=t._bottom[s]));if(null==i||null==l)return e;if("string"==typeof i&&(i=Array(i)),"string"==typeof l&&(l=Array(l)),e[0]=i,e[1]=l,this._checkAlterMinSize(e),this._minHBAlter=this._minHTAlter=0,this._alterSizes.length>0&&1==this._effects.resize){for(var h=[],r=[],s=0;s<i.length;s++)h[s]=this.polyObj[i[s]];for(s=0;s<l.length;s++)r[s]=this.polyObj[l[s]];for(s=0;s<h.length;s++)for(o=0;o<this._alterSizes.length;o++)this._alterSizes[o][0]==h[s]._idd&&this._minHTAlter<this._alterSizes[o][2]&&(this._minHTAlter=this._alterSizes[o][2]);for(s=0;s<r.length;s++)for(o=0;o<this._alterSizes.length;o++)this._alterSizes[o][0]==r[s]._idd&&this._minHBAlter<this._alterSizes[o][2]&&(this._minHBAlter=this._alterSizes[o][2])}return e},this._resizeVer=function(t){if(this._isIPad&&t.preventDefault(),null!=this._resObj&&null!=this._anyExpL&&null!=this._anyExpR){this._showCovers();var e=this._isIPad?t.touches[0].clientX:t.clientX;if(0==this._effects.resize){this._resX=e;var i=e-this._resXStart;-i>this._resXMaxWidthLeft&&0>i&&(i=-this._resXMaxWidthLeft,this._resX=i+this._resXStart),i>this._resXMaxWidthRight&&i>0&&(i=this._resXMaxWidthRight,this._resX=i+this._resXStart),this.sizer.style.left=this.sizer._leftXStart+i+"px"}else{for(var n=this._anyExpL,o=this._anyExpR,l=e,i=e-s._resX,h=[],r=[],a=0;a<n.length;a++)h[a]=this.polyObj[n[a]];for(a=0;a<o.length;a++)r[a]=this.polyObj[o[a]];var d=parseInt(h[0].style.width),c=parseInt(r[0].style.width);if(0>i){var u=d+i;if(u>h[0]._minW&&u>this._minWLAlter){for(var _=c+d-u,a=0;a<h.length;a++)this._setW(h[a],u);for(a=0;a<r.length;a++)this._setW(r[a],_);this._resX=l}}else if(i>0&&(_=c-i,_>r[0]._minW&&_>this._minWRAlter)){for(u=d+c-_,a=0;a<h.length;a++)this._setW(h[a],u);for(a=0;a<r.length;a++)this._setW(r[a],_);this._resX=l}}}},this._resizeHor=function(t){if(null!=this._resObj&&null!=this._anyExpT&&null!=this._anyExpB){this._showCovers();var e=this._isIPad?t.touches[0].clientY:t.clientY;if(0==this._effects.resize){this._resY=e;var i=e-this._resYStart;-i>this._resYMaxHeightTop&&0>i&&(i=-this._resYMaxHeightTop,this._resY=i+this._resYStart),i>this._resYMaxHeightBottom&&i>0&&(i=this._resYMaxHeightBottom,this._resY=i+this._resYStart),this.sizer.style.top=this.sizer._topYStart+i+"px"}else{for(var n=this._anyExpT,o=this._anyExpB,l=e,i=e-s._resY,h=[],r=[],a=0;a<n.length;a++)h[a]=this.polyObj[n[a]];for(a=0;a<o.length;a++)r[a]=this.polyObj[o[a]];var d=parseInt(h[0].style.height),c=parseInt(r[0].style.height);if(0>i){var u=d+i;if(u>h[0]._minH+this._minHTAlter){for(var _=c+d-u,a=0;a<h.length;a++)this._setH(h[a],u);for(a=0;a<r.length;a++)this._setH(r[a],_);this._resY=l}}else if(i>0&&(_=c-i,_>r[0]._minH+this._minHBAlter)){for(u=d+c-_,a=0;a<h.length;a++)this._setH(h[a],u);for(a=0;a<r.length;a++)this._setH(r[a],_);this._resY=l}}}},this._resizeStop=function(){var t=document.body.className;if((-1!==t.search("dhxCursorWResize")||-1!==t.search("dhxCursorNResize"))&&(document.body.className=String(document.body.className).replace(/dhxCursorWResize/g,"").replace(/dhxCursorNResize/g,"")),null!=this._resObj)if(0==this._effects.resize){if(this.sizer.style.display="none","hor"==this._resObj._dir){var e="object"==typeof this._anyExpT[0]?this._anyExpT[0][0]:this._anyExpT[0],i=this._resY-this._resYStart,s=parseInt(this.polyObj[e].style.height)+i;
this._setHeight(e,s)}else{var n="object"==typeof this._anyExpL[0]?this._anyExpL[0][0]:this._anyExpL[0],o=this._resX-this._resXStart,l=parseInt(this.polyObj[n].style.width)+o;this._setWidth(n,l)}var h={},r=function(t){if(null!=t)for(var e=0;e<t.length;e++)"object"==typeof t[e]&&r(t[e]),h[t[e]]=!0};r(this._anyExpT),r(this._anyExpB),r(this._anyExpL),r(this._anyExpR);var a,d=[];for(a in h)d[d.length]=a;"object"==typeof this._anyExpT&&null!=this._anyExpT&&(this.updateNestedObjectsArray(this._anyExpT),this._anyExpT=null),"object"==typeof this._anyExpB&&null!=this._anyExpB&&(this.updateNestedObjectsArray(this._anyExpB),this._anyExpB=null),"object"==typeof this._anyExpL&&null!=this._anyExpL&&(this.updateNestedObjectsArray(this._anyExpL),this._anyExpL=null),"object"==typeof this._anyExpR&&null!=this._anyExpR&&(this.updateNestedObjectsArray(this._anyExpR),this._anyExpR=null),this._resFunc=this._resObj=null,this._hideCovers(),this._fixToolbars(),this._fixCollapsedText(),this.callEvent("onPanelResizeFinish",[d])}else{var c=[];if(null!=this._resObj._left)for(var u=0;u<this._resObj._left.length;u++)c[c.length]=this._resObj._left[u];if(null!=this._resObj._right)for(u=0;u<this._resObj._right.length;u++)c[c.length]=this._resObj._right[u];if(null!=this._resObj._top)for(u=0;u<this._resObj._top.length;u++)c[c.length]=this._resObj._top[u];if(null!=this._resObj._bottom)for(u=0;u<this._resObj._bottom.length;u++)c[c.length]=this._resObj._bottom[u];this._resObj=this._resFunc=null,this._hideCovers();for(var _=[],u=0;u<c.length;u++)if("object"==typeof c[u])for(var p=0;p<c[u].length;p++)_[_.length]=this.polyObj[c[u][p]];else _[_.length]=this.polyObj[c[u]];for(u=0;u<_.length;u++)_[u].updateNestedObjects();this._fixCollapsedText(),this.callEvent("onPanelResizeFinish",[])}},this._showCovers=function(){if(!this._cv){for(var t in this.polyObj)this._effects.highlight&&this._isResizable(t)&&this.polyObj[t].showCoverBlocker();this._fixToolbars(),this._cv=!0}},this._hideCovers=function(){if(this._cv){for(var t in this.polyObj)this.polyObj[t].hideCoverBlocker();this._fixToolbars(),this._cv=!1}},this._isResizable=function(t){for(var e=!1,i=0;i<this._resAreaData.length;i++)e=e||this._resAreaData[i]==t;return e},this._collectResAreaData=function(t){for(var e=0;e<t.length;e++)"string"==typeof t[e]?this._resAreaData[this._resAreaData.length]=t[e]:"object"==typeof t[e]&&this._collectResAreaData(t[e])},this._doOnDoubleClick=function(t){if(null!=t._dblClick&&null!=this.polyObj[t._dblClick]&&!this.polyObj[t._dblClick]._noHeader){var e=this.polyObj[t._dblClick];if("none"!=e.childNodes[0].style.display)return 1==e._collapsed?this._doExpand(e._resize,t._dblClick,e._rowData,"hide"):(e._savedW=parseInt(e.style.width),e._savedH=parseInt(e.style.height),this._doCollapse(e._resize,t._dblClick,e._rowData,"hide")),!0}},this._doOnSelectStart=function(t){t=t||event,null!=s._resObj&&(t.returnValue=!1)},this._doOnMouseMove=function(t){t=t||event,null!=s._resObj&&null!=s._resFunc&&s._resFunc(t)},this._doOnMouseUp=function(){s._resizeStop()},this._isIPad?(document.addEventListener("touchmove",s._doOnMouseMove,!1),document.addEventListener("touchend",s._doOnMouseUp,!1)):"undefined"!=typeof window.addEventListener?(document.body.addEventListener("mousemove",s._doOnMouseMove,!1),document.body.addEventListener("mouseup",s._doOnMouseUp,!1)):(document.body.attachEvent("onselectstart",s._doOnSelectStart),document.body.attachEvent("onmousemove",s._doOnMouseMove),document.body.attachEvent("onmouseup",s._doOnMouseUp)),this._doExpand=function(t,e,i,s){if(!(i.length<=1)){for(var n=-1,o=0;o<i.length;o++)i[o]==e&&(n=o);if(-1!=n){for(var l=null,o=n+1;o<i.length;o++)null==l&&("string"==typeof i[o]?0==this.polyObj[i[o]]._collapsed&&(l=i[o]):l=i[o]);if(null==l)for(o=n-1;o>=0;o--)null==l&&("string"==typeof i[o]?0==this.polyObj[i[o]]._collapsed&&(l=i[o]):l=i[o]);if(null!=l){if("object"!=typeof l&&(l=Array(l)),"hor"==t){for(var h=65536,o=0;o<l.length;o++){var r=null!=this.polyObj[l[o]].vs[this.polyObj[l[o]].av].layout?this.polyObj[l[o]].vs[this.polyObj[l[o]].av].layout._defineWindowMinDimension(this.polyObj[l[o]],!0):[0,0],a=parseInt(this.polyObj[l[o]].style.width)-this._minWidth-r[1];h>a&&(h=a)}var d=this.polyObj[e]._savedW;if(d>h&&(d=h),d<this._minWidth)return;var c=Math.round(d/3)}else{for(h=65536,o=0;o<l.length;o++)r=null!=this.polyObj[l[o]].vs[this.polyObj[l[o]].av].layout?this.polyObj[l[o]].vs[this.polyObj[l[o]].av].layout._defineWindowMinDimension(this.polyObj[l[o]],!0):[0,0,0],a=parseInt(this.polyObj[l[o]].style.height)-this._minHeight-r[2],h>a&&(h=a);if(d=this.polyObj[e]._savedH,d>h&&(d=h),d<this._minHeight)return;c=Math.round(d/3)}this.polyObj[e].childNodes[0].childNodes[1].style.display="",this.polyObj[e].childNodes[0].childNodes[0].className="dhtmlxPolyInfoBar",this.polyObj[e].childNodes[0].childNodes[0].childNodes[1].style.display="",this.polyObj[e].childNodes[0].childNodes[0].childNodes[2].style.display="",this.polyObj[e].childNodes[0].childNodes[0].childNodes[4].style.display="";for(var u=[],o=0;o<l.length;o++)u[o]=this.polyObj[l[o]];"dhtmlxLayoutSinglePolyTabbarCollapsed"==this.polyObj[e].className&&(this.polyObj[e].className="dhtmlxLayoutSinglePolyTabbar"),this._expandEffect(this.polyObj[e],u,d,s,1==this._effects.collapse?c:1e6,t)}}}},this._doCollapse=function(t,e,i,s){if(!(i.length<=1)){for(var n=-1,o=0;o<i.length;o++)i[o]==e&&(n=o);if(-1!=n){for(var l=null,o=n+1;o<i.length;o++)null==l&&("string"==typeof i[o]?0==this.polyObj[i[o]]._collapsed&&(l=i[o]):l=i[o]);if(null==l)for(o=n-1;o>=0;o--)null==l&&("string"==typeof i[o]?0==this.polyObj[i[o]]._collapsed&&(l=i[o]):l=i[o]);if(null==l&&null!=i[n+1]&&(l=i[n+1]),null==l&&n-1>=0&&null!=i[n-1]&&(l=i[n-1]),null!=l){"object"!=typeof l&&(1==this.polyObj[l]._collapsed&&(this.polyObj[l].childNodes[0].childNodes[1].style.display="",this.polyObj[l]._collapsed=!1,this.polyObj[l].childNodes[0].childNodes[0].className="dhtmlxPolyInfoBar",this.polyObj[l].childNodes[0].childNodes[0].childNodes[1].style.display="",this.polyObj[l].childNodes[0].childNodes[0].childNodes[4].title=this.i18n.collapse,this.polyObj[l].childNodes[0].childNodes[0].childNodes[2].style.display="",this.polyObj[l].childNodes[0].childNodes[0].childNodes[3].style.display="none",this.polyObj[l].childNodes[0].childNodes[0].childNodes[4].style.display="",this.polyObj[l]._isUnDocked===!0&&this.dockWindow(l),"dhtmlxLayoutSinglePolyTabbarCollapsed"==this.polyObj[l].className&&(this.polyObj[l].className="dhtmlxLayoutSinglePolyTabbar"),this._fixSplitters(),this._fixIcons(),this.polyObj[l].removeAttribute("title"),this._fixToolbars(),this._fixCollapsedText(),this.callEvent("onExpand",[l])),l=Array(l));for(var h=[],o=0;o<l.length;o++)h[o]=this.polyObj[l[o]];var r=Math.round("hor"==t?Math.max(this.polyObj[e].offsetWidth,this.polyObj[l[0]].offsetWidth)/3:Math.max(this.polyObj[e].offsetHeight,this.polyObj[l[0]].offsetHeight)/3);this.polyObj[e].childNodes[0].childNodes[1].style.display="none",this._collapseEffect(this.polyObj[e],h,s,1==this._effects.collapse?r:1e6,t)}}}},this.setEffect=function(t,e){null!=this._effects[t]&&"boolean"==typeof e&&(this._effects[t]=e)},this.getEffect=function(t){return null!=this._effects[t]?this._effects[t]:null},this._expandEffect=function(t,e,i,n,o,l){if("hor"==l)var h=parseInt(t.style.width),r=parseInt(e[0].style.width);else h=parseInt(t.style.height),r=parseInt(e[0].style.height);var a=h+o;a>i&&(a=i),"hor"==l?(t.style.width=a+"px",t.childNodes[0].style.width=t.style.width):(t.style.height=a+"px",t.childNodes[0].style.height=t.style.height),t.adjustContent(t.childNodes[0],t._noHeader?0:this.skinParams[this.skin].cpanel_height);for(var d=0;d<e.length;d++)"hor"==l?(e[d].style.width=r+h-a+"px",e[d].childNodes[0].style.width=e[d].style.width):(e[d].style.height=r+h-a+"px",e[d].childNodes[0].style.height=e[d].style.height),e[d].adjustContent(e[d].childNodes[0],e[d]._noHeader?0:this.skinParams[this.skin].cpanel_height);if(a!=i)window.setTimeout(function(){s._expandEffect(t,e,i,n,o,l)},4);else{for(t._collapsed=!1,d=0;d<e.length;d++)e[d].updateNestedObjects();this.polyObj[t._idd].updateNestedObjects(),this.polyObj[t._idd].childNodes[0].childNodes[0].childNodes[4].title=this.i18n.collapse,this._fixSplitters(),this._fixIcons(),t.removeAttribute("title"),this._fixToolbars(),this._fixCollapsedText(),this.callEvent("onExpand",[t._idd])}},this._collapseEffect=function(t,e,i,n,o){if("hor"==o)var l=parseInt(t.style.width),h=parseInt(e[0].style.width);else l=parseInt(t.style.height),h=parseInt(e[0].style.height);var r=l-n;"hor"==o?(r<this._collapsedW&&(r=this._collapsedW),t.style.width=r+"px",t.childNodes[0].style.width=t.style.width):(r<this._collapsedH&&(r=this._collapsedH),t.style.height=r+"px",t.childNodes[0].style.height=t.style.height);for(var a=0;a<e.length;a++)"hor"==o?(e[a].style.width=h+(l-r)+"px",e[a].childNodes[0].style.width=e[a].style.width):(e[a].style.height=h+(l-r)+"px",e[a].childNodes[0].style.height=e[a].style.height),e[a].adjustContent(e[a].childNodes[0],e[a]._noHeader?0:this.skinParams[this.skin].cpanel_height);if(r>this._collapsedW&&"hor"==o||r>this._collapsedH&&"ver"==o)window.setTimeout(function(){s._collapseEffect(t,e,i,n,o)},4);else{for(a=0;a<e.length;a++)"hor"==o?(e[a].style.width=h+(l-r)+"px",e[a].childNodes[0].style.width=e[a].style.width):(e[a].style.height=h+(l-r)+"px",e[a].childNodes[0].style.height=e[a].style.height),e[a].adjustContent(e[a].childNodes[0],e[a]._noHeader?0:this.skinParams[this.skin].cpanel_height);for(t._collapsed=!0,t.childNodes[0].childNodes[0].className="hor"==o?"dhtmlxPolyInfoBarCollapsedVer":"dhtmlxPolyInfoBarCollapsedHor",a=0;a<e.length;a++)e[a].updateNestedObjects();"hide"==i?(t.childNodes[0].childNodes[0].childNodes[1].style.display="",t.childNodes[0].childNodes[0].childNodes[2].style.display="none",t.childNodes[0].childNodes[0].childNodes[3].style.display="none",t.childNodes[0].childNodes[0].childNodes[4].style.display=""):(t.childNodes[0].childNodes[0].childNodes[1].style.display="",t.childNodes[0].childNodes[0].childNodes[2].style.display="",t.childNodes[0].childNodes[0].childNodes[3].style.display="none",t.childNodes[0].childNodes[0].childNodes[4].style.display="none"),"dhtmlxLayoutSinglePolyTabbar"==t.className&&(t.className="dhtmlxLayoutSinglePolyTabbarCollapsed"),this.polyObj[t._idd].childNodes[0].childNodes[0].childNodes[4].title=this.i18n.expand,this._fixSplitters(),this._fixIcons(),t.title=this.getTextTooltip(t._idd),this._fixToolbars(),this._fixCollapsedText(),this.callEvent("onCollapse",[t._idd])}},this._setW=function(t,e){t.style.width=e+"px",t.childNodes[0].style.width=t.style.width,t.adjustContent(t.childNodes[0],t._noHeader?0:this.skinParams[this.skin].cpanel_height)},this._setH=function(t,e){t.style.height=e+"px",t.childNodes[0].style.height=t.style.height,t.adjustContent(t.childNodes[0],t._noHeader?0:this.skinParams[this.skin].cpanel_height)},this._setWidth=function(t,e){if(null!=this.polyObj[t]&&Number(e)){for(var i=null,s=0;s<this.sepVer.length;s++){var n=this.sepVer[s]._left;if(n[n.length-1]==t)i=[this.sepVer[s],"left"];else if("object"==typeof n[n.length-1])for(var o=n[n.length-1],l=0;l<o.length;l++)o[l]==t&&(i=[this.sepVer[s],"left"]);if(n=this.sepVer[s]._right,n[0]==t)i=[this.sepVer[s],"right"];else if("object"==typeof n[0])for(o=n[0],l=0;l<o.length;l++)o[l]==t&&(i=[this.sepVer[s],"right"])}if(null!=i){var h=this._findDockCellsVer(i[0]),r=h[0],a=h[1];if(null!=r&&null!=a){var d=parseInt(this.polyObj[r[0]].style.width)+parseInt(this.polyObj[a[0]].style.width);e<this._minWidth?e=this._minWidth:e>d-this._minWidth&&(e=d-this._minWidth);for(var c=d-e,s=0;s<r.length;s++)this._setW(this.polyObj[r[s]],"left"==i[1]?e:c),this.polyObj[r[s]].updateNestedObjects();for(s=0;s<a.length;s++)this._setW(this.polyObj[a[s]],"right"==i[1]?e:c),this.polyObj[a[s]].updateNestedObjects()}}}},this._setHeight=function(t,e){if(null!=this.polyObj[t]&&Number(e)){for(var i=null,s=0;s<this.sepHor.length;s++){var n=this.sepHor[s]._top;if(n[n.length-1]==t)i=[this.sepHor[s],"top"];else if("object"==typeof n[n.length-1])for(var o=n[n.length-1],l=0;l<o.length;l++)o[l]==t&&(i=[this.sepHor[s],"top"]);if(n=this.sepHor[s]._bottom,n[0]==t)i=[this.sepHor[s],"bottom"];else if("object"==typeof n[0])for(o=n[0],l=0;l<o.length;l++)o[l]==t&&(i=[this.sepHor[s],"bottom"])}if(null!=i){var h=this._findDockCellsHor(i[0]),r=h[0],a=h[1];if(null!=r&&null!=a){var d=parseInt(this.polyObj[r[0]].style.height)+parseInt(this.polyObj[a[0]].style.height);e<this._minHeight?e=this._minHeight:e>d-this._minHeight&&(e=d-this._minHeight);for(var c=d-e,s=0;s<r.length;s++)this._setH(this.polyObj[r[s]],"top"==i[1]?e:c),this.polyObj[r[s]].updateNestedObjects();for(s=0;s<a.length;s++)this._setH(this.polyObj[a[s]],"bottom"==i[1]?e:c),this.polyObj[a[s]].updateNestedObjects()}}}},this.updateNestedObjectsArray=function(t){for(var e=0;e<t.length;e++)"object"==typeof t[e]?this.updateNestedObjectsArray(t[e]):this.polyObj[t[e]].updateNestedObjects()},this.dockWindow=function(t){this.dhxWins&&this.dhxWins.window(this.dhxWinsIdPrefix+t)&&(this.dhxWins.window(this.dhxWinsIdPrefix+t).close(),this.dhxWins.window(this.dhxWinsIdPrefix+t).moveContentTo(this.polyObj[t]),this.polyObj[t]._isUnDocked=!1,this.callEvent("onDock",[t]))},this.unDockWindow=function(t){this._initWindows(t),this.polyObj[t].moveContentTo(this.dhxWins.window(this.dhxWinsIdPrefix+t)),this.polyObj[t]._isUnDocked=!0,this.callEvent("onUnDock",[t])},this._initWindows=function(t){if(window.dhtmlXWindows){if(!this.dhxWins&&(this.dhxWins=new dhtmlXWindows,this.dhxWins.setSkin(this.skin),this.dhxWins.setImagePath(this.imagePath),this.dhxWinsIdPrefix="",!t))return;var e=this.dhxWinsIdPrefix+t;if(this.dhxWins.window(e))this.dhxWins.window(e).show();else{var i=this,s=this.dhxWins.createWindow(e,20,20,320,200);s.setText(this.polyObj[t].getText()),s.button("close").hide(),s.attachEvent("onClose",function(t){t.hide()}),s.button("dock").show(),s.button("dock").attachEvent("onClick",function(){i.polyObj[t].dock()}),s.dockedCell=this.polyObj[t]}}},this.isPanelVisible=function(t){return!this.polyObj[t]._noHeader},this.showPanel=function(t){if(null!=this.polyObj[t]&&1!=this.polyObj[t]._collapsed){var e=this.polyObj[t].childNodes[0].childNodes[0];e.style.display="",this.polyObj[t]._noHeader=!1,"dhx_web"==this.skin&&this.polyObj[t]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_layout_dhx_web"),"dhx_terrace"==this.skin&&this.polyObj[t]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_layout_dhx_terrace"),this.polyObj[t].adjustContent(this.polyObj[t].childNodes[0],this.skinParams[this.skin].cpanel_height),this.polyObj[t].updateNestedObjects()}},this.hidePanel=function(t){if(null!=this.polyObj[t]&&1!=this.polyObj[t]._collapsed){var e=this.polyObj[t].childNodes[0].childNodes[0];e.style.display="none",this.polyObj[t]._noHeader=!0,"dhx_web"==this.skin&&this.polyObj[t]._setPadding(this.skinParams[this.skin].cell_pading_min,""),"dhx_terrace"==this.skin&&this.polyObj[t]._setPadding(this.skinParams[this.skin].cell_pading_min,""),this.polyObj[t].adjustContent(this.polyObj[t].childNodes[0],0),this.polyObj[t].updateNestedObjects()}},this.setText=function(t,e){this._changeCPanelText(t,e)},this.getText=function(t){return this.polyObj[t].childNodes[0].childNodes[0].childNodes[0].innerHTML},this.getTextTooltip=function(t){var e=this.polyObj[t].childNodes[0].childNodes[0].childNodes[0];return e.innerText||e.textContent},this._changeCPanelText=function(t,e){var i=s;null!=i.polyObj[t]&&(i.polyObj[t].childNodes[0].childNodes[0].childNodes[0].innerHTML=e,null!=s.dhxWins&&null!=s.dhxWins.window(s.dhxWinsIdPrefix+t)&&s.dhxWins.window(s.dhxWinsIdPrefix+t).setText(e))},this.forEachItem=function(t){for(var e=0;e<this.items.length;e++)t(this.items[e])},this._fixPositionInWin=function(t,e){this.base.style.width=t+"px",this.base.style.height=e+"px"},this.attachMenu=function(){return this.base._isWindow?this.menu=this.base._window.attachMenu():(this.cont.obj.skin=this.skin,this.menu=this.cont.obj.attachMenu(),this.cont.obj.adjustContent(this.cont.obj,0),this.setSizes()),this.menu},this.detachMenu=function(){this.menu&&(this.cont.obj.detachMenu(),this.setSizes(),this.menu=null)},this.showMenu=function(){this.menu&&(this.cont.obj.showMenu(),this.setSizes())},this.hideMenu=function(){this.menu&&(this.cont.obj.hideMenu(),this.setSizes())},this.attachToolbar=function(){return this.base._isWindow?this.toolbar=this.base._window.attachToolbar():(this.cont.obj.skin=this.skin,this.toolbar=this.cont.obj.attachToolbar(),this.cont.obj.adjustContent(this.cont.obj,0),this.setSizes()),this.toolbar},this.detachToolbar=function(){this.toolbar&&(this.cont.obj.detachToolbar(),this.setSizes(),this.toolbar=null)},this.showToolbar=function(){this.toolbar&&(this.cont.obj.showToolbar(),this.setSizes())},this.hideToolbar=function(){this.toolbar&&(this.cont.obj.hideToolbar(),this.setSizes())},this.attachStatusBar=function(){return this.base._isWindow?this.statusbar=this.base._window.attachStatusBar():(this.statusbar=this.cont.obj.attachStatusBar(),this.cont.obj.adjustContent(this.cont.obj,0),this.setSizes()),this.statusbar},this.detachStatusBar=function(){this.statusbar&&(this.cont.obj.detachStatusBar(),this.setSizes(),this.statusbar=null)},this.showStatusBar=function(){this.statusbar&&(this.cont.obj.showStatusBar(),this.setSizes())},this.hideStatusBar=function(){this.statusbar&&(this.cont.obj.hideStatusBar(),this.setSizes())},this.progressOn=function(){this._progressControlGlobal(!0)},this.progressOff=function(){this._progressControlGlobal(!1)},this._progressControl=function(t,e){if(null!=this.polyObj[t]){if(null==this.polyObj[t]._progressCover){var i=document.createElement("DIV");i.className="dhtmlxLayoutPolyProgress",this.polyObj[t].childNodes[0].appendChild(i);var s=document.createElement("DIV");s.className="dhtmlxLayoutPolyProgressBGIMG",this.polyObj[t].childNodes[0].appendChild(s),this.polyObj[t]._progressCover=[i,s]}this.polyObj[t]._progressCover[0].style.display=1==e?"":"none",this.polyObj[t]._progressCover[1].style.display=this.polyObj[t]._progressCover[0].style.display}},this._progressControlGlobal=function(t){if(null==this._progressCover){var e=document.createElement("DIV");e.className="dhtmlxLayoutPolyProgressGlobal_"+this.skin,this.obj.appendChild(e);var i=document.createElement("DIV");i.className="dhtmlxLayoutPolyProgressBGIMGGlobal_"+this.skin,this.obj.appendChild(i),this._progressCover=[e,i]}this._progressCover[0].style.display=1==t?"":"none",this._progressCover[1].style.display=this._progressCover[0].style.display},this._fixSize=function(t,e,i){null!=this.polyObj[t]&&(this.polyObj[t]._isBlockedWidth=e,this.polyObj[t]._isBlockedHeight=i,this._fixSplitters())},this._fixSplitters=function(){for(var t=0;t<this.sepVer.length;t++){var e=this._findDockCellsVer(this.sepVer[t]);null==e[0]||null==e[1]?"dhtmlxLayoutPolySplitterVerInactive"!=this.sepVer[t].className&&(this.sepVer[t].className="dhtmlxLayoutPolySplitterVerInactive"):"dhtmlxLayoutPolySplitterVer"!=this.sepVer[t].className&&(this.sepVer[t].className="dhtmlxLayoutPolySplitterVer")}for(t=0;t<this.sepHor.length;t++)e=this._findDockCellsHor(this.sepHor[t]),null==e[0]||null==e[1]?"dhtmlxLayoutPolySplitterHorInactive"!=this.sepHor[t].className&&(this.sepHor[t].className="dhtmlxLayoutPolySplitterHorInactive"):"dhtmlxLayoutPolySplitterHor"!=this.sepHor[t].className&&(this.sepHor[t].className="dhtmlxLayoutPolySplitterHor")},this._fixIcons=function(){for(var t in this.polyObj){for(var e=this.polyObj[t]._rowData,i=this.polyObj[t]._collapsed,s=-1,n=0;n<e.length;n++)"object"!=typeof e[n]&&e[n]==t&&(s=n);var o=null;if(-1!=s){for(n=s+1;n<e.length;n++)"object"==typeof e[n]?o="ver"==this.polyObj[t]._resize?i?"b":"t":i?"r":"l":0==this.polyObj[e[n]]._collapsed&&(o="ver"==this.polyObj[t]._resize?i?"b":"t":i?"r":"l");if(null==o&&s>=1)for(n=s-1;n>=0;n--)"object"==typeof e[n]?o="ver"==this.polyObj[t]._resize?i?"t":"b":i?"l":"r":0==this.polyObj[e[n]]._collapsed&&(o="ver"==this.polyObj[t]._resize?i?"t":"b":i?"l":"r")}if(null!=o){var l=this.polyObj[t]._resize;this.polyObj[t].childNodes[0].childNodes[0].childNodes[4].className="dhtmlxInfoButtonShowHide_"+l+" dhxLayoutButton_"+this.skin+"_"+l+(this.polyObj[t]._collapsed?"2":"1")+o}}},this._defineWindowMinDimension=function(t,e){if(1==e){var i=[];i[0]=parseInt(t.style.width),i[1]=parseInt(t.style.height)}else i=t.getDimension(),"100%"==i[0]&&(i[0]=t.offsetWidth),"100%"==i[1]&&(i[1]=t.offsetHeight);var n=s._getNearestParents("hor"),o=s._getNearestParents("ver");if(!e){var l,h=[],r=[];for(l in n)h[h.length]=l;for(l in o)r[r.length]=l;s._checkAlterMinSize([h,r]);for(var a={},d={},c=0;c<s._alterSizes.length;c++){l=s._alterSizes[c][0];var u=s._alterSizes[c][1],_=s._alterSizes[c][2];null==a[l]?a[l]=u:u>a[l]&&(a[l]=u),null==d[l]?d[l]=_:_>d[l]&&(d[l]=_)}for(l in n)null!=a[l]&&(n[l]=n[l]-a[l]+s._minWidth);for(l in o)null!=d[l]&&(o[l]=o[l]-d[l]+s._minHeight-("none"!=s.polyObj[l].childNodes[0].style.display?s.skinParams[s.skin].cpanel_height:0))}var p=65536;for(l in n)n[l]<p&&(p=n[l]);p-=s._minWidth,p=i[0]-p,p<s._dimension[0]&&!e&&(p=s._dimension[0]);var f=65536;for(l in o)o[l]<f&&(f=o[l]);return f-=s._minHeight,f=i[1]-f,f<s._dimension[1]&&!e&&(f=s._dimension[1]),1==e?["",p,f]:void t.setMinDimension(p,f)},this._getNearestParents=function(t){for(var e="hor"==t?this._autoHor:this._autoVer,i={},s=0;s<e.length;s++){var n=e[s];if(1==this.polyObj[n]._collapsed&&this.polyObj[n]._resize==t){for(var o=this.polyObj[n]._rowData,l=-1,h=0;h<o.length;h++)"object"==typeof o[h]?l=h:o[h]==n&&(l=h);var r=l,n=null;if(l>0)for(h=l-1;h>=0;h--)"object"==typeof o[h]?n=o[h]:0==this.polyObj[o[h]]._collapsed&&null==n&&(n=o[h]);if(null==n)for(h=r;h<o.length;h++)"object"==typeof o[h]?n=o[h]:0==this.polyObj[o[h]]._collapsed&&null==n&&(n=o[h])}if(null!=n)for("string"==typeof n&&(n=Array(n)),h=0;h<n.length;h++)i[n[h]]=parseInt("hor"==t?this.polyObj[n[h]].style.width:this.polyObj[n[h]].style.height)}return i},this.setSizes=function(t){var e=this._defineWindowMinDimension(this.base,!0);if(this.cont.obj.setMinContentSize(e[1],e[2]),this.cont.obj.adjustContent(this.cont.obj,0),this.base.offsetParent){this.cont&&t!==!1&&this.cont.obj.adjustContent(this.cont.obj,this._mTop,null,null,this._mBottom);var i=this.base.offsetParent.offsetWidth-this.base.offsetWidth+(null!=this._baseWFix?this._baseWFix:0),s=this.base.offsetParent.offsetHeight-this.base.offsetHeight+(null!=this._baseHFix?this._baseHFix:0);this.base.style.width=parseInt(this.base.style.width)+i+"px",this.base.style.height=parseInt(this.base.style.height)+s+"px";var n,o={};for(n in this._getNearestParents("hor"))this.polyObj[n].style.width=Math.max(0,parseInt(this.polyObj[n].style.width)+i)+"px",this.polyObj[n].childNodes[0].style.width=this.polyObj[n].style.width,o[n]=1;for(n in this._getNearestParents("ver"))this.polyObj[n].style.height=Math.max(0,parseInt(this.polyObj[n].style.height)+s)+"px",this.polyObj[n].childNodes[0].style.height=this.polyObj[n].style.height,o[n]=1;for(n in o)this.polyObj[n].adjustContent(this.polyObj[n].childNodes[0],this.polyObj[n]._noHeader?0:this.skinParams[this.skin].cpanel_height),this.polyObj[n].updateNestedObjects();this._fixCollapsedText(),this.callEvent("onResizeFinish",[])}},dhtmlxEventable(this),this._init()}else alert(this.i18n.dhxcontalert)}function dhtmlXMenuObject(t,e){var i=this;if(this.addBaseIdAsContextZone=null,this.isDhtmlxMenuObject=!0,this.skin=null!=e?e:"undefined"!=typeof dhtmlx&&"string"==typeof dhtmlx.skin?dhtmlx.skin:"dhx_skyblue",this.imagePath="",this._isIE6=!1,_isIE&&(this._isIE6=null==window.XMLHttpRequest?!0:!1),null==t)this.base=document.body;else{var s="string"==typeof t?document.getElementById(t):t;if(null!=s){for(this.base=s,this.base.id||(this.base.id=(new Date).valueOf());this.base.childNodes.length>0;)this.base.removeChild(this.base.childNodes[0]);this.base.className+=" dhtmlxMenu_"+this.skin+"_Middle dir_left",this.base._autoSkinUpdate=!0,this.base.oncontextmenu&&(this.base._oldContextMenuHandler=this.base.oncontextmenu),this.addBaseIdAsContextZone=this.base.id,this.base.onselectstart=function(t){return t=t||event,t.returnValue=!1},this.base.oncontextmenu=function(t){return t=t||event,t.returnValue=!1}}else this.base=document.body}if(this.topId="dhxWebMenuTopId",!this.extendedModule){for(var n=function(){alert(this.i18n.dhxmenuextalert)},o="setItemEnabled,setItemDisabled,isItemEnabled,_changeItemState,getItemText,setItemText,loadFromHTML,hideItem,showItem,isItemHidden,_changeItemVisible,setUserData,getUserData,setOpenMode,setWebModeTimeout,enableDynamicLoading,_updateLoaderIcon,getItemImage,setItemImage,clearItemImage,setAutoShowMode,setAutoHideMode,setContextMenuHideAllMode,getContextMenuHideAllMode,setVisibleArea,setTooltip,getTooltip,setHotKey,getHotKey,setItemSelected,setTopText,setRTL,setAlign,setHref,clearHref,getCircuit,_clearAllSelectedSubItemsInPolygon,_checkArrowsState,_addUpArrow,_addDownArrow,_removeUpArrow,_removeDownArrow,_isArrowExists,_doScrollUp,_doScrollDown,_countPolygonItems,setOverflowHeight,_getRadioImgObj,_setRadioState,_radioOnClickHandler,getRadioChecked,setRadioChecked,addRadioButton,_getCheckboxState,_setCheckboxState,_readLevel,_updateCheckboxImage,_checkboxOnClickHandler,setCheckboxState,getCheckboxState,addCheckbox,serialize".split(","),l=0;l<o.length;l++)this[o[l]]||(this[o[l]]=n);o=null}return this.fixedPosition=!1,this.menuLastClicked=this.menuSelected=-1,this.idPrefix="",this.itemTagName="item",this.itemTextTagName="itemtext",this.userDataTagName="userdata",this.itemTipTagName="tooltip",this.itemHotKeyTagName="hotkey",this.itemHrefTagName="href",this.dirTopLevel="bottom",this.dirSubLevel="right",this.menuY2=this.menuY1=this.menuX2=this.menuX1=null,this.menuMode="web",this.menuTimeoutMsec=400,this.menuTimeoutHandler=null,this.autoOverflow=!1,this.idPull={},this.itemPull={},this.userData={},this.radio={},this._rtl=!1,this._align="left",this.menuTouched=!1,this.zInd=this.zIndInit=1200,this.zIndStep=50,this.menuModeTopLevelTimeout=!0,this.menuModeTopLevelTimeoutTime=200,this._topLevelBottomMargin=1,this._topLevelRightMargin=0,this._topLevelOffsetLeft=1,this._arrowFFFix=_isIE&&"BackCompat"==document.compatMode?0:-4,this.setSkin=function(t){var e=this.skin;switch(this.skin=t,this.skin){case"dhx_black":case"dhx_blue":case"dhx_skyblue":case"dhx_web":this._topLevelBottomMargin=2,this._topLevelOffsetLeft=this._topLevelRightMargin=1,this._arrowFFFix=_isIE&&"BackCompat"==document.compatMode?0:-4;break;case"dhx_web":this._arrowFFFix=0;break;case"dhx_terrace":this._topLevelOffsetLeft=this._topLevelRightMargin=this._topLevelBottomMargin=0,this._arrowFFFix=_isIE&&"BackCompat"==document.compatMode?0:-4}this.base._autoSkinUpdate&&(this.base.className=this.base.className.replace("dhtmlxMenu_"+e+"_Middle","")+" dhtmlxMenu_"+this.skin+"_Middle");for(var i in this.idPull)this.idPull[i].className=String(this.idPull[i].className).replace(e,this.skin)},this.setSkin(this.skin),this.dLoad=!1,this.dLoadUrl="",this.dLoadSign="?",this.loaderIcon=!1,this.limit=0,this._scrollUpTM=null,this._scrollUpTMTime=20,this._scrollUpTMStep=3,this._scrollDownTM=null,this._scrollDownTMTime=20,this._scrollDownTMStep=3,this.context=!1,this.contextZones={},this.contextMenuZoneId=!1,this.contextHideAllMode=this.contextAutoHide=this.contextAutoShow=!0,this._selectedSubItems=[],this._openedPolygons=[],this._addSubItemToSelected=function(t,e){for(var i=!0,s=0;s<this._selectedSubItems.length;s++)this._selectedSubItems[s][0]==t&&this._selectedSubItems[s][1]==e&&(i=!1);return 1==i&&this._selectedSubItems.push([t,e]),i},this._removeSubItemFromSelected=function(t,e){for(var i=[],s=!1,n=0;n<this._selectedSubItems.length;n++)this._selectedSubItems[n][0]==t&&this._selectedSubItems[n][1]==e?s=!0:i[i.length]=this._selectedSubItems[n];return 1==s&&(this._selectedSubItems=i),s},this._getSubItemToDeselectByPolygon=function(t){for(var e=[],i=0;i<this._selectedSubItems.length;i++)if(this._selectedSubItems[i][1]==t){e[e.length]=this._selectedSubItems[i][0];for(var e=e.concat(this._getSubItemToDeselectByPolygon(this._selectedSubItems[i][0])),s=!0,n=0;n<this._openedPolygons.length;n++)this._openedPolygons[n]==this._selectedSubItems[i][0]&&(s=!1);1==s&&(this._openedPolygons[this._openedPolygons.length]=this._selectedSubItems[i][0]),this._selectedSubItems[i][0]=-1,this._selectedSubItems[i][1]=-1}return e},this._hidePolygon=function(t){if(null!=this.idPull["polygon_"+t]){if("undefined"!=typeof this._menuEffect&&this._menuEffect!==!1)this._hidePolygonEffect("polygon_"+t);else{if("none"==this.idPull["polygon_"+t].style.display)return;this.idPull["polygon_"+t].style.display="none",null!=this.idPull["arrowup_"+t]&&(this.idPull["arrowup_"+t].style.display="none"),null!=this.idPull["arrowdown_"+t]&&(this.idPull["arrowdown_"+t].style.display="none"),this._updateItemComplexState(t,!0,!1),this._isIE6&&null!=this.idPull["polygon_"+t+"_ie6cover"]&&(this.idPull["polygon_"+t+"_ie6cover"].style.display="none")}t=String(t).replace(this.idPrefix,""),t==this.topId&&(t=null),this.callEvent("onHide",[t]),null!=t&&"dhx_terrace"==this.skin&&this.itemPull[this.idPrefix+t].parent==this.idPrefix+this.topId&&this._improveTerraceButton(this.idPrefix+t,!0)}},this._showPolygon=function(t,e){var i=this._countVisiblePolygonItems(t);if(0!=i){var s="polygon_"+t;if(null!=this.idPull[s]&&null!=this.idPull[t]&&(!this.menuModeTopLevelTimeout||"web"!=this.menuMode||this.context||this.idPull[t]._mouseOver||e!=this.dirTopLevel)){this.fixedPosition||this._autoDetectVisibleArea();var n=0,o=0,l=null,h=null;if(this.idPull[s].style.visibility="hidden",this.idPull[s].style.left="0px",this.idPull[s].style.top="0px",this.idPull[s].style.display="",this.idPull[s].style.zIndex=this.zInd,this.autoOverflow)if(this.idPull[s].firstChild.offsetHeight>this.menuY1+this.menuY2){var r=Math.floor((this.menuY2-this.menuY1-35)/24);this.limit=r}else this.limit=0,null!=this.idPull["arrowup_"+t]&&this._removeUpArrow(String(t).replace(this.idPrefix,"")),null!=this.idPull["arrowdown_"+t]&&this._removeDownArrow(String(t).replace(this.idPrefix,""));if(this.limit>0&&this.limit<i&&(null==this.idPull["arrowup_"+t]&&this._addUpArrow(String(t).replace(this.idPrefix,"")),null==this.idPull["arrowdown_"+t]&&this._addDownArrow(String(t).replace(this.idPrefix,"")),l=this.idPull["arrowup_"+t],l.style.visibility="hidden",l.style.display="",l.style.zIndex=this.zInd,n=l.offsetHeight,h=this.idPull["arrowdown_"+t],h.style.visibility="hidden",h.style.display="",h.style.zIndex=this.zInd,o=h.offsetHeight),this.limit>0&&(this.limit<i?(this.idPull[s].style.height=24*this.limit+"px",this.idPull[s].scrollTop=0):this.idPull[s].style.height=""),this.zInd+=this.zIndStep,null!=this.itemPull[t])var a="polygon_"+this.itemPull[t].parent;else this.context&&(a=this.idPull[this.idPrefix+this.topId]);var d=null!=this.idPull[t].tagName?getAbsoluteLeft(this.idPull[t]):this.idPull[t][0],c=null!=this.idPull[t].tagName?getAbsoluteTop(this.idPull[t]):this.idPull[t][1],u=null!=this.idPull[t].tagName?this.idPull[t].offsetWidth:0,_=null!=this.idPull[t].tagName?this.idPull[t].offsetHeight:0,p=0,f=0,m=this.idPull[s].offsetWidth,g=this.idPull[s].offsetHeight+n+o;if("bottom"==e&&(p=this._rtl?d+(null!=u?u:0)-m:"right"==this._align?d+u-m:d-1+(e==this.dirTopLevel?this._topLevelRightMargin:0),f=c-1+_+this._topLevelBottomMargin),"right"==e&&(p=d+u-1,f=c+2),"left"==e&&(p=d-this.idPull[s].offsetWidth+2,f=c+2),"top"==e&&(p=d-1,f=c-g+2),this.fixedPosition)var b=65536,v=65536;else b=null!=this.menuX2?this.menuX2:0,v=null!=this.menuY2?this.menuY2:0,0==b&&(window.innerWidth?(b=window.innerWidth,v=window.innerHeight):(b=document.body.offsetWidth,v=document.body.scrollHeight));if(p+m>b&&!this._rtl&&(p=d-m+2),p<this.menuX1&&this._rtl&&(p=d+u-2),0>p&&(p=0),f+g>v&&null!=this.menuY2&&(f=Math.max(c+_-g+2,this._isVisibleArea?this.menuY1+2:2),this.context&&this.idPrefix+this.topId==t&&null!=h&&(f-=2),null!=this.itemPull[t]&&!this.context&&this.itemPull[t].parent==this.idPrefix+this.topId&&(f-=this.base.offsetHeight)),this.idPull[s].style.left=p+"px",this.idPull[s].style.top=f+n+"px","undefined"!=typeof this._menuEffect&&this._menuEffect!==!1)this._showPolygonEffect(s);
else if(this.idPull[s].style.visibility="",this.limit>0&&this.limit<i&&(l.style.left=p+"px",l.style.top=f+"px",l.style.width=m+this._arrowFFFix+"px",l.style.visibility="",h.style.left=p+"px",h.style.top=f+g-o+"px",h.style.width=m+this._arrowFFFix+"px",h.style.visibility="",this._checkArrowsState(t)),this._isIE6){var y=s+"_ie6cover";if(null==this.idPull[y]){var x=document.createElement("IFRAME");x.className="dhtmlxMenu_IE6CoverFix_"+this.skin,x.frameBorder=0,x.setAttribute("src","javascript:false;"),document.body.insertBefore(x,document.body.firstChild),this.idPull[y]=x}this.idPull[y].style.left=p+"px",this.idPull[y].style.top=f+"px",this.idPull[y].style.width=m+"px",this.idPull[y].style.height=g+"px",this.idPull[y].style.zIndex=this.idPull[s].style.zIndex-1,this.idPull[y].style.display=""}t=String(t).replace(this.idPrefix,""),t==this.topId&&(t=null),this.callEvent("onShow",[t]),null!=t&&"dhx_terrace"==this.skin&&this.itemPull[this.idPrefix+t].parent==this.idPrefix+this.topId&&this._improveTerraceButton(this.idPrefix+t,!1)}}},this._redistribSubLevelSelection=function(t,e){for(;this._openedPolygons.length>0;)this._openedPolygons.pop();var i=this._getSubItemToDeselectByPolygon(e);this._removeSubItemFromSelected(-1,-1);for(var s=0;s<i.length;s++)null!=this.idPull[i[s]]&&i[s]!=t&&"enabled"==this.itemPull[i[s]].state&&(this.idPull[i[s]].className="sub_item");for(s=0;s<this._openedPolygons.length;s++)this._openedPolygons[s]!=e&&this._hidePolygon(this._openedPolygons[s]);if("enabled"==this.itemPull[t].state){if(this.idPull[t].className="sub_item_selected",this.itemPull[t].complex&&this.dLoad&&"no"==this.itemPull[t].loaded){1==this.loaderIcon&&this._updateLoaderIcon(t,!0);var n=new dtmlXMLLoaderObject(this._xmlParser,window);this.itemPull[t].loaded="get",this.callEvent("onXLS",[]),n.loadXML(this.dLoadUrl+this.dLoadSign+"action=loadMenu&parentId="+t.replace(this.idPrefix,"")+"&etc="+(new Date).getTime())}(this.itemPull[t].complex||this.dLoad&&"yes"==this.itemPull[t].loaded)&&this.itemPull[t].complex&&null!=this.idPull["polygon_"+t]&&(this._updateItemComplexState(t,!0,!0),this._showPolygon(t,this.dirSubLevel)),this._addSubItemToSelected(t,e),this.menuSelected=t}},this._doOnClick=function(t,e,i){if(this.menuLastClicked=t,null!=this.itemPull[this.idPrefix+t].href_link&&"enabled"==this.itemPull[this.idPrefix+t].state){var s=document.createElement("FORM"),n=String(this.itemPull[this.idPrefix+t].href_link).split("?");if(s.action=n[0],null!=n[1])for(var o=String(n[1]).split("&"),l=0;l<o.length;l++){var h=String(o[l]).split("="),r=document.createElement("INPUT");r.type="hidden",r.name=h[0]||"",r.value=h[1]||"",s.appendChild(r)}null!=this.itemPull[this.idPrefix+t].href_target&&(s.target=this.itemPull[this.idPrefix+t].href_target),s.style.display="none",document.body.appendChild(s),s.submit(),null!=s&&(document.body.removeChild(s),s=null)}else if("c"!=e.charAt(0)&&"d"!=e.charAt(1)&&"s"!=e.charAt(2)){if(this.checkEvent("onClick"))this.callEvent("onClick",[t,this.contextMenuZoneId,i]);else if("d"==e.charAt(1)||"win"==this.menuMode&&"t"==e.charAt(2))return;this.context&&this._isContextMenuVisible()&&this.contextAutoHide?this._hideContextMenu():this._clearAndHide&&this._clearAndHide()}},this._doOnTouchMenu=function(t){0==this.menuTouched&&(this.menuTouched=!0,this.checkEvent("onTouch")&&this.callEvent("onTouch",[t]))},this._searchMenuNode=function(t,e){for(var i=[],s=0;s<e.length;s++)if("object"==typeof e[s]){5==e[s].length&&"object"!=typeof e[s][0]&&e[s][0].replace(this.idPrefix,"")==t&&0==s&&(i=e);var n=this._searchMenuNode(t,e[s]);n.length>0&&(i=n)}return i},this._getMenuNodes=function(t){var e,i=[];for(e in this.itemPull)this.itemPull[e].parent==t&&(i[i.length]=e);return i},this._genStr=function(t){for(var e="",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=0;t>s;s++)e+=i.charAt(Math.round(Math.random()*(i.length-1)));return e},this.getItemType=function(t){return t=this.idPrefix+t,null==this.itemPull[t]?null:this.itemPull[t].type},this.forEachItem=function(t){for(var e in this.itemPull)t(String(e).replace(this.idPrefix,""))},this._clearAndHide=function(){for(i.menuSelected=-1,i.menuLastClicked=-1;i._openedPolygons.length>0;)i._openedPolygons.pop();for(var t=0;t<i._selectedSubItems.length;t++){var e=i._selectedSubItems[t][0];null!=i.idPull[e]&&"enabled"==i.itemPull[e].state&&("sub_item_selected"==i.idPull[e].className&&(i.idPull[e].className="sub_item"),i.idPull[e].className=="dhtmlxMenu_"+i.skin+"_TopLevel_Item_Selected"&&(i.idPull[e].className=null!=i.itemPull[e].cssNormal?i.itemPull[e].cssNormal:"dhtmlxMenu_"+i.skin+"_TopLevel_Item_Normal")),i._hidePolygon(e)}i.menuTouched=!1,i.context&&(i.contextHideAllMode?(i._hidePolygon(i.idPrefix+i.topId),i.zInd=i.zIndInit):i.zInd=i.zIndInit+i.zIndStep)},this._doOnLoad=function(){},this.loadXML=function(t,e){e&&(this._doOnLoad=function(){e()}),this.callEvent("onXLS",[]),this._xmlLoader.loadXML(t)},this.loadXMLString=function(t,e){e&&(this._doOnLoad=function(){e()}),this._xmlLoader.loadXMLString(t)},this._buildMenu=function(t,e){for(var i=0,s=0;s<t.childNodes.length;s++)if(t.childNodes[s].tagName==this.itemTagName){var n=t.childNodes[s],o={};o.id=this.idPrefix+(n.getAttribute("id")||this._genStr(24)),o.title=n.getAttribute("text")||"",o.imgen=n.getAttribute("img")||"",o.imgdis=n.getAttribute("imgdis")||"",o.tip="",o.hotkey="",null!=n.getAttribute("cssNormal")&&(o.cssNormal=n.getAttribute("cssNormal")),o.type=n.getAttribute("type")||"item","checkbox"==o.type&&(o.checked=null!=n.getAttribute("checked"),o.imgen="chbx_"+(o.checked?"1":"0"),o.imgdis=o.imgen),"radio"==o.type&&(o.checked=null!=n.getAttribute("checked"),o.imgen="rdbt_"+(o.checked?"1":"0"),o.imgdis=o.imgen,o.group=n.getAttribute("group")||this._genStr(24),null==this.radio[o.group]&&(this.radio[o.group]=[]),this.radio[o.group][this.radio[o.group].length]=o.id),o.state=!(null==n.getAttribute("enabled")&&null==n.getAttribute("disabled")||"false"!=n.getAttribute("enabled")&&"true"!=n.getAttribute("disabled"))?"disabled":"enabled",o.parent=null!=e?e:this.idPrefix+this.topId,o.complex=this.dLoad?null!=n.getAttribute("complex")?!0:!1:this._buildMenu(n,o.id)>0,this.dLoad&&o.complex&&(o.loaded="no"),this.itemPull[o.id]=o;for(var l=0;l<n.childNodes.length;l++){var h=n.childNodes[l].tagName;if(null!=h&&(h=h.toLowerCase()),h==this.userDataTagName){var r=n.childNodes[l];null!=r.getAttribute("name")&&(this.userData[o.id+"_"+r.getAttribute("name")]=null!=r.firstChild&&null!=r.firstChild.nodeValue?r.firstChild.nodeValue:"")}h==this.itemTextTagName&&(o.title=n.childNodes[l].firstChild.nodeValue),h==this.itemTipTagName&&(o.tip=n.childNodes[l].firstChild.nodeValue),h==this.itemHotKeyTagName&&(o.hotkey=n.childNodes[l].firstChild.nodeValue),h==this.itemHrefTagName&&"item"==o.type&&(o.href_link=n.childNodes[l].firstChild.nodeValue,null!=n.childNodes[l].getAttribute("target")&&(o.href_target=n.childNodes[l].getAttribute("target")))}i++}return i},this._xmlParser=function(){if(i.dLoad){var t=this.getXMLTopNode("menu");if(parentId=null!=t.getAttribute("parentId")?t.getAttribute("parentId"):null,null==parentId)i._buildMenu(t,null),i._initTopLevelMenu();else{if(i._buildMenu(t,i.idPrefix+parentId),i._addSubMenuPolygon(i.idPrefix+parentId,i.idPrefix+parentId),i.menuSelected==i.idPrefix+parentId){var e=i.idPrefix+parentId,s=i.itemPull[i.idPrefix+parentId].parent==i.idPrefix+i.topId,n=s&&!i.context?i.dirTopLevel:i.dirSubLevel,o=!1;if(s&&i.menuModeTopLevelTimeout&&"web"==i.menuMode&&!i.context){var l=i.idPull[i.idPrefix+parentId];if(1==l._mouseOver){var h=i.menuModeTopLevelTimeoutTime-((new Date).getTime()-l._dynLoadTM);h>1&&(l._menuOpenTM=window.setTimeout(function(){i._showPolygon(e,n)},h),o=!0)}}o||i._showPolygon(e,n)}i.itemPull[i.idPrefix+parentId].loaded="yes",1==i.loaderIcon&&i._updateLoaderIcon(i.idPrefix+parentId,!1)}this.destructor(),i.callEvent("onXLE",[])}else t=this.getXMLTopNode("menu"),i._buildMenu(t,null),i.init(),i.callEvent("onXLE",[]),i._doOnLoad()},this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window),this._showSubLevelItem=function(t,e){null!=document.getElementById("arrow_"+this.idPrefix+t)&&(document.getElementById("arrow_"+this.idPrefix+t).style.display=e?"none":""),null!=document.getElementById("image_"+this.idPrefix+t)&&(document.getElementById("image_"+this.idPrefix+t).style.display=e?"none":""),null!=document.getElementById(this.idPrefix+t)&&(document.getElementById(this.idPrefix+t).style.display=e?"":"none")},this._hideSubLevelItem=function(t){this._showSubLevelItem(t,!0)},this.idPrefix=this._genStr(12),this._bodyClick=function(t){t=t||event,2==t.button||_isOpera&&1==t.ctrlKey||(i.context?i.contextAutoHide&&(!_isOpera||i._isContextMenuVisible()&&_isOpera)&&i._hideContextMenu():i._clearAndHide&&i._clearAndHide())},this._bodyContext=function(t){var t=t||event,e=String((t.srcElement||t.target).className);if(-1==e.search("dhtmlxMenu")||-1==e.search("SubLevelArea")){for(var s=!0,n=t.target||t.srcElement;null!=n;)null!=n.id&&i.isContextZone(n.id)&&(s=!1),n==document.body&&(s=!1),n=n.parentNode;s&&i.hideContextMenu()}},"undefined"!=typeof window.addEventListener?(window.addEventListener("click",this._bodyClick,!1),window.addEventListener("contextmenu",this._bodyContext,!1)):(document.body.attachEvent("onclick",this._bodyClick),document.body.attachEvent("oncontextmenu",this._bodyContext)),this._UID=this._genStr(32),dhtmlxMenuObjectLiveInstances[this._UID]=this,dhtmlxEventable(this),this}function dhtmlXPopup(t){var e=this;if(this.conf=t||{},t=null,this.mode=this.conf.mode||"bottom",this.p=document.createElement("DIV"),this.p.style.display="none",this.p.innerHTML="<div class='dhx_popup_area"+(_isIE?" dhx_popup_area_ie":"")+"'><table cellspacing='0' cellpadding='0' border='0' class='dhx_popup_table'><tbody></tbody></table></div><div class='dhx_popup_arrow dhx_popup_arrow_"+this.mode+"'></div>",document.body.appendChild(this.p),this.skinParams={dhx_terrace:{t0:19,t1:9,t2:19,t3:9},dhx_skyblue:{t0:12,t1:9,t2:12,t3:9},dhx_web:{t0:12,t1:9,t2:12,t3:9}},this.p.onclick=function(t){if(t=t||event,t.cancelBubble=!0,null!=e._nodeObj)return e.callEvent("onContentClick",[]),!0;for(var i=t.target||t.srcElement,s=null;i!=e.p;)"undefined"==typeof i._idd||i._isSeparator||(s=i._idd),i=i.parentNode;i=null,s&&(e.callEvent("onClick",[s]),null!=e&&null!=e.isVisible&&e.isVisible()&&e.callEvent("onBeforeHide",["select",t,s])===!0&&e.hide())},this.separator="DHXSEP"+(new Date).getTime(),this.tpl=[],this.setTemplate=function(t){this.tpl=t.split(",")},this.uid=function(){return this.idd?this.idd++:this.idd=(new Date).getTime(),this.idd},this.show=function(t){var e=null;if(1==arguments.length){if(t){if(!this._idExists(t))return}else t=this.conf.id[0];this.conf.toolbar&&(e=this.conf.toolbar.getItemDim(t)),this.conf.form&&(e=this.conf.form.getItemDim(t))}else 4==arguments.length&&(this._clearClick=!0,e={left:arguments[0],top:arguments[1],width:arguments[2],height:arguments[3]},t=null);e&&(this.p.style.visibility="hidden",this.p.style.display="",this._setPos(e),this.p.style.visibility="visible",this._lastId=t,this.callEvent("onShow",[t]))},this._setPos=function(t,e){var i=t.left,s=t.top,n=t.width,o=t.height;this._posData={left:i,top:s,width:n,height:o};var l=Math.max((_isIE?document.documentElement:document.getElementsByTagName("html")[0]).scrollLeft,document.body.scrollLeft),h=l+(_isIE?Math.max(document.documentElement.clientWidth||0,document.documentElement.offsetWidth||0,document.body.clientWidth||0):window.innerWidth),r=Math.max((_isIE?document.documentElement:document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop),a=r+(_isIE?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0):window.innerHeight),d=e||this.mode;"undefined"==typeof e&&(e=!1);var c={top:s-this.p.offsetHeight-r,bottom:a-(s+o+this.p.offsetHeight),left:i-this.p.offsetWidth-l,right:h-(i+n+this.p.offsetWidth)};if(!e&&c[d]<0){var u=this._getAvailPos(d,c);if(u!==!1)return void this._setPos(t,u)}if("top"==d||"bottom"==d){var _=this.skinParams[this.skin].t2,p=this.skinParams[this.skin].t3,f=Math.round(this.p.offsetWidth/2),m=Math.round(this.p.lastChild.offsetWidth/2);if(l>i)var g=Math.min(i+n,l),n=i+n-g,i=g;i+n>h&&(n=h-i);var b=Math.round(i+n/2),v=b-f,y=b-_-m,x=b+m+_-this.p.offsetWidth;l-p>v?v=Math.min(l-p,y):v+this.p.offsetWidth>h+p&&(v=Math.max(x,h+p-this.p.offsetWidth)),this.p.style.left=v+"px",this.p.style.top=("top"==d?s-this.p.offsetHeight:s+o)+"px",b=b-v-m,this.p.lastChild.className="dhx_popup_arrow dhx_popup_arrow_"+d,this.p.lastChild.style.top=("top"==d?this.p.offsetHeight-this.p.lastChild.offsetHeight:0)+"px",this.p.lastChild.style.left=b+"px"}if("left"==d||"right"==d){var _=this.skinParams[this.skin].t0,p=this.skinParams[this.skin].t1,w=Math.round(this.p.offsetHeight/2),C=Math.round(this.p.lastChild.offsetHeight/2);if(r>s)var N=Math.min(s+o,r),o=s+o-N,s=N;s+o>a&&(o=a-s);var b=Math.round(s+o/2),I=b-w,k=b-_-C,S=b+C+_-this.p.offsetHeight;r-p>I?I=Math.min(r-p,k):I+this.p.offsetHeight>a+p&&(I=Math.max(S,a+p-this.p.offsetHeight)),this.p.style.left=("left"==d?i-this.p.offsetWidth:i+n)+"px",this.p.style.top=I+"px",b=b-I-C,this.p.lastChild.className="dhx_popup_arrow dhx_popup_arrow_"+d,this.p.lastChild.style.left=("left"==d?this.p.offsetWidth-this.p.lastChild.offsetWidth:0)+"px",this.p.lastChild.style.top=b+"px"}if(this._IEDisp&&null!=this._nodeId){var O=document.getElementById(this._nodeId);window.setTimeout(function(){O.style.visibility="visible",O=null},1)}},this._getAvailPos=function(t,e){for(var i={top:["bottom","right","left"],bottom:["top","right","left"],left:["right","bottom","top"],right:["left","bottom","top"]},s=null,n=0;n<i[t].length;n++)null==s&&e[i[t][n]]>0&&(s=i[t][n]);if(null==s){var o,s="bottom";for(o in e)e[o]>e[s]&&(s=o)}return s==t?!1:s},this._repaint=function(){this.isVisible()&&this._setPos(this._posData)},this.clear=function(){this._nodeObj&&(_isIE&&"undefined"!=typeof dhtmlXLayoutObject&&this._nodeObj instanceof dhtmlXLayoutObject&&(this.p.onmousedown=null),this._nodeObj.unload?this._nodeObj.unload():this._nodeObj.destruct&&this._nodeObj.destruct(),this._nodeObj=this._nodeId=null),this._IEHoverInited&&this._IEHoverClear();for(var t=this.p.firstChild.firstChild.firstChild;t.childNodes.length>0;)t.removeChild(t.lastChild);t=null,this.itemData={}},this.hide=function(){if("none"!=this.p.style.display){this.p.style.display="none";var t=this._lastId;this._lastId=null,this.callEvent("onHide",[t])}},this.isVisible=function(){return""==this.p.style.display},this.itemData={},this.getItemData=function(t){return t?this.itemData[t]?this.itemData[t]:{}:this.itemData},this.setSkin=function(t){this.skin=t,this.p.className="dhx_popup_"+this.skin,null!=this._nodeObj&&"function"==typeof this._nodeObj.setSkin&&this._nodeObj.setSkin(this.skin),this._repaint()},this.skinDetect=function(){var t=document.createElement("DIV");t.className="dhx_popup_skin_detect",document.body.firstChild?document.body.insertBefore(t,document.body.firstChild):document.body.appendChild(t);var e=t.offsetWidth;return t.parentNode.removeChild(t),t=null,{10:"dhx_skyblue",20:"dhx_web",30:"dhx_terrace"}[e]||null},this.attachList=function(t,e){this.setTemplate(t),this.clear();for(var i=this.p.firstChild.firstChild.firstChild,s=0;s<e.length;s++){var n=document.createElement("TR");if(n._idd=e[s].id||this.uid(),i.appendChild(n),this.itemData[n._idd]=e[s],e[s]==this.separator){n.className="dhx_popup_sep",n._isSeparator=!0;var o=document.createElement("TD");o.className="dhx_popup_sep",o.colSpan=this.tpl.length,o.innerHTML="<div class='dhx_popup_sep'>&nbsp;</div>",n.appendChild(o),o=null}else{for(var l=0;l<this.tpl.length;l++){var h="dhx_popup_td";!this._IEFirstLast||1!=this.tpl.length&&0!=l&&l!=this.tpl.length-1||(h+=1==this.tpl.length?" dhx_popup_td_single":0==l?" dhx_popup_td_first":" dhx_popup_td_last"),o=document.createElement("TD"),o.className=h,o.innerHTML=e[s][this.tpl[l]]||"&nbsp;",n.appendChild(o),o=null}this._IEHover&&(n._IEHover=!0,this._IEHoverInited||this._IEHoverInit())}n=null}i=null,this._repaint()},this.attachObject=function(t){return this._attachNode("object",{obj:t})},this.attachHTML=function(t){return this._attachNode("html",{html:t})},this.attachForm=function(t){return this._attachNode("form",{struct:t})},this.attachCalendar=function(){return this._attachNode("calendar",{})},this.attachGrid=function(t,e){return this._attachNode("grid",{width:t||400,height:e||200})},this.attachTree=function(t,e,i){return this._attachNode("tree",{width:t||400,height:e||200,rootId:i||0})},this.attachLayout=function(t,e,i){return this._attachNode("layout",{width:t||400,height:e||200,pattern:i||"3L"})},this.attachAccordion=function(t,e){return this._attachNode("accordion",{width:t||400,height:e||200})},this.attachTabbar=function(t,e,i){return this._attachNode("tabbar",{width:t||400,height:e||200,mode:i||"top"})},this._attachNode=function(t,i){this.clear(),this._nodeId="cn_"+(new Date).getTime();var s=this.p.firstChild.firstChild.firstChild,n=document.createElement("TR");n.className="dhxnode",s.appendChild(n);var o=document.createElement("TD");return o.className="dhx_popup_td",o.innerHTML="<div id='"+this._nodeId+"' style='position:relative;'></div>",i.width&&(o.firstChild.style.width=i.width+"px"),i.height&&(o.firstChild.style.height=i.height+"px"),n.appendChild(o),o=n=s=null,"object"==t&&(this._nodeObj="string"==typeof i.obj?document.getElementById(i.obj):i.obj,i.obj=null,document.getElementById(this._nodeId).appendChild(this._nodeObj),this._nodeObj.style.display="",this._nodeObj.style.visibility="visible"),"html"==t&&(document.getElementById(this._nodeId).innerHTML=i.html,this._nodeObj={text:i.html}),"form"==t&&(this._nodeObj=new dhtmlXForm(this._nodeId,i.struct),this._nodeObj.setSkin(this.skin)),"calendar"==t&&(this._nodeObj=new dhtmlXCalendarObject(this._nodeId),this._nodeObj.setSkin(this.skin),this._nodeObj.show()),"grid"==t&&(this._nodeObj=new dhtmlXGridObject(this._nodeId),this._nodeObj.setSkin(this.skin)),"tree"==t&&(this._nodeObj=new dhtmlXTreeObject(this._nodeId,"100%","100%",i.rootId)),"layout"==t&&(this._nodeObj=new dhtmlXLayoutObject(this._nodeId,i.pattern,this.skin),_isIE)&&(this.p.onmousedown=function(){e._clearClick=!0}),"accordion"==t&&(this._nodeObj=new dhtmlXAccordion(this._nodeId,this.skin)),"tabbar"==t&&(this._nodeObj=new dhtmlXTabBar(this._nodeId,i.mode),this._nodeObj.setSkin(this.skin)),this._repaint(),this._nodeObj},this.unload=function(){window.addEventListener?(window.removeEventListener("click",this._doOnClick,!1),window.removeEventListener("unload",this._doOnUnload,!1)):(document.body.detachEvent("onclick",this._doOnClick,!1),document.body.detachEvent("onunload",this._doOnUnload,!1)),this.clear(),this._doOnKeyUp=this._doOnUnload=this._doOnClick=null,null!=this.conf.toolbarEvent&&null!=this.conf.toolbar&&(null!=this.conf.toolbar.detachEvent?this.conf.toolbar.detachEvent(this.conf.toolbarEvent):this.conf.toolbar.getItemDim=null),this.detachAllEvents(),this._clearClick=this._lastId=this._posData=this.skinParams=this.skinParent=this.tpl=this.idd=this.uid=this.itemData=this.separator=this.skin=this.mode=this.show=this.hide=this.isVisible=this.setTemplate=this._repaint=this._setPos=this.getItemData=this.clear=this._idExists=this._doOnToolbarClick=this.setSkin=this.skinDetect=this.attachList=this.attachAccordion=this.attachCalendar=this.attachForm=this.attachGrid=this.attachLayout=this.attachTabbar=this.attachTree=this.attachHTML=this.attachObject=this._attachNode=this.attachEvent=this.detachEvent=this.callEvent=this.checkEvent=this.detachAllEvents=this.eventCatcher=null,this.p.onclick=null,this.p.parentNode.removeChild(this.p),this.p=null,e=this.unload=this._IEDisp=this._IEHover=this._IEHoverTM=this._IEHoverInit=this._IEHoverClear=this._IEHoverRender=this._IEHoverInited=this.conf=this.conf.toolbar=this.conf.toolbarEvent=this.conf.form=this.conf.id=null},dhtmlxEventable(this),this._doOnClick=function(t){if(t=t||event,e._clearClick)e._clearClick=!1;else{if(null!=e.conf.form){var i,s=t.target||t.srcElement;if("option"==(s.tagName||"").toLowerCase()&&(s=s.parentNode),null!=s.className&&s.className.search("dhxform")>=0)null!=s.parentNode&&null!=s.parentNode.parentNode&&null!=s.parentNode.parentNode._idd&&(i=s.parentNode.parentNode._idd,"ra"==s.parentNode.parentNode._type&&(i=[s.parentNode.parentNode._group,s.parentNode.parentNode._value]));else{for(var n=!0,o=!1;n&&!o;)o="dhxform_btn"==(s.className||"").toLowerCase()||(s.className||"").search(/dhxeditor_inside/gi)>=0,s=s.parentNode,n=null!=s;if(o)return}if(s=null,null!=i&&e._idExists(i))return}e.isVisible()&&e.callEvent("onBeforeHide",["click",t])===!0&&e.hide()}},this._doOnKeyUp=function(t){t=t||event,27==t.keyCode&&e.isVisible()&&e.callEvent("onBeforeHide",["esc",t])===!0&&e.hide()},this._doOnUnload=function(){e.unload()},window.addEventListener?(window.addEventListener("click",this._doOnClick,!1),window.addEventListener("keyup",this._doOnKeyUp,!1),window.addEventListener("unload",this._doOnUnload,!1)):(document.body.attachEvent("onclick",this._doOnClick,!1),document.body.attachEvent("onkeyup",this._doOnKeyUp,!1),document.body.attachEvent("onunload",this._doOnUnload,!1)),this._idExists=function(t){for(var e=!1,i=0;i<this.conf.id.length;i++)e=this.conf.id[i]instanceof Array?e||this.conf.id[i][0]==t[0]&&this.conf.id[i][1]==t[1]:e||this.conf.id[i]==t;return e},this._IEDisp=_isIE&&(navigator.userAgent.search("MSIE 6.0")>=0||"CSS1Compat"!=document.compatMode),(this._IEHover=_isIE&&navigator.userAgent.search("MSIE 6.0")>=0)&&(this._IEHoverInit=function(){this.p.onmouseover=function(){for(var t=event.srcElement;t!=this&&1!=t._IEHover;)t=t.parentNode;t._IEHover&&(e._IEHoverTM&&window.clearTimeout(e._IEHoverTM),e._lastIEHover!=t&&(e._IEHoverRender(t),t=null))},this.p.onmouseout=function(){e._IEHoverTM&&window.clearTimeout(e._IEHoverTM),e._IEHoverTM=window.setTimeout(function(){e._IEHoverRender(null)},1)},this._IEHoverRender=function(t){null!=this._lastIEHover&&this._lastIEHover.className.search(/tr_hover/gi)>=0&&(this._lastIEHover.className=this._lastIEHover.className.replace(/\s{0,}tr_hover/gi,""),this._lastIEHover=null),null!=t&&t.className.search(/tr_hover/gi)<0&&(t.className+=" tr_hover",e._lastIEHover=t)},this._IEHoverInited=!0},this._IEHoverClear=function(){this.p.onmouseover=null,this.p.onmouseout=null,this._IEHoverInited=!1}),this._IEFirstLast=_isIE&&navigator.userAgent.search(/MSIE [6,7,8]\.0/i)>=0,"undefined"!=typeof dhtmlXToolbarObject&&null!=this.conf.toolbar&&this.conf.toolbar instanceof dhtmlXToolbarObject&&null!=this.conf.id&&(this.conf.id instanceof Array||(this.conf.id=[this.conf.id]),this.skinParent=this.conf.toolbar.skin,this._doOnToolbarClick=function(t){for(var i=0;i<e.conf.id.length;i++)t==e.conf.id[i]&&t!=e._lastId&&(e.show(t),e._clearClick=!0)},"undefined"==typeof dhtmlXToolbarObject.prototype.getItemDim&&(dhtmlXToolbarObject.prototype.getItemDim=function(t){var e=this.objPull[this.idPrefix+t],i={left:getAbsoluteLeft(e.obj),top:getAbsoluteTop(e.obj),width:e.obj.offsetWidth+(e.arw?e.arw.offsetWidth:0),height:e.obj.offsetHeight},e=null;return i}),this.conf.toolbarEvent=this.conf.toolbar.attachEvent("onClick",e._doOnToolbarClick)),"undefined"!=typeof dhtmlXForm&&null!=this.conf.form&&this.conf.form instanceof dhtmlXForm&&null!=this.conf.id&&(this.conf.id instanceof Array||(this.conf.id=[this.conf.id]),this.conf.mode||(this.mode="right"),this.skinParent=this.conf.form.skin,"undefined"==typeof dhtmlXForm.prototype.getItemDim)){dhtmlXForm.prototype.getItemDim=function(t){return this.doWithItem(t,"_getDim")};for(var i in{input:1,password:1,select:1,multiselect:1,checkbox:1,radio:1,button:1,combo:1,btn2state:1,calendar:1,colorpicker:1,editor:1})null!=dhtmlXForm.prototype.items[i]&&(dhtmlXForm.prototype.items[i]._getDim=function(t){var e=t;({ta:!0,pw:!0,se:!0,calendar:!0,colorpicker:1,editor:!0})[t._type]&&(e=t.childNodes[t._ll?1:0].childNodes[0]),{ch:!0,ra:!0,btn2state:!0}[t._type]&&(e=t.childNodes[t._ll?1:0].childNodes[1]),{bt:!0}[t._type]&&(e=t.firstChild),{combo:!0}[t._type]&&(e=t._combo.DOMParent.firstChild);var i={left:getAbsoluteLeft(e),top:getAbsoluteTop(e),width:e.offsetWidth,height:e.offsetHeight},e=null;return i})}return this.setSkin(this.conf.skin||("undefined"!=typeof dhtmlx?dhtmlx.skin:null)||this.skinParent||this.skinDetect()||"dhx_skyblue"),this}function dhtmlxSlider(t,e,i,s,n,o,l,h){if(_isIE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(r){}var a;if(t&&"object"==typeof t&&!t.nodeName&&(a=t.parent,i=t.skin,n=t.min,o=t.max,h=t.step,s=t.vertical,l=t.value,e=t.size),t)a="object"!=typeof t?document.getElementById(t):t;else{var d="slider_div_"+(new Date).valueOf()+Math.random(1e3);a=document.createElement("div"),a.setAttribute("id",d);for(var c=document.body.lastChild;c.lastChild&&1==c.lastChild.nodeType;)c=c.lastChild;c.parentNode.insertBefore(a,c)}return"object"==typeof e&&(i=e.skin,n=e.min,o=e.max,h=e.step,s=e.vertical,l=e.value,e=e.size),this.size=e,this.vMode=s||!1,this.skin=dhtmlx.skin||i||"default",this.parent=a,this.disabled=this.isInit=!1,this.value="undefined"==l?n||0:l,this.inputPriority=!0,this.stepping=!1,this.imgURL=window.dhx_globalImgPath||dhtmlx.image_path||"",this._skinsImgs={"default":{ls:1,lz:1,rz:1,rs:1},ball:{ls:1,lz:1,rz:1,rs:1},zipper:{bg:1,lz:1,rz:1},arrow:{bg:1,ls:1,rs:1},arrowgreen:{bg:1,ls:1,rs:1},simplesilver:{lz:1,ls:1,rs:1,rz:1},simplegray:{lz:1,ls:1,rs:1,rz:1},bar:{bg:1,ls:1,rs:1},dhx_skyblue:{bg:1}},this._def=[n-0||0,o-0||100,h-0||1,l-0||0,e-0],dhtmlxEventable(this),this}function dhtmlXTabBar(t,e,i){switch(e=e||"top",dhtmlxEventable(this),this._hrefs={},this._s={},this._c={},this._s.mode=e,this._s.scrolls=!0,this._custom_height=i,this._s.line_height=(parseInt(i)||20)+3,this._s.skin_line=1,this._s.tab_margin=0,this._s.expand=0,this._s.ext_border=2,this._s._bMode="right"==e||"bottom"==e?1:0,this._s._vMode="right"==e||"left"==e?1:0,this._dx=this._s._vMode?"height":"width",this._dy=this._s._vMode?"width":"height",e){case"top":this._py="top",this._px="left",this._pxc="right";break;case"bottom":this._py="bottom",this._px="left",this._pxc="right";break;case"right":this._py="right",this._px="top",this._pxc="bottom";break;case"left":this._py="left",this._px="top",this._pxc="bottom"}return this._active=null,this._tabs={},this._content={},this._href={},this._rows=[],this._s._tabSize=150,this._styles={"default":{left:3,right:3,select_shift:3,select_top:2,margin:1,offset:5,tab_color:"#F4F3EE",data_color:"#F0F8FF"},winbiscarf:{left:18,right:18,select_shift:3,select_top:2,margin:1,offset:5},winscarf:{left:18,right:4,select_shift:3,select_top:2,margin:5,offset:5},modern:{left:5,right:5,select_shift:3,select_top:2,margin:1,offset:5,tab_color:"#F4F3EE",data_color:"#F0F8FF"},silver:{left:7,right:7,select_shift:3,select_top:2,margin:1,offset:5,tab_color:"#F4F3EE",data_color:"#F0F8FF"},dark_blue:{left:2,right:2,select_shift:3,select_top:2,margin:1,offset:5},glassy_blue:{left:2,right:3,select_shift:3,select_top:2,margin:1,offset:5},dhx_terrace:{left:7,right:7,select_shift:0,select_top:0,margin:-1,offset:0,tab_color:"",data_color:"#ffffff"},dhx_black:{left:2,right:2,select_shift:3,select_top:0,margin:1,offset:5},dhx_blue:{left:2,right:2,select_shift:3,select_top:0,margin:1,offset:5,tab_color:"#F4F3EE",data_color:"#F0F8FF"},dhx_skyblue:{left:3,right:3,select_shift:0,select_top:0,margin:-1,offset:5,data_color:"white",hover:!0},dhx_web:{left:3,right:3,select_shift:1,select_top:0,margin:5,offset:15,data_color:"white"}},"object"!=typeof t&&(t=document.getElementById(t)),this.entBox=t,this.entBox.className+=" dhx_tabbar_zone_"+this._s.mode,dhtmlx.image_path&&this.setImagePath(dhtmlx.image_path),this.setStyle("default"),this.__skin=!1,this._createSelf(),_isIE&&this.preventIECashing(!0),this}function dhx_init_tabbars(){for(var a=document.getElementsByTagName("div"),b=0;b<a.length;b++)if(-1!=a[b].className.indexOf("dhtmlxTabBar")){var c=a[b],d=c.id;c.className="";for(var e=[],f=0;f<c.childNodes.length;f++)c.childNodes[f].tagName&&"!"!=c.childNodes[f].tagName&&(e[e.length]=c.childNodes[f]);var g=new dhtmlXTabBar(d,c.getAttribute("mode")||"top",c.getAttribute("tabheight")||20);window[d]=g,(h=c.getAttribute("onbeforeinit"))&&eval(h),c.getAttribute("enableForceHiding")&&g.enableForceHiding(!0),g.setImagePath(c.getAttribute("imgpath"));var h=c.getAttribute("margin");null!=h&&(g._margin=h),(h=c.getAttribute("align"))&&(g._align=h),(h=c.getAttribute("hrefmode"))&&g.setHrefMode(h),h=c.getAttribute("offset"),null!=h&&(g._offset=h),h=c.getAttribute("tabstyle"),null!=h&&g.setStyle(h);var h=c.getAttribute("select"),i=c.getAttribute("skinColors");for(i&&g.setSkinColors(i.split(",")[0],i.split(",")[1]),f=0;f<e.length;f++){var j=e[f];j.parentNode.removeChild(j),g.addTab(j.id,j.getAttribute("name"),j.getAttribute("width"),null,j.getAttribute("row"));var k=j.getAttribute("href");k?g.setContentHref(j.id,k):g.setContent(j.id,j),g._dspN||"none"!=j.style.display||(j.style.display="")}e.length&&g.setTabActive(h||e[0].id),(h=c.getAttribute("oninit"))&&eval(h)}}function dhtmlXToolbarObject(t,e){var i=this;for(this.cont="object"!=typeof t?document.getElementById(t):t;this.cont.childNodes.length>0;)this.cont.removeChild(this.cont.childNodes[0]);return this.cont.dir="ltr",this.cont.innerHTML+="<div class='dhxtoolbar_hdrline_ll'></div><div class='dhxtoolbar_hdrline_rr'></div><div class='dhxtoolbar_hdrline_l'></div><div class='dhxtoolbar_hdrline_r'></div>",this.base=document.createElement("DIV"),this.base.className="float_left",this.cont.appendChild(this.base),this.align="left",this.setAlign=function(t){this.align="right"==t?"right":"left",this.base.className="right"==t?"float_right":"float_left",this._spacer&&(this._spacer.className="dhxtoolbar_spacer "+("right"==t?" float_left":" float_right"))},this._isIE6=!1,_isIE&&(this._isIE6=null==window.XMLHttpRequest?!0:!1),(this._isIPad=navigator.userAgent.search(/iPad/gi)>=0)&&(this.cont.ontouchstart=function(t){return t=t||event,"input"==String(t.target.tagName||"").toLowerCase()?!0:(t.returnValue=!1,t.cancelBubble=!0,!1)}),this.iconSize=18,this.setIconSize=function(t){this.iconSize={18:!0,24:!0,32:!0,48:!0}[t]?t:18,this.setSkin(this.skin,!0),this.callEvent("_onIconSizeChange",[this.iconSize])},this.selectPolygonOffsetLeft=this.selectPolygonOffsetTop=0,this._improveTerraceSkin=function(){var t=[],e={buttonInput:!0,separator:!0,text:!0},i=[this.base];null!=this._spacer&&i.push(this._spacer);for(var s=0;s<i.length;s++){t[s]=[];for(var n=0;n<i[s].childNodes.length;n++)if(null!=i[s].childNodes[n].idd&&"none"!=i[s].childNodes[n].style.display){var o=this.idPrefix+i[s].childNodes[n].idd;null!=this.objPull[o]&&this.objPull[o].obj==i[s].childNodes[n]&&t[s].push({a:o,type:this.objPull[o].type,node:this.objPull[o]["buttonSelect"==this.objPull[o].type?"arw":"obj"]})}i[s]=null}for(s=0;s<t.length;s++)for(n=0;n<t[s].length;n++){var l=t[s][n];"buttonInput"==l.type&&(l.node.className=l.node.className.replace(/dhx_toolbar_btn/,"dhx_toolbar_inp"));var h=!1,r=!1;e[l.type]||((n==t[s].length-1||null!=t[s][n+1]&&e[t[s][n+1].type])&&(h=!0),(0==n||n-1>=0&&null!=t[s][n-1]&&e[t[s][n-1].type])&&(r=!0)),l.node.style.borderRight=h?"1px solid #cecece":"0px solid white",l.node.style.borderTopRightRadius=l.node.style.borderBottomRightRadius=h?"5px":"0px","buttonSelect"==l.type?(l.node.previousSibling.style.borderTopLeftRadius=l.node.previousSibling.style.borderBottomLeftRadius=r?"5px":"0px",l.node.previousSibling._br=h,l.node.previousSibling._bl=r):l.node.style.borderTopLeftRadius=l.node.style.borderBottomLeftRadius=r?"5px":"0px",l.node._br=h,l.node._bl=r}for(s=0;s<t.length;s++){for(n=0;n<t[s].length;n++){for(o in t[s][n])t[s][n][o]=null;t[s][n]=null}t[s]=null}t=i=null},this._improveTerraceButtonSelect=function(t,e){var i=this.objPull[t];1==e?(i.obj.style.borderBottomLeftRadius=i.obj._bl?"5px":"0px",i.arw.style.borderBottomRightRadius=i.obj._br?"5px":"0px"):(i.obj.style.borderBottomLeftRadius="0px",i.arw.style.borderBottomRightRadius="0px"),i=null
},this.setSkin=function(t,e){e===!0?this.cont.className=this.cont.className.replace(/dhx_toolbar_base_\d{1,}_/,"dhx_toolbar_base_"+this.iconSize+"_"):(this.skin=t,"dhx_skyblue"==this.skin&&(this.selectPolygonOffsetTop=1),"dhx_web"==this.skin&&(this.selectPolygonOffsetLeft=this.selectPolygonOffsetTop=1),"dhx_terrace"==this.skin&&(this.selectPolygonOffsetTop=-1,this.selectPolygonOffsetLeft=0),this.cont.className="dhx_toolbar_base_"+this.iconSize+"_"+this.skin+(this.rtl?" rtl":""));for(var i in this.objPull){var s=this.objPull[i];"slider"==s.type&&(s.pen._detectLimits(),s.pen._definePos(),s.label.className="dhx_toolbar_slider_label_"+this.skin+(this.rtl?" rtl":"")),"buttonSelect"==s.type&&(s.polygon.className="dhx_toolbar_poly_"+this.iconSize+"_"+this.skin+(this.rtl?" rtl":""))}"dhx_terrace"==t&&this._improveTerraceSkin()},this.setSkin(null!=e?e:"undefined"!=typeof dhtmlx&&"string"==typeof dhtmlx.skin?dhtmlx.skin:"dhx_skyblue"),this.objPull={},this.anyUsed="none",this.imagePath="",this.setIconPath=this.setIconsPath=function(t){this.imagePath=t},this._doOnLoad=function(){},this.loadXML=function(t,e){null!=e&&(this._doOnLoad=function(){e()}),this.callEvent("onXLS",[]),this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window),this._xmlLoader.loadXML(t)},this.loadXMLString=function(t,e){null!=e&&(this._doOnLoad=function(){e()}),this._xmlLoader=new dtmlXMLLoaderObject(this._xmlParser,window),this._xmlLoader.loadXMLString(t)},this._xmlParser=function(){for(var t=this.getXMLTopNode("toolbar"),e="id,type,hidden,title,text,enabled,img,imgdis,action,openAll,renderSelect,mode,maxOpen,width,value,selected,length,textMin,textMax,toolTip,valueMin,valueMax,valueNow".split(","),s="id,type,enabled,disabled,action,selected,img,text".split(","),n=0;n<t.childNodes.length;n++)if("item"==t.childNodes[n].tagName){for(var o={},l=0;l<e.length;l++)o[e[l]]=t.childNodes[n].getAttribute(e[l]);o.items=[],o.userdata=[];for(var h=0;h<t.childNodes[n].childNodes.length;h++){if("item"==t.childNodes[n].childNodes[h].tagName&&"buttonSelect"==o.type){for(var r={},l=0;l<s.length;l++)r[s[l]]=t.childNodes[n].childNodes[h].getAttribute(s[l]);var a=t.childNodes[n].childNodes[h].getElementsByTagName("itemText");null!=a&&null!=a[0]&&(r.itemText=a[0].firstChild.nodeValue);for(var d=t.childNodes[n].childNodes[h].getElementsByTagName("userdata"),l=0;l<d.length;l++){r.userdata||(r.userdata={});var c={};try{c.name=d[l].getAttribute("name")}catch(u){c.name=""}try{c.value=d[l].firstChild.nodeValue}catch(_){c.value=""}""!=c.name&&(r.userdata[c.name]=c.value)}o.items[o.items.length]=r}if("userdata"==t.childNodes[n].childNodes[h].tagName){r={};try{r.name=t.childNodes[n].childNodes[h].getAttribute("name")}catch(p){r.name=""}try{r.value=t.childNodes[n].childNodes[h].firstChild.nodeValue}catch(f){r.value=""}o.userdata[o.userdata.length]=r}}i._addItemToStorage(o)}"dhx_terrace"==i.skin&&i._improveTerraceSkin(),i.callEvent("onXLE",[]),i._doOnLoad(),this.destructor()},this._addItemToStorage=function(t,e){var i=t.id||this._genStr(24),s=t.type||"";if(""!=s&&null!=this["_"+s+"Object"]&&("undefined"!=typeof t.openAll&&null!=t.openAll||"dhx_terrace"!=this.skin||(t.openAll=!0),this.objPull[this.idPrefix+i]=new this["_"+s+"Object"](this,i,t),this.objPull[this.idPrefix+i].type=s,this.setPosition(i,e)),t.userdata)for(var n=0;n<t.userdata.length;n++)this.setUserData(i,t.userdata[n].name,t.userdata[n].value)},this._genStr=function(t){for(var e="",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=0;t>s;s++)e+=i.charAt(Math.round(Math.random()*(i.length-1)));return e},this.rootTypes="button,buttonSelect,buttonTwoState,separator,label,slider,text,buttonInput".split(","),this.idPrefix=this._genStr(12),dhtmlxEventable(this),this._getObj=function(t,e){for(var i=null,s=0;s<t.childNodes.length;s++)null!=t.childNodes[s].tagName&&String(t.childNodes[s].tagName).toLowerCase()==String(e).toLowerCase()&&(i=t.childNodes[s]);return i},this._addImgObj=function(t){var e=document.createElement("IMG");return t.childNodes.length>0?t.insertBefore(e,t.childNodes[0]):t.appendChild(e),e},this._setItemImage=function(t,e,i){if(1==i?t.imgEn=e:t.imgDis=e,!(!t.state&&1==i||t.state&&0==i)){var s=this._getObj(t.obj,"img");null==s&&(s=this._addImgObj(t.obj)),s.src=this.imagePath+e}},this._clearItemImage=function(t,e){if(1==e?t.imgEn="":t.imgDis="",!(!t.state&&1==e||t.state&&0==e)){var i=this._getObj(t.obj,"img");null!=i&&i.parentNode.removeChild(i)}},this._setItemText=function(t,e){var i=this._getObj(t.obj,"div");null==e||0==e.length?null!=i&&i.parentNode.removeChild(i):(null==i&&(i=document.createElement("DIV"),t.obj.appendChild(i)),i.innerHTML=e)},this._getItemText=function(t){var e=this._getObj(t.obj,"div");return null!=e?e.innerHTML:""},this._enableItem=function(t){if(!t.state){t.state=!0,"buttonTwoState"==this.objPull[t.id].type&&1==this.objPull[t.id].obj.pressed?(t.obj.className="dhx_toolbar_btn pres",t.obj.renderAs="dhx_toolbar_btn over"):(t.obj.className="dhx_toolbar_btn def",t.obj.renderAs=t.obj.className),t.arw&&(t.arw.className=String(t.obj.className).replace("btn","arw"));var e=this._getObj(t.obj,"img");""!=t.imgEn?(null==e&&(e=this._addImgObj(t.obj)),e.src=this.imagePath+t.imgEn):null!=e&&e.parentNode.removeChild(e)}},this._disableItem=function(t){if(t.state){t.state=!1,t.obj.className="dhx_toolbar_btn "+("buttonTwoState"==this.objPull[t.id].type&&t.obj.pressed?"pres_":"")+"dis",t.obj.renderAs="dhx_toolbar_btn def",t.arw&&(t.arw.className=String(t.obj.className).replace("btn","arw"));var e=this._getObj(t.obj,"img");""!=t.imgDis?(null==e&&(e=this._addImgObj(t.obj)),e.src=this.imagePath+t.imgDis):null!=e&&e.parentNode.removeChild(e),null!=t.polygon&&"none"!=t.polygon.style.display&&(t.polygon.style.display="none",t.polygon._ie6cover&&(t.polygon._ie6cover.style.display="none"),"dhx_terrace"==this.skin&&this._improveTerraceButtonSelect(t.id,!0)),this.anyUsed="none"}},this.clearAll=function(){for(var t in this.objPull)this._removeItem(String(t).replace(this.idPrefix,""))},this._isWebToolbar=!0,this._doOnClick=function(){i&&i.forEachItem&&i.forEachItem(function(t){if("buttonSelect"==i.objPull[i.idPrefix+t].type){var e=i.objPull[i.idPrefix+t];e.arw._skip===!0?e.arw._skip=!1:"none"!=e.polygon.style.display&&(e.obj.renderAs="dhx_toolbar_btn def",e.obj.className=e.obj.renderAs,e.arw.className=String(e.obj.renderAs).replace("btn","arw"),i.anyUsed="none",e.polygon.style.display="none",e.polygon._ie6cover&&(e.polygon._ie6cover.style.display="none"),"dhx_terrace"==i.skin&&i._improveTerraceButtonSelect(e.id,!0))}})},this._isIPad?document.addEventListener("touchstart",this._doOnClick,!1):"undefined"!=typeof window.addEventListener?window.addEventListener("mousedown",this._doOnClick,!1):document.body.attachEvent("onmousedown",this._doOnClick),this}function xmlPointer(t){this.d=t}function dhtmlXTreeObject(t,e,i,s){if(_isIE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(n){}this.parentObject="object"!=typeof t?document.getElementById(t):t,this.parentObject.style.overflow="hidden",this._itim_dg=!0,this.dlmtr=",",this.dropLower=!1,this.enableIEImageFix(),this.xmlstate=0,this.mytype="tree",this.smcheck=!0,this.width=e,this.height=i,this.rootId=s,this.childCalc=null,this.def_line_img_y=this.def_line_img_x=this.def_img_y=this.def_img_x="18px",this._dragged=[],this._selected=[],this.style_pointer="pointer",this._aimgs=!0,this.htmlcA=" [",this.htmlcB="]",this.lWin=window,this.mlitems=this.cMenu=0,this.iconURL="",this.dadmode=0,this.slowParse=!1,this.autoScroll=!0,this.hfMode=0,this.nodeCut=[],this.XMLloadingWarning=this.XMLsource=0,this._idpull={},this._pullSize=0,this.treeLinesOn=!0,this.tscheck=!1,this.timgen=!0,this.dpcpy=!1,this._ld_id=null,this._oie_onXLE=[],this.imPath=window.dhx_globalImgPath||"",this.checkArray="iconUncheckAll.gif,iconCheckAll.gif,iconCheckGray.gif,iconUncheckDis.gif,iconCheckDis.gif,iconCheckDis.gif".split(","),this.radioArray="radio_off.gif,radio_on.gif,radio_on.gif,radio_off.gif,radio_on.gif,radio_on.gif".split(","),this.lineArray="line2.gif,line3.gif,line4.gif,blank.gif,blank.gif,line1.gif".split(","),this.minusArray=["minus2.gif","minus3.gif","minus4.gif","minus.gif","minus5.gif"],this.plusArray=["plus2.gif","plus3.gif","plus4.gif","plus.gif","plus5.gif"],this.imageArray=["leaf.gif","folderOpen.gif","folderClosed.gif"],this.cutImg=[0,0,0],this.cutImage="but_cut.gif",dhtmlxEventable(this),this.dragger=new dhtmlDragAndDropObject,this.htmlNode=new dhtmlXTreeItemObject(this.rootId,"",0,this),this.htmlNode.htmlNode.childNodes[0].childNodes[0].style.display="none",this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[0].className="hiddenRow",this.allTree=this._createSelf(),this.allTree.appendChild(this.htmlNode.htmlNode),dhtmlx.$customScroll&&dhtmlx.CustomScroll.enable(this),_isFF&&(this.allTree.childNodes[0].width="100%",this.allTree.childNodes[0].style.overflow="hidden");var o=this;return this.allTree.onselectstart=new Function("return false;"),_isMacOS&&(this.allTree.oncontextmenu=function(t){return o._doContClick(t||window.event,!0)}),this.allTree.onmousedown=function(t){return o._doContClick(t||window.event)},this.XMLLoader=new dtmlXMLLoaderObject(this._parseXMLTree,this,!0,this.no_cashe),_isIE&&this.preventIECashing(!0),this.selectionBar=document.createElement("DIV"),this.selectionBar.className="selectionBar",this.selectionBar.innerHTML="&nbsp;",this.selectionBar.style.display="none",this.allTree.appendChild(this.selectionBar),window.addEventListener&&window.addEventListener("unload",function(){try{o.destructor()}catch(t){}},!1),window.attachEvent&&window.attachEvent("onunload",function(){try{o.destructor()}catch(t){}}),this.setImagesPath=this.setImagePath,this.setIconsPath=this.setIconPath,dhtmlx.image_path&&this.setImagePath(dhtmlx.image_path),dhtmlx.skin&&this.setSkin(dhtmlx.skin),this}function cObject(){return this}function dhtmlXTreeItemObject(t,e,i,s,n,o){return this.scolor=this.acolor=this.htmlNode="",this.span=this.dragMove=this.dragSpan=this.tempDOMU=this.tempDOMM=this.childsCount=this.tr=0,this.closeble=1,this.childNodes=[],this.userData=new cObject,this.checkstate=0,this.treeNod=s,this.label=e,this.parentObject=i,this.actionHandler=n,this.images=[s.imageArray[0],s.imageArray[1],s.imageArray[2]],this.id=s._globalIdStorageAdd(t,this),this.htmlNode=this.treeNod.checkBoxOff?this.treeNod._createItem(1,this,o):this.treeNod._createItem(0,this,o),this.htmlNode.objBelong=this,this}function dhx_dragSomethingInTree(){this.lWin=window,this._createDragNode=function(t){var e=document.createElement("div");return e.style.position="absolute",e.innerHTML=t.innerHTML||t.value,e.className="dragSpanDiv",e},this._preventNsDrag=function(t){return(t||window.event).cancelBubble=!0,t&&t.preventDefault&&t.preventDefault(),!1},this._nonTrivialNode=function(t,e,i,s){if(this._customDrop)return this._customDrop(t,s.img.id,e.id,i?i.id:null);var n=s.img.getAttribute("image")||"",o=s.img.id||"new",l=s.img.getAttribute("text")||(_isIE?s.img.innerText:s.img.textContent);t[i?"insertNewNext":"insertNewItem"](i?i.id:e.id,o,l,"",n,n,n)}}function jsonPointer(t,e){this.d=t,this.dp=e}function dhtmlXTreeFromHTML(a){"object"!=typeof a&&(a=document.getElementById(a));for(var b=a,c=b.id,d="",e=0;e<a.childNodes.length;e++)if("1"==a.childNodes[e].nodeType){if("XMP"==a.childNodes[e].tagName)for(var f=a.childNodes[e],g=0;g<f.childNodes.length;g++)d+=f.childNodes[g].data;else"ul"==a.childNodes[e].tagName.toLowerCase()&&(d=dhx_li2trees(a.childNodes[e],[],0));break}a.innerHTML="";var h=new dhtmlXTreeObject(a,"100%","100%",0),i=[];for(b in h)i[b.toLowerCase()]=b;for(var j=a.attributes,k=0;k<j.length;k++)if(0==j[k].name.indexOf("set")||0==j[k].name.indexOf("enable")){var l=j[k].name;h[l]||(l=i[j[k].name]),h[l].apply(h,j[k].value.split(","))}if("object"==typeof d){h.XMLloadingWarning=1;for(var m=0;m<d.length;m++)b=h.insertNewItem(d[m][0],d[m][3],d[m][1]),d[m][2]&&h._setCheck(b,d[m][2]);h.XMLloadingWarning=0,h.lastLoadedXMLId=0,h._redrawFrom(h)}else h.loadXMLString("<tree id='0'>"+d+"</tree>");window[c]=h;var n=a.getAttribute("oninit");return n&&eval(n),h}function dhx_init_trees(){for(var t=document.getElementsByTagName("div"),e=0;e<t.length;e++)"dhtmlxTree"==t[e].className&&dhtmlXTreeFromHTML(t[e])}function dhx_li2trees(t,e,i){for(var s=0;s<t.childNodes.length;s++){var n=t.childNodes[s];if(1==n.nodeType&&"li"==n.tagName.toLowerCase()){for(var o="",l=null,h=n.getAttribute("checked"),r=0;r<n.childNodes.length;r++){var a=n.childNodes[r];3==a.nodeType?o+=a.data:"ul"!=a.tagName.toLowerCase()?o+=dhx_outer_html(a):l=a}e[e.length]=[i,o,h,n.id||e.length+1],l&&(e=dhx_li2trees(l,e,n.id||e.length))}}return e}function dhx_outer_html(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("DIV");return e.appendChild(t.cloneNode(!0)),e=e.innerHTML}function setCookie(t,e){document.cookie=t+"="+e}function getCookie(t){var e=t+"=";if(document.cookie.length>0){var i=document.cookie.indexOf(e);if(-1!=i){i+=e.length;var s=document.cookie.indexOf(";",i);return-1==s&&(s=document.cookie.length),document.cookie.substring(i,s)}}}function dhtmlxHierarchy(){var t={id:0,childs:[],level:-1,parent:null,index:0,state:dhtmlXGridObject._emptyLineImg};return this.order=[t],this.get={0:t},this.swap=function(t,e){var i=t.parent,s=t.index;i.childs[s]=e,i.childs[e.index]=t,t.index=e.index,e.index=s},this.forEachChildF=function(t,e,i,s){for(var n=this.get[t],o=0;o<n.childs.length;o++)e.apply(i||this,[n.childs[o]])&&(n.childs[o].childs.length&&this.forEachChildF(n.childs[o].id,e,i,s),s&&s.call(i||this,n.childs[o]))},this.forEachChild=function(t,e,i){for(var s=this.get[t],n=0;n<s.childs.length;n++)e.apply(i||this,[s.childs[n]]),s.childs[n].childs.length&&this.forEachChild(s.childs[n].id,e,i)},this.change=function(t,e,i){var s=this.get[t];s[e]!=i&&(s[e]=i,s.update=!0)},this.add=function(t,e){return this.addAfter(t,e)},this.addAfter=function(t,e,i,s){var n=this.get[e||0],o=i?this.get[i].index+(s?0:1):n.childs.length,l={id:t,childs:[],level:n.level+1,parent:n,index:o,state:dhtmlXGridObject._emptyLineImg};if(n.state==dhtmlXGridObject._emptyLineImg&&this.change(e,"state",0==e?"minus":"plus"),i){for(var h=o;h<n.childs.length;h++)n.childs[h].index++;n.childs=n.childs.slice(0,o).concat([l]).concat(n.childs.slice(o,n.childs.length))}else n.childs.push(l);return this.get[t]=l},this.addBefore=function(t,e,i){return this.addAfter(t,e,i,!0)},this.remove=function(t){for(var e=this.get[t||0],i=0;i<e.childs.length;i++)this.deleteAll(e.childs[i].id);for(e.childs=[],e.parent.childs=e.parent.childs.slice(0,e.index).concat(e.parent.childs.slice(e.index+1)),i=e.index;i<e.parent.childs.length;i++)e.parent.childs[i].index--;delete this.get[t]},this.deleteAll=function(t){for(var e=this.get[t||0],i=0;i<e.childs.length;i++)this.deleteAll(e.childs[i].id);e.childs=[],delete this.get[t]},this}function eXcell_tree(t){t&&(this.cell=t,this.grid=this.cell.parentNode.grid),this.isDisabled=function(){return this.cell._disabled||this.grid._edtc},this.edit=function(){this.er||this.grid._edtc||(this.er=this.cell.parentNode.valTag,this.val=this.getLabel(),this.cell.atag=!this.grid.multiLine&&(_isKHTML||_isMacOS||_isFF)?"INPUT":"TEXTAREA",this.er.innerHTML="<"+this.cell.atag+" class='dhx_combo_edit' type='text' style='height:"+(this.cell.offsetHeight-6)+"px; width:100%; border:0px; margin:0px; padding:0px; padding-top:"+(_isFF?1:2)+"px; overflow:hidden;'></"+this.cell.atag+">",this.er.childNodes[0].onmousedown=function(t){(t||event).cancelBubble=!0},this.er.childNodes[0].onselectstart=function(t){return t||(t=event),t.cancelBubble=!0},_isFF&&(this.er.style.top="1px"),this.er.className+=" editable",this.er.firstChild.onclick=function(t){(t||event).cancelBubble=!0},this.er.firstChild.value=this.val,this.obj=this.er.firstChild,this.er.firstChild.style.width=Math.max(0,this.cell.offsetWidth-this.er.offsetLeft)+"px",this.er.firstChild.focus(),_isIE&&this.er.firstChild.focus())},this.detach=function(){if(this.er){this.setLabel(this.er.firstChild.value),this.er.className=this.er.className.replace("editable","");var t=this.val!=this.er.innerHTML;return _isFF&&(this.er.style.top="2px"),this.obj=this.er=null,t}},this.getValue=function(){return this.getLabel()},this.setImage=function(t){this.cell.parentNode.imgTag.nextSibling.src=this.grid.iconURL+t,this.grid._h2.get[this.cell.parentNode.idd].image=t},this.getImage=function(){return this.grid._h2.get[this.cell.parentNode.idd].image},this.setLabel=function(t){this.setValueA(t)},this.getLabel=function(){return this.cell.parentNode.valTag.innerHTML}}function dhtmlXWindowsSngl(){}function dhtmlXWindowsBtn(){}function dhtmlXWindows(){if(window.dhtmlXContainer){this.engine="dhx";var t="_"+this.engine+"_Engine";if(this[t]){this[t](),this._isIPad=navigator.userAgent.search(/iPad/gi)>=0;var e=this;this.pathPrefix="dhxwins_",this.imagePath=dhtmlx.image_path||"codebase/imgs/",this.setImagePath=function(t){this.imagePath=t},this.skin="undefined"!=typeof dhtmlx&&"string"==typeof dhtmlx.skin?dhtmlx.skin:"dhx_skyblue",this.skinParams={dhx_black:{header_height:21,border_left_width:2,border_right_width:2,border_bottom_height:2},dhx_blue:{header_height:21,border_left_width:2,border_right_width:2,border_bottom_height:2},dhx_skyblue:{header_height:21,border_left_width:2,border_right_width:2,border_bottom_height:2}},this.setSkin=function(t){this.skin=t,this._engineRedrawSkin()},this.isWindow=function(t){var e=null!=this.wins[t];return e},this.findByText=function(t){var e,i=[];for(e in this.wins)this.wins[e].getText().search(t,"gi")>=0&&(i[i.length]=this.wins[e]);return i},this.window=function(t){var e=null;return null!=this.wins[t]&&(e=this.wins[t]),e},this.forEachWindow=function(t){for(var e in this.wins)t(this.wins[e])},this.getBottommostWindow=function(){var t,e=this.getTopmostWindow();for(t in this.wins)this.wins[t].zi<e.zi&&(e=this.wins[t]);return 0!=e.zi?e:null},this.getTopmostWindow=function(t){var e,i={zi:0};for(e in this.wins)this.wins[e].zi>i.zi&&(1==t&&!this._isWindowHidden(this.wins[e])&&(i=this.wins[e]),1!=t&&(i=this.wins[e]));return 0!=i.zi?i:null},this.wins={};for(var i in this.wins)delete this.wins[i];return this.autoViewport=!0,this._createViewport=function(){this.vp=document.body,this._clearVPCss(),this.vp._css=String(this.vp.className).length>0?this.vp.className:"",this.vp.className+=" dhtmlx_skin_"+this.skin+(this._r?" dhx_wins_rtl":""),this.modalCoverI=document.createElement("IFRAME"),this.modalCoverI.frameBorder="0",this.modalCoverI.className="dhx_modal_cover_ifr",this.modalCoverI.setAttribute("src","javascript:false;"),this.modalCoverI.style.display="none",this.modalCoverI.style.zIndex=0,this.vp.appendChild(this.modalCoverI),this.modalCoverD=document.createElement("DIV"),this.modalCoverD.className="dhx_modal_cover_dv",this.modalCoverD.style.display="none",this.modalCoverD.style.zIndex=0,this.vp.appendChild(this.modalCoverD),this._vpcover=document.createElement("DIV"),this._vpcover.className="dhx_content_vp_cover",this._vpcover.style.display="none",this.vp.appendChild(this._vpcover),this._carcass=document.createElement("DIV"),this._carcass.className="dhx_carcass_resmove",this._carcass.style.display="none",_isIE&&(this._carcass.innerHTML="<iframe border=0 frameborder=0 style='filter: alpha(opacity=0); width: 100%; height:100%; position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; z-index:1;'></iframe><div style='position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;z-index:2;background:white;filter:alpha(opacity=0);opacity:0;'></div>",navigator.userAgent.indexOf("MSIE 10")>=0||this._carcass.childNodes[0].setAttribute("src","javascript:false;")),this._carcass.onselectstart=function(t){t=t||event,t.returnValue=!1},this.vp.appendChild(this._carcass)},this._clearVPCss=function(){this.vp.className=String(this.vp.className).replace(/[a-z_]{1,}/gi,function(t){return 1=={dhtmlx_skin_dhx_skyblue:1,dhtmlx_skin_dhx_blue:1,dhtmlx_skin_dhx_black:1,dhtmlx_skin_dhx_web:1,dhtmlx_skin_dhx_terrace:1}[t]?"":t})},this._autoResizeViewport=function(){for(var t in this.wins)this.wins[t]._isFullScreened&&(this.wins[t].adjustContent(document.body,0,0,!1,0),this.wins[t].updateNestedObjects()),this.wins[t]._isMaximized&&"none"!=this.wins[t].style.display&&(this._restoreWindow(t),this._maximizeWindow(t));if(this.vp!=document.body&&0!=this.autoViewport)for(t in this.vp.style.width=(_isIE?document.body.offsetWidth-4:window.innerWidth)+"px",this.vp.style.height=(_isIE?document.body.offsetHeight-4:window.innerHeight)+"px",this.wins){var e=this.wins[t],i=!1,s=!1;e.x>this.vp.offsetWidth-10&&(e.x=this.vp.offsetWidth-10,i=!0);var n=null!=e._skinParams?e._skinParams:this.skinParams[this.skin];e.y+n.header_height>this.vp.offsetHeight&&(e.y=this.vp.offsetHeight-n.header_height,s=!0),(i||s)&&this._engineRedrawWindowPos(e)}},this.enableAutoViewport=function(t){this.vp==document.body&&(this.autoViewport=t,0==t)&&(this.vp==document.body&&(document.body.className=this.vp._css),this.vp.removeChild(this.modalCoverI),this.vp.removeChild(this.modalCoverD),this.vp.removeChild(this._vpcover),this.vp.removeChild(this._carcass),this.vp=null,this.vp=document.createElement("DIV"),this.vp.autocreated=!0,this.vp.className="dhtmlx_winviewport dhtmlx_skin_"+this.skin+(this._r?" dhx_wins_rtl":""),this.vp.style.left="0px",this.vp.style.top="0px",document.body.appendChild(this.vp),this.vp.ax=0,this.vp.ay=0,this._autoResizeViewport(),this.vp.appendChild(this.modalCoverI),this.vp.appendChild(this.modalCoverD),this.vp.appendChild(this._vpcover),this.vp.appendChild(this._carcass))},this.attachViewportTo=function(t){0==this.autoViewport&&(this.vp.removeChild(this.modalCoverI),this.vp.removeChild(this.modalCoverD),this.vp.removeChild(this._vpcover),this.vp.removeChild(this._carcass),this.vp!=document.body&&this.vp.parentNode.removeChild(this.vp),this.vp=null,this.vp="string"==typeof t?document.getElementById(t):t,this.vp.autocreated=!1,this._clearVPCss(),this.vp.className+=" dhtmlx_skin_"+this.skin+(this._r?" dhx_wins_rtl":""),this.vp.style.position="relative",this.vp.style.overflow="hidden",this.vp.ax=0,this.vp.ay=0,this.vp.appendChild(this.modalCoverI),this.vp.appendChild(this.modalCoverD),this.vp.appendChild(this._vpcover),this.vp.appendChild(this._carcass))},this.setViewport=function(t,e,i,s,n){0==this.autoViewport&&(this.vp.style.left=t+"px",this.vp.style.top=e+"px",this.vp.style.width=i+"px",this.vp.style.height=s+"px",null!=n&&n.appendChild(this.vp),this.vp.ax=getAbsoluteLeft(this.vp),this.vp.ay=getAbsoluteTop(this.vp))},this._effects={move:!1,resize:!1},this.setEffect=function(t,e){null!=this._effects[t]&&"boolean"==typeof e&&(this._effects[t]=e)},this.getEffect=function(t){return this._effects[t]},this.createWindow=function(t,i,s,n,o){var l=document.createElement("DIV");l.className="dhtmlx_window_inactive",l.dir="ltr";for(var h in this.wins)this.wins[h].zi+=this.zIndexStep,this.wins[h].style.zIndex=this.wins[h].zi,this.iframeMode&&this.wins[h].ifr&&(this.wins[h].ifr.style.zIndex=this.wins[h].style.zIndex-1);l.zi=this.zIndexStep,l.style.zIndex=l.zi,l.active=!1,l._isWindow=!0,l.isWindow=!0,l.w=Number(n),l.h=Number(o),l.x=i,l.y=s,this._engineFixWindowPosInViewport(l),l._isModal=!1,l._allowResize=!0,l.maxW="auto",l.maxH="auto",l.minW=200,l.minH=140,l.iconsPresent=!0,l.icons=[this.imagePath+this.pathPrefix+this.skin+"/active/icon_normal.gif",this.imagePath+this.pathPrefix+this.skin+"/inactive/icon_normal.gif"],l._allowMove=!0,l._allowMoveGlobal=!0,l._allowResizeGlobal=!0,l._keepInViewport=!1;this.skinParams[this.skin];return l.idd=t,this.vp.appendChild(l),this._engineSetWindowBody(l),this._engineRedrawWindowPos(l),this._engineRedrawWindowSize(l),this._engineUpdateWindowIcon(l,l.icons[0]),this._engineDiableOnSelectInWindow(l,!0),this.wins[t]=l,dhtmlxEventable(l),this._engineGetWindowHeader(l)[this._isIPad?"ontouchstart":"onmousedown"]=function(t){var t=t||event,i=e.wins[this.idd];return i.isOnTop()||i.bringToTop(),!e._engineGetWindowHeaderState(i)&&e._engineCheckHeaderMouseDown(i,t)&&i._allowMove&&i._allowMoveGlobal?(e._wasMoved=!1,i.moveOffsetX=i.x-(e._isIPad?t.touches[0].clientX:t.clientX),i.moveOffsetY=i.y-(e._isIPad?t.touches[0].clientY:t.clientY),e.movingWin=i,0==e._effects.move&&(e._carcass.x=e.movingWin.x,e._carcass.y=e.movingWin.y,e._carcass.w=parseInt(e.movingWin.style.width)+(_isIE?0:-2),e._carcass.h=parseInt(e.movingWin.style.height)+(_isIE?0:-2),e._carcass.style.left=e._carcass.x+"px",e._carcass.style.top=e._carcass.y+"px",e._carcass.style.width=e._carcass.w+"px",e._carcass.style.height=e._carcass.h+"px",e._carcass.style.zIndex=e._getTopZIndex(!0)+1,e._carcass._keepInViewport=l._keepInViewport),e._blockSwitcher(!0),e._vpcover.style.zIndex=e.movingWin.style.zIndex-1,e._vpcover.style.display="",t.returnValue=!1,t.cancelBubble=!0,!1):void 0},this._engineGetWindowHeader(l).ondblclick=function(t){var i=e.wins[this.idd];e._engineCheckHeaderMouseDown(i,t||event)&&(i._allowResizeGlobal&&!i._isParked&&(1==i._isMaximized?e._restoreWindow(i.idd):e._maximizeWindow(i.idd)),i=null)},l.setText=function(t){e._engineGetWindowLabel(this).innerHTML=t},l.getText=function(){return e._engineGetWindowLabel(this).innerHTML},l.getId=function(){return this.idd},l.show=function(){e._showWindow(this)},l.hide=function(){e._hideWindow(this)},l.minimize=function(){e._restoreWindow(this.idd)},l.maximize=function(){e._maximizeWindow(this.idd)},l.close=function(){e._closeWindow(this.idd)},l.park=function(){this._isParkedAllowed&&e._parkWindow(this.idd)},l.stick=function(){e._stickWindow(this.idd)},l.unstick=function(){e._unstickWindow(this.idd)},l.isSticked=function(){return this._isSticked},l.setIcon=function(t,i){e._setWindowIcon(l,t,i)},l.getIcon=function(){return e._getWindowIcon(this)},l.clearIcon=function(){e._clearWindowIcons(this)},l.restoreIcon=function(){e._restoreWindowIcons(this)},l.keepInViewport=function(t){this._keepInViewport=t},l.setModal=function(t){1==t?null!=e.modalWin||e.modalWin==this||e._setWindowModal(this,!0):e.modalWin==this&&e._setWindowModal(this,!1)},l.isModal=function(){return this._isModal},l.isHidden=function(){return e._isWindowHidden(this)},l.isMaximized=function(){return this._isMaximized},l.isParked=function(){return this._isParked},l.allowPark=function(){e._allowParking(this)},l.denyPark=function(){e._denyParking(this)},l.isParkable=function(){return this._isParkedAllowed},l.allowResize=function(){e._allowReszieGlob(this)},l.denyResize=function(){e._denyResize(this)},l.isResizable=function(){return this._allowResizeGlobal},l.allowMove=function(){this._isMaximized||(this._allowMove=!0),this._allowMoveGlobal=!0},l.denyMove=function(){this._allowMoveGlobal=!1},l.isMovable=function(){return this._allowMoveGlobal},l.bringToTop=function(){e._bringOnTop(this),e._makeActive(this)},l.bringToBottom=function(){e._bringOnBottom(this)},l.isOnTop=function(){return e._isWindowOnTop(this)},l.isOnBottom=function(){return e._isWindowOnBottom(this)},l.setPosition=function(t,i){this.x=t,this.y=i,e._engineFixWindowPosInViewport(this),e._engineRedrawWindowPos(this)},l.getPosition=function(){return[this.x,this.y]},l.setDimension=function(t,i){null!=t&&("auto"!=this.maxW&&t>this.maxW&&(t=this.maxW),t<this.minW&&(t=this.minW),this.w=t),null!=i&&("auto"!=this.maxH&&i>this.maxH&&(i=this.maxH),i<this.minH&&(i=this.minH),this.h=i),e._fixWindowDimensionInViewport(this),e._engineFixWindowPosInViewport(this),e._engineRedrawWindowSize(this),this.updateNestedObjects()},l.getDimension=function(){return[this.w,this.h]},l.setMaxDimension=function(t,i){this.maxW=isNaN(t)?"auto":t,this.maxH=isNaN(i)?"auto":i,e._engineRedrawWindowSize(this)},l.getMaxDimension=function(){return[this.maxW,this.maxH]},l.setMinDimension=function(t,i){null!=t&&(this.minW=t),null!=i&&(this.minH=i),e._fixWindowDimensionInViewport(this),e._engineRedrawWindowPos(this)},l.getMinDimension=function(){return[this.minW,this.minH]},l._adjustToContent=function(t,i){e._engineAdjustWindowToContent(this,t,i)},l._doOnAttachMenu=function(){e._engineRedrawWindowSize(this),this.updateNestedObjects()},l._doOnAttachToolbar=function(){e._engineRedrawWindowSize(this),this.updateNestedObjects()},l._doOnAttachStatusBar=function(){e._engineRedrawWindowSize(this),this.updateNestedObjects()},l._doOnFrameMouseDown=function(){this.bringToTop()},l._doOnFrameContentLoaded=function(){e.callEvent("onContentLoaded",[this])},l.addUserButton=function(t,i,s,n){var o=e._addUserButton(this,t,i,s,n);return o},l.removeUserButton=function(t){t=String(t).toLowerCase(),"minmax1"==t||"minmax2"==t||"park"==t||"close"==t||"stick"==t||"unstick"==t||"help"==t||null!=btn&&e._removeUserButton(this,t)},l.progressOn=function(){e._engineSwitchWindowProgress(this,!0)},l.progressOff=function(){e._engineSwitchWindowProgress(this,!1)},l.setToFullScreen=function(t){e._setWindowToFullScreen(this,t)},l.showHeader=function(){e._engineSwitchWindowHeader(this,!0)},l.hideHeader=function(){e._engineSwitchWindowHeader(this,!1)},l.progressOff(),l.canStartResize=!1,l.onmousemove=function(t){if(_isIE&&this._isMaximized)return!0;var t=t||event,i=t.target||t.srcElement;if(String(i.className).search("dhtmlx_wins_resizer")<0&&(i=null),!this._allowResize||0==this._allowResizeGlobal||!i)return i&&"default"!=i.style.cursor&&(i.style.cursor="default"),"default"!=this.style.cursor&&(this.style.cursor="default"),this.canStartResize=!1,!0;if(null==e.resizingWin&&null==e.movingWin&&!this._isParked){if(e._isIPad)var s=t.touches[0].clientX,n=t.touches[0].clientY;else s=_isIE||_isOpera?t.offsetX:t.layerX,n=_isIE||_isOpera?t.offsetY:t.layerY;var o=e._engineAllowWindowResize(l,i,s,n);if(null!=o){e.resizingDirs=o;var h={x:t.clientX,y:t.clientY};switch(e.resizingDirs){case"border_left":i.style.cursor="w-resize",this.resizeOffsetX=this.x-h.x;break;case"border_right":i.style.cursor="e-resize",this.resizeOffsetXW=this.x+this.w-h.x;break;case"border_top":i.style.cursor="n-resize",this.resizeOffsetY=this.y-h.y;break;case"border_bottom":i.style.cursor="n-resize",this.resizeOffsetYH=this.y+this.h-h.y;break;case"corner_left":i.style.cursor="sw-resize",this.resizeOffsetX=this.x-t.clientX,this.resizeOffsetYH=this.y+this.h-h.y;break;case"corner_up_left":i.style.cursor="nw-resize",this.resizeOffsetY=this.y-h.y,this.resizeOffsetX=this.x-h.x;break;case"corner_right":i.style.cursor="nw-resize",this.resizeOffsetXW=this.x+this.w-h.x,this.resizeOffsetYH=this.y+this.h-h.y;break;case"corner_up_right":i.style.cursor="sw-resize",this.resizeOffsetY=this.y-h.y,this.resizeOffsetXW=this.x+this.w-h.x}return this.canStartResize=!0,this.style.cursor=i.style.cursor,t.cancelBubble=!0,t.returnValue=!1}this.canStartResize=!1,"default"!=i.style.cursor&&(i.style.cursor="default"),"default"!=this.style.cursor&&(this.style.cursor="default")}},l.onmousedown=function(t){e._getActive()!=this&&e._makeActive(this),e._bringOnTop(this),this.canStartResize&&(e._blockSwitcher(!0),e.resizingWin=this,e._effects.resize||(e._carcass.x=e.resizingWin.x,e._carcass.y=e.resizingWin.y,e._carcass.w=Number(e.resizingWin.w)+(_isIE?0:-2),e._carcass.h=Number(e.resizingWin.h)+(_isIE?0:-2),e._carcass.style.left=e._carcass.x+"px",e._carcass.style.top=e._carcass.y+"px",e._carcass.style.width=e._carcass.w+"px",e._carcass.style.height=e._carcass.h+"px",e._carcass.style.zIndex=e._getTopZIndex(!0)+1,e._carcass.style.cursor=this.style.cursor,e._carcass._keepInViewport=this._keepInViewport,e._carcass.style.display=""),e._vpcover.style.zIndex=e.resizingWin.style.zIndex-1,e._vpcover.style.display="",this.vs[this.av].layout&&this.callEvent("_onBeforeTryResize",[this]),t=t||event)},this._addDefaultButtons(l.idd),l.button=function(t){var t=String(t).toLowerCase(),e=null;return null!=this.btns[t]&&(e=this.btns[t]),e},l.center=function(){e._centerWindow(this,!1)},l.centerOnScreen=function(){e._centerWindow(this,!0)},l._attachContent("empty",null),l._redraw=function(){e._engineRedrawWindowSize(this)},l.bringToTop(),this._engineRedrawWindowSize(l),this.wins[t]},this.zIndexStep=50,this._getTopZIndex=function(t){var e,i=0;for(e in this.wins)1==t?this.wins[e].zi>i&&(i=this.wins[e].zi):this.wins[e].zi>i&&!this.wins[e]._isSticked&&(i=this.wins[e].zi);
return i},this.movingWin=null,this._moveWindow=function(t){if(null!=this.movingWin){if(!this.movingWin._allowMove||!this.movingWin._allowMoveGlobal)return;1==this._effects.move?("move"!=this._engineGetWindowHeader(this.movingWin).style.cursor&&(this._engineGetWindowHeader(this.movingWin).style.cursor="move"),this._wasMoved=!0,this.movingWin.x=(this._isIPad?t.touches[0].clientX:t.clientX)+this.movingWin.moveOffsetX,this.movingWin.y=(this._isIPad?t.touches[0].clientY:t.clientY)+this.movingWin.moveOffsetY,this._engineFixWindowPosInViewport(this.movingWin),this._engineRedrawWindowPos(this.movingWin)):(""!=this._carcass.style.display&&(this._carcass.style.display=""),"move"!=this._carcass.style.cursor&&(this._carcass.style.cursor="move"),"move"!=this._engineGetWindowHeader(this.movingWin).style.cursor&&(this._engineGetWindowHeader(this.movingWin).style.cursor="move"),this._carcass.x=(this._isIPad?t.touches[0].clientX:t.clientX)+this.movingWin.moveOffsetX,this._carcass.y=(this._isIPad?t.touches[0].clientY:t.clientY)+this.movingWin.moveOffsetY,this._wasMoved=!0,this._engineFixWindowPosInViewport(this._carcass),this._carcass.style.left=this._carcass.x+"px",this._carcass.style.top=this._carcass.y+"px")}if(null!=this.resizingWin&&this.resizingWin._allowResize){var e={x:t.clientX,y:t.clientY};if("border_left"==this.resizingDirs||"corner_left"==this.resizingDirs||"corner_up_left"==this.resizingDirs)if(this._effects.resize){var i=e.x+this.resizingWin.resizeOffsetX,s=i>this.resizingWin.x?-1:1;newW=this.resizingWin.w+Math.abs(i-this.resizingWin.x)*s,newW<this.resizingWin.minW&&0>s?(this.resizingWin.x=this.resizingWin.x+this.resizingWin.w-this.resizingWin.minW,this.resizingWin.w=this.resizingWin.minW):(this.resizingWin.w=newW,this.resizingWin.x=i),this._engineRedrawWindowPos(this.resizingWin),this._engineRedrawWindowSize(this.resizingWin)}else i=e.x+this.resizingWin.resizeOffsetX,s=i>this._carcass.x?-1:1,newW=this._carcass.w+Math.abs(i-this._carcass.x)*s,newW>this.resizingWin.maxW&&(newW=this.resizingWin.maxW,i=this._carcass.x+this._carcass.w-this.resizingWin.maxW),newW<this.resizingWin.minW&&0>s?(this._carcass.x=this._carcass.x+this._carcass.w-this.resizingWin.minW,this._carcass.w=this.resizingWin.minW):(this._carcass.w=newW,this._carcass.x=i),this._carcass.style.left=this._carcass.x+"px",this._carcass.style.width=this._carcass.w+"px";("border_right"==this.resizingDirs||"corner_right"==this.resizingDirs||"corner_up_right"==this.resizingDirs)&&(this._effects.resize?(i=e.x-(this.resizingWin.x+this.resizingWin.w)+this.resizingWin.resizeOffsetXW,newW=this.resizingWin.w+i,newW<this.resizingWin.minW&&(newW=this.resizingWin.minW),this.resizingWin.w=newW,this._engineRedrawWindowPos(this.resizingWin),this._engineRedrawWindowSize(this.resizingWin)):(i=e.x-(this._carcass.x+this._carcass.w)+this.resizingWin.resizeOffsetXW,newW=this._carcass.w+i,newW<this.resizingWin.minW&&(newW=this.resizingWin.minW),"auto"!=this.resizingWin.maxW&&newW>this.resizingWin.maxW&&(newW=this.resizingWin.maxW),this._carcass.w=newW,this._carcass.style.width=this._carcass.w+"px")),("border_bottom"==this.resizingDirs||"corner_left"==this.resizingDirs||"corner_right"==this.resizingDirs)&&(this._effects.resize?(i=e.y-(this.resizingWin.y+this.resizingWin.h)+this.resizingWin.resizeOffsetYH,newH=this.resizingWin.h+i,newH<this.resizingWin.minH&&(newH=this.resizingWin.minH),this.resizingWin.h=newH,this._engineRedrawWindowPos(this.resizingWin),this._engineRedrawWindowSize(this.resizingWin)):(i=e.y-(this._carcass.y+this._carcass.h)+this.resizingWin.resizeOffsetYH,newH=this._carcass.h+i,newH<this.resizingWin.minH&&(newH=this.resizingWin.minH),newH>this.resizingWin.maxH&&(newH=this.resizingWin.maxH),this._carcass.h=newH,this._carcass.style.height=this._carcass.h+"px")),"border_top"!=this.resizingDirs&&"corner_up_right"!=this.resizingDirs&&"corner_up_left"!=this.resizingDirs||this._effects.resize||(i=e.y+this.resizingWin.resizeOffsetY,s=i>this.resizingWin.y?-1:1,newH=this.resizingWin.h+Math.abs(i-this.resizingWin.y)*s,newH>this.resizingWin.maxH&&(newH=this.resizingWin.maxH,i=this.resizingWin.y+this.resizingWin.h-this.resizingWin.maxH),newH<this.resizingWin.minH&&0>s?(this._carcass.y=this._carcass.y+this._carcass.h-this.resizingWin.minH,this._carcass.h=this.resizingWin.minH):(this._carcass.h=newH+(_isIE?0:-2),this._carcass.y=i),this._carcass.style.top=this._carcass.y+"px",this._carcass.style.height=this._carcass.h+"px")}},this._stopMove=function(){if(null!=this.movingWin){if(this._effects.move){var t=this.movingWin;this.movingWin=null,this._blockSwitcher(!1),this._engineGetWindowHeader(t).style.cursor="",_isFF&&(t.h++,e._engineRedrawWindowPos(t),t.h--,e._engineRedrawWindowPos(t))}else this._carcass.style.cursor="",this._carcass.style.display="none",t=this.movingWin,this._engineGetWindowHeader(t).style.cursor="",this.movingWin=null,this._blockSwitcher(!1),t.setPosition(parseInt(this._carcass.style.left),parseInt(this._carcass.style.top));this._vpcover.style.display="none",this._wasMoved&&(t.checkEvent("onMoveFinish")?t.callEvent("onMoveFinish",[t]):this.callEvent("onMoveFinish",[t])),this._wasMoved=!1}null!=this.resizingWin&&(t=this.resizingWin,this.resizingWin=null,this._blockSwitcher(!1),this._effects.resize?t.updateNestedObjects():(this._carcass.style.display="none",t.setDimension(this._carcass.w+(_isIE?0:2),this._carcass.h+(_isIE?0:2)),t.setPosition(this._carcass.x,this._carcass.y)),t.vs[t.av].layout&&t.vs[t.av].layout.callEvent("onResize",[]),this._vpcover.style.display="none",t.checkEvent("onResizeFinish")?t.callEvent("onResizeFinish",[t]):this.callEvent("onResizeFinish",[t]))},this._fixWindowDimensionInViewport=function(t){t.w<t.minW&&(t.w=t.minW),!t._isParked&&t.h<t.minH&&(t.h=t.minH)},this._bringOnTop=function(t){var e,i=t.zi,s=this._getTopZIndex(t._isSticked);for(e in this.wins)this.wins[e]!=t&&(t._isSticked||!t._isSticked&&!this.wins[e]._isSticked)&&this.wins[e].zi>i&&(this.wins[e].zi-=this.zIndexStep,this.wins[e].style.zIndex=this.wins[e].zi,this.iframeMode&&this.wins[e].ifr&&(this.wins[e].ifr.style.zIndex=this.wins[e].style.zIndex-1));t.zi=s,t.style.zIndex=t.zi,this.iframeMode&&t.ifr&&(t.ifr.style.zIndex=s-1)},this._makeActive=function(t,e){for(var i in this.wins)if(this.wins[i]==t){var s=!1;"dhtmlx_window_active"!=this.wins[i].className&&!e&&(s=!0),this.wins[i].className="dhtmlx_window_active",this._engineUpdateWindowIcon(this.wins[i],this.wins[i].icons[0]),1==s&&(t.checkEvent("onFocus")?t.callEvent("onFocus",[t]):this.callEvent("onFocus",[t]))}else this.wins[i].className="dhtmlx_window_inactive",this._engineUpdateWindowIcon(this.wins[i],this.wins[i].icons[1])},this._getActive=function(){var t,e=null;for(t in this.wins)"dhtmlx_window_active"==this.wins[t].className&&(e=this.wins[t]);return e},this._centerWindow=function(t,e){if(1!=t._isMaximized){if(1==e)var i=_isIE?document.body.offsetWidth:window.innerWidth,s=_isIE?document.body.offsetHeight:window.innerHeight;else i=this.vp==document.body?document.body.offsetWidth:Number(parseInt(this.vp.style.width))&&-1==String(this.vp.style.width).search("%")?parseInt(this.vp.style.width):this.vp.offsetWidth,s=this.vp==document.body?document.body.offsetHeight:Number(parseInt(this.vp.style.height))&&-1==String(this.vp.style.height).search("%")?parseInt(this.vp.style.height):this.vp.offsetHeight;var n=Math.round(i/2-t.w/2),o=Math.round(s/2-t.h/2);t.x=n,t.y=o,this._engineFixWindowPosInViewport(t),this._engineRedrawWindowPos(t)}},this._addDefaultButtons=function(t){var i=this.wins[t],s=this._engineGetWindowButton(i,"stick");s.title=this.i18n.stick,s.isVisible=!1,s.style.display="none",s._isEnabled=!0,s.isPressed=!1,s.label="stick",s._doOnClick=function(){this.isPressed=!0,e._stickWindow(this.winId)};var n=this._engineGetWindowButton(i,"sticked");n.title=this.i18n.unstick,n.isVisible=!1,n.style.display="none",n._isEnabled=!0,n.isPressed=!1,n.label="sticked",n._doOnClick=function(){this.isPressed=!1,e._unstickWindow(this.winId)};var o=this._engineGetWindowButton(i,"help");o.title=this.i18n.help,o.isVisible=!1,o.style.display="none",o._isEnabled=!0,o.isPressed=!1,o.label="help",o._doOnClick=function(){e._needHelp(this.winId)};var l=this._engineGetWindowButton(i,"park");l.titleIfParked=this.i18n.parkdown,l.titleIfNotParked=this.i18n.parkup,l.title=l.titleIfNotParked,l.isVisible=!0,l._isEnabled=!0,l.isPressed=!1,l.label="park",l._doOnClick=function(){e._parkWindow(this.winId)};var h=this._engineGetWindowButton(i,"minmax1");h.title=this.i18n.maximize,h.isVisible=!0,h._isEnabled=!0,h.isPressed=!1,h.label="minmax1",h._doOnClick=function(){e._maximizeWindow(this.winId)};var r=this._engineGetWindowButton(i,"minmax2");r.title=this.i18n.restore,r.isVisible=!1,r.style.display="none",r._isEnabled=!0,r.isPressed=!1,r.label="minmax2",r._doOnClick=function(){e._restoreWindow(this.winId)};var a=this._engineGetWindowButton(i,"close");a.title=this.i18n.close,a.isVisible=!0,a._isEnabled=!0,a.isPressed=!1,a.label="close",a._doOnClick=function(){e._closeWindow(this.winId)};var d=this._engineGetWindowButton(i,"dock");d.title=this.i18n.dock,d.style.display="none",d.isVisible=!1,d._isEnabled=!0,d.isPressed=!1,d.label="dock",d._doOnClick=function(){},i._isSticked=!1,i._isParked=!1,i._isParkedAllowed=!0,i._isMaximized=!1,i._isDocked=!1,i.btns={},i.btns.stick=s,i.btns.sticked=n,i.btns.help=o,i.btns.park=l,i.btns.minmax1=h,i.btns.minmax2=r,i.btns.close=a,i.btns.dock=d;for(var c in i.btns)i.btns[c].winId=i.idd,this._attachEventsOnButton(i.idd,c);i=s=n=o=l=h=r=a=d=null},this._attachEventsOnButton=function(t,i){var s=this.wins[t].btns[i];this._isIPad?(s.ontouchstart=function(t){return t.cancelBubble=!0,t.returnValue=!1},s.ontouchend=function(t){return t.cancelBubble=!0,t.returnValue=!1,this._isEnabled?(this.checkEvent("onClick")?this.callEvent("onClick",[e.wins[this.winId],this]):this._doOnClick(),!1):!1}):(s.onmouseover=function(){this.className=this._isEnabled?"dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_over_"+(this.isPressed?"pressed":"default"):"dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_disabled"},s.onmouseout=function(){this._isEnabled?(this.isPressed=!1,this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_default"):this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_disabled"},s.onmousedown=function(){this._isEnabled?(this.isPressed=!0,this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_over_pressed"):this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_disabled"},s.onmouseup=function(){if(this._isEnabled){var t=this.isPressed;this.isPressed=!1,this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_over_default",t&&(this.checkEvent("onClick")?this.callEvent("onClick",[e.wins[this.winId],this]):this._doOnClick())}else this.className="dhtmlx_wins_btns_button dhtmlx_button_"+this.label+"_disabled"}),s.show=function(){e._showButton(e.wins[this.winId],this.label,!0)},s.hide=function(){e._hideButton(e.wins[this.winId],this.label,!0)},s.enable=function(){e._enableButton(e.wins[this.winId],this.label)},s.disable=function(){e._disableButton(e.wins[this.winId],this.label)},s.isEnabled=function(){return this._isEnabled},s.isHidden=function(){return!this.isVisible},dhtmlxEventable(s),s=null},this._parkWindow=function(t,e){var i=this.wins[t];if(!(!i._isParkedAllowed&&!e||this.enableParkEffect&&i.parkBusy)){if(i._isParked)this.enableParkEffect&&!e?(i.parkBusy=!0,this._doParkDown(i)):(i.h=i.lastParkH,this._engineRedrawWindowSize(i),this._engineDoOnWindowParkDown(i),i.updateNestedObjects(),i.btns.park.title=i.btns.park.titleIfNotParked,1==i._allowResizeGlobal&&(this._enableButton(i,"minmax1"),this._enableButton(i,"minmax2")),i._isParked=!1,e||(i.checkEvent("onParkDown")?i.callEvent("onParkDown",[i]):this.callEvent("onParkDown",[i])));else if(this.enableParkEffect&&!e)if(i.lastParkH=-1==String(i.h).search(/\%$/)?i.h:i.offsetHeight,1==i._allowResizeGlobal&&(this._disableButton(i,"minmax1"),this._disableButton(i,"minmax2")),this.enableParkEffect)i.parkBusy=!0,this._doParkUp(i);else{var s=null!=i._skinParams?i._skinParams:this.skinParams[this.skin];i.h=s.header_height+s.border_bottom_height,i.btns.park.title=i.btns.park.titleIfParked}else i.lastParkH=-1==String(i.h).search(/\%$/)?i.h:i.offsetHeight,i.h=this._engineGetWindowParkedHeight(i),this._engineRedrawWindowSize(i),this._engineDoOnWindowParkUp(i),i.btns.park.title=i.btns.park.titleIfParked,i._isParked=!0,e||(i.checkEvent("onParkUp")?i.callEvent("onParkUp",[i]):this.callEvent("onParkUp",[i]));i=null}},this._allowParking=function(t){t._isParkedAllowed=!0,this._enableButton(t,"park")},this._denyParking=function(t){t._isParkedAllowed=!1,this._disableButton(t,"park")},this.enableParkEffect=!1,this.parkSpeed=this.parkStartSpeed=80,this.parkTM=null,this.parkTMTime=5,this._doParkUp=function(t){-1!=String(t.h).search(/\%$/)&&(t.h=t.offsetHeight),t.h-=this.parkSpeed;var i=this._engineGetWindowParkedHeight(t);t.h<=i?(t.h=i,this._engineGetWindowButton(t,"park").title=this._engineGetWindowButton(t,"park").titleIfParked,t._isParked=!0,t.parkBusy=!1,this._engineRedrawWindowSize(t),this._engineDoOnWindowParkUp(t),t.checkEvent("onParkUp")?t.callEvent("onParkUp",[t]):this.callEvent("onParkUp",[t])):(this._engineRedrawWindowSize(t),this.parkTM=window.setTimeout(function(){e._doParkUp(t)},this.parkTMTime))},this._doParkDown=function(t){t.h+=this.parkSpeed,t.h>=t.lastParkH?(t.h=t.lastParkH,this._engineGetWindowButton(t,"park").title=this._engineGetWindowButton(t,"park").titleIfNotParked,1==t._allowResizeGlobal&&(this._enableButton(t,"minmax1"),this._enableButton(t,"minmax2")),t._isParked=!1,t.parkBusy=!1,this._engineRedrawWindowSize(t),t.updateNestedObjects(),this._engineDoOnWindowParkDown(t),t.checkEvent("onParkDown")?t.callEvent("onParkDown",[t]):this.callEvent("onParkDown",[t])):(this._engineRedrawWindowSize(t),this.parkTM=window.setTimeout(function(){e._doParkDown(t)},this.parkTMTime))},this._enableButton=function(t,e){var i=this._engineGetWindowButton(t,e);i&&(i._isEnabled=!0,i.className="dhtmlx_wins_btns_button dhtmlx_button_"+i.label+"_default",i=null)},this._disableButton=function(t,e){var i=this._engineGetWindowButton(t,e);i&&(i._isEnabled=!1,i.className="dhtmlx_wins_btns_button dhtmlx_button_"+t.btns[e].label+"_disabled",i=null)},this._allowReszieGlob=function(t){t._allowResizeGlobal=!0,this._enableButton(t,"minmax1"),this._enableButton(t,"minmax2")},this._denyResize=function(t){t._allowResizeGlobal=!1,this._disableButton(t,"minmax1"),this._disableButton(t,"minmax2")},this._maximizeWindow=function(t){var e=this.wins[t];if(0!=e._allowResizeGlobal){var i=e._isParked;i&&this._parkWindow(e.idd,!0),e.lastMaximizeX=e.x,e.lastMaximizeY=e.y,e.lastMaximizeW=e.w,e.lastMaximizeH=e.h,"auto"!=e.maxW&&"auto"!=e.maxW?(e.x=Math.round(e.x+(e.w-e.maxW)/2),e.y=Math.round(e.y+(e.h-e.maxH)/2),e._allowMove=!0):(e.x=0,e.y=0,e._allowMove=!1),e._isMaximized=!0,e._allowResize=!1,e.w="auto"==e.maxW?this.vp==document.body?"100%":""!=this.vp.style.width&&-1==String(this.vp.style.width).search("%")?parseInt(this.vp.style.width):this.vp.offsetWidth:e.maxW,e.h="auto"==e.maxH?this.vp==document.body?"100%":""!=this.vp.style.height&&-1==String(this.vp.style.width).search("%")?parseInt(this.vp.style.height):this.vp.offsetHeight:e.maxH,this._hideButton(e,"minmax1"),this._showButton(e,"minmax2"),this._engineRedrawWindowPos(e),i?this._parkWindow(e.idd,!0):(this._engineRedrawWindowSize(e),e.updateNestedObjects()),e.checkEvent("onMaximize")?e.callEvent("onMaximize",[e]):this.callEvent("onMaximize",[e]),e=null}},this._restoreWindow=function(t){var e=this.wins[t];if(0!=e._allowResizeGlobal){e.layout&&e.layout._defineWindowMinDimension(e);var i=e._isParked;i&&this._parkWindow(e.idd,!0),"auto"!=e.maxW&&"auto"!=e.maxW?(e.x=Math.round(e.x+(e.w-e.lastMaximizeW)/2),e.y=Math.round(e.y+(e.h-e.lastMaximizeH)/2)):(e.x=e.lastMaximizeX,e.y=e.lastMaximizeY),e.w=e.lastMaximizeW,e.h=e.lastMaximizeH,e._isMaximized=!1,e._allowMove=e._allowMoveGlobal,e._allowResize=!0,this._fixWindowDimensionInViewport(e),this._hideButton(e,"minmax2"),this._showButton(e,"minmax1"),this._engineRedrawWindowPos(e),i?this._parkWindow(e.idd,!0):(this._engineRedrawWindowSize(e),e.updateNestedObjects()),e.checkEvent("onMinimize")?e.callEvent("onMinimize",[e]):this.callEvent("onMinimize",[e]),e=null}},this._showButton=function(t,e,i){var s=this._engineGetWindowButton(t,e);!s||!i&&s._userHide||s.isVisible===!0||(s.isVisible=!0,s.style.display="",s.style.visibility="visible",s._userHide=1!=i,this._engineRedrawWindowTitle(t),s=null)},this._hideButton=function(t,e,i){var s=this._engineGetWindowButton(t,e);s&&(i||s.isVisible!==!1)&&(s.isVisible=!1,s.style.display="none",s.style.visibility="hidden",s._userHide=1==i,this._engineRedrawWindowTitle(t),s=null)},this._showWindow=function(t){t.style.display="",t.checkEvent("onShow")?t.callEvent("onShow",[t]):this.callEvent("onShow",[t]);var e=this._getActive();null==e?(this._bringOnTop(t),this._makeActive(t)):this._isWindowHidden(e)&&(this._bringOnTop(t),this._makeActive(t)),this.iframeMode&&t.ifr&&(t.ifr.style.display="")},this._hideWindow=function(t){t.style.display="none",t.checkEvent("onHide")?t.callEvent("onHide",[t]):this.callEvent("onHide",[t]);var e=this.getTopmostWindow(!0);null!=e&&(this._bringOnTop(e),this._makeActive(e)),this.iframeMode&&t.ifr&&(t.ifr.style.display="none")},this._isWindowHidden=function(t){var e="none"==t.style.display;return e},this._closeWindow=function(t){var e=this.wins[t];if(this._focusFixIE&&(this._focusFixIE.style.top=(this.vp==document.body?0:getAbsoluteTop(this.vp))+Number(e.y)+"px",this._focusFixIE.focus()),e.checkEvent("onClose")){if(!e.callEvent("onClose",[e]))return}else if(!this.callEvent("onClose",[e]))return;e=null,this._removeWindowGlobal(t);var i,s={zi:0};for(i in this.wins)this.wins[i].zi>s.zi&&(s=this.wins[i]);null!=s&&this._makeActive(s)},this._needHelp=function(t){var e=this.wins[t];e.checkEvent("onHelp")?e.callEvent("onHelp",[e]):this.callEvent("onHelp",[e]),e=null},this._setWindowIcon=function(t,e,i){t.iconsPresent=!0,t.icons[0]=this.imagePath+e,t.icons[1]=this.imagePath+i,this._engineUpdateWindowIcon(t,t.icons[t.isOnTop()?0:1])},this._getWindowIcon=function(t){return t.iconsPresent?[t.icons[0],t.icons[1]]:[null,null]},this._clearWindowIcons=function(t){t.iconsPresent=!1,t.icons[0]=this.imagePath+this.pathPrefix+this.skin+"/active/icon_blank.gif",t.icons[1]=this.imagePath+this.pathPrefix+this.skin+"/inactive/icon_blank.gif",this._engineUpdateWindowIcon(t,t.icons[t.isOnTop()?0:1])},this._restoreWindowIcons=function(t){t.iconsPresent=!0,t.icons[0]=this.imagePath+this.pathPrefix+this.skin+"/active/icon_normal.gif",t.icons[1]=this.imagePath+this.pathPrefix+this.skin+"/inactive/icon_normal.gif",this._engineUpdateWindowIcon(t,t.icons["dhtmlx_window_active"==t.className?0:1])},this._attachWindowContentTo=function(t,e,i,s){var n=this._engineGetWindowContent(t).parentNode;n.parentNode.removeChild(n),t.hide(),n.style.left="0px",n.style.top="0px",n.style.width=(null!=i?i:e.offsetWidth)+"px",n.style.height=(null!=s?s:e.offsetHeight)+"px",n.style.position="relative",e.appendChild(n),this._engineGetWindowContent(t).style.width=n.style.width,this._engineGetWindowContent(t).style.height=n.style.height},this._setWindowToFullScreen=function(t,e){1!=e||t._isFullScreened||(t._p1=t.vs[t.av].dhxcont.nextSibling,t._p1.parentNode.removeChild(t.vs[t.av].dhxcont),t.hide(),t._isFullScreened=!0,t._FSoffsetHeight=t._offsetHeight,t._FSoffsetHeightSaved=t._offsetHeightSaved,t._FSoffsetLeft=t._offsetLeft,t._FSoffsetWidth=t._offsetWidth,t._offsetHeight=0,t._offsetHeightSaved=0,t._offsetLeft=0,t._offsetWidth=0,t.vs[t.av].dhxcont.style.position="absolute",document.body.appendChild(t.vs[t.av].dhxcont),t.adjustContent(document.body,0,0,!1,0),t.updateNestedObjects()),0==e&&t._isFullScreened&&(t._p1.parentNode.insertBefore(t.vs[t.av].dhxcont,t._p1),t._p1=null,t._isFullScreened=!1,t._offsetHeight=t._FSoffsetHeight,t._offsetHeightSaved=t._FSoffsetHeightSaved,t._offsetLeft=t._FSoffsetLeft,t._offsetWidth=t._FSoffsetWidth,t._FSoffsetHeight=t._FSoffsetHeightSaved=t._FSoffsetLeft=t._FSoffsetWidth=null,t.show(),t.setDimension(t.w,t.h),t.bringToTop())},this._isWindowOnTop=function(t){var e=this.getTopmostWindow()==t;return e},this._bringOnBottom=function(t){for(var e in this.wins)this.wins[e].zi<t.zi&&(this.wins[e].zi+=this.zIndexStep,this.wins[e].style.zIndex=this.wins[e].zi);t.zi=50,t.style.zIndex=t.zi,this._makeActive(this.getTopmostWindow())},this._isWindowOnBottom=function(t){var e,i=!0;for(e in this.wins)this.wins[e]!=t&&(i=i&&this.wins[e].zi>t.zi);return i},this._stickWindow=function(t){var e=this.wins[t];e._isSticked=!0,this._hideButton(e,"stick"),this._showButton(e,"sticked"),this._bringOnTop(e),e=null},this._unstickWindow=function(t){var e=this.wins[t];e._isSticked=!1,this._hideButton(e,"sticked"),this._showButton(e,"stick"),this._bringOnTopAnyStickedWindows(),e=null},this._addUserButton=function(t,e,i,s){var e=String(e).toLowerCase(),n=this._engineAddUserButton(t,e,i);n.title=s,n.isVisible=!0,n._isEnabled=!0,n.isPressed=!1,n.label=e,t.btns[e]=n,t.btns[e].winId=t.idd,t.btns[e]._doOnClick=function(){},this._attachEventsOnButton(t.idd,e),n=null},this._removeUserButton=function(t,e){this._removeButtonGlobal(t,e)},this._blockSwitcher=function(t){for(var e in this.wins)1==t?this.wins[e].showCoverBlocker():this.wins[e].hideCoverBlocker()},this.modalWin=this.resizingWin=null,this.resizingDirs="none",_isIE&&(this._focusFixIE=document.createElement("INPUT"),this._focusFixIE.className="dhx_windows_ieonclosefocusfix",this._focusFixIE.style.position="absolute",this._focusFixIE.style.width="1px",this._focusFixIE.style.height="1px",this._focusFixIE.style.border="none",this._focusFixIE.style.background="none",this._focusFixIE.style.left="-10px",this._focusFixIE.style.fontSize="1px",document.body.appendChild(this._focusFixIE)),this._createViewport(),this._doOnMouseUp=function(){null!=e&&e._stopMove()},this._doOnMoseMove=function(t){t=t||event,null!=e&&e._moveWindow(t)},this._resizeTM=null,this._resizeTMTime=200,this._lw=null,this._doOnResize=function(){e._lw!=document.documentElement.clientHeight&&(window.clearTimeout(e._resizeTM),e._resizeTM=window.setTimeout(function(){e._autoResizeViewport()},e._resizeTMTime)),e._lw=document.documentElement.clientHeight},this._doOnUnload=function(){e.unload()},this._doOnSelectStart=function(t){t=t||event,(null!=e.movingWin||null!=e.resizingWin)&&(t.returnValue=!1)},_isIE&&("undefined"!=typeof window.addEventListener?document.body.addEventListener("selectstart",this._doOnSelectStart,!1):document.body.attachEvent("onselectstart",this._doOnSelectStart)),dhtmlxEvent(window,"resize",this._doOnResize),dhtmlxEvent(document.body,"unload",this._doOnUnload),this._isIPad?(document.addEventListener("touchmove",this._doOnMoseMove,!1),document.addEventListener("touchend",this._doOnMouseUp,!1)):(dhtmlxEvent(document.body,"mouseup",this._doOnMouseUp),dhtmlxEvent(this.vp,"mousemove",this._doOnMoseMove),dhtmlxEvent(this.vp,"mouseup",this._doOnMouseUp)),this._setWindowModal=function(t,e){1==e?(this._makeActive(t),this._bringOnTop(t),this.modalWin=t,t._isModal=!0,this.modalCoverI.style.zIndex=t.zi-2,this.modalCoverI.style.display="",this.modalCoverD.style.zIndex=t.zi-2,this.modalCoverD.style.display=""):(this.modalWin=null,t._isModal=!1,this.modalCoverI.style.zIndex=0,this.modalCoverI.style.display="none",this.modalCoverD.style.zIndex=0,this.modalCoverD.style.display="none")},this._bringOnTopAnyStickedWindows=function(){var t,e=[];for(t in this.wins)this.wins[t]._isSticked&&(e[e.length]=this.wins[t]);for(var i=0;i<e.length;i++)this._bringOnTop(e[i]);if(0==e.length)for(t in this.wins)"dhtmlx_window_active"==this.wins[t].className&&this._bringOnTop(this.wins[t])},this.unload=function(){this._clearAll()},this._removeButtonGlobal=function(t,e){if(this.wins[t]&&this.wins[t].btns[e]){var i=this.wins[t].btns[e];i.title=null,i.isVisible=null,i._isEnabled=null,i.isPressed=null,i.label=null,i._doOnClick=null,i.detachAllEvents(),i.attachEvent=null,i.callEvent=null,i.checkEvent=null,i.detachEvent=null,i.detachAllEvents=null,i.disable=null,i.enable=null,i.eventCatcher=null,i.hide=null,i.isEnabled=null,i.isHidden=null,i.show=null,i.onmousedown=null,i.onmouseout=null,i.onmouseover=null,i.onmouseup=null,i.ontouchstart=null,i.ontouchend=null,i.parentNode&&i.parentNode.removeChild(i),i=null,this.wins[t].btns[e]=null,delete this.wins[t].btns[e]}},this._removeWindowGlobal=function(t){var e=this.wins[t];this.modalWin==e&&this._setWindowModal(e,!1),this.iframeMode&&e.ifr&&(e.ifr.parentNode.removeChild(e.ifr),e.ifr=null);var i=e.coverBlocker(),i=i.onselectstart=null;this._engineDiableOnSelectInWindow(e,!1),e._dhxContDestruct(),this._engineGetWindowHeader(e).onmousedown=null,this.resizingWin=this.movingWin=this._engineGetWindowHeader(e).ondblclick=null;for(var s in e.btns)this._removeButtonGlobal(e,s);if(e.btns=null,e.detachAllEvents(),e._adjustToContent=null,e._doOnAttachMenu=null,e._doOnAttachStatusBar=null,e._doOnAttachToolbar=null,e._doOnFrameMouseDown=null,e._doOnFrameContentLoaded=null,e._redraw=null,e.addUserButton=null,e.allowMove=null,e.allowPark=null,e.allowResize=null,e.attachEvent=null,e.bringToBottom=null,e.bringToTop=null,e.callEvent=null,e.center=null,e.centerOnScreen=null,e.checkEvent=null,e.clearIcon=null,e.close=null,e.denyMove=null,e.denyPark=null,e.denyResize=null,e.detachEvent=null,e.detachAllEvents=null,e.eventCatcher=null,e.getDimension=null,e.getIcon=null,e.getId=null,e.getMaxDimension=null,e.getMinDimension=null,e.getPosition=null,e.getText=null,e.hide=null,e.hideHeader=null,e.isHidden=null,e.isMaximized=null,e.isModal=null,e.isMovable=null,e.isOnBottom=null,e.isOnTop=null,e.isParkable=null,e.isParked=null,e.isResizable=null,e.isSticked=null,e.keepInViewport=null,e.maximize=null,e.minimize=null,e.park=null,e.progressOff=null,e.progressOn=null,e.removeUserButton=null,e.restoreIcon=null,e.setDimension=null,e.setIcon=null,e.setMaxDimension=null,e.setMinDimension=null,e.setModal=null,e.setPosition=null,e.setText=null,e.setToFullScreen=null,e.show=null,e.showHeader=null,e.stick=null,e.unstick=null,e.onmousemove=null,e.onmousedown=null,e.icons=null,e.button=null,e._dhxContDestruct=null,e.dhxContGlobal.obj=null,e.dhxContGlobal.setContent=null,e.dhxContGlobal.dhxcont=null,e.dhxContGlobal=null,e._frame){for(;e._frame.childNodes.length>0;)e._frame.removeChild(e._frame.childNodes[0]);e._frame=null}this._parseNestedForEvents(e),e._content=null,e.innerHTML="",e.parentNode.removeChild(e),e=null,this.wins[t]=null,delete this.wins[t]},this._removeEvents=function(t){t.onmouseover=null,t.onmouseout=null,t.onmousemove=null,t.onclick=null,t.ondblclick=null,t.onmouseenter=null,t.onmouseleave=null,t.onmouseup=null,t.onmousewheel=null,t.onmousedown=null,t.onselectstart=null,t.onfocus=null,t.style.display="",t=null},this._parseNestedForEvents=function(t){this._removeEvents(t);for(var e=0;e<t.childNodes.length;e++)null!=t.childNodes[e].tagName&&this._parseNestedForEvents(t.childNodes[e]);t=null},this._clearAll=function(){this._clearDocumentEvents();for(var t in this.wins)this._removeWindowGlobal(t);for(this.wins=null,this._parseNestedForEvents(this._carcass);this._carcass.childNodes.length>0;)this._carcass.removeChild(this._carcass.childNodes[0]);this._carcass.onselectstart=null,this._carcass.parentNode.removeChild(this._carcass),this._carcass=null,this._parseNestedForEvents(this._vpcover),this._vpcover.parentNode.removeChild(this._vpcover),this._vpcover=null,this._parseNestedForEvents(this.modalCoverD),this.modalCoverD.parentNode.removeChild(this.modalCoverD),this.modalCoverD=null,this._parseNestedForEvents(this.modalCoverI),this.modalCoverI.parentNode.removeChild(this.modalCoverI),this.modalCoverI=null,1==this.vp.autocreated&&this.vp.parentNode.removeChild(this.vp),this.vp=null;for(t in this.skinParams)delete this.skinParams[t];e=this.window=this.unload=this.setViewport=this.setSkin=this.setImagePath=this.setEffect=this.isWindow=this.getTopmostWindow=this.getEffect=this.getBottommostWindow=this.forEachWindow=this.findByText=this.eventCatcher=this.enableAutoViewport=this.detachEvent=this.createWindow=this.checkEvent=this.callEvent=this.attachViewportTo=this.attachEvent=this._unstickWindow=this._stopMove=this._stickWindow=this._showWindow=this._showButton=this._setWindowToFullScreen=this._setWindowModal=this._setWindowIcon=this._restoreWindowIcons=this._restoreWindow=this._removeWindowGlobal=this._removeUserButton=this._removeEvents=this._removeButtonGlobal=this._parseNestedForEvents=this._parkWindow=this._needHelp=this._moveWindow=this._maximizeWindow=this._makeActive=this._isWindowOnTop=this._isWindowOnBottom=this._isWindowHidden=this._hideWindow=this._hideButton=this._getWindowIcon=this._getTopZIndex=this._getActive=this._genStr=this._fixWindowDimensionInViewport=this._engineUpdateWindowIcon=this._engineSwitchWindowProgress=this._engineSwitchWindowHeader=this._engineSetWindowBody=this._engineRedrawWindowTitle=this._engineRedrawWindowSize=this._engineRedrawWindowPos=this._engineRedrawSkin=this._engineGetWindowParkedHeight=this._engineGetWindowLabel=this._engineGetWindowHeaderState=this._engineGetWindowHeader=this._engineGetWindowContent=this._engineGetWindowButton=this._engineFixWindowPosInViewport=this._engineDoOnWindowParkUp=this._engineDoOnWindowParkDown=this._engineDiableOnSelectInWindow=this._engineCheckHeaderMouseDown=this._engineAllowWindowResize=this._engineAdjustWindowToContent=this._engineAddUserButton=this._enableButton=this._doParkUp=this._doParkDown=this._doOnUnload=this._doOnSelectStart=this._doOnResize=this._doOnMouseUp=this._doOnMoseMove=this._disableButton=this._dhx_Engine=this._denyResize=this._denyParking=this._createViewport=this._closeWindow=this._clearWindowIcons=this._clearDocumentEvents=this._clearAll=this._centerWindow=this._bringOnTopAnyStickedWindows=this._bringOnTop=this._bringOnBottom=this._blockSwitcher=this._autoResizeViewport=this._attachWindowContentTo=this._attachEventsOnButton=this._allowReszieGlob=this._allowParking=this._addUserButton=this._addDefaultButtons=this._engineSkinParams=this._effects=this.skinParams=null},this._clearDocumentEvents=function(){"function"==typeof window.addEventListener?(window.removeEventListener("resize",this._doOnResize,!1),document.body.removeEventListener("mouseup",this._doOnMouseUp,!1),document.body.removeEventListener("unload",this._doOnUnload,!1),this.vp.removeEventListener("mousemove",this._doOnMoseMove,!1),this.vp.removeEventListener("mouseup",this._doOnMouseUp,!1)):(window.detachEvent("onresize",this._doOnResize),document.body.detachEvent("onselectstart",this._doOnSelectStart),document.body.detachEvent("onmouseup",this._doOnMouseUp),document.body.detachEvent("onunload",this._doOnUnload),this.vp.detachEvent("onmousemove",this._doOnMoseMove),this.vp.detachEvent("onmouseup",this._doOnMouseUp))},this._genStr=function(t){for(var e="",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=0;t>s;s++)e+=i.charAt(Math.round(Math.random()*(i.length-1)));return e},dhtmlxEventable(this),this}alert(this.i18n.noenginealert)}else alert(this.i18n.dhx)}dhtmlx=function(t){for(var e in t)dhtmlx[e]=t[e];return dhtmlx},dhtmlx.extend_api=function(t,e,i){var s=window[t];s&&(window[t]=function(t){if(t&&"object"==typeof t&&!t.tagName){var i,n=s.apply(this,e._init?e._init(t):arguments);for(i in dhtmlx)e[i]&&this[e[i]](dhtmlx[i]);for(i in t)e[i]?this[e[i]](t[i]):0==i.indexOf("on")&&this.attachEvent(i,t[i])}else n=s.apply(this,arguments);return e._patch&&e._patch(this),n||this},window[t].prototype=s.prototype,i&&dhtmlXHeir(window[t].prototype,i))},dhtmlxAjax={get:function(t,e){var i=new dtmlXMLLoaderObject(!0);return i.async=arguments.length<3,i.waitCall=e,i.loadXML(t),i},post:function(t,e,i){var s=new dtmlXMLLoaderObject(!0);return s.async=arguments.length<4,s.waitCall=i,s.loadXML(t,!0,e),s},getSync:function(t){return this.get(t,null,!0)},postSync:function(t,e){return this.post(t,e,null,!0)}},dtmlXMLLoaderObject.count=0,dtmlXMLLoaderObject.prototype.waitLoadFunction=function(t){var e=!0;
return this.check=function(){!t||null==t.onloadAction||t.xmlDoc.readyState&&4!=t.xmlDoc.readyState||!e||(e=!1,dtmlXMLLoaderObject.count++,"function"==typeof t.onloadAction&&t.onloadAction(t.mainObject,null,null,null,t),t.waitCall&&(t.waitCall.call(this,t),t.waitCall=null))}},dtmlXMLLoaderObject.prototype.getXMLTopNode=function(t,e){if(this.xmlDoc.responseXML){var i=this.xmlDoc.responseXML.getElementsByTagName(t);0==i.length&&-1!=t.indexOf(":")&&(i=this.xmlDoc.responseXML.getElementsByTagName(t.split(":")[1]));var s=i[0]}else s=this.xmlDoc.documentElement;return s?(this._retry=!1,s):!this._retry&&_isIE?(this._retry=!0,e=this.xmlDoc,this.loadXMLString(this.xmlDoc.responseText.replace(/^[\s]+/,""),!0),this.getXMLTopNode(t,e)):(dhtmlxError.throwError("LoadXML","Incorrect XML",[e||this.xmlDoc,this.mainObject]),document.createElement("DIV"))},dtmlXMLLoaderObject.prototype.loadXMLString=function(t,e){if(_isIE)this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.xmlDoc.async=this.async,this.xmlDoc.onreadystatechange=function(){},this.xmlDoc.loadXML(t);else{var i=new DOMParser;this.xmlDoc=i.parseFromString(t,"text/xml")}e||(this.onloadAction&&this.onloadAction(this.mainObject,null,null,null,this),this.waitCall&&(this.waitCall(),this.waitCall=null))},dtmlXMLLoaderObject.prototype.loadXML=function(t,e,i,s){this.rSeed&&(t+=(-1!=t.indexOf("?")?"&":"?")+"a_dhx_rSeed="+(new Date).valueOf()),this.filePath=t,this.xmlDoc=!_isIE&&window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),this.async&&(this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this)),this.xmlDoc.open(e?"POST":"GET",t,this.async),s?(this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")"),this.xmlDoc.setRequestHeader("Content-type","text/xml")):e&&this.xmlDoc.setRequestHeader("Content-type",this.contenttype||"application/x-www-form-urlencoded"),this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xmlDoc.send(i),this.async||new this.waitLoadFunction(this)()},dtmlXMLLoaderObject.prototype.destructor=function(){return this.setXSLParamValue=this.getXMLTopNode=this.xmlNodeToJSON=this.doSerialization=this.loadXMLString=this.loadXML=this.doXSLTransToString=this.doXSLTransToObject=this.doXPathOpera=this.doXPath=this.xmlDoc=this.mainObject=this.onloadAction=this.filePath=this.rSeed=this.async=this._retry=this._getAllNamedChilds=this._filterXPath=null},dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(t){for(var e={},i=0;i<t.attributes.length;i++)e[t.attributes[i].name]=t.attributes[i].value;for(e._tagvalue=t.firstChild?t.firstChild.nodeValue:"",i=0;i<t.childNodes.length;i++){var s=t.childNodes[i].tagName;s&&(e[s]||(e[s]=[]),e[s].push(this.xmlNodeToJSON(t.childNodes[i])))}return e},dhtmlDragAndDropObject.prototype.removeDraggableItem=function(t){t.onmousedown=null,t.dragStarter=null,t.dragLanding=null},dhtmlDragAndDropObject.prototype.addDraggableItem=function(t,e){t.onmousedown=this.preCreateDragCopy,t.dragStarter=e,this.addDragLanding(t,e)},dhtmlDragAndDropObject.prototype.addDragLanding=function(t,e){t.dragLanding=e},dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(t){return!t&&!window.event||2!=(t||event).button?window.dhtmlDragAndDrop.waitDrag?(window.dhtmlDragAndDrop.waitDrag=0,document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU,document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM,!1):(window.dhtmlDragAndDrop.dragNode&&window.dhtmlDragAndDrop.stopDrag(t),window.dhtmlDragAndDrop.waitDrag=1,window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup,window.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove,window.dhtmlDragAndDrop.dragStartNode=this,window.dhtmlDragAndDrop.dragStartObject=this.dragStarter,document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy,document.body.onmousemove=window.dhtmlDragAndDrop.callDrag,window.dhtmlDragAndDrop.downtime=(new Date).valueOf(),t&&t.preventDefault&&t.preventDefault(),!1):void 0},dhtmlDragAndDropObject.prototype.callDrag=function(t){if(t||(t=window.event),dragger=window.dhtmlDragAndDrop,!((new Date).valueOf()-dragger.downtime<100)){if(!dragger.dragNode){if(!dragger.waitDrag)return dragger.stopDrag(t,!0);if(dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,t),!dragger.dragNode)return dragger.stopDrag();dragger.dragNode.onselectstart=function(){return!1},dragger.gldragNode=dragger.dragNode,document.body.appendChild(dragger.dragNode),document.body.onmouseup=dragger.stopDrag,dragger.waitDrag=0,dragger.dragNode.pWindow=window,dragger.initFrameRoute()}if(dragger.dragNode.parentNode!=window.document.body&&dragger.gldragNode){var e=dragger.gldragNode;dragger.gldragNode.old&&(e=dragger.gldragNode.old),e.parentNode.removeChild(e);var i=dragger.dragNode.pWindow;if(e.pWindow&&e.pWindow.dhtmlDragAndDrop.lastLanding&&e.pWindow.dhtmlDragAndDrop.lastLanding.dragLanding._dragOut(e.pWindow.dhtmlDragAndDrop.lastLanding),_isIE){var s=document.createElement("Div");s.innerHTML=dragger.dragNode.outerHTML,dragger.dragNode=s.childNodes[0]}else dragger.dragNode=dragger.dragNode.cloneNode(!0);dragger.dragNode.pWindow=window,dragger.gldragNode.old=dragger.dragNode,document.body.appendChild(dragger.dragNode),i.dhtmlDragAndDrop.dragNode=dragger.dragNode}dragger.dragNode.style.left=t.clientX+15+(dragger.fx?-1*dragger.fx:0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px",dragger.dragNode.style.top=t.clientY+3+(dragger.fy?-1*dragger.fy:0)+(document.body.scrollTop||document.documentElement.scrollTop)+"px";var n=t.srcElement?t.srcElement:t.target;dragger.checkLanding(n,t)}},dhtmlDragAndDropObject.prototype.calculateFramePosition=function(t){if(window.name){for(var e=parent.frames[window.name].frameElement.offsetParent,i=0,s=0;e;)i+=e.offsetLeft,s+=e.offsetTop,e=e.offsetParent;if(parent.dhtmlDragAndDrop){var n=parent.dhtmlDragAndDrop.calculateFramePosition(1);i+=1*n.split("_")[0],s+=1*n.split("_")[1]}if(t)return i+"_"+s;this.fx=i,this.fy=s}return"0_0"},dhtmlDragAndDropObject.prototype.checkLanding=function(t,e){t&&t.dragLanding?(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding),this.lastLanding=t,this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,e.clientX,e.clientY,e),this.lastLanding_scr=_isIE?e.srcElement:e.target):t&&"BODY"!=t.tagName?this.checkLanding(t.parentNode,e):(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding,e.clientX,e.clientY,e),this.lastLanding=0,this._onNotFound&&this._onNotFound())},dhtmlDragAndDropObject.prototype.stopDrag=function(t,e){if(dragger=window.dhtmlDragAndDrop,!e){dragger.stopFrameRoute();var i=dragger.lastLanding;dragger.lastLanding=null,i&&i.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,i,_isIE?event.srcElement:t.target)}dragger.lastLanding=null,dragger.dragNode&&dragger.dragNode.parentNode==document.body&&dragger.dragNode.parentNode.removeChild(dragger.dragNode),dragger.dragNode=0,dragger.gldragNode=0,dragger.fx=0,dragger.fy=0,dragger.dragStartNode=0,dragger.dragStartObject=0,document.body.onmouseup=dragger.tempDOMU,document.body.onmousemove=dragger.tempDOMM,dragger.tempDOMU=null,dragger.tempDOMM=null,dragger.waitDrag=0},dhtmlDragAndDropObject.prototype.stopFrameRoute=function(t){t&&window.dhtmlDragAndDrop.stopDrag(1,1);for(var e=0;e<window.frames.length;e++)try{window.frames[e]!=t&&window.frames[e].dhtmlDragAndDrop&&window.frames[e].dhtmlDragAndDrop.stopFrameRoute(window)}catch(i){}try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=t&&parent.dhtmlDragAndDrop.stopFrameRoute(window)}catch(s){}},dhtmlDragAndDropObject.prototype.initFrameRoute=function(t,e){t&&(window.dhtmlDragAndDrop.preCreateDragCopy(),window.dhtmlDragAndDrop.dragStartNode=t.dhtmlDragAndDrop.dragStartNode,window.dhtmlDragAndDrop.dragStartObject=t.dhtmlDragAndDrop.dragStartObject,window.dhtmlDragAndDrop.dragNode=t.dhtmlDragAndDrop.dragNode,window.dhtmlDragAndDrop.gldragNode=t.dhtmlDragAndDrop.dragNode,window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag,window.waitDrag=0,!_isIE&&e&&(!_isFF||1.8>_FFrv)&&window.dhtmlDragAndDrop.calculateFramePosition());try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=t&&parent.dhtmlDragAndDrop.initFrameRoute(window)}catch(i){}for(var s=0;s<window.frames.length;s++)try{window.frames[s]!=t&&window.frames[s].dhtmlDragAndDrop&&window.frames[s].dhtmlDragAndDrop.initFrameRoute(window,!t||e?1:0)}catch(n){}},_OperaRv=_KHTMLrv=_FFrv=_isChrome=_isMacOS=_isKHTML=_isOpera=_isIE=_isFF=!1,-1!=navigator.userAgent.indexOf("Macintosh")&&(_isMacOS=!0),navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(_isChrome=!0),-1!=navigator.userAgent.indexOf("Safari")||-1!=navigator.userAgent.indexOf("Konqueror")?(_KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5)),_KHTMLrv>525?(_isFF=!0,_FFrv=1.9):_isKHTML=!0):-1!=navigator.userAgent.indexOf("Opera")?(_isOpera=!0,_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3))):-1!=navigator.appName.indexOf("Microsoft")?(_isIE=!0,(-1!=navigator.appVersion.indexOf("MSIE 8.0")||-1!=navigator.appVersion.indexOf("MSIE 9.0")||-1!=navigator.appVersion.indexOf("MSIE 10.0")||document.documentMode>7)&&"BackCompat"!=document.compatMode&&(_isIE=8)):"Netscape"==navigator.appName&&-1!=navigator.userAgent.indexOf("Trident")?_isIE=8:(_isFF=!0,_FFrv=parseFloat(navigator.userAgent.split("rv:")[1])),dtmlXMLLoaderObject.prototype.doXPath=function(t,e,i,s){if(_isKHTML||!_isIE&&!window.XPathResult)return this.doXPathOpera(t,e);if(_isIE)return e||(e=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),e||dhtmlxError.throwError("LoadXML","Incorrect XML",[e||this.xmlDoc,this.mainObject]),null!=i&&e.setProperty("SelectionNamespaces","xmlns:xsl='"+i+"'"),"single"==s?e.selectSingleNode(t):e.selectNodes(t)||[];var n=e;e||(e=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),e||dhtmlxError.throwError("LoadXML","Incorrect XML",[e||this.xmlDoc,this.mainObject]),-1!=e.nodeName.indexOf("document")?n=e:(n=e,e=e.ownerDocument);var o=XPathResult.ANY_TYPE;"single"==s&&(o=XPathResult.FIRST_ORDERED_NODE_TYPE);var l=[],h=e.evaluate(t,n,function(){return i},o,null);if(o==XPathResult.FIRST_ORDERED_NODE_TYPE)return h.singleNodeValue;for(var r=h.iterateNext();r;)l[l.length]=r,r=h.iterateNext();return l},M.prototype.catchError=function(t,e){this.catches[t]=e},M.prototype.throwError=function(t,e,i){return this.catches[t]?this.catches[t](t,e,i):this.catches.ALL?this.catches.ALL(t,e,i):(alert("Error type: "+t+"\nDescription: "+e),null)},window.dhtmlxError=new M,dtmlXMLLoaderObject.prototype.doXPathOpera=function(t,e){var i=t.replace(/[\/]+/gi,"/").split("/"),s=null,n=1;if(!i.length)return[];if("."==i[0])s=[e];else{if(""!=i[0])return[];s=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(i[n].replace(/\[[^\]]*\]/g,"")),n++}for(;n<i.length;n++)s=this._getAllNamedChilds(s,i[n]);return-1!=i[n-1].indexOf("[")&&(s=this._filterXPath(s,i[n-1])),s},dtmlXMLLoaderObject.prototype._filterXPath=function(t,e){for(var i=[],e=e.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,""),s=0;s<t.length;s++)t[s].getAttribute(e)&&(i[i.length]=t[s]);return i},dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(t,e){var i=[];_isKHTML&&(e=e.toUpperCase());for(var s=0;s<t.length;s++)for(var n=0;n<t[s].childNodes.length;n++)_isKHTML?t[s].childNodes[n].tagName&&t[s].childNodes[n].tagName.toUpperCase()==e&&(i[i.length]=t[s].childNodes[n]):t[s].childNodes[n].tagName==e&&(i[i.length]=t[s].childNodes[n]);return i},dtmlXMLLoaderObject.prototype.xslDoc=null,dtmlXMLLoaderObject.prototype.setXSLParamValue=function(t,e,i){i||(i=this.xslDoc),i.responseXML&&(i=i.responseXML);var s=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+t+"']",i,"http://www.w3.org/1999/XSL/Transform","single");null!=s&&(s.firstChild.nodeValue=e)},dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(t,e){if(t||(t=this.xslDoc),t.responseXML&&(t=t.responseXML),e||(e=this.xmlDoc),e.responseXML&&(e=e.responseXML),_isIE){s=new ActiveXObject("Msxml2.DOMDocument.3.0");try{e.transformNodeToObject(t,s)}catch(i){s=e.transformNode(t)}}else{this.XSLProcessor||(this.XSLProcessor=new XSLTProcessor,this.XSLProcessor.importStylesheet(t));var s=this.XSLProcessor.transformToDocument(e)}return s},dtmlXMLLoaderObject.prototype.doXSLTransToString=function(t,e){var i=this.doXSLTransToObject(t,e);return"string"==typeof i?i:this.doSerialization(i)},dtmlXMLLoaderObject.prototype.doSerialization=function(t){if(t||(t=this.xmlDoc),t.responseXML&&(t=t.responseXML),_isIE)return t.xml;var e=new XMLSerializer;return e.serializeToString(t)},dhtmlxEventable=function(a){a.attachEvent=function(t,e,i){return t="ev_"+t.toLowerCase(),this[t]||(this[t]=new this.eventCatcher(i||this)),t+":"+this[t].addEvent(e)},a.callEvent=function(t,e){return t="ev_"+t.toLowerCase(),this[t]?this[t].apply(this,e):!0},a.checkEvent=function(t){return!!this["ev_"+t.toLowerCase()]},a.eventCatcher=function(a){var c=[],d=function(){for(var t=!0,e=0;e<c.length;e++)if(null!=c[e])var i=c[e].apply(a,arguments),t=t&&i;return t};return d.addEvent=function(a){return"function"!=typeof a&&(a=eval(a)),a?c.push(a)-1:!1},d.removeEvent=function(t){c[t]=null},d},a.detachEvent=function(t){if(0!=t){var e=t.split(":");this[e[0]].removeEvent(e[1])}},a.detachAllEvents=function(){for(var t in this)0==t.indexOf("ev_")&&(this.detachEvent(t),this[t]=null)},a=null},window.dhtmlx||(window.dhtmlx={}),function(){function t(t,e){var s=t.callback;i(!1),t.box.parentNode.removeChild(t.box),u=t.box=null,s&&s(e)}function e(e){if(u){var e=e||event,i=e.which||event.keyCode;return dhtmlx.message.keyboard&&((13==i||32==i)&&t(u,!0),27==i&&t(u,!1)),e.preventDefault&&e.preventDefault(),!(e.cancelBubble=!0)}}function i(t){i.cover||(i.cover=document.createElement("DIV"),i.cover.onkeydown=e,i.cover.className="dhx_modal_cover",document.body.appendChild(i.cover));document.body.scrollHeight;i.cover.style.display=t?"inline-block":"none"}function s(t,e){return"<div class='dhtmlx_popup_button' result='"+e+"' ><div>"+t+"</div></div>"}function n(t){_.area||(_.area=document.createElement("DIV"),_.area.className="dhtmlx_message_area",_.area.style[_.position]="5px",document.body.appendChild(_.area)),_.hide(t.id);var e=document.createElement("DIV");return e.innerHTML="<div>"+t.text+"</div>",e.className="dhtmlx-info dhtmlx-"+t.type,e.onclick=function(){_.hide(t.id),t=null},"bottom"==_.position&&_.area.firstChild?_.area.insertBefore(e,_.area.firstChild):_.area.appendChild(e),t.expire>0&&(_.timers[t.id]=window.setTimeout(function(){_.hide(t.id)},t.expire)),_.pull[t.id]=e,e=null,t.id}function o(e,i,n){var o=document.createElement("DIV");o.className=" dhtmlx_modal_box dhtmlx-"+e.type,o.setAttribute("dhxbox",1);var l="";if(e.width&&(o.style.width=e.width),e.height&&(o.style.height=e.height),e.title&&(l+='<div class="dhtmlx_popup_title">'+e.title+"</div>"),l+='<div class="dhtmlx_popup_text"><span>'+(e.content?"":e.text)+'</span></div><div  class="dhtmlx_popup_controls">',i&&(l+=s(e.ok||"OK",!0)),n&&(l+=s(e.cancel||"Cancel",!1)),e.buttons)for(var h=0;h<e.buttons.length;h++)l+=s(e.buttons[h],h);if(l+="</div>",o.innerHTML=l,e.content){var r=e.content;"string"==typeof r&&(r=document.getElementById(r)),"none"==r.style.display&&(r.style.display=""),o.childNodes[e.title?1:0].appendChild(r)}return o.onclick=function(i){var i=i||event,s=i.target||i.srcElement;if(s.className||(s=s.parentNode),"dhtmlx_popup_button"==s.className){var n=s.getAttribute("result"),n="true"==n||("false"==n?!1:n);t(e,n)}},e.box=o,(i||n)&&(u=e),o}function l(t,s,n){var l=t.tagName?t:o(t,s,n);t.hidden||i(!0),document.body.appendChild(l);var h=t.left||Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-l.offsetWidth)/2)),r=t.top||Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-l.offsetHeight)/2));return l.style.top="top"==t.position?"-3px":r+"px",l.style.left=h+"px",l.onkeydown=e,l.focus(),t.hidden&&dhtmlx.modalbox.hide(l),l}function h(t){return l(t,!0,!1)}function r(t){return l(t,!0,!0)}function a(t){return l(t)}function d(t,e,i){return"object"!=typeof t&&("function"==typeof e&&(i=e,e=""),t={text:t,type:e,callback:i}),t}function c(t,e,i,s){return"object"!=typeof t&&(t={text:t,type:e,expire:i,id:s}),t.id=t.id||_.uid(),t.expire=t.expire||_.expire,t}var u=null;document.attachEvent?document.attachEvent("onkeydown",e):document.addEventListener("keydown",e,!0),dhtmlx.alert=function(){var t=d.apply(this,arguments);return t.type=t.type||"confirm",h(t)},dhtmlx.confirm=function(){var t=d.apply(this,arguments);return t.type=t.type||"alert",r(t)},dhtmlx.modalbox=function(){var t=d.apply(this,arguments);return t.type=t.type||"alert",a(t)},dhtmlx.modalbox.hide=function(t){for(;t&&t.getAttribute&&!t.getAttribute("dhxbox");)t=t.parentNode;t&&(t.parentNode.removeChild(t),i(!1))};var _=dhtmlx.message=function(t){t=c.apply(this,arguments),t.type=t.type||"info";var e=t.type.split("-")[0];switch(e){case"alert":return h(t);case"confirm":return r(t);case"modalbox":return a(t);default:return n(t)}};_.seed=(new Date).valueOf(),_.uid=function(){return _.seed++},_.expire=4e3,_.keyboard=!0,_.position="top",_.pull={},_.timers={},_.hideAll=function(){for(var t in _.pull)_.hide(t)},_.hide=function(t){var e=_.pull[t];e&&e.parentNode&&(window.setTimeout(function(){e.parentNode.removeChild(e),e=null},2e3),e.className+=" hidden",_.timers[t]&&window.clearTimeout(_.timers[t]),delete _.pull[t])}}(),dhtmlXAccordion.prototype.i18n={dhxcontalert:"dhtmlxcontainer.js is missed on the page"},function(){dhtmlx.extend_api("dhtmlXAccordion",{_init:function(t){return[t.parent,t.skin]},icon_path:"setIconsPath",items:"_items",effect:"setEffect",multi_mode:"enableMultiMode"},{_items:function(t){for(var e=[],i=[],s=0;s<t.length;s++){var n=t[s];this.addItem(n.id,n.text),n.img&&this.cells(n.id).setIcon(n.img),n.height&&this.cells(n.id).setHeight(n.height),n.open===!0&&(e[e.length]=n.id),n.open===!1&&(i[i.length]=n.id)}for(var o=0;o<e.length;o++)this.cells(e[o]).open();for(o=0;o<i.length;o++)this.cells(i[o]).close()}})}(),dhtmlXAccordion.prototype.loadJSON=function(t){var e,i={skin:"setSkin",icons_path:"setIconsPath",multi_mode:"enableMultiMode",effect:"setEffect"};for(e in i)"undefined"!=typeof t[e]&&this[i[e]](t[e]);for(var s=null,n=0;n<t.cells.length;n++)this.addItem(t.cells[n].id,t.cells[n].text),"undefined"!=typeof t.cells[n].icon&&this.setIcon(t.cells[n].id,t.cells[n].icon),"undefined"!=typeof t.cells[n].height&&this.setItemHeight(t.cells[n].id,t.cells[n].height),"undefined"!=typeof t.cells[n].open&&(s=t.cells[n].id);null!=s&&this.openItem(s)},dhtmlXAccordion.prototype.loadXML=function(t,e){var i=this;this.callEvent("onXLS",[]),dhtmlxAjax.get(t,function(t){var s=t.xmlDoc.responseXML.getElementsByTagName("accordion")[0],n={0:!1,"true":!0,1:!0,y:!0,yes:!0},o={cells:[]};null!=s.getAttribute("skin")&&(o.skin=s.getAttribute("skin")),null!=s.getAttribute("iconsPath")&&(o.icons_path=s.getAttribute("iconsPath")),"multi"==s.getAttribute("mode")&&(o.multi_mode=!0),n[s.getAttribute("openEffect")||0]&&(o.effect=!0);for(var l=0;l<s.childNodes.length;l++)if("indefined"!=typeof s.childNodes[l].tagName&&"cell"==String(s.childNodes[l].tagName).toLowerCase()){var h=s.childNodes[l].getAttribute("id")||i._genStr(12),r=s.childNodes[l].firstChild.nodeValue||"";o.cells.push({id:h,text:r}),null!=s.childNodes[l].getAttribute("icon")&&(o.cells[o.cells.length-1].icon=s.childNodes[l].getAttribute("icon")),null!=s.childNodes[l].getAttribute("height")&&(o.cells[o.cells.length-1].height=s.childNodes[l].getAttribute("height")),n[s.childNodes[l].getAttribute("open")||0]&&(o.cells[o.cells.length-1].open=!0)}i.loadJSON(o),i.callEvent("onXLE",[]),"function"==typeof e&&e(),i=e=null})},dhtmlXCalendarObject.prototype.setYearsRange=function(){},dhtmlXCalendarObject.prototype.lang="en",dhtmlXCalendarObject.prototype.langData={en:{dateformat:"%Y-%m-%d",monthesFNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthesSNames:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),daysFNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),daysSNames:"Su,Mo,Tu,We,Th,Fr,Sa".split(","),weekstart:1,weekname:"w"}},dhtmlXCalendarObject.prototype.enableIframe=function(t){1==t?this._ifr||(this._ifr=document.createElement("IFRAME"),this._ifr.frameBorder=0,this._ifr.border=0,this._ifr.setAttribute("src","javascript:false;"),this._ifr.className="dhtmlxcalendar_ifr",this._ifr.onload=function(){this.onload=null,this.contentWindow.document.open("text/html","replace"),this.contentWindow.document.write("<html><head><style>html,body{width:100%;height:100%;overflow:hidden;margin:0px;}</style></head><body</body></html>")},this.base.parentNode.insertBefore(this._ifr,this.base),this._ifrSize()):this._ifr&&(this._ifr.parentNode.removeChild(this._ifr),this._ifr=null)},dhtmlXCalendarObject.prototype._ifrSize=function(){this._ifr&&(this._ifr.style.left=this.base.style.left,this._ifr.style.top=this.base.style.top,this._ifr.style.width=this.base.offsetWidth+"px",this._ifr.style.height=this.base.offsetHeight+"px")},dhtmlxCalendarObject=dhtmlXCalendarObject,dhtmlXColorPicker.prototype.generate=function(){if(X="BackCompat"!=document.compatMode?"X":"",this.fullview)t="<div class='dhtmlxcolorpicker"+(""!=this.skinName?"_"+this.skinName:"")+"' csid='cs_Content' style='display:none;'>",document.all&&"absolute"==this.container.style.position&&(t+="<iframe src='"+(this.imgURL||"")+"blank.html' style='position:absolute; top:0px; left:0px; width:320px;  height:"+(this._cc?454:407)+"px; z-index:-1;'></iframe>"),t+="<table cellpadding='0' cellspacing='0'>",t+="<tr><td style='width:2px;height:2px;background:url("+(this.imgURL||"")+"left_top.gif);'></td><td style='height:2px;background:url("+(this.imgURL||"")+"top.gif);'></td><td style='width:2px;height:2px;background:url("+(this.imgURL||"")+"right_top.gif);'></td></tr>",t+="<tr><td style='width:2px;background:url("+(this.imgURL||"")+"left.gif);'></td><td style='width:316px;height:"+(this._cc?446:392)+"px;background:#E6E5E5;'>",t+="<table class='cs_ContentTable' csid='cs_ContentTable' cellpadding='0px' cellspacing='0px'>",t+="<tr>",t+="<td><div class='cs_SelectorDiv' csid='cs_SelectorDiv'><div class='cs_SelectorVer' csid='cs_SelectorVer' style='left:100px;top:0px;'></div><div class='cs_SelectorHor' csid='cs_SelectorHor' style='left:0px;top:100px;'></div></div></td>",t+="<td><div class='cs_LumSelect' csid='cs_LumSelect'><div class='cs_LumSelectArrow' csid='cs_LumSelectArrow' style='left:16px;top:124px;'></div><div class='cs_LumSelectLine' csid='cs_LumSelectLine' style='left:0px;top:0px;'></div></div></td>",t+="</tr>",t+="<tr><td style='padding-top:10px;' colspan='2'>",t+="<table class='cs_ColorArea' cellpadding='0px' cellspacing='0px'>",t+="<tr><td rowspan='3'><div class='cs_EndColor' csid='cs_EndColor'></div></td><td valign='top' style='text-align:center;width:80px;'># <input csid='cs_Hex' class='cs_Hex'></td><td>"+this.language.labelHue+":</td><td><input tabindex='1' class='cs_Input' csid='cs_InputHue' value='' /></td><td>"+this.language.labelRed+":</td><td><input tabindex='4' class='cs_Input' csid='cs_InputRed' value='' /></td></tr>",t+="<tr><td></td><td>"+this.language.labelSat+":</td><td><input tabindex='2' class='cs_Input' csid='cs_InputSat' value='' /></td><td>"+this.language.labelGreen+":</td><td><input tabindex='4' class='cs_Input' csid='cs_InputGreen' value='' /></td></tr>",t+="<tr><td></td><td>"+this.language.labelLum+":</td><td><input tabindex='2' class='cs_Input' csid='cs_InputLum' value='' /></td><td>"+this.language.labelBlue+":</td><td><input tabindex='4' class='cs_Input' csid='cs_InputBlue' value='' /></td></tr>",this._cc&&(t+="<tr><td>",t+="<div class='cs_CustomColors' csid='cs_CustomColors'></div>",t+="</td><td></td><td colspan='4' valign='top'><input tabindex='7' class='cs_CustomColorAdd' csid='cs_CustomColorAdd' type='button' value='"+this.language.btnAddColor+"'></td></tr>"),t+="</table>",t+="</td></tr>",t+="</table>",t+="<table cellpadding='0' cellspacing='0' style='width:100%;'><tr><td style='height:49px;background:url("+(this.imgURL||"")+"buttons_panel.gif);'><input tabindex='9' class='cs_ButtonCancel' csid='cs_ButtonCancel' type='button' value='"+this.language.btnCancel+"' /><input tabindex='8' class='cs_ButtonOk' csid='cs_ButtonOk' type='button' value='"+this.language.btnSelect+"' /></td></tr></table>";else{var t="<div class='dhtmlxcolorpicker"+(""!=this.skinName?"_"+this.skinName:"")+"' csid='cs_Content' style='display:none;'>";document.all&&"absolute"==this.container.style.position&&(t+="<iframe src='"+(this.imgURL||"")+"blank.html' frameBorder='0' style='position:absolute; top:0px; left:0px; width:252px;  height:"+(this._cc?300:244)+"px; z-index:-1;'></iframe>"),t+="<table cellpadding='0' cellspacing='0'>",t+="<tr><td style='width:2px;height:2px;background:url("+(this.imgURL||"")+"left_top.gif);'></td><td style='height:2px;background:url("+(this.imgURL||"")+"top.gif);'></td><td style='width:2px;height:2px;background:url("+(this.imgURL||"")+"right_top.gif);'></td></tr>",t+="<tr><td style='width:2px;background:url("+(this.imgURL||"")+"left.gif);'></td><td style='width:"+(document.all?247:243)+"px;height:"+(this._cc?281:240)+"px;'>",t+="<table class='cs_ContentTable' csid='cs_ContentTable' cellpadding='0px' cellspacing='0px'>",t+="<tr>",t+="<td><div class='cs_SelectorDiv_Mini' csid='cs_SelectorDiv'><div class='cs_SelectorVer' csid='cs_SelectorVer' style='left:100px;top:0px;'></div><div class='cs_SelectorHor' csid='cs_SelectorHor' style='left:0px;top:100px;'></div></div></td>",t+="<td><div class='cs_LumSelect_Mini' csid='cs_LumSelect'><div csid='cs_LumSelectArrow'></div><div class='cs_LumSelectLine' csid='cs_LumSelectLine' style='left:0px;top:0px;'></div></div></td>",t+="</tr>",t+="<tr><td style='padding-top:10px;' colspan='2'>",t+="<table class='cs_ColorArea_Mini' cellpadding='0px' cellspacing='0px'>",t+="<tr><td rowspan='2' valign='top' style='text-align:left;'><div class='cs_EndColor_Mini' csid='cs_EndColor' ></div></td><td>"+this.language.labelHue+":</td><td><input tabindex='1' class='cs_Input_Mini"+X+"' csid='cs_InputHue' value='' /></td><td>"+this.language.labelRed+":</td><td><input tabindex='4' class='cs_Input_Mini"+X+"' csid='cs_InputRed' value='' /></td></tr>",t+="<tr><td>"+this.language.labelSat+":</td><td><input tabindex='2' class='cs_Input_Mini"+X+"' csid='cs_InputSat' value='' /></td><td>"+this.language.labelGreen+":</td><td><input tabindex='4' class='cs_Input_Mini"+X+"' csid='cs_InputGreen' value='' /></td></tr>",t+="<tr><td style='vertical-align:top;width:80px;text-align:left;'># <input csid='cs_Hex' class='cs_Hex_Mini"+X+"'></td><td>"+this.language.labelLum+":</td><td><input tabindex='2' class='cs_Input_Mini"+X+"' csid='cs_InputLum' value='' /></td><td>"+this.language.labelBlue+":</td><td><input tabindex='4' class='cs_Input_Mini"+X+"' csid='cs_InputBlue' value='' /></td></tr>",this._cc&&(t+="<tr><td colspan='6'><input tabindex='7' class='cs_CustomColorAdd_Mini' csid='cs_CustomColorAdd' type='button' value='"+this.language.btnAddColor+"'></td></tr>",t+="<tr><td colspan='6'><div class='cs_CustomColors_Mini' csid='cs_CustomColors'></div></td></tr>"),t+="</table>",t+="</td></tr>",t+="</table>",t+="<table class='cs_ButtonsPanel' cellpadding='0' cellspacing='0' style='width:100%;'><tr><td style='width:100%;'><input tabindex='9' class='cs_ButtonCancel' csid='cs_ButtonCancel' type='button' value='"+this.language.btnCancel+"' /><input tabindex='8' class='cs_ButtonOk' csid='cs_ButtonOk' type='button' value='"+this.language.btnSelect+"' /></td></tr></table>"}t+="</td><td style='width:2px;background:url("+(this.imgURL||"")+"right.gif);'></td></tr>",t+="<tr><td style='width:2px;height:2px;background:url("+(this.imgURL||"")+"left_bottom.gif);'></td><td style='height:2px;background:url("+(this.imgURL||"")+"bottom.gif);'></td><td style='width:2px;height:2px;background:url("+(this.imgURL||"")+"right_bottom.gif);'></td></tr>",t+="</table>",t+="</div>",this.container.style.width=this.fullview?"320px":"252px",this.container.innerHTML=t,this._initCsIdElement(),this.elements.cs_SelectorDiv.style.backgroundImage=this.fullview?"url("+(this.imgURL||"")+"color.png)":"url("+(this.imgURL||"")+"colormini.png)",this.elements.cs_SelectorDiv.z=this,this.elements.cs_LumSelect.z=this,this.elements.cs_LumSelectArrow.z=this,this.z=this,this._drawLum(),this._colorizeLum(this.old_hue,this.old_sat),this._initEvents(),this._cc&&this._initCustomColors(),this.ColorNum=0,this.restoreFromHSV(),this._drawValues()},dhtmlXColorPicker.prototype._initCsIdElement=function(t){null==t&&(t=this.container);for(var e=t.childNodes,i=e.length,s=0;i>s;s++)if(1==e[s].nodeType){var n=e[s].getAttribute("csid");null!==n&&(this.elements[n]=e[s]),e[s].childNodes.length>0&&this._initCsIdElement(e[s])}},dhtmlXColorPicker.prototype._initEvents=function(){this.elements.cs_SelectorDiv.onmousedown=this._startMoveColor,this.elements.cs_SelectorDiv.ondblclick=this.clickOk,this.elements.cs_LumSelect.onmousedown=this._startMoveLum,this.elements.cs_LumSelect.ondblclick=this.clickOk,this.elements.cs_LumSelectArrow.onmousedown=this._startMoveLum,this._cc&&(this.elements.cs_CustomColorAdd.z=this,this.elements.cs_CustomColorAdd.onclick=this.addCustomColor,this.elements.cs_CustomColorAdd.onmouseover=this.hoverButton,this.elements.cs_CustomColorAdd.onmouseout=this.normalButton);for(var t="cs_InputHue,cs_InputRed,cs_InputSat,cs_InputGreen,cs_InputLum,cs_InputBlue".split(","),e=0;e<t.length;e++)this.elements[t[e]].z=this,this.elements[t[e]].onchange=e%2?this._changeValueRGB:this._changeValueHSV;this.elements.cs_Hex.z=this,this.elements.cs_Hex.onchange=this._changeValueHEX,this.elements.cs_ButtonOk.z=this,this.elements.cs_ButtonOk.onclick=this.clickOk,this.elements.cs_ButtonOk.onmouseover=this.hoverButton,this.elements.cs_ButtonOk.onmouseout=this.normalButton,this.elements.cs_ButtonCancel.z=this,this.elements.cs_ButtonCancel.onclick=this.clickCancel,this.elements.cs_ButtonCancel.onmouseover=this.hoverButton,this.elements.cs_ButtonCancel.onmouseout=this.normalButton},dhtmlXColorPicker.prototype.resetHandlers=function(){},dhtmlXColorPicker.prototype.clickOk=function(){var t=this.z,e=t.getSelectedColor();t.callEvent("onSelect",[e[0]]),t.hideSelfOnSelect&&t.hide()},dhtmlXColorPicker.prototype.clickCancel=function(){var t=this.z;t.callEvent("onCancel",[]),this.z.hideSelfOnSelect&&this.z.hide()},dhtmlXColorPicker.prototype._setCrossPos=function(t){var e=this.z,i=e._getOffset(this.elements.cs_SelectorDiv),s=t.clientY-i[0];0>s?s=0:s>this.colorSelectH&&(s=this.colorSelectH);var n=t.clientX-i[1];0>n?n=0:n>this.colorSelectW&&(n=this.colorSelectW),e.elements.cs_SelectorVer.style.left=n+"px",e.elements.cs_SelectorHor.style.top=s+"px";var o=n==this.colorSelectW?0:360*n/this.colorSelectW,l=1-s/this.colorSelectH;return[o,l]},dhtmlXColorPicker.prototype._getScrollers=function(){return[document.body.scrollLeft||document.documentElement.scrollLeft,document.body.scrollTop||document.documentElement.scrollTop]},dhtmlXColorPicker.prototype._setLumPos=function(t){var e=this.z,i=e._getOffset(e.elements.cs_LumSelect),s=t.clientY-i[0]-4;-3>s&&(s=-3),s>this.colorSelectH-4&&(s=this.colorSelectH-4),e.elements.cs_LumSelectArrow.style.top=s+"px",e.elements.cs_LumSelectLine.style.top=s+4+"px";var n=(s+3)/this.colorSelectH;return n},dhtmlXColorPicker.prototype._startMoveColor=function(t){var e=this.z;null==t&&(t=event),e.elements.cs_SelectorDiv.onmousedown=null,e.b_move=document.body.onmousemove,e.b_up=document.body.onmouseup;var i=e;document.body.onmousemove=function(t){null==t&&(t=event),i._mouseMoveColor(t)},document.body.onmouseup=function(t){null==t&&(t=event),i._stopMoveColor(t),i=null},e.elements.cs_SelectorDiv.onmousemove=e._mouseMoveColor,e.elements.cs_SelectorDiv.onmouseup=e._stopMoveColor;var s=e._setCrossPos(t);e.h=s[0],e.s=s[1];var n=e._calculateColor();e._colorizeLum(n[0],n[1])},dhtmlXColorPicker.prototype._mouseMoveColor=function(t){var e=this.z;
null==t&&(t=event);var i=e._setCrossPos(t);if(!e.isClickOnly){e.h=i[0],e.s=i[1];var s=e._calculateColor();e._colorizeLum(s[0],s[1])}},dhtmlXColorPicker.prototype._stopMoveColor=function(t){var e=this.z;null==t&&(t=event),e.elements.cs_SelectorDiv.onmousedown=e._startMoveColor,e.elements.cs_SelectorDiv.onmousemove=null,e.elements.cs_SelectorDiv.onmouseup=null,document.body.onmousemove=e.b_move,document.body.onmouseup=e.b_up;var i=e._setCrossPos(t);e.h=i[0],e.s=i[1];var s=e._calculateColor();e._colorizeLum(s[0],s[1])},dhtmlXColorPicker.prototype._startMoveLum=function(t){var e=this.z;null==t&&(t=event),e.elements.cs_LumSelect.onmousedown=null,e.elements.cs_LumSelectArrow.onmousedown=null,e.elements.cs_LumSelect.onmousemove=e._mouseMoveLum,e.elements.cs_LumSelect.onmouseup=e._stopMoveLum,e.b_move=document.body.onmousemove,e.b_up=document.body.onmouseup,e.b_selstart=document.body.onselectstart;var i=e;document.body.onmousemove=function(t){null==t&&(t=event),i._mouseMoveLum(t)},document.body.onmouseup=function(t){null==t&&(t=event),i._stopMoveLum(t),i=null},document.body.onselectstart=function(){return!1},e.v=e._setLumPos(t),e._calculateColor()},dhtmlXColorPicker.prototype._mouseMoveLum=function(t){var e=this.z;null==t&&(t=event),e.v=e._setLumPos(t),e.isClickOnly||e._calculateColor()},dhtmlXColorPicker.prototype._stopMoveLum=function(t){var e=this.z;null==t&&(t=event),e.elements.cs_LumSelect.onmousedown=e._startMoveLum,e.elements.cs_LumSelectArrow.onmousedown=e._startMoveLum,e.elements.cs_LumSelect.onmousemove=null,e.elements.cs_LumSelect.onmouseup=null,e.v=e._setLumPos(t),e._calculateColor(),document.body.onmousemove=e.b_move,document.body.onmouseup=e.b_up,document.body.onselectstart=e.b_selstart},dhtmlXColorPicker.prototype._getOffset=function(t){var e=this._getOffsetTop(t),i=this._getOffsetLeft(t),s=this._getScrollers();return[e-s[1],i-s[0]]},dhtmlXColorPicker.prototype._getOffsetTop=function(t){var e=0;return t.offsetParent&&(e+=t.offsetTop+this._getOffsetTop(t.offsetParent)),e},dhtmlXColorPicker.prototype._getOffsetLeft=function(t){var e=0;return t.offsetParent&&(e+=t.offsetLeft+this._getOffsetLeft(t.offsetParent)),e},dhtmlXColorPicker.prototype._calculateColor=function(){if("RGB"==this.restoreFrom)var t=[this.r,this.g,this.b];else t=this._hsv2rgb(this.h,this.s,1-this.v),this.r=t[0],this.g=t[1],this.b=t[2];return this.hex=this._getColorHEX(t),this.elements.cs_EndColor.style.backgroundColor="#"+this.hex,this._drawValues(),this.restoreFrom=null,[this.h,this.s,1-this.v]},dhtmlXColorPicker.prototype._drawValues=function(){this.elements.cs_Hex.value=this.hex,this.elements.cs_InputHue.value=Math.floor(this.h),this.elements.cs_InputSat.value=Math.floor(100*this.s),this.elements.cs_InputLum.value=Math.floor(100*(1-this.v)),this.elements.cs_InputRed.value=Math.floor(this.r),this.elements.cs_InputGreen.value=Math.floor(this.g),this.elements.cs_InputBlue.value=Math.floor(this.b)},dhtmlXColorPicker.prototype.saveColor=function(t,e){var i=new Date,s=i.valueOf()+26784e5,i=new Date(s),n="color_"+e+"="+t+"; expires="+i.toGMTString();document.cookie=n},dhtmlXColorPicker.prototype.restoreColor=function(t){var e=!1,i="color_"+t;if(document.cookie.length>0){var s=document.cookie.indexOf(i+"=");if(-1!=s){var n=document.cookie.indexOf(";",s);-1==n&&(n=document.cookie.length);var o=document.cookie.indexOf("=",s)+1,e=document.cookie.substr(o,n-o)}}return e},dhtmlXColorPicker.prototype._hsv2rgb=function(e,i,s){Hi=Math.floor(e/60)%6,l=e/60-Hi,p=s*(1-i),q=s*(1-l*i),t=s*(1-(1-l)*i);var n=0,o=0,l=0;switch(Hi){case 0:n=s,o=t,l=p;break;case 1:n=q,o=s,l=p;break;case 2:n=p,o=s,l=t;break;case 3:n=p,o=q,l=s;break;case 4:n=t,o=p,l=s;break;case 5:n=s,o=p,l=q}return n=Math.floor(255*n),o=Math.floor(255*o),l=Math.floor(255*l),[n,o,l]},dhtmlXColorPicker.prototype._rgb2hsv=function(t,e,i){R=t/255,G=e/255,B=i/255;var s=Math.max(R,G,B),n=Math.min(R,G,B),o=s,l=0==s?0:1-n/s,h=0;return s==n?h=0:s==R&&G>=B?h=60*(G-B)/(s-n)+0:s==R&&B>G?h=60*(G-B)/(s-n)+360:s==G?h=60*(B-R)/(s-n)+120:s==B&&(h=60*(R-G)/(s-n)+240),[h,l,o]},dhtmlXColorPicker.prototype._drawLum=function(){for(var t=this.colorSelectH,e=this.fullview?64:30,i=this.fullview?4:8,s=0;e>s;s++){var n=document.createElement("div"),o=this._dec2hex(t);n.style.backgroundColor="#"+o+o+o,n.className="cs_LumElement",t-=i,this.elements.cs_LumSelect.appendChild(n)}},dhtmlXColorPicker.prototype._colorizeLum=function(t,e){this.old_hue=t,this.old_sat=e;for(var i=255,s=this.fullview?4:8,n=this.elements.cs_LumSelect.childNodes.length,o=2;n>o;o++){var l=i>255?1:i/255,h=this._hsv2rgb(t,e,l),h="#"+this._getColorHEX(h);this.elements.cs_LumSelect.childNodes[o].style.backgroundColor=h,i-=s}this.callEvent("onChange",[this.getSelectedColor()])},dhtmlXColorPicker.prototype._dec2hex=function(t){return window.cs_dechex[t]||"00"},dhtmlXColorPicker.prototype._hex2dec=function(t){return parseInt(t,16)},dhtmlXColorPicker.prototype._initCustomColors=function(){for(var t=this.elements.cs_CustomColors,e=0;e<this.customColorsCount;e++){var i=document.createElement("div");i.className=this.fullview?"cs_CustomColor":"cs_CustomColor_Mini",i.color_num=e,document.all&&("Opera"==navigator.appName?this.fullview?(i.style.width="14px",i.style.height="14px"):(i.style.width="18px",i.style.height="18px"):this.fullview?(i.style.width="16px",i.style.height="16px"):(i.style.width="BackCompat"!=document.compatMode?"18px":"20px",i.style.height="20px")),i.z=this,i.onclick=this._selectCustomColor,i.ondblclick=this.clickOk;var s=this.restoreColor(e)||"0,0,0";i.color=s;var n=s.split(",");i.style.backgroundColor="#"+this._getColorHEX(n),this.customColors.push(i),t.appendChild(i)}},dhtmlXColorPicker.prototype._reinitCustomColors=function(){for(var t=(this.elements.cs_CustomColors,0);t<this.customColorsCount;t++){var e=this.customColors[t],i=this.restoreColor(t)||"0,0,0";e.color=i;var s=i.split(",");e.style.backgroundColor="#"+this._getColorHEX(s),this.customColors[t]=e}},dhtmlXColorPicker.prototype._getColorHEX=function(t){var e=this._dec2hex(t[0]),i=this._dec2hex(t[1]),s=this._dec2hex(t[2]);return e+i+s},dhtmlXColorPicker.prototype._selectCustomColor=function(t){null==t&&(t=event);var e=this.z;if(!this.selected){for(var i=0;i<e.customColors.length;i++)e.customColors[i].style.border="1px solid gray";this.style.border="1px dashed black",this.selected=!0,null!=e.selectedColor&&(e.customColors[e.selectedColor].style.border="1px solid gray",e.customColors[e.selectedColor].selected=!1)}e.selectedColor=this.color_num,e.ColorNum=this.color_num;var s=this.color.split(",");e.r=s[0],e.g=s[1],e.b=s[2],e.restoreFromRGB()},dhtmlXColorPicker.prototype.addCustomColor=function(){var t=this.z;if(null!=t.selectedColor){var e=t.customColors[t.selectedColor],i=t.selectedColor;e.style.border="1px solid gray",t.selectedColor=null}else e=t.customColors[t.ColorNum],i=t.ColorNum,e.style.border="1px solid gray";var s=t.r+","+t.g+","+t.b;t.saveColor(s,i),e.color=s,t.ColorNum=9==t.ColorNum?0:t.ColorNum+1,t.customColors[t.ColorNum].style.border="1px dashed red",e.style.backgroundColor=t.elements.cs_EndColor.style.backgroundColor},dhtmlXColorPicker.prototype.restoreFromRGB=function(){this.restoreFrom="RGB";var t=this._rgb2hsv(this.r,this.g,this.b);this.h=t[0],this.s=t[1],this.v=1-t[2],this.ready&&this.redraw()},dhtmlXColorPicker.prototype.restoreFromHSV=function(){this.restoreFrom="HSV";var t=this._hsv2rgb(this.h,this.s,this.v);this.r=t[0],this.g=t[1],this.b=t[2],this.redraw()},dhtmlXColorPicker.prototype.restoreFromHEX=function(){this.r=this._hex2dec(this.hex.substr(0,2)),this.g=this._hex2dec(this.hex.substr(2,2)),this.b=this._hex2dec(this.hex.substr(4,2)),this.restoreFromRGB()},dhtmlXColorPicker.prototype.redraw=function(){var t=this.colorSelectW*this.h/360,e=(1-this.s)*this.colorSelectH,i=this.v*this.colorSelectH;this.elements.cs_SelectorHor.style.top=e+"px",this.elements.cs_SelectorVer.style.left=t+"px",this.elements.cs_LumSelectArrow.style.top=i-3+"px",this.elements.cs_LumSelectLine.style.top=i+1+"px";var s=this._calculateColor();this._colorizeLum(s[0],s[1])},dhtmlXColorPicker.prototype._changeValueHSV=function(){var t=this.z,e=parseInt(t.elements.cs_InputHue.value)||0,i=parseInt(t.elements.cs_InputSat.value)||0,s=parseInt(t.elements.cs_InputLum.value)||0;(0>e||e>359)&&(e=0),(0>i||i>100)&&(i=0),(0>s||s>100)&&(s=0),t.elements.cs_InputHue.value=e,t.elements.cs_InputSat.value=i,t.elements.cs_InputLum.value=s,t.h=e,t.s=i/100,t.v=1-s/100,t.restoreFromHSV()},dhtmlXColorPicker.prototype._changeValueRGB=function(){var t=this.z,e=parseInt(t.elements.cs_InputRed.value)||0,i=parseInt(t.elements.cs_InputGreen.value)||0,s=parseInt(t.elements.cs_InputBlue.value)||0;(0>e||e>255)&&(e=0),(0>i||i>255)&&(i=0),(0>s||s>255)&&(s=0),t.elements.cs_InputRed.value=e,t.elements.cs_InputGreen.value=i,t.elements.cs_InputBlue.value=s,t.r=e,t.g=i,t.b=s,t.restoreFromRGB()},dhtmlXColorPicker.prototype._changeValueHEX=function(){var t=this.z,e=t.elements.cs_Hex.value||0,e=e.replace(/[^a-fA-F0-9]/gi,"0");if(e.length>6)e=e.substr(0,6);else for(;e.length<6;)e+="0";t.elements.cs_Hex.value=e,t.hex=e,t.restoreFromHEX()},dhtmlXColorPicker.prototype.setCustomColors=function(t){for(var t=t.split(","),e=0;e<t.length;e++){var i=t[e];"#"==i.substr(0,1)&&(i=i.substr(1));var s=this._hex2dec(i.substr(0,2)),n=this._hex2dec(i.substr(2,2)),o=this._hex2dec(i.substr(4,2)),i=s+","+n+","+o;this.saveColor(i,e)}},dhtmlXColorPicker.prototype.setColor=function(t){if("string"!=typeof t)var e=t[0],i=t[1],s=t[2];else if(-1!=t.indexOf("rgb"))var n=t.substr(t.indexOf("(")+1,t.lastIndexOf(")")-t.indexOf("(")-1).split(","),e=n[0],i=n[1],s=n[2];else"#"==t.substr(0,1)&&(t=t.substr(1)),e=this._hex2dec(t.substr(0,2)),i=this._hex2dec(t.substr(2,2)),s=this._hex2dec(t.substr(4,2));e=parseInt(e)||0,i=parseInt(i)||0,s=parseInt(s)||0,(0>e||e>255)&&(e=0),(0>i||i>255)&&(i=0),(0>s||s>255)&&(s=0),this.r=e,this.g=i,this.b=s,this.restoreFromRGB()},dhtmlXColorPicker.prototype.close=function(){this.elements.cs_SelectorDiv.z=null,this.elements.cs_LumSelect.z=null,this.elements.cs_LumSelectArrow.z=null,this.elements.cs_ButtonOk.z=null,this.elements.cs_ButtonCancel.z=null,this.cc&&(this.elements.cs_CustomColorAdd.z=null),this.container.innerHTML="",this.container._dhx_remove&&this.container.parentNode.removeChild(this.container)},dhtmlXColorPicker.prototype.show=function(){this.callEvent("onShow",[]),""!=this.container.innerHTML&&(this.elements.cs_Content.style.display="",this.elements.cs_InputHue.focus())},dhtmlXColorPicker.prototype.setPosition=function(t,e){this.container.style.position="absolute",this.container.style.top=(e>0?e:10)+"px",this.container.style.left=t+"px"},dhtmlXColorPicker.prototype.hide=function(){this.resetHandlers(),this.elements.cs_Content&&(this.elements.cs_Content.style.display="none")},dhtmlXColorPicker.prototype.setOnSelectHandler=function(t){this.attachEvent("onSelect",t)},dhtmlXColorPicker.prototype.setOnCancelHandler=function(t){this.attachEvent("onCancel",t)},dhtmlXColorPicker.prototype.getSelectedColor=function(){var t=[this.r,this.g,this.b],e=this._dec2hex(this.r)+this._dec2hex(this.g)+this._dec2hex(this.b),i=[this.h,this.s,this.v];return["#"+e,t,i]},dhtmlXColorPicker.prototype.linkTo=function(t,e,i){"object"!=typeof t&&(t=document.getElementById(t)),"object"!=typeof e&&(e=document.getElementById(e)),"object"!=typeof i&&(i=document.getElementById(i)),this.linkToObjects=arguments;var s=this;e.onclick=function(){var e=s._getOffset(t),i=s._getScrollers(),n=e[1]+i[0],o=e[0]+i[1];s.setPosition(n+t.offsetWidth,o),s.isVisible()?s.hide():s.show()},this.setOnSelectHandler(function(e){t.style.backgroundColor=e,i&&(i.value=e)}),this.close=this.hide,this.hide()},dhtmlXColorPicker.prototype.hideOnSelect=function(t){this.hideSelfOnSelect=t},dhtmlXColorPicker.prototype.setImagePath=function(t){this.imgURL=t},dhtmlXColorPicker.prototype.init=function(){this.language||this.loadUserLanguage("en-us"),this.generate(),this.ready=!0,this._cc&&this._reinitCustomColors(),this.linkToObjects.length>0&&this.linkTo(this.linkToObjects[0],this.linkToObjects[1],this.linkToObjects[2]),this.hideOnInit||this.show()},dhtmlXColorPicker.prototype.loadUserLanguage=function(t){window.dhtmlxColorPickerLangModules[t]&&(this.language=window.dhtmlxColorPickerLangModules[t],this.ready&&(this.generate(),this.show()))},dhtmlXColorPicker.prototype.setSkin=function(t){this.skinName=t,this.elements.cs_Content&&(this.elements.cs_Content.className="dhtmlxcolorpicker"+(t?"_"+t:t))},dhtmlXColorPicker.prototype.isVisible=function(){return"none"!=this.elements.cs_Content.style.display},dhtmlXColorPicker.prototype.hoverButton=function(){this.className+="_Hover"},dhtmlXColorPicker.prototype.normalButton=function(){this.className=this.className.substr(0,this.className.length-6)},function(){dhtmlx.extend_api("dhtmlXColorPicker",{_init:function(t){return[t.parent,t.click,t.colors,t.hide,t.full]},show:"showA",link:"linkTo",image_path:"setImagePath",color:"setColor"},{showA:function(){this.init(),this.show()}})}();var dhtmlXCombo_optionTypes=[];dhtmlXCombo.prototype.setSize=function(t){this.DOMlist.style.width=t+"px",this.DOMlistF&&(this.DOMlistF.style.width=t+"px"),this.DOMelem.style.width=t+"px",this.DOMelem_input.style.width=Math.max(0,t-19)+"px"},dhtmlXCombo.prototype.enableFilteringMode=function(t,e,i,s){"between"==t?this._autoDisabled=this._anyPosition=this._filter=!0:this._filter=convertStringToBoolean(t),e&&(this._xml=e,this._autoxml=convertStringToBoolean(s)),convertStringToBoolean(i)&&(this._xmlCache=[])},dhtmlXCombo.prototype.setFilteringParam=function(t,e){this._prs||(this._prs=[]),this._prs.push([t,e])},dhtmlXCombo.prototype.disable=function(t){var e=convertStringToBoolean(t);this._disabled!=e&&(this._disabled=this.DOMelem_input.disabled=e)},dhtmlXCombo.prototype.readonly=function(t,e){if(this.DOMelem_input.readOnly=t?!0:!1,e===!1||t===!1)this.DOMelem.onkeyup=function(){};else{var i=this;this.DOMelem.onkeyup=function(t){if(t=t||window.event,i._searchTimeout&&window.clearTimeout(i._searchTimeout),9!=t.keyCode&&(t.cancelBubble=!0),t.keyCode>=48&&t.keyCode<=57||t.keyCode>=65&&t.keyCode<=90){i._searchText||(i._searchText=""),i._searchText+=String.fromCharCode(t.keyCode);for(var e=0;e<i.optionsArr.length;e++){var s=i.optionsArr[e].text;if(0==s.toString().toUpperCase().indexOf(i._searchText)){i.selectOption(e);break}}i._searchTimeout=window.setTimeout(function(){i._searchText=""},i.readonlyDelay),t.cancelBubble=!0}}}},dhtmlXCombo.prototype.getOption=function(t){for(var e=0;e<this.optionsArr.length;e++)if(this.optionsArr[e].value==t)return this.optionsArr[e];return null},dhtmlXCombo.prototype.getOptionByLabel=function(t){for(var e=0;e<this.optionsArr.length;e++)if(this.optionsArr[e].text==t||this.optionsArr[e]._ctext==t)return this.optionsArr[e];return null},dhtmlXCombo.prototype.getOptionByIndex=function(t){return this.optionsArr[t]},dhtmlXCombo.prototype.clearAll=function(t){t&&this.setComboText(""),this.optionsArr=[],this.redrawOptions(),t&&(this._selOption&&this._selOption.RedrawHeader(this,!0),this._confirmSelection())},dhtmlXCombo.prototype.deleteOption=function(t){var e=this.getIndexByValue(t);0>e||(this.optionsArr[e]==this._selOption&&(this._selOption=null),this.optionsArr.splice(e,1),this.redrawOptions())},dhtmlXCombo.prototype.render=function(t){this._skiprender=!convertStringToBoolean(t),this.redrawOptions()},dhtmlXCombo.prototype.updateOption=function(t,e,i,s){var n=this.getOption(t);"object"!=typeof e&&(e={text:i,value:e,css:s}),n.setValue(e),this.redrawOptions()},dhtmlXCombo.prototype.addOption=function(t){args=arguments[0].length&&"object"==typeof arguments[0]?t:[arguments],this.render(!1);for(var e=0;e<args.length;e++){var i=args[e];i.length&&(i.value=i[0]||"",i.text=i[1]||"",i.css=i[2]||""),this._addOption(i)}this.render(!0)},dhtmlXCombo.prototype._addOption=function(t){dOpt=new this._optionObject,this.optionsArr.push(dOpt),dOpt.setValue.apply(dOpt,[t]),this.redrawOptions()},dhtmlXCombo.prototype.getIndexByValue=function(t){for(var e=0;e<this.optionsArr.length;e++)if(this.optionsArr[e].value==t)return e;return-1},dhtmlXCombo.prototype.getSelectedValue=function(){return this._selOption?this._selOption.value:null},dhtmlXCombo.prototype.getComboText=function(){return this.DOMelem_input.value},dhtmlXCombo.prototype.setComboText=function(t){this.DOMelem_input.value=t},dhtmlXCombo.prototype.setComboValue=function(t){this.setComboText(t);for(var e=0;e<this.optionsArr.length;e++)if(this.optionsArr[e].data()[0]==t)return this._skipFocus=!0,this.selectOption(e,null,!0);this.DOMelem_hidden_input.value=t},dhtmlXCombo.prototype.getActualValue=function(){return this.DOMelem_hidden_input.value},dhtmlXCombo.prototype.getSelectedText=function(){return this._selOption?this._selOption.text:""},dhtmlXCombo.prototype.getSelectedIndex=function(){for(var t=0;t<this.optionsArr.length;t++)if(this.optionsArr[t]==this._selOption)return t;return-1},dhtmlXCombo.prototype.setName=function(t){this.DOMelem_hidden_input.name=t,this.DOMelem_hidden_input2=t.replace(/(\]?)$/,"_new_value$1"),this.name=t},dhtmlXCombo.prototype.show=function(t){this.DOMelem.style.display=convertStringToBoolean(t)?"":"none"},dhtmlXCombo.prototype.destructor=function(){this.DOMParent.removeChild(this.DOMelem),this.DOMlist.parentNode.removeChild(this.DOMlist),this.DOMlistF&&this.DOMlistF.parentNode.removeChild(this.DOMlistF);var t=dhx_glbSelectAr;this.DOMParent=this.DOMlist=this.DOMlistF=this.DOMelem=0;for(var e=this.DOMlist.combo=this.DOMelem.combo=0;e<t.length;e++)if(t[e]==this){t[e]=null,t.splice(e,1);break}},dhtmlXCombo.prototype._createSelf=function(t,e,i,s){if(-1!=i.toString().indexOf("%")){var n=this,o=parseInt(i)/100;window.setInterval(function(){if(t.parentNode){var e=t.parentNode.offsetWidth*o-2;0>e||e==n._lastTs||n.setSize(n._lastTs=e)}},500),i=parseInt(t.offsetWidth)}i=parseInt(i||100),this.ListPosition="Bottom",this.DOMParent=t,this._inID=null,this.name=e,this._selOption=null,this.optionsArr=[];var l=new this._optionObject;l.DrawHeader(this,e,i,s),this.DOMlist=document.createElement("DIV"),this.DOMlist.className="dhx_combo_list "+(dhtmlx.skin?dhtmlx.skin+"_list":""),this.DOMlist.style.width=i-(_isIE?0:0)+"px",(_isOpera||_isKHTML)&&(this.DOMlist.style.overflow="auto"),this.DOMlist.style.display="none",document.body.insertBefore(this.DOMlist,document.body.firstChild),_isIE&&(this.DOMlistF=document.createElement("IFRAME"),this.DOMlistF.style.border="0px",this.DOMlistF.className="dhx_combo_list",this.DOMlistF.style.width=i-(_isIE?0:0)+"px",this.DOMlistF.style.display="none",this.DOMlistF.src="javascript:false;",document.body.insertBefore(this.DOMlistF,document.body.firstChild)),this.DOMlist.combo=this.DOMelem.combo=this,this.DOMelem_input.onkeydown=this._onKey,this.DOMelem_input.onkeypress=this._onKeyF,this.DOMelem_input.onblur=this._onBlur,this.DOMelem.onclick=this._toggleSelect,this.DOMlist.onclick=this._selectOption,this.DOMlist.onmousedown=function(){this._skipBlur=!0},this.DOMlist.onkeydown=function(t){(t||event).cancelBubble=!0,this.combo.DOMelem_input.onkeydown(t)},this.DOMlist.onmouseover=this._listOver},dhtmlXCombo.prototype._listOver=function(t){t=t||event,t.cancelBubble=!0;var e=_isIE?event.srcElement:t.target,i=this.combo;if(e.parentNode==i.DOMlist){i._selOption&&i._selOption.deselect(),i._tempSel&&i._tempSel.deselect();for(var s=0;s<i.DOMlist.childNodes.length&&i.DOMlist.childNodes[s]!=e;s++);var n=i.optionsArr[s];i._tempSel=n,i._tempSel.select(),i._autoxml&&s+1==i._lastLength&&i._fetchOptions(s+1,i._lasttext||"")}},dhtmlXCombo.prototype._positList=function(){var t=this.getPosition(this.DOMelem);"Bottom"==this.ListPosition?(this.DOMlist.style.top=t[1]+this.DOMelem.offsetHeight-1+"px",this.DOMlist.style.left=t[0]+"px"):"Top"==this.ListPosition?(this.DOMlist.style.top=t[1]-this.DOMlist.offsetHeight+"px",this.DOMlist.style.left=t[0]+"px"):(this.DOMlist.style.top=t[1]+"px",this.DOMlist.style.left=t[0]+this.DOMelem.offsetWidth+"px")},dhtmlXCombo.prototype.getPosition=function(t,e){if(_isIE&&8>_isIE){e||(e=document.body);for(var i=t,s=0,n=0;i&&i!=e;)s+=i.offsetLeft-i.scrollLeft+i.clientLeft,n+=i.offsetTop-i.scrollTop+i.clientTop,i=i.offsetParent;return document.documentElement.scrollTop&&(n+=document.documentElement.scrollTop),document.documentElement.scrollLeft&&(s+=document.documentElement.scrollLeft),[s,n]}var o=getOffset(t);return[o.left,o.top]},dhtmlXCombo.prototype._correctSelection=function(){if(""!=this.getComboText())for(var t=0;t<this.optionsArr.length;t++)if(!this.optionsArr[t].isHidden())return this.selectOption(t,!0,!1);this.unSelectOption()},dhtmlXCombo.prototype.selectNext=function(t){for(var e=this.getSelectedIndex()+t;this.optionsArr[e];){if(!this.optionsArr[e].isHidden())return this.selectOption(e,!1,!1);e+=t}},dhtmlXCombo.prototype._onKeyF=function(t){var e=this.parentNode.combo,i=t||event;return i.cancelBubble=!0,"13"==i.keyCode||"9"==i.keyCode?(e._confirmSelection(),e.closeAll()):"27"==i.keyCode?(e._resetSelection(),e.closeAll()):e._activeMode=!0,"13"==i.keyCode||"27"==i.keyCode?(e.callEvent("onKeyPressed",[i.keyCode]),!1):!0},dhtmlXCombo.prototype._onKey=function(t){var e=this.parentNode.combo;(t||event).cancelBubble=!0;var i=(t||event).keyCode;if(i>15&&19>i)return!0;if(27==i)return!0;if("block"==e.DOMlist.style.display||"13"==i||"9"==i||e._filter&&!e._filterAny||e.DOMelem.onclick(t||event),"13"!=i&&"9"!=i){if(window.setTimeout(function(){e._onKeyB(i)},1),"40"==i||"38"==i)return!1}else 9==i&&(e._confirmSelection(),e.closeAll(),(t||event).cancelBubble=!1)},dhtmlXCombo.prototype._onKeyB=function(t){if("40"==t){this.selectNext(1)}else if("38"==t)this.selectNext(-1);else{if(this.callEvent("onKeyPressed",[t]),this._filter)return this.filterSelf(8==t||46==t);for(var e=0;e<this.optionsArr.length;e++)if(this.optionsArr[e].data()[1]==this.DOMelem_input.value)return this.selectOption(e,!1,!1),!1;this.unSelectOption()}return!0},dhtmlXCombo.prototype._onBlur=function(){var t=this.parentNode._self;window.setTimeout(function(){return t.DOMlist._skipBlur?!(t.DOMlist._skipBlur=!1):(t._skipFocus=!0,t._confirmSelection(),void t.callEvent("onBlur",[]))},100)},dhtmlXCombo.prototype.redrawOptions=function(){if(!this._skiprender){for(var t=this.DOMlist.childNodes.length-1;t>=0;t--)this.DOMlist.removeChild(this.DOMlist.childNodes[t]);for(t=0;t<this.optionsArr.length;t++)this.DOMlist.appendChild(this.optionsArr[t].render())}},dhtmlXCombo.prototype.loadXML=function(t,e){if(this._load=!0,this.callEvent("onXLS",[]),this._prs)for(var i=0;i<this._prs.length;i++)t+=[getUrlSymbol(t),escape(this._prs[i][0]),"=",escape(this._prs[i][1])].join("");if(this._xmlCache&&this._xmlCache[t])this._fillFromXML(this,null,null,null,this._xmlCache[t]),e&&e();else{var s=new dtmlXMLLoaderObject(this._fillFromXML,this,!0,!0);e&&(s.waitCall=e),s._cPath=t,s.loadXML(t)}},dhtmlXCombo.prototype.loadXMLString=function(t){var e=new dtmlXMLLoaderObject(this._fillFromXML,this,!0,!0);e.loadXMLString(t)},dhtmlXCombo.prototype._fillFromXML=function(t,e,i,s,n){t._xmlCache&&(t._xmlCache[n._cPath]=n);var o=n.getXMLTopNode("complete");if("complete"!=o.tagName)t._load=!1;else{var l=n.doXPath("//complete"),h=n.doXPath("//option"),r=!1;t.render(!1),l[0]&&l[0].getAttribute("add")?(t._lastLength+=h.length||1/0,r=!0):(t.clearAll(),t._lastLength=h.length,t._xml&&(h&&h.length?t._activeMode&&(t._positList(),t.DOMlist.style.display="block",_isIE&&t._IEFix(!0)):t.closeAll()));for(var a=0;a<h.length;a++){var d={};d.text=h[a].firstChild?h[a].firstChild.nodeValue:"";for(var c=0;c<h[a].attributes.length;c++){var u=h[a].attributes[c];u&&(d[u.nodeName]=u.nodeValue)}t._addOption(d)}t.render(1!=r||!!h.length),t._load&&t._load!==!0?t.loadXML(t._load):(t._load=!1,!t._lkmode&&t._filter&&!t._autoDisabled&&t._correctSelection());var _=n.doXPath("//option[@selected]");_.length&&(t._skipFocus=!0,t.selectOption(t.getIndexByValue(_[0].getAttribute("value")),!1,!0)),t.callEvent("onXLE",[])}},dhtmlXCombo.prototype.unSelectOption=function(){this._selOption&&this._selOption.deselect(),this._tempSel&&this._tempSel.deselect(),this._tempSel=this._selOption=null},dhtmlXCombo.prototype.confirmValue=function(){this._confirmSelection()},dhtmlXCombo.prototype._confirmSelection=function(t,e){var i=this.getComboText();if(this.setComboText(""),this.setComboText(i),0==arguments.length){var s=this.getOptionByLabel(this.DOMelem_input.value),t=s?s.value:this.DOMelem_input.value,e=null==s;if(t==this.getActualValue())return this._skipFocus=!1}if(!this._skipFocus&&!this._disabled)try{this.DOMelem_input.focus()}catch(n){}this._skipFocus=!1,this.DOMelem_hidden_input.value=t,this.DOMelem_hidden_input2.value=e?"true":"false",this.callEvent("onChange",[]),this._activeMode=!1},dhtmlXCombo.prototype._resetSelection=function(){var t=this.getOption(this.DOMelem_hidden_input.value);this.setComboValue(t?t.data()[0]:this.DOMelem_hidden_input.value),this.setComboText(t?t.data()[1]:this.DOMelem_hidden_input.value)},dhtmlXCombo.prototype.selectOption=function(t,e,i){arguments.length<3&&(i=!0),this.unSelectOption();var s=this.optionsArr[t];if(s){this._selOption=s,this._selOption.select();var n=this._selOption.content.offsetTop+this._selOption.content.offsetHeight-this.DOMlist.scrollTop-this.DOMlist.offsetHeight;n>0&&(this.DOMlist.scrollTop+=n),n=this.DOMlist.scrollTop-this._selOption.content.offsetTop,n>0&&(this.DOMlist.scrollTop-=n);var o=this._selOption.data();if(i&&(this.setComboText(o[1]),this._confirmSelection(o[0],!1)),this._autoxml&&t+1==this._lastLength&&this._fetchOptions(t+1,this._lasttext||""),e){var l=this.getComboText();l!=o[1]&&(this.setComboText(o[1]),dhtmlXRange(this.DOMelem_input,l.length+1,o[1].length))}else this.setComboText(o[1]);this._selOption.RedrawHeader(this),this.callEvent("onSelectionChange",[])}},dhtmlXCombo.prototype._selectOption=function(t){(t||event).cancelBubble=!0;for(var e=_isIE?event.srcElement:t.target,i=this.combo;!e._self;)if(e=e.parentNode,!e)return;for(var s=0;s<i.DOMlist.childNodes.length&&i.DOMlist.childNodes[s]!=e;s++);i.selectOption(s,!1,!0),i.closeAll(),i.callEvent("onBlur",[]),i._activeMode=!1},dhtmlXCombo.prototype.openSelect=function(){if(!this._disabled){if(this.closeAll(),this.DOMlist.style.display="block",this._positList(),this.callEvent("onOpen",[]),this._tempSel&&this._tempSel.deselect(),this._selOption&&this._selOption.select(),this._selOption){var t=this._selOption.content.offsetTop+this._selOption.content.offsetHeight-this.DOMlist.scrollTop-this.DOMlist.offsetHeight;t>0&&(this.DOMlist.scrollTop+=t),t=this.DOMlist.scrollTop-this._selOption.content.offsetTop,t>0&&(this.DOMlist.scrollTop-=t)}_isIE&&this._IEFix(!0),this.DOMelem_input.focus(),this._filter&&this.filterSelf()}},dhtmlXCombo.prototype._toggleSelect=function(t){var e=this.combo;"block"==e.DOMlist.style.display?e.closeAll():e.openSelect(),(t||event).cancelBubble=!0},dhtmlXCombo.prototype._fetchOptions=function(t,e){if(""==e)return this.closeAll(),this.clearAll();var i=this._xml+(-1!=this._xml.indexOf("?")?"&":"?")+"pos="+t+"&mask="+encodeURIComponent(e);this._lasttext=e,this._load?this._load=i:this.callEvent("onDynXLS",[e,t])&&this.loadXML(i)},dhtmlXCombo.prototype.disableAutocomplete=function(){this._autoDisabled=!0},dhtmlXCombo.prototype.filterSelf=function(t){var e=this.getComboText();this._xml&&(this._lkmode=t,this._fetchOptions(0,e));var i=RegExp("(["+this.filterEntities.join("\\")+"])","g"),e=e.replace(i,"\\$1"),s=(this._anyPosition?"":"^")+e,n=RegExp(s,"i");this.filterAny=!1;for(var o=0;o<this.optionsArr.length;o++){var l=n.test(this.optionsArr[o].content?this.optionsArr[o].data()[1]:this.optionsArr[o].text);this.filterAny|=l,this.optionsArr[o].hide(!l)}this.filterAny?("block"!=this.DOMlist.style.display&&this.openSelect(),_isIE&&this._IEFix(!0)):(this.closeAll(),this._activeMode=!0),t||this._autoDisabled?this.unSelectOption():this._correctSelection()},dhtmlXCombo.prototype._IEFix=function(t){this.DOMlistF.style.display=t?"block":"none",this.DOMlistF.style.top=this.DOMlist.style.top,this.DOMlistF.style.left=this.DOMlist.style.left,this.DOMlistF.style.width=this.DOMlist.offsetWidth+"px",this.DOMlistF.style.height=this.DOMlist.offsetHeight+"px"},dhtmlXCombo.prototype.closeAll=function(){if(window.dhx_glbSelectAr)for(var t=0;t<dhx_glbSelectAr.length;t++)"block"==dhx_glbSelectAr[t].DOMlist.style.display&&(dhx_glbSelectAr[t].DOMlist.style.display="none",_isIE&&dhx_glbSelectAr[t]._IEFix(!1)),dhx_glbSelectAr[t]._activeMode=!1},dhtmlXCombo.prototype.changeOptionId=function(t,e){(this.getOption(t)||{}).value=e},dhtmlXCombo_defaultOption=function(){this.init()},dhtmlXCombo_defaultOption.prototype.init=function(){this.value=null,this.text="",this.selected=!1,this.css=""},dhtmlXCombo_defaultOption.prototype.select=function(){this.content&&(this.content.className="dhx_selected_option"+(dhtmlx.skin?" combo_"+dhtmlx.skin+"_sel":""))},dhtmlXCombo_defaultOption.prototype.hide=function(t){this.render().style.display=t?"none":""},dhtmlXCombo_defaultOption.prototype.isHidden=function(){return"none"==this.render().style.display},dhtmlXCombo_defaultOption.prototype.deselect=function(){this.content&&this.render(),this.content.className=""},dhtmlXCombo_defaultOption.prototype.setValue=function(t){this.value=t.value||"",this.text=t.text||"",this.css=t.css||"",this.content=null},dhtmlXCombo_defaultOption.prototype.render=function(){return this.content||(this.content=document.createElement("DIV"),this.content._self=this,this.content.style.cssText="width:100%; overflow:hidden;"+this.css,(_isOpera||_isKHTML)&&(this.content.style.padding="2px 0px 2px 0px"),this.content.innerHTML=this.text,this._ctext="undefined"!=typeof this.content.textContent?this.content.textContent:this.content.innerText),this.content},dhtmlXCombo_defaultOption.prototype.data=function(){return this.content?[this.value,this._ctext?this._ctext:this.text]:void 0},dhtmlXCombo_defaultOption.prototype.DrawHeader=function(t,e,i,s){var n=document.createElement("DIV");n.style.width=i+"px",n.className="dhx_combo_box "+(dhtmlx.skin||""),n._self=t,t.DOMelem=n,this._DrawHeaderInput(t,e,i,s),this._DrawHeaderButton(t,e,i),t.DOMParent.appendChild(t.DOMelem)},dhtmlXCombo_defaultOption.prototype._DrawHeaderInput=function(t,e,i,s){var n=document.createElement("input");n.setAttribute("autocomplete","off"),n.type="text",n.className="dhx_combo_input",s&&(n.tabIndex=s),n.style.width=i-19-("BackCompat"==document.compatMode?0:3)+"px",t.DOMelem.appendChild(n),t.DOMelem_input=n,n=document.createElement("input"),n.type="hidden",n.name=e,t.DOMelem.appendChild(n),t.DOMelem_hidden_input=n,n=document.createElement("input"),n.type="hidden",n.name=(e||"").replace(/(\]?)$/,"_new_value$1"),n.value="true",t.DOMelem.appendChild(n),t.DOMelem_hidden_input2=n},dhtmlXCombo_defaultOption.prototype._DrawHeaderButton=function(t){var e=document.createElement("img");e.className="dhx_combo_img",dhtmlx.image_path&&(dhx_globalImgPath=dhtmlx.image_path),e.src=(window.dhx_globalImgPath?dhx_globalImgPath:"")+"combo_select"+(dhtmlx.skin?"_"+dhtmlx.skin:"")+".gif",t.DOMelem.appendChild(e),t.DOMelem_button=e},dhtmlXCombo_defaultOption.prototype.RedrawHeader=function(){},dhtmlXCombo_optionTypes["default"]=dhtmlXCombo_defaultOption,dhtmlXCombo.prototype.dhx_Event=function(){this.dhx_SeverCatcherPath="",this.attachEvent=function(t,e,i){if(i=i||this,t="ev_"+t,!this[t]||!this[t].addEvent){var s=new this.eventCatcher(i);s.addEvent(this[t]),this[t]=s}return t+":"+this[t].addEvent(e)},this.callEvent=function(t,e){return this["ev_"+t]?this["ev_"+t].apply(this,e):!0},this.checkEvent=function(t){return this["ev_"+t]?!0:!1},this.eventCatcher=function(a){var b=[],c=a,d=function(t,e){var t=t.split(":"),i="",s="",n=t[1];"rpc"==t[1]&&(i='<?xml version="1.0"?><methodCall><methodName>'+t[2]+"</methodName><params>",s="</params></methodCall>",n=e);var o=function(){};return o},e=function(){if(b)var t=!0;for(var e=0;e<b.length;e++)if(null!=b[e])var i=b[e].apply(c,arguments),t=t&&i;return t};return e.addEvent=function(a){return"function"!=typeof a&&(a=a&&a.indexOf&&0==a.indexOf("server:")?new d(a,c.rpcServer):eval(a)),a?b.push(a)-1:!1
},e.removeEvent=function(t){b[t]=null},e},this.detachEvent=function(t){if(0!=t){var e=t.split(":");this[e[0]].removeEvent(e[1])}}},function(){dhtmlx.extend_api("dhtmlXCombo",{_init:function(t){return t.image_path&&(dhx_globalImgPath=t.image_path),[t.parent,t.name,t.width||"100%",t.type,t.index]},filter:"filter_command",auto_height:"enableOptionAutoHeight",auto_position:"enableOptionAutoPositioning",auto_width:"enableOptionAutoWidth",xml:"loadXML",readonly:"readonly",items:"addOption"},{filter_command:function(t){"string"==typeof t?this.enableFilteringMode(!0,t):this.enableFilteringMode(t)}})}(),dhtmlXCombo_imageOption=function(){this.init()},dhtmlXCombo_imageOption.prototype=new dhtmlXCombo_defaultOption,dhtmlXCombo_imageOption.prototype.setValue=function(t){this.value=t.value||"",this.text=t.text||"",this.css=t.css||"",this.img_src=t.img_src||this.getDefImage()},dhtmlXCombo_imageOption.prototype.render=function(){if(!this.content){this.content=document.createElement("DIV"),this.content._self=this,this.content.style.cssText="width:100%; overflow:hidden;white-space:nowrap; "+this.css;var t="";""!=this.img_src&&(t+='<img src="'+this.img_src+'" style="display:inline-block;vertical-align:middle;"/>'),t+='<div style="display:inline;vertical-align:middle;">'+this.text+"</div>",this.content.innerHTML=t,this._ctext="undefined"!=typeof this.content.textContent?this.content.textContent:this.content.innerText}return this.content},dhtmlXCombo_imageOption.prototype.data=function(){return[this.value,this._ctext?this._ctext:this.text,this.img_src]},dhtmlXCombo_imageOption.prototype.DrawHeader=function(t,e,i){var s=document.createElement("DIV");s.style.width=i+"px",s.className="dhx_combo_box",s._self=t,t.DOMelem=s,this._DrawHeaderImage(t,e,i),this._DrawHeaderInput(t,e,i-19),this._DrawHeaderButton(t,e,i),t.DOMParent.appendChild(t.DOMelem)},dhtmlXCombo_imageOption.prototype._DrawHeaderImage=function(t){var e=document.createElement("img");e.className="dhx_combo_option_img",e.style.visibility="hidden",t.DOMelem.appendChild(e),t.DOMelem_image=e},dhtmlXCombo_imageOption.prototype.RedrawHeader=function(t,e){t.DOMelem_image.style.visibility=e?"hidden":"visible",t.DOMelem_image.src=e?"":this.img_src},dhtmlXCombo_imageOption.prototype.getDefImage=function(){return""},dhtmlXCombo.prototype.setDefaultImage=function(t){dhtmlXCombo_imageOption.prototype.getDefImage=function(){return t}},dhtmlXCombo_optionTypes.image=dhtmlXCombo_imageOption,dhtmlXCombo_checkboxOption=function(){this.init()},dhtmlXCombo_checkboxOption.prototype=new dhtmlXCombo_defaultOption,dhtmlXCombo_checkboxOption.prototype.setValue=function(t){this.value=t.value||"",this.text=t.text||"",this.css=t.css||"",this.checked=t.checked||0},dhtmlXCombo_checkboxOption.prototype.render=function(){if(!this.content){this.content=document.createElement("DIV"),this.content._self=this,this.content.style.cssText="width:100%; overflow:hidden;white-space:nowrap; "+this.css;var t="";t+=this.checked?'<input type="checkbox" checked  style="display:inline-block;vertical-align:middle;" />':'<input type="checkbox" style="display:inline-block;vertical-align:middle;"/>',t+='<div style="display:inline;vertical-align:middle;">'+this.text+"</div>",this.content.innerHTML=t,this._ctext="undefined"!=typeof this.content.textContent?this.content.textContent:this.content.innerText,this.content.firstChild.onclick=function(t){return this.parentNode.parentNode.combo.DOMelem_input.focus(),(t||event).cancelBubble=!0,this.parentNode.parentNode.combo.callEvent("onCheck",[this.parentNode._self.value,this.checked])?void 0:(this.checked=!this.checked,!1)}}return this.content},dhtmlXCombo_checkboxOption.prototype.data=function(){return[this.value,this._ctext?this._ctext:this.text,this.render().firstChild.checked]},dhtmlXCombo_checkboxOption.prototype.DrawHeader=function(t,e,i){t.DOMelem=document.createElement("DIV"),t.DOMelem.style.width=i+"px",t.DOMelem.className="dhx_combo_box",t.DOMelem._self=t,this._DrawHeaderCheckbox(t,e,i),this._DrawHeaderInput(t,e,i-19),this._DrawHeaderButton(t,e,i),t.DOMParent.appendChild(t.DOMelem)},dhtmlXCombo_checkboxOption.prototype._DrawHeaderCheckbox=function(t){var e=document.createElement("input");e.type="checkbox",e.className="dhx_combo_option_img",e.style.visibility="hidden",e.onclick=function(i){var s=t.getIndexByValue(t.getActualValue());-1!=s&&(t.setChecked(s,e.checked),t.callEvent("onCheck",[t.getActualValue(),t.optionsArr[s].content.firstChild.checked])),(i||event).cancelBubble=!0},t.DOMelem.appendChild(e),t.DOMelem_checkbox=e},dhtmlXCombo_checkboxOption.prototype.RedrawHeader=function(t,e){t.DOMelem_checkbox.style.visibility=e?"hidden":"",t.DOMelem_checkbox.checked=e?!1:this.content.firstChild.checked},dhtmlXCombo_optionTypes.checkbox=dhtmlXCombo_checkboxOption,dhtmlXCombo.prototype.getChecked=function(){for(var t=[],e=0;e<this.optionsArr.length;e++)this.optionsArr[e].data()[2]&&t.push(this.optionsArr[e].value);return t},dhtmlXCombo.prototype.setChecked=function(t,e){this.optionsArr[t].content.firstChild.checked=e!==!1,this._selOption==this.optionsArr[t]&&this._selOption.RedrawHeader(this)},dhtmlXCombo.prototype.setCheckedByValue=function(t,e){return this.setChecked(this.getIndexByValue(t),e)},dhtmlXCombo.prototype.enableOptionAutoPositioning=function(t){this.ListAutoPosit||(this.ListAutoPosit=1),this.attachEvent("onOpen",function(){this._setOptionAutoPositioning(t)}),this.attachEvent("onXLE",function(){this._setOptionAutoPositioning(t)})},dhtmlXCombo.prototype._setOptionAutoPositioning=function(t){if("undefined"!=typeof t&&!convertStringToBoolean(t))return this.ListPosition="Bottom",this.ListAutoPosit=0,!0;var e=this.getPosition(this.DOMelem),i=this._getClientHeight()-e[1]-this.DOMelem.offsetHeight,s=this.autoHeight?this.DOMlist.scrollHeight:parseInt(this.DOMlist.offsetHeight);this.ListPosition=s>i&&e[1]>s?"Top":"Bottom",this._positList(),_isIE&&this._IEFix(!0)},dhtmlXCombo.prototype._getClientHeight=function(){return"CSS1Compat"!=document.compatMode||window.opera?document.body.clientHeight:document.documentElement.clientHeight},dhtmlXCombo.prototype.setOptionWidth=function(t){arguments.length>0&&(this.DOMlist.style.width=t+"px",this.DOMlistF)&&(this.DOMlistF.style.width=t+"px")},dhtmlXCombo.prototype.setOptionHeight=function(t){arguments.length>0&&(this.DOMlist.style.height=_isIE?this.DOMlistF.style.height=t+"px":t+"px",this.DOMlistF&&(this.DOMlistF.style.height=this.DOMlist.style.height),this._positList(),_isIE&&this._IEFix(!0))},dhtmlXCombo.prototype.enableOptionAutoWidth=function(t){this._listWidthConf||(this._listWidthConf=this.DOMlist.offsetWidth),0==arguments.length&&(t=1),convertStringToBoolean(t)?(this.autoOptionWidth=1,this.awOnOpen=this.attachEvent("onOpen",function(){this._setOptionAutoWidth()}),this.awOnXLE=this.attachEvent("onXLE",function(){this._setOptionAutoWidth()})):"undefined"!=typeof this.awOnOpen&&(this.autoOptionWidth=0,this.detachEvent(this.awOnOpen),this.detachEvent(this.awOnXLE),this.setOptionWidth(this._listWidthConf))},dhtmlXCombo.prototype._setOptionAutoWidth=function(){var t=!this.ahOnOpen&&this.DOMlist.scrollHeight>this.DOMlist.offsetHeight;this.setOptionWidth(1);for(var e=this.DOMlist.offsetWidth,i=0;i<this.optionsArr.length;i++){var s=_isFF?this.DOMlist.childNodes[i].scrollWidth-2:this.DOMlist.childNodes[i].scrollWidth;s>e&&(e=this.DOMlist.childNodes[i].scrollWidth)}e+=t?18:0,this.setOptionWidth(this.DOMelem.offsetWidth>e?this.DOMelem.offsetWidth:e+2)},dhtmlXCombo.prototype.enableOptionAutoHeight=function(t,e){this._listHeightConf||(this._listHeightConf=""==this.DOMlist.style.height?100:parseInt(this.DOMlist.style.height)),0==arguments.length&&(t=1),this.autoHeight=convertStringToBoolean(t);var i=this;if(this.autoHeight){var s=function(){window.setTimeout(function(){i._setOptionAutoHeight(t,e)},1)};this.ahOnOpen=this.attachEvent("onOpen",s),this.awOnOpen||(this.ahOnXLE=this.attachEvent("onXLE",s));var n;this.ahOnKey=this.attachEvent("onKeyPressed",function(){this._filter&&(n&&window.clearTimeout(n),window.setTimeout(function(){"block"==i.DOMlist.style.display&&i._setOptionAutoHeight(t,e)},50))})}else"undefined"!=typeof this.ahOnOpen&&(this.detachEvent(this.ahOnOpen),this.ahOnXLE&&this.detachEvent(this.ahOnXLE),this.ahOnKey&&this.detachEvent(this.ahOnKey),this.setOptionHeight(this._listHeightConf))},dhtmlXCombo.prototype._setOptionAutoHeight=function(t,e){if(convertStringToBoolean(t)){this.setOptionHeight(1);var i=0;this.optionsArr.length>0?(i=this.DOMlist.scrollHeight>this.DOMlist.offsetHeight?this.DOMlist.scrollHeight+2:this.DOMlist.offsetHeight,arguments.length>1&&e&&(e=parseInt(e),i=i>e?e:i),this.setOptionHeight(i)):this.DOMlist.style.display="none"}},dhtmlXCombo.prototype.attachChildCombo=function(t,e){this._child_combos||(this._child_combos=[]),this._has_childen=1,this._child_combos[this._child_combos.length]=t,t.show(0);var i=this,s=arguments.length;this.attachEvent("onChange",function(){for(var n=0;n<i._child_combos.length;n++)i._child_combos[n]==t&&(t.show(1),t.callEvent("onMasterChange",[i.getActualValue(),i]));""==i.getActualValue()?i.showSubCombo(i,0):t._xml?(1==s&&(e=t._xml),t._xml=i.deleteParentVariable(e),t._xml+=(-1!=t._xml.indexOf("?")?"&":"?")+"parent="+encodeURIComponent(i.getActualValue())):e&&(t.clearAll(!0),t.loadXML(e+(-1!=e.indexOf("?")?"&":"?")+"parent="+encodeURIComponent(i.getActualValue())))})},dhtmlXCombo.prototype.setAutoSubCombo=function(t,e){if(1==arguments.length&&(e="subcombo"),this._parentCombo)i=new dhtmlXCombo(this._parentCombo.DOMParent,e,this._parentCombo.DOMelem.style.width),i._parentCombo=this._parentCombo;else{var i=new dhtmlXCombo(this.DOMParent,e,this.DOMelem.style.width);i._parentCombo=this}return this._filter&&(i._filter=1),this._xml&&(i._xml=arguments.length>0?t:this._xml,t=i._xml,i._autoxml=this._autoxml,this._xmlCache)&&(i._xmlCache=[]),this.attachChildCombo(i,t),i},dhtmlXCombo.prototype.detachChildCombo=function(t){for(var e=0;e<this._child_combos.length;e++)this._child_combos.splice(e,1);t.show(1)},dhtmlXCombo.prototype.showSubCombo=function(t,e){if(t._child_combos)for(var i=0;i<t._child_combos.length;i++)t._child_combos[i].show(e),t.showSubCombo(t._child_combos[i],0)},dhtmlXCombo.prototype.deleteParentVariable=function(t){return t=t.replace(/parent\=[^&]*/g,"").replace(/\?\&/,"?")},dataProcessor.prototype={setTransactionMode:function(t,e){this._tMode=t,this._tSend=e},escape:function(t){return this._utf?encodeURIComponent(t):escape(t)},enableUTFencoding:function(t){this._utf=convertStringToBoolean(t)},setDataColumns:function(t){this._columns="string"==typeof t?t.split(","):t},getSyncState:function(){return!this.updatedRows.length},enableDataNames:function(t){this._endnm=convertStringToBoolean(t)},enablePartialDataSend:function(t){this._changed=convertStringToBoolean(t)},setUpdateMode:function(t,e){this.autoUpdate="cell"==t,this.updateMode=t,this.dnd=e},ignore:function(t,e){this._silent_mode=!0,t.call(e||window),this._silent_mode=!1},setUpdated:function(t,e,i){if(!this._silent_mode){var s=this.findRow(t),i=i||"updated",n=this.obj.getUserData(t,this.action_param);n&&"updated"==i&&(i=n),e?(this.set_invalid(t,!1),this.updatedRows[s]=t,this.obj.setUserData(t,this.action_param,i),this._in_progress[t]&&(this._in_progress[t]="wait")):this.is_invalid(t)||(this.updatedRows.splice(s,1),this.obj.setUserData(t,this.action_param,"")),e||this._clearUpdateFlag(t),this.markRow(t,e,i),e&&this.autoUpdate&&this.sendData(t)}},_clearUpdateFlag:function(){},markRow:function(t,e,i){var s="",n=this.is_invalid(t);if(n&&(s=this.styles[n],e=!0),this.callEvent("onRowMark",[t,e,i,n])&&(s=this.styles[e?i:"clear"]+s,this.obj[this._methods[0]](t,s),n&&n.details)){s+=this.styles[n+"_cell"];for(var o=0;o<n.details.length;o++)n.details[o]&&this.obj[this._methods[1]](t,o,s)}},getState:function(t){return this.obj.getUserData(t,this.action_param)},is_invalid:function(t){return this._invalid[t]},set_invalid:function(t,e,i){i&&(e={value:e,details:i,toString:function(){return this.value.toString()}}),this._invalid[t]=e},checkBeforeUpdate:function(){return!0},sendData:function(t){if(!this._waitMode||"tree"!=this.obj.mytype&&!this.obj._h2){if(this.obj.editStop&&this.obj.editStop(),"undefined"==typeof t||this._tSend)return this.sendAllData();if(this._in_progress[t])return!1;if(this.messages=[],!this.checkBeforeUpdate(t)&&this.callEvent("onValidationError",[t,this.messages]))return!1;this._beforeSendData(this._getRowData(t),t)}},_beforeSendData:function(t,e){return this.callEvent("onBeforeUpdate",[e,this.getState(e),t])?void this._sendData(t,e):!1},serialize:function(t,e){if("string"==typeof t)return t;if("undefined"!=typeof e)return this.serialize_one(t,"");var i,s=[],n=[];for(i in t)t.hasOwnProperty(i)&&(s.push(this.serialize_one(t[i],i+this.post_delim)),n.push(i));return s.push("ids="+this.escape(n.join(","))),dhtmlx.security_key&&s.push("dhx_security="+dhtmlx.security_key),s.join("&")},serialize_one:function(t,e){if("string"==typeof t)return t;var i,s=[];for(i in t)t.hasOwnProperty(i)&&s.push(this.escape((e||"")+i)+"="+this.escape(t[i]));return s.join("&")},_sendData:function(t,e){if(t){if(!this.callEvent("onBeforeDataSending",e?[e,this.getState(e),t]:[null,null,t]))return!1;e&&(this._in_progress[e]=(new Date).valueOf());var i=new dtmlXMLLoaderObject(this.afterUpdate,this,!0),s=this.serverProcessor+(this._user?getUrlSymbol(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.obj.getUserData(0,"version")].join("&"):"");"POST"!=this._tMode?i.loadXML(s+(-1!=s.indexOf("?")?"&":"?")+this.serialize(t,e)):i.loadXML(s,!0,this.serialize(t,e)),this._waitMode++}},sendAllData:function(){if(this.updatedRows.length){this.messages=[];for(var t=!0,e=0;e<this.updatedRows.length;e++)t&=this.checkBeforeUpdate(this.updatedRows[e]);if(!t&&!this.callEvent("onValidationError",["",this.messages]))return!1;if(this._tSend)this._sendData(this._getAllData());else for(e=0;e<this.updatedRows.length&&(this._in_progress[this.updatedRows[e]]||this.is_invalid(this.updatedRows[e])||(this._beforeSendData(this._getRowData(this.updatedRows[e]),this.updatedRows[e]),!this._waitMode||"tree"!=this.obj.mytype&&!this.obj._h2));e++);}},_getAllData:function(){for(var t={},e=!1,i=0;i<this.updatedRows.length;i++){var s=this.updatedRows[i];!this._in_progress[s]&&!this.is_invalid(s)&&this.callEvent("onBeforeUpdate",[s,this.getState(s)])&&(t[s]=this._getRowData(s,s+this.post_delim),e=!0,this._in_progress[s]=(new Date).valueOf())}return e?t:null},setVerificator:function(t,e){this.mandatoryFields[t]=e||function(t){return""!=t}},clearVerificator:function(t){this.mandatoryFields[t]=!1},findRow:function(t){for(var e=0,e=0;e<this.updatedRows.length&&t!=this.updatedRows[e];e++);return e},defineAction:function(t,e){this._uActions||(this._uActions=[]),this._uActions[t]=e},afterUpdateCallback:function(t,e,i,s){var n=t,o="error"!=i&&"invalid"!=i;if(o||this.set_invalid(t,i),this._uActions&&this._uActions[i]&&!this._uActions[i](s))return delete this._in_progress[n];"wait"!=this._in_progress[n]&&this.setUpdated(t,!1);var l=t;switch(i){case"inserted":case"insert":e!=t&&(this.obj[this._methods[2]](t,e),t=e);break;case"delete":case"deleted":return this.obj.setUserData(t,this.action_param,"true_deleted"),this.obj[this._methods[3]](t),delete this._in_progress[n],this.callEvent("onAfterUpdate",[t,i,e,s])}"wait"!=this._in_progress[n]?(o&&this.obj.setUserData(t,this.action_param,""),delete this._in_progress[n]):(delete this._in_progress[n],this.setUpdated(e,!0,this.obj.getUserData(t,this.action_param))),this.callEvent("onAfterUpdate",[l,i,e,s])},afterUpdate:function(t,e,i,s,n){if(n.getXMLTopNode("data"),n.xmlDoc.responseXML){for(var o=n.doXPath("//data/action"),l=0;l<o.length;l++){var h=o[l],r=h.getAttribute("type"),a=h.getAttribute("sid"),d=h.getAttribute("tid");t.afterUpdateCallback(a,d,r,h)}t.finalizeUpdate()}},finalizeUpdate:function(){this._waitMode&&this._waitMode--,("tree"==this.obj.mytype||this.obj._h2)&&this.updatedRows.length&&this.sendData(),this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},init:function(t){this.obj=t,this.obj._dp_init&&this.obj._dp_init(this)},setOnAfterUpdate:function(t){this.attachEvent("onAfterUpdate",t)},enableDebug:function(){},setOnBeforeUpdateHandler:function(t){this.attachEvent("onBeforeDataSending",t)},setAutoUpdate:function(t,e){t=t||2e3,this._user=e||(new Date).valueOf(),this._need_update=!1,this._loader=null,this._update_busy=!1,this.attachEvent("onAfterUpdate",function(t,e,i,s){this.afterAutoUpdate(t,e,i,s)}),this.attachEvent("onFullSync",function(){this.fullSync()});var i=this;window.setInterval(function(){i.loadUpdate()},t)},afterAutoUpdate:function(t,e){return"collision"==e?(this._need_update=!0,!1):!0},fullSync:function(){return 1==this._need_update&&(this._need_update=!1,this.loadUpdate()),!0},getUpdates:function(t,e){return this._update_busy?!1:(this._update_busy=!0,this._loader=this._loader||new dtmlXMLLoaderObject(!0),this._loader.async=!0,this._loader.waitCall=e,void this._loader.loadXML(t))},_v:function(t){return t.firstChild?t.firstChild.nodeValue:""},_a:function(t){for(var e=[],i=0;i<t.length;i++)e[i]=this._v(t[i]);return e},loadUpdate:function(){var t=this,e=this.obj.getUserData(0,"version"),i=this.serverProcessor+getUrlSymbol(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+e].join("&"),i=i.replace("editing=true&","");this.getUpdates(i,function(){var e=t._loader.doXPath("//userdata");t.obj.setUserData(0,"version",t._v(e[0]));var i=t._loader.doXPath("//update");if(i.length){t._silent_mode=!0;for(var s=0;s<i.length;s++){var n=i[s].getAttribute("status"),o=i[s].getAttribute("id"),l=i[s].getAttribute("parent");switch(n){case"inserted":t.callEvent("insertCallback",[i[s],o,l]);break;case"updated":t.callEvent("updateCallback",[i[s],o,l]);break;case"deleted":t.callEvent("deleteCallback",[i[s],o,l])}}t._silent_mode=!1}t._update_busy=!1,t=null})}},function(){dhtmlx.extend_api("dhtmlXEditor",{_init:function(t){return[t.parent,t.skin]},content:"setContent"},{})}(),dhtmlXEditor.prototype.unload=function(){if(this._isToolbar)this._unloadExtModule();else for(;this.base.childNodes[0].childNodes.length>0;)this.base.childNodes[0].childNodes[0].tagName&&"a"==String(this.base.childNodes[0].childNodes[0].tagName).toLowerCase()&&(this.base.childNodes[0].childNodes[0].childNodes[0].onclick=null,this.base.childNodes[0].childNodes[0].childNodes[0].onmousedown=null,this.base.childNodes[0].childNodes[0].removeChild(this.base.childNodes[0].childNodes[0].childNodes[0])),this.base.childNodes[0].removeChild(this.base.childNodes[0].childNodes[0]);for(this.tbData=this.base.childNodes[0].onselectstart=null,this.detachAllEvents(),_isIE?this.editor.onreadystatechange=null:this.editor.onload=null,this.editor.parentNode.removeChild(this.editor),this.edWin=this.edDoc=this.editor=this.editor.onunload=null,this.base._dhxContDestruct(),this.base._idd=null,this.base.name=null;this.base.childNodes.length>0;)this.base.removeChild(this.base.childNodes[0]);this.unload=this.isReadonly=this.setReadonly=this.setContentHTML=this.setContent=this.getContent=this.getSelectionBounds=this.showInfo=this.detachAllEvents=this.detachEvent=this.eventCatcher=this.checkEvent=this.callEvent=this.attachEvent=this.clearFormatting=this.applyUnderscore=this.applyItalic=this.applyBold=this.runCommand=this.setSizes=this.init=this.setIconsPath=this._doOnUnload=this._doOnResize=this._prepareContent=this._focus=this._ev=this._ajaxOnLoad=this.iconsPath=this.skin=this._resizeTMTime=this._resizeTM=this._isToolbar=this.cBlock=this.base=null},dhtmlXEditor.prototype.setReadonly=function(t){this._roMode=t===!0,this._prepareContent(!0,this._roMode),this.cBlock.style.display=this._roMode?"":"none"},dhtmlXEditor.prototype.isReadonly=function(){return this._roMode||!1},dhtmlXEditor.prototype.initDhtmlxToolbar=function(){this.tb=this.base.attachToolbar(),this.tb.setSkin(this.skin),"dhx_skyblue"==this.skin&&(this.tb.base.style.borderLeft="none",this.tb.base.style.borderRight="none",this.tb.base.style.top="-1px"),this.setSizes(),this.tb.setIconsPath(this.iconsPath+"dhxeditor_"+this.skin+"/"),this._availFonts="Arial,Arial Narrow,Comic Sans MS,Courier,Georgia,Impact,Tahoma,Times New Roman,Verdana".split(","),this._initFont=this._availFonts[0],this._xmlFonts="";for(var t=0;t<this._availFonts.length;t++){var e=String(this._availFonts[t]).replace(/\s/g,"_");this._xmlFonts+='<item type="button" id="applyFontFamily:'+e+'"><itemText><![CDATA[<img src="'+this.tb.imagePath+"font_"+String(e).toLowerCase()+'.gif" border="0" style="/*margin-top:1px;margin-bottom:1px;*/width:110px;height:16px;">]]></itemText></item>'}this._availSizes={1:"8pt",2:"10pt",3:"12pt",4:"14pt",5:"18pt",6:"24pt",7:"36pt"},this._xmlSizes="";for(var i in this._availSizes)this._xmlSizes+='<item type="button" id="applyFontSize:'+i+":"+this._availSizes[i]+'" text="'+this._availSizes[i]+'"/>';this.tbXML='<toolbar><item id="applyH1" type="buttonTwoState" img="h1.gif" imgdis="h4_dis.gif" title="H1"/><item id="applyH2" type="buttonTwoState" img="h2.gif" imgdis="h4_dis.gif" title="H2"/><item id="applyH3" type="buttonTwoState" img="h3.gif" imgdis="h4_dis.gif" title="H3"/><item id="applyH4" type="buttonTwoState" img="h4.gif" imgdis="h4_dis.gif" title="H4"/><item id="separ01" type="separator"/><item id="applyBold" type="buttonTwoState" img="bold.gif" imgdis="bold_dis.gif" title="Bold Text"/><item id="applyItalic" type="buttonTwoState" img="italic.gif" imgdis="italic_dis.gif" title="Italic Text"/><item id="applyUnderscore" type="buttonTwoState" img="underline.gif" imgdis="underline_dis.gif" title="Underscore Text"/><item id="applyStrikethrough" type="buttonTwoState" img="strike.gif" imgdis="strike_dis.gif" title="Strikethrough Text"/><item id="separ02" type="separator"/><item id="alignLeft" type="buttonTwoState" img="align_left.gif" imgdis="align_left_dis.gif" title="Left Alignment"/><item id="alignCenter" type="buttonTwoState" img="align_center.gif" imgdis="align_center_dis.gif" title="Center Alignment"/><item id="alignRight" type="buttonTwoState" img="align_right.gif" imgdis="align_right_dis.gif" title="Right Alignment"/><item id="alignJustify" type="buttonTwoState" img="align_justify.gif" title="Justified Alignment"/><item id="separ03" type="separator"/><item id="applySub" type="buttonTwoState" img="script_sub.gif" imgdis="script_sub.gif" title="Subscript"/><item id="applySuper" type="buttonTwoState" img="script_super.gif" imgdis="script_super_dis.gif" title="Superscript"/><item id="separ04" type="separator"/><item id="createNumList" type="button" img="list_number.gif" imgdis="list_number_dis.gif" title="Number List"/><item id="createBulList" type="button" img="list_bullet.gif" imgdis="list_bullet_dis.gif" title="Bullet List"/><item id="separ05" type="separator"/><item id="increaseIndent" type="button" img="indent_inc.gif" imgdis="indent_inc_dis.gif" title="Increase Indent"/><item id="decreaseIndent" type="button" img="indent_dec.gif" imgdis="indent_dec_dis.gif" title="Decrease Indent"/><item id="separ06" type="separator"/><item id="clearFormatting" type="button" img="clear.gif" title="Clear Formatting"/></toolbar>',this.tb.loadXMLString(this.tbXML),this._checkAlign=function(t){this.tb.setItemState("alignCenter",!1),this.tb.setItemState("alignRight",!1),this.tb.setItemState("alignJustify",!1),this.tb.setItemState("alignLeft",!1),t&&this.tb.setItemState(t,!0)},this._checkH=function(t){this.tb.setItemState("applyH1",!1),this.tb.setItemState("applyH2",!1),this.tb.setItemState("applyH3",!1),this.tb.setItemState("applyH4",!1),t&&this.tb.setItemState(t,!0)},this._doOnFocusChanged=function(t){if(t.h1||t.h2||t.h3||t.h4)this.tb.setItemState("applyBold",!1);else{var e=-1!=String(t.fontWeight).search(/bold/i)||Number(t.fontWeight)>=700;this.tb.setItemState("applyBold",e)}var i="alignLeft";-1!=String(t.textAlign).search(/center/)&&(i="alignCenter"),-1!=String(t.textAlign).search(/right/)&&(i="alignRight"),-1!=String(t.textAlign).search(/justify/)&&(i="alignJustify"),this.tb.setItemState(i,!0),this._checkAlign(i),this.tb.setItemState("applyH1",t.h1),this.tb.setItemState("applyH2",t.h2),this.tb.setItemState("applyH3",t.h3),this.tb.setItemState("applyH4",t.h4),window._KHTMLrv&&(t.sub="sub"==t.vAlign,t.sup="super"==t.vAlign),this.tb.setItemState("applyItalic","italic"==t.fontStyle),this.tb.setItemState("applyStrikethrough",t.del),this.tb.setItemState("applySub",t.sub),this.tb.setItemState("applySuper",t.sup),this.tb.setItemState("applyUnderscore",t.u)},this._doOnToolbarClick=function(t){var e=String(t).split(":");null!=this[e[0]]&&"function"==typeof this[e[0]]&&(this[e[0]](e[1]),this.callEvent("onToolbarClick",[t]))},this._doOnStateChange=function(t){switch(this[t](),t){case"alignLeft":case"alignCenter":case"alignRight":case"alignJustify":this._checkAlign(t);break;case"applyH1":case"applyH2":case"applyH3":case"applyH4":this._checkH(t)}this.callEvent("onToolbarClick",[t])},this._doOnBeforeStateChange=function(t,e){return"alignLeft"!=t&&"alignCenter"!=t&&"alignRight"!=t&&"alignJustify"!=t||1!=e?!0:!1};var s=this;this.tb.attachEvent("onClick",function(t){s._doOnToolbarClick(t)}),this.tb.attachEvent("onStateChange",function(t,e){s._doOnStateChange(t,e)}),this.tb.attachEvent("onBeforeStateChange",function(t,e){return s._doOnBeforeStateChange(t,e)}),this.applyBold=function(){this.runCommand("Bold")},this.applyItalic=function(){this.runCommand("Italic")},this.applyUnderscore=function(){this.runCommand("Underline")},this.applyStrikethrough=function(){this.runCommand("StrikeThrough")},this.alignLeft=function(){this.runCommand("JustifyLeft")},this.alignRight=function(){this.runCommand("JustifyRight")},this.alignCenter=function(){this.runCommand("JustifyCenter")},this.alignJustify=function(){this.runCommand("JustifyFull")},this.applySub=function(){this.runCommand("Subscript")},this.applySuper=function(){this.runCommand("Superscript")},this.applyH1=function(){this.runCommand("FormatBlock","<H1>")},this.applyH2=function(){this.runCommand("FormatBlock","<H2>")},this.applyH3=function(){this.runCommand("FormatBlock","<H3>")},this.applyH4=function(){this.runCommand("FormatBlock","<H4>")},this.createNumList=function(){this.runCommand("InsertOrderedList")},this.createBulList=function(){this.runCommand("InsertUnorderedList")},this.increaseIndent=function(){this.runCommand("Indent")},this.decreaseIndent=function(){this.runCommand("Outdent")},this.clearFormatting=function(){this.runCommand("RemoveFormat"),this.tb.setItemState("applyBold",!1),this.tb.setItemState("applyItalic",!1),this.tb.setItemState("applyStrikethrough",!1),this.tb.setItemState("applySub",!1),this.tb.setItemState("applySuper",!1),this.tb.setItemState("applyUnderscore",!1)},this.getParentByTag=function(t,e){var e=e.toLowerCase(),i=t;do if(""==e||i.nodeName.toLowerCase()==e)return i;while(i=i.parentNode);return t},this.isStyleProperty=function(t,e,i,s){var e=e.toLowerCase(),n=t;do if(n.nodeName.toLowerCase()==e&&n.style[i]==s)return!0;while(n=n.parentNode);return!1},this.setStyleProperty=function(t,e){this.style[e]=!1;var i=this.getParentByTag(t,e);i&&i.tagName.toLowerCase()==e&&(this.style[e]=!0),"del"==e&&this.getParentByTag(t,"strike")&&"strike"==this.getParentByTag(t,"strike").tagName.toLowerCase()&&(this.style.del=!0)},this._unloadExtModule=function(){this.tb.unload(),this.setStyleProperty=this.isStyleProperty=this.getParentByTag=this.clearFormatting=this.decreaseIndent=this.increaseIndent=this.createBulList=this.createNumList=this.applyH4=this.applyH3=this.applyH2=this.applyH1=this.applySuper=this.applySub=this.alignJustify=this.alignCenter=this.alignRight=this.alignLeft=this.applyStrikethrough=this.applyUnderscore=this.applyItalic=this.applyBold=this._doOnBeforeStateChange=this._doOnStateChange=this._doOnToolbarClick=this._doOnFocusChanged=this._checkH=this._checkAlign=this.tbXML=this._xmlSizes=this._availSizes=this._xmlFonts=this._initFont=this._availFonts=this.tb=null}},dhtmlXForm.prototype.getInput=function(t){return this.doWithItem(t,"getInput")},dhtmlXForm.prototype.getSelect=function(t){return this.doWithItem(t,"getSelect")},dhtmlXForm.prototype.items={},dhtmlXForm.prototype.items.checkbox={render:function(t,e){t._type="ch",t._enabled=!0,t._checked=!1,t._value="undefined"==typeof e.value?null:String(e.value),t._ro=1==e.readonly,e._autoInputWidth!==!1&&(e.inputWidth=14),this.doAddLabel(t,e),this.doAddInput(t,e,"INPUT","TEXT",!0,!0,"dhxform_textarea"),t.childNodes[t._ll?1:0].className+=" dhxform_img_node";var i=document.createElement("DIV");return i.className="dhxform_img chbx0",t.appendChild(i),isNaN(e.inputLeft)||(t.childNodes[t._ll?1:0].style.left=parseInt(e.inputLeft)+"px"),isNaN(e.inputTop)||(t.childNodes[t._ll?1:0].style.top=parseInt(e.inputTop)+"px"),t.childNodes[t._ll?1:0].appendChild(i),t.childNodes[t._ll?1:0].firstChild.value=String(e.value),t._updateImgNode=function(t,e){var i=t.childNodes[t._ll?1:0].lastChild;i.className=e?i.className.replace(/dhxform_img/gi,"dhxform_actv_c"):i.className.replace(/dhxform_actv_c/gi,"dhxform_img"),t=i=null},t._doOnFocus=function(t){t.getForm().callEvent("onFocus",[t._idd])},t._doOnBlur=function(t){t.getForm().callEvent("onBlur",[t._idd])},t._doOnKeyUpDown=function(t,e){this.callEvent(t,[this.childNodes[this._ll?0:1].childNodes[0],e,this._idd])},1==e.checked&&this.check(t),1==e.hidden&&this.hide(t),1==e.disabled&&this.userDisable(t),this.doAttachEvents(t),this},destruct:function(t){t._doOnFocus=t._doOnBlur=t._updateImgNode=null,this.doUnloadNestedLists(t),this.doDestruct(t)},doAddLabel:function(t,e){var i=document.createElement("DIV");i.className="dhxform_label "+e.labelAlign,1==e.wrap&&(i.style.whiteSpace="normal"),t._ll?t.insertBefore(i,t.firstChild):t.appendChild(i),"undefined"!=typeof e.tooltip&&(i.title=e.tooltip),i.innerHTML="<div class='dhxform_label_nav_link' onfocus='if(this.parentNode.parentNode._updateImgNode)this.parentNode.parentNode._updateImgNode(this.parentNode.parentNode,true);this.parentNode.parentNode._doOnFocus(this.parentNode.parentNode);' onblur='if(this.parentNode.parentNode._updateImgNode)this.parentNode.parentNode._updateImgNode(this.parentNode.parentNode,false);this.parentNode.parentNode._doOnBlur(this.parentNode.parentNode);' onkeypress='var e=event||window.arguments[0];if(e.keyCode==32||e.charCode==32){e.cancelBubble=true;e.returnValue=false;_dhxForm_doClick(this,\"mousedown\");return false;}' onkeyup='var e=event||window.arguments[0];this.parentNode.parentNode._doOnKeyUpDown(\"onKeyUp\",e);' onkeydown='var e=event||window.arguments[0];this.parentNode.parentNode._doOnKeyUpDown(\"onKeyDown\",e);' "+(_dhxForm_isIPad?"ontouchstart='var e=event;e.preventDefault();_dhxForm_doClick(this,\"mousedown\");' ":"")+"role='link' tabindex='0'>"+e.label+(e.info?"<span class='dhxform_info'>[?]</span>":"")+(t._required?"<span class='dhxform_item_required'>*</span>":"")+"</div>",isNaN(e.labelWidth)||(i.firstChild.style.width=parseInt(e.labelWidth)+"px"),isNaN(e.labelHeight)||(i.firstChild.style.height=parseInt(e.labelHeight)+"px"),isNaN(e.labelLeft)||(i.style.left=parseInt(e.labelLeft)+"px"),isNaN(e.labelTop)||(i.style.top=parseInt(e.labelTop)+"px")},doAddInput:function(t,e,i,s,n,o,l){var h=document.createElement("DIV");h.className="dhxform_control",t._ll?t.appendChild(h):t.insertBefore(h,t.firstChild);var r=document.createElement(i);r.className=l,r.name=t._idd,r._idd=t._idd,r.id=e.uid,"string"==typeof s&&(r.type=s),("INPUT"==i||"TEXTAREA"==i)&&(r.onkeyup=function(e){e=e||event,t.callEvent("onKeyUp",[this,e,this._idd])},r.onkeydown=function(e){e=e||event,t.callEvent("onKeyDown",[this,e,this._idd])}),h.appendChild(r),e.readonly&&this.setReadonly(t,!0),1==e.hidden&&this.hide(t),1==e.disabled&&this.userDisable(t),n&&(isNaN(e.inputLeft)||(h.style.left=parseInt(e.inputLeft)+"px"),isNaN(e.inputTop)||(h.style.top=parseInt(e.inputTop)+"px"));var a="",d=!1;if(o&&(isNaN(e.inputWidth)||(a+="width:"+parseInt(e.inputWidth)+"px;",d=!0),isNaN(e.inputHeight)||(a+="height:"+parseInt(e.inputHeight)+"px;")),"string"==typeof e.style&&(a+=e.style),r.style.cssText=a,e.maxLength&&r.setAttribute("maxLength",e.maxLength),e.connector&&r.setAttribute("connector",e.connector),d){var c=parseInt(r.style.width),u=_isFF||_isChrome||_isIE?r.clientWidth:r.offsetWidth;
u>c&&(r.style.width=c+(c-u)+"px")}if("object"==typeof e.note){var _=document.createElement("DIV");_.className="dhxform_note",_.style.width=(isNaN(e.note.width)?r.offsetWidth:parseInt(e.note.width))+"px",_._w=e.note.width,_.innerHTML=e.note.text,h.appendChild(_),_=null}},doUnloadNestedLists:function(t){if(t._list){for(var e=0;e<t._list.length;e++)t._list[e].unload(),t._list[e]=null,t._listObj[e]=null,t._listBase[e].parentNode.removeChild(t._listBase[e]),t._listBase[e]=null;t._list=null,t._listObj=null,t._listBase=null}},doDestruct:function(t){for(t.callEvent=null,t.checkEvent=null,t.getForm=null,t._autoCheck=null,t._checked=null,t._enabled=null,t._idd=null,t._type=null,t._value=null,t._group=null,t.onselectstart=null,t.childNodes[t._ll?1:0].onmousedown=null,t.childNodes[t._ll?1:0].ontouchstart=null,t.childNodes[t._ll?0:1].onmousedown=null,t.childNodes[t._ll?0:1].ontouchstart=null,t.childNodes[t._ll?0:1].childNodes[0].onfocus=null,t.childNodes[t._ll?0:1].childNodes[0].onblur=null,t.childNodes[t._ll?0:1].childNodes[0].onkeypress=null,t.childNodes[t._ll?0:1].childNodes[0].onkeyup=null,t.childNodes[t._ll?0:1].childNodes[0].onkeydown=null,t.childNodes[t._ll?0:1].childNodes[0].onmousedown=null,t.childNodes[t._ll?0:1].childNodes[0].ontouchstart=null,t.childNodes[t._ll?0:1].removeChild(t.childNodes[t._ll?0:1].childNodes[0]);t.childNodes.length>0;)t.removeChild(t.childNodes[0]);t.parentNode.removeChild(t),t=null},doAttachEvents:function(t){var e=this;t.childNodes[t._ll?1:0][_dhxForm_isIPad?"ontouchstart":"onmousedown"]=function(t){t=t||event,t.preventDefault&&t.preventDefault();var i=t.target||t.srcElement;return!this.parentNode._enabled||this.parentNode._ro||"undefined"!=typeof i.className&&"dhxform_note"==i.className?(t.cancelBubble=!0,t.returnValue=!1):void e.doClick(this.parentNode)},t.childNodes[t._ll?0:1].childNodes[0][_dhxForm_isIPad?"ontouchstart":"onmousedown"]=function(t){if(t=t||event,t.preventDefault&&t.preventDefault(),!this.parentNode.parentNode._enabled)return t.cancelBubble=!0,t.returnValue=!1;var i=t.target||t.srcElement;return"undefined"!=typeof i.className&&"dhxform_info"==i.className?(this.parentNode.parentNode.callEvent("onInfo",[this.parentNode.parentNode._idd]),t.cancelBubble=!0,t.returnValue=!1):void e.doClick(this.parentNode.parentNode)}},doClick:function(t){t.childNodes[t._ll?0:1].childNodes[0].focus(),t._enabled&&!t._ro&&!(t.checkEvent("onBeforeChange")&&t.callEvent("onBeforeChange",[t._idd,t._value,t._checked])!==!0)&&(this.setChecked(t,!t._checked),t._autoCheck(),t.callEvent("onChange",[t._idd,t._value,t._checked]))},doCheckValue:function(t){t._checked&&t._enabled?t.childNodes[t._ll?1:0].firstChild.setAttribute("name",String(t._idd)):t.childNodes[t._ll?1:0].firstChild.removeAttribute("name")},setChecked:function(t,e){t._checked=e===!0?!0:!1,t.childNodes[t._ll?1:0].lastChild.className=t.childNodes[t._ll?1:0].lastChild.className.replace(/chbx[0-1]{1}/gi,"")+(t._checked?" chbx1":" chbx0"),this.doCheckValue(t)},check:function(t){this.setChecked(t,!0)},unCheck:function(t){this.setChecked(t,!1)},isChecked:function(t){return t._checked},enable:function(t){String(t.className).search("disabled")>=0&&(t.className=String(t.className).replace(/disabled/gi,"")),t._enabled=!0,t.childNodes[t._ll?0:1].childNodes[0].tabIndex=0,t.childNodes[t._ll?0:1].childNodes[0].removeAttribute("disabled"),this.doCheckValue(t)},disable:function(t){String(t.className).search("disabled")<0&&(t.className+=" disabled"),t._enabled=!1,t.childNodes[t._ll?0:1].childNodes[0].tabIndex=-1,t.childNodes[t._ll?0:1].childNodes[0].setAttribute("disabled","true"),this.doCheckValue(t)},isEnabled:function(t){return t._enabled},setText:function(t,e){t.childNodes[t._ll?0:1].childNodes[0].innerHTML=e},getText:function(t){return t.childNodes[t._ll?0:1].childNodes[0].innerHTML.replace(/<span class=\"dhxform_item_required\">[^<]*<\/span>/g,"")},setValue:function(t,e){this.setChecked(t,e===!0||1==parseInt(e)||"true"==e||t._value===e)},getValue:function(t,e){return"realvalue"==e?t._value:"undefined"==typeof t._value||null==t._value?t._checked?1:0:t._value},setReadonly:function(t,e){t._ro=e===!0},isReadonly:function(t){return t._ro},setFocus:function(t){t.childNodes[t._ll?0:1].childNodes[0].focus()}},dhtmlXForm.prototype.items.radio={input:{},r:{},firstValue:{},render:function(t,e,i){t._type="ra",t._enabled=!0,t._checked=!1,t._group=e.name,t._value=e.value,t._uid=i,t._ro=1==e.readonly,t._rName=t._rId+t._group,this.r[t._idd]=t,e.inputWidth=14,this.doAddLabel(t,e),this.doAddInput(t,e,"INPUT","TEXT",!0,!0,"dhxform_textarea"),t.childNodes[t._ll?1:0].className+=" dhxform_img_node";var s=document.createElement("DIV");if(s.className="dhxform_img rdbt0",t.appendChild(s),isNaN(e.inputLeft)||(t.childNodes[t._ll?1:0].style.left=parseInt(e.inputLeft)+"px"),isNaN(e.inputTop)||(t.childNodes[t._ll?1:0].style.top=parseInt(e.inputTop)+"px"),t.childNodes[t._ll?1:0].appendChild(s),t.childNodes[t._ll?1:0].firstChild.value=String(e.value),t._updateImgNode=function(t,e){var i=t.childNodes[t._ll?1:0].lastChild;i.className=e?i.className.replace(/dhxform_img/gi,"dhxform_actv_r"):i.className.replace(/dhxform_actv_r/gi,"dhxform_img"),t=i=null},t._doOnFocus=function(t){t.getForm().callEvent("onFocus",[t._group,t._value])},t._doOnBlur=function(t){t.getForm().callEvent("onBlur",[t._group,t._value])},t._doOnKeyUpDown=function(t,e){this.callEvent(t,[this.childNodes[this._ll?0:1].childNodes[0],e,this._group,this._value])},null==this.input[t._rName]){var n=document.createElement("INPUT");n.type="HIDDEN",n.name=e.name,n.firstValue=t._value,t.appendChild(n),this.input[t._rName]=n}return this.firstValue[t._rName]||(this.firstValue[t._rName]=e.value),1==e.checked&&this.check(t),1==e.hidden&&this.hide(t),1==e.disabled&&this.userDisable(t),this.doAttachEvents(t),this},destruct:function(t){if(t.lastChild==this.input[t._rName]){var e,i=!1;for(e in this.r)!i&&this.r[e]._group==t._group&&this.r[e]._idd!=t._idd&&(this.r[e].appendChild(this.input[t._rName]),i=!0);i||(this.input[t._rName].parentNode.removeChild(this.input[t._rName]),this.input[t._rName]=null,this.firstValue[t._rName]=null)}var s=t._idd;return t._doOnFocus=t._doOnBlur=t._updateImgNode=null,this.doUnloadNestedLists(t),this.doDestruct(t),s},doClick:function(t){if(t.childNodes[t._ll?0:1].childNodes[0].focus(),t._enabled&&!t._checked&&!t._ro){var e=[t._group,t._value,!0];t.checkEvent("onBeforeChange")&&t.callEvent("onBeforeChange",e)!==!0||(this.setChecked(t,!0),t.getForm()._autoCheck(),t.callEvent("onChange",e))}},doCheckValue:function(t){var e,i=null;for(e in this.r)this.r[e]._checked&&this.r[e]._enabled&&this.r[e]._group==t._group&&this.r[e]._rId==t._rId&&(i=this.r[e]._value);null!=i?(this.input[t._rName].setAttribute("name",String(t._group)),this.input[t._rName].setAttribute("value",i),this.input[t._rName]._value=i):(this.input[t._rName].removeAttribute("name"),this.input[t._rName].removeAttribute("value"),this.input[t._rName]._value=null)},setChecked:function(t,e){var i,e=e===!0;for(i in this.r)if(this.r[i]._group==t._group&&this.r[i]._rId==t._rId){var s=!1;if(this.r[i]._idd==t._idd?this.r[i]._checked!=e&&(this.r[i]._checked=e,s=!0):this.r[i]._checked&&(this.r[i]._checked=!1,s=!0),s){var n=this.r[i].childNodes[this.r[i]._ll?1:0].childNodes[1];n.className=n.className.replace(/rdbt[0-1]{1}/gi,"")+(this.r[i]._checked?" rdbt1":" rdbt0"),n=null}}this.doCheckValue(t)},getChecked:function(t){return this.input[t._rName]._value},_getFirstValue:function(t){return this.firstValue[t._rName]},_getId:function(t){return t._idd},setValue:function(){}},function(){for(var t in{doAddLabel:1,doAddInput:1,doDestruct:1,doUnloadNestedLists:1,doAttachEvents:1,check:1,unCheck:1,isChecked:1,enable:1,disable:1,isEnabled:1,setText:1,getText:1,getValue:1,setReadonly:1,isReadonly:1,setFocus:1})dhtmlXForm.prototype.items.radio[t]=dhtmlXForm.prototype.items.checkbox[t]}(),dhtmlXForm.prototype.items.select={render:function(t,e){return t._type="se",t._enabled=!0,t._value=null,t._newValue=null,(_isFF||_isIE)&&"number"==typeof e.inputWidth&&(e.inputWidth+=t._inpWidthFix||2),this.doAddLabel(t,e),this.doAddInput(t,e,"SELECT",null,!0,!0,"dhxform_select"),this.doAttachEvents(t),this.doLoadOpts(t,e),e.connector?this.doLoadOptsConnector(t,e.connector):"undefined"!=e.value&&this.setValue(t,e.value),this},destruct:function(t){for(this.doUnloadNestedLists(t),t.callEvent=null,t.checkEvent=null,t.getForm=null,t._autoCheck=null,t._enabled=null,t._idd=null,t._type=null,t._value=null,t._newValue=null,t.onselectstart=null,t.childNodes[t._ll?1:0].childNodes[0].onclick=null,t.childNodes[t._ll?1:0].childNodes[0].onkeydown=null,t.childNodes[t._ll?1:0].childNodes[0].onchange=null,t.childNodes[t._ll?1:0].childNodes[0].onfocus=null,t.childNodes[t._ll?1:0].childNodes[0].onblur=null,t.childNodes[t._ll?1:0].childNodes[0].onkeyup=null,t.childNodes[t._ll?1:0].removeChild(t.childNodes[t._ll?1:0].childNodes[0]);t.childNodes.length>0;)t.removeChild(t.childNodes[0]);t.parentNode.removeChild(t),t=null},doAddLabel:function(t,e){var i=document.createElement("DIV");i.className="dhxform_label "+e.labelAlign,i.innerHTML="<label for='"+e.uid+"'>"+e.label+(e.info?"<span class='dhxform_info'>[?]</span>":"")+(t._required?"<span class='dhxform_item_required'>*</span>":"")+"</label>",1==e.wrap&&(i.style.whiteSpace="normal"),"undefined"!=typeof e.tooltip&&(i.title=e.tooltip),t.appendChild(i),("undefined"==typeof e.label||null==e.label||0==e.label.length)&&(i.style.display="none"),isNaN(e.labelWidth)||(i.style.width=parseInt(e.labelWidth)+"px"),isNaN(e.labelHeight)||(i.style.height=parseInt(e.labelHeight)+"px"),isNaN(e.labelLeft)||(i.style.left=parseInt(e.labelLeft)+"px"),isNaN(e.labelTop)||(i.style.top=parseInt(e.labelTop)+"px"),e.info&&(i.onclick=function(t){var t=t||event,e=t.target||t.srcElement;return"undefined"!=typeof e.className&&"dhxform_info"==e.className?(this.parentNode.callEvent("onInfo",[this.parentNode._idd]),t.cancelBubble=!0,t.returnValue=!1):void 0})},doAttachEvents:function(t){var e=t.childNodes[t._ll?1:0].childNodes[0],i=this;e.onclick=function(){i.doOnChange(this),i.doValidate(this.parentNode.parentNode)},e.onkeydown=function(t){t=t||event,i.doOnChange(this),i.doValidate(this.parentNode.parentNode),this.parentNode.parentNode.callEvent("onKeyDown",[this,t,this.parentNode.parentNode._idd])},e.onchange=function(){i.doOnChange(this),i.doValidate(this.parentNode.parentNode)},e.onkeyup=function(t){t=t||event,this.parentNode.parentNode.callEvent("onKeyUp",[this,t,this.parentNode.parentNode._idd])},e=null,this.doAttachChangeLS(t)},doAttachChangeLS:function(t){var e=t.childNodes[t._ll?1:0].childNodes[0];e.onfocus=function(){var t=this.parentNode.parentNode;t.getForm()._ccActivate(t._idd,this,t.getForm().getItemValue(t._idd,!0)),t.getForm().callEvent("onFocus",[t._idd]),t=null},e.onblur=function(){var t=this.parentNode.parentNode;t.getForm()._ccDeactivate(t._idd),t.getForm().callEvent("onBlur",[t._idd]),t=null},e=null},doValidate:function(t){t.getForm().live_validate&&this._validate(t)},doLoadOpts:function(t,e,i){for(var s=t.childNodes[t._ll?1:0].childNodes[0],n=e.options,o=!1,l=0;l<n.length;l++){var h=n[l].text||n[l].label;h&&"undefined"!=typeof h||(h="");var r=new Option(h,n[l].value);"string"==typeof n[l].img_src&&r.setAttribute("img_src",n[l].img_src),s.options.add(r),(1==n[l].selected||"true"==n[l].selected)&&(r.selected=!0,t._value=n[l].value,o=!0)}!o&&s.selectedIndex>=0&&(t._value=s.options[s.selectedIndex].value),i===!0&&t.callEvent("onOptionsLoaded",[t._idd]),this._checkNoteWidth(t)},doLoadOptsConnector:function(t,e){var i=this;t._connector_working=!0,dhtmlxAjax.get(e,function(e){for(var s=e.doXPath("//item"),n=[],o=0;o<s.length;o++)n[o]={label:s[o].getAttribute("label"),value:s[o].getAttribute("value"),selected:null!=s[o].getAttribute("selected")};i.doLoadOpts(t,{options:n},!0),t._connector_working=!1,null!=t._connector_value&&(i.setValue(t,t._connector_value),t._connector_value=null),thet=t=null})},doOnChange:function(t){var e=t.parentNode.parentNode;if(e._newValue=t.selectedIndex>=0?t.options[t.selectedIndex].value:null,e._newValue!=e._value){if(e.checkEvent("onBeforeChange")&&e.callEvent("onBeforeChange",[e._idd,e._value,e._newValue])!==!0){for(var i=0;i<t.options.length;i++)t.options[i].value==e._value&&(t.options[i].selected=!0);return}e._value=e._newValue,e.callEvent("onChange",[e._idd,e._value])}e._autoCheck()},setText:function(t,e){e||(e=""),t.childNodes[t._ll?0:1].childNodes[0].innerHTML=e,t.childNodes[t._ll?0:1].style.display=0==e.length||null==e?"none":""},getText:function(t){return t.childNodes[t._ll?0:1].childNodes[0].innerHTML.replace(/<span class=\"dhxform_item_required\">[^<]*<\/span>/g,"")},enable:function(t){String(t.className).search("disabled")>=0&&(t.className=String(t.className).replace(/disabled/gi,"")),t._enabled=!0,t.childNodes[t._ll?1:0].childNodes[0].removeAttribute("disabled")},disable:function(t){String(t.className).search("disabled")<0&&(t.className+=" disabled"),t._enabled=!1,t.childNodes[t._ll?1:0].childNodes[0].setAttribute("disabled",!0)},getOptions:function(t){return t.childNodes[t._ll?1:0].childNodes[0].options},setValue:function(t,e){if(t._connector_working)t._connector_value=e;else{for(var i=this.getOptions(t),s=0;s<i.length;s++)i[s].value==e&&(i[s].selected=!0,t._value=i[s].value);null!=t._list&&t._list.length>0&&t.getForm()._autoCheck(),t.getForm()._ccReload(t._idd,t._value)}},getValue:function(t){for(var e=-1,i=this.getOptions(t),s=0;s<i.length;s++)i[s].selected&&(e=i[s].value);return e},setWidth:function(t,e){t.childNodes[t._ll?1:0].childNodes[0].style.width=e+"px"},getSelect:function(t){return t.childNodes[t._ll?1:0].childNodes[0]},setFocus:function(t){t.childNodes[t._ll?1:0].childNodes[0].focus()},_checkNoteWidth:function(t){var e;null!=t.childNodes[t._ll?1:0].childNodes[1]&&(e=t.childNodes[t._ll?1:0].childNodes[1],null!=e.className&&e.className.search(/dhxform_note/gi)>=0&&"auto"==e._w&&(e.style.width=t.childNodes[t._ll?1:0].childNodes[0].offsetWidth+"px")),e=null}},function(){for(var t in{doAddInput:1,doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.select[t]=dhtmlXForm.prototype.items.checkbox[t]}(),dhtmlXForm.prototype.items.multiselect={doLoadOpts:function(t,e,i){var s=t.childNodes[t._ll?1:0].childNodes[0];s.multiple=!0,isNaN(e.size)||(s.size=Number(e.size)),t._value=[],t._newValue=[];for(var n=e.options,o=0;o<n.length;o++){var l=new Option(n[o].text||n[o].label,n[o].value);s.options.add(l),(1==n[o].selected||"true"==n[o].selected)&&(l.selected=!0,t._value.push(n[o].value))}i===!0&&t.callEvent("onOptionsLoaded",[t._idd]),this._checkNoteWidth(t)},doAttachEvents:function(t){var e=t.childNodes[t._ll?1:0].childNodes[0],i=this;e.onfocus=function(){i.doOnChange(this);var t=this.parentNode.parentNode;t.getForm().callEvent("onFocus",[t._idd]),t=null},e.onblur=function(){i.doOnChange(this);var t=this.parentNode.parentNode;t.getForm().callEvent("onBlur",[t._idd]),t=null},e.onclick=function(){i.doOnChange(this);var t=this.parentNode.parentNode;t._autoCheck(),t=null}},doOnChange:function(t){var e=t.parentNode.parentNode;e._newValue=[];for(var i=0;i<t.options.length;i++)t.options[i].selected&&e._newValue.push(t.options[i].value);if(e._value.sort().toString()!=e._newValue.sort().toString()){if(e.checkEvent("onBeforeChange")&&e.callEvent("onBeforeChange",[e._idd,e._value,e._newValue])!==!0){for(var s={},i=0;i<e._value.length;i++)s[e._value[i]]=!0;for(i=0;i<t.options.length;i++)t.options[i].selected=1==s[t.options[i].value];return void(s=null)}for(e._value=[],i=0;i<e._newValue.length;i++)e._value.push(e._newValue[i]);e.callEvent("onChange",[e._idd,e._value])}e._autoCheck()},setValue:function(t,e){var i={};"string"==typeof e&&(e=e.split(",")),"object"!=typeof e&&(e=[e]);for(var s=0;s<e.length;s++)i[e[s]]=!0;for(var n=this.getOptions(t),s=0;s<n.length;s++)n[s].selected=1==i[n[s].value];t._autoCheck()},getValue:function(t){for(var e=[],i=this.getOptions(t),s=0;s<i.length;s++)i[s].selected&&e.push(i[s].value);return e}},function(){for(var t in dhtmlXForm.prototype.items.select)dhtmlXForm.prototype.items.multiselect[t]||(dhtmlXForm.prototype.items.multiselect[t]=dhtmlXForm.prototype.items.select[t])}(),dhtmlXForm.prototype.items.input={render:function(t,e){var i=!isNaN(e.rows);if(t._type="ta",t._enabled=!0,this.doAddLabel(t,e),this.doAddInput(t,e,i?"TEXTAREA":"INPUT",i?null:"TEXT",!0,!0,"dhxform_textarea"),this.doAttachEvents(t),i&&(t.childNodes[t._ll?1:0].childNodes[0].rows=e.rows),"undefined"!=typeof e.numberFormat){var s,n=null,o=null;"string"!=typeof e.numberFormat?(s=e.numberFormat[0],n=e.numberFormat[1]||null,o=e.numberFormat[2]||null):(s=e.numberFormat,"string"==typeof e.groupSep&&(n=e.groupSep),"string"==typeof e.decSep&&(o=e.decSep)),this.setNumberFormat(t,s,n,o,!1)}return this.setValue(t,e.value),this},doAttachEvents:function(t){var e=this;("ta"==t._type||"se"==t._type||"pw"==t._type)&&(t.childNodes[t._ll?1:0].childNodes[0].onfocus=function(){var t=this.parentNode.parentNode;null!=t._df&&(this.value=t._value||""),t.getForm()._ccActivate(t._idd,this,this.value),t.getForm().callEvent("onFocus",[t._idd]),t=null}),t.childNodes[t._ll?1:0].childNodes[0].onblur=function(){var t=this.parentNode.parentNode;t.getForm()._ccDeactivate(t._idd),e.updateValue(t,!0),t.getForm().live_validate&&e._validate(t),t.getForm().callEvent("onBlur",[t._idd]),t=null}},updateValue:function(t,e){var i=t.childNodes[t._ll?1:0].childNodes[0].value;if(e||null==t._df||i!=this._getFmtValue(t,i)){var s=this;t._value!=i?t.checkEvent("onBeforeChange")&&t.callEvent("onBeforeChange",[t._idd,t._value,i])!==!0?null!=t._df?s.setValue(t,t._value):t.childNodes[t._ll?1:0].childNodes[0].value=t._value:(null!=t._df?s.setValue(t,i):t._value=i,t.callEvent("onChange",[t._idd,i])):null!=t._df&&this.setValue(t,t._value)}},setValue:function(t,e){t._value="undefined"!=typeof e&&null!=e?e:"";var i=String(t._value)||"",s=t.childNodes[t._ll?1:0].childNodes[0];null!=t._df&&"function"==typeof this._getFmtValue&&(i=this._getFmtValue(t,i)),s.value!=i&&(s.value=i,t.getForm()._ccReload(t._idd,i)),s=null},getValue:function(t){var e=t.getForm();return e._formLS&&null!=e._formLS[t._idd]&&this.updateValue(t),e=null,"undefined"!=typeof t._value&&null!=t._value?t._value:""},setReadonly:function(t,e){t._ro=e===!0,t._ro?t.childNodes[t._ll?1:0].childNodes[0].setAttribute("readOnly","true"):t.childNodes[t._ll?1:0].childNodes[0].removeAttribute("readOnly")},isReadonly:function(t){return t._ro||(t._ro=!1),t._ro},getInput:function(t){return t.childNodes[t._ll?1:0].childNodes[0]},setNumberFormat:function(t,e,i,s,n){if("boolean"!=typeof n&&(n=!0),""==e)return t._df=null,n&&this.setValue(t,t._value),!0;if("string"==typeof e){var o=e.match(/^([^\.\,0-9]*)([0\.\,]*)([^\.\,0-9]*)/);if(null==o||4!=o.length)return!1;t._df={i_len:!1,i_sep:"string"==typeof i?i:",",d_len:!1,d_sep:"string"==typeof s?s:".",s_bef:"string"==typeof o[1]?o[1]:"",s_aft:"string"==typeof o[3]?o[3]:""};var l=o[2].split(".");null!=l[1]&&(t._df.d_len=l[1].length);var h=l[0].split(",");return h.length>1&&(t._df.i_len=h[h.length-1].length),n&&this.setValue(t,t._value),!0}},_getFmtValue:function(a,b){var c=b.match(/^(-)?([0-9]{1,})(\.([0-9]{1,}))?$/);if(null!=c&&5==c.length){var d="";if(null!=c[1]&&(d+=c[1]),d+=a._df.s_bef,a._df.i_len!==!1){for(var e=0,f="",g=c[2].length-1;g>=0;g--)f=""+c[2].charAt(g)+f,++e==a._df.i_len&&g>0&&(f=a._df.i_sep+f,e=0);d+=f}else d+=c[2];if(a._df.d_len!==!1){for(null==c[4]&&(c[4]="");c[4].length<a._df.d_len;)c[4]+="0";eval("var t0 = new RegExp(/\\d{"+a._df.d_len+"}/);");var h=c[4].match(t0);null!=h&&(d+=a._df.d_sep+h),t0=h=null}return d+=a._df.s_aft}return b}},function(){for(var t in{doAddLabel:1,doAddInput:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,isEnabled:1,setWidth:1,setFocus:1})dhtmlXForm.prototype.items.input[t]=dhtmlXForm.prototype.items.select[t]}(),dhtmlXForm.prototype.items.password={render:function(t,e){return t._type="pw",t._enabled=!0,this.doAddLabel(t,e),this.doAddInput(t,e,"INPUT","PASSWORD",!0,!0,"dhxform_textarea"),this.doAttachEvents(t),this.setValue(t,e.value),this}},function(){for(var t in{doAddLabel:1,doAddInput:1,doAttachEvents:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,setValue:1,getValue:1,updateValue:1,enable:1,disable:1,isEnabled:1,setWidth:1,setReadonly:1,isReadonly:1,setFocus:1,getInput:1})dhtmlXForm.prototype.items.password[t]=dhtmlXForm.prototype.items.input[t]}(),dhtmlXForm.prototype.items.file={render:function(t,e){return t._type="fl",t._enabled=!0,this.doAddLabel(t,e),this.doAddInput(t,e,"INPUT","FILE",!0,!1,"dhxform_textarea"),t.childNodes[t._ll?1:0].childNodes[0].onchange=function(){t.callEvent("onChange",[t._idd,this.value])},this},setValue:function(){},getValue:function(t){return t.childNodes[t._ll?1:0].childNodes[0].value}},function(){for(var t in{doAddLabel:1,doAddInput:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,isEnabled:1,setWidth:1})dhtmlXForm.prototype.items.file[t]=dhtmlXForm.prototype.items.input[t]}(),dhtmlXForm.prototype.items.label={_index:!1,render:function(t,e){t._type="lb",t._enabled=!0,t._checked=!0;var i=document.createElement("DIV");return i.className="dhxform_txt_label2"+(e._isTopmost?" topmost":""),i.innerHTML=e.label,t.appendChild(i),1==e.hidden&&this.hide(t),1==e.disabled&&this.userDisable(t),isNaN(e.labelWidth)||(i.style.width=parseInt(e.labelWidth)+"px"),isNaN(e.labelHeight)||(i.style.height=parseInt(e.labelHeight)+"px"),isNaN(e.labelLeft)||(i.style.left=parseInt(e.labelLeft)+"px"),isNaN(e.labelTop)||(i.style.top=parseInt(e.labelTop)+"px"),this},destruct:function(t){this.doUnloadNestedLists(t),t._autoCheck=null,t._enabled=null,t._type=null,t.callEvent=null,t.checkEvent=null,t.getForm=null,t.onselectstart=null,t.parentNode.removeChild(t),t=null},enable:function(t){String(t.className).search("disabled")>=0&&(t.className=String(t.className).replace(/disabled/gi,"")),t._enabled=!0},disable:function(t){String(t.className).search("disabled")<0&&(t.className+=" disabled"),t._enabled=!1},setText:function(t,e){t.firstChild.innerHTML=e},getText:function(t){return t.firstChild.innerHTML}},function(){for(var t in{doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.label[t]=dhtmlXForm.prototype.items.checkbox[t]}(),dhtmlXForm.prototype.items.button={render:function(t,e){if(t._type="bt",t._enabled=!0,t._name=e.name,t.className=String(t.className).replace("item_label_top","item_label_left").replace("item_label_right","item_label_left"),!isNaN(e.width))var i=Math.max(e.width,10);var s="undefined"!=typeof i;return t._doOnKeyUpDown=function(t,e){this.callEvent(t,[this.childNodes[this._ll?0:1].childNodes[0],e,this._idd])},t.innerHTML='<div class="dhxform_btn" role="link" tabindex="0" dir="ltr" '+(s?' style="width:'+i+'px;"':"")+'onkeypress="var e=event||window.arguments[0];if((e.keyCode==32||e.charCode==32||e.keyCode==13||e.charCode==13)&&!this.parentNode._busy){this.parentNode._busy=true;e.cancelBubble=true;e.returnValue=false;_dhxForm_doClick(this.childNodes[0],[\'mousedown\',\'mouseup\']);return false;}" ontouchstart="var e=event;e.preventDefault();if(!this.parentNode._busy){this.parentNode._busy=true;_dhxForm_doClick(this.childNodes[0],[\'mousedown\',\'mouseup\']);}" onfocus="this.parentNode._doOnFocus(this.parentNode);" onblur="_dhxForm_doClick(this.childNodes[0],\'mouseout\');this.parentNode._doOnBlur(this.parentNode);" onkeyup=\'var e=event||window.arguments[0];this.parentNode._doOnKeyUpDown("onKeyUp",e);\' onkeydown=\'var e=event||window.arguments[0];this.parentNode._doOnKeyUpDown("onKeyDown",e);\' ><table cellspacing="0" cellpadding="0" border="0" align="left" style="font-size:inherit; '+(s?"width:"+i+"px;table-layout:fixed;":"")+'"><tr><td class="btn_l"><div class="btn_l">&nbsp;</div></td><td class="btn_m" '+(s?'style="width:'+(i-10)+'px;"':"")+'><div class="btn_txt'+(s?" btn_txt_fixed_size":"")+'">'+e.value+'</div></td><td class="btn_r"><div class="btn_r">&nbsp;</div></td></tr></table></div>',isNaN(e.inputLeft)||(t.childNodes[0].style.left=parseInt(e.inputLeft)+"px"),isNaN(e.inputTop)||(t.childNodes[0].style.top=parseInt(e.inputTop)+"px"),1==e.hidden&&this.hide(t),1==e.disabled&&this.userDisable(t),"undefined"!=typeof e.tooltip&&(t.firstChild.title=e.tooltip),t.onselectstart=function(t){return t=t||event,t.cancelBubble=!0,t.returnValue=!1},t.childNodes[0].onselectstart=function(t){return t=t||event,t.cancelBubble=!0,t.returnValue=!1},t.childNodes[0].childNodes[0].onmouseover=function(){var t=this.parentNode.parentNode;t._enabled&&(this._isOver=!0,this.className="dhxform_btn_over",t=null)},t.childNodes[0].childNodes[0].onmouseout=function(){var t=this.parentNode.parentNode;t._enabled&&(this.className="",this._isOver=this._pressed=this._allowClick=!1,t=null)},t.childNodes[0].childNodes[0].onmousedown=function(){if(!this._pressed){var t=this.parentNode.parentNode;t._enabled&&(this.className="dhxform_btn_pressed",this._pressed=this._allowClick=!0,t=null)}},t.childNodes[0].childNodes[0].onmouseup=function(){if(this._pressed){var t=this.parentNode.parentNode;t._enabled&&(t._busy=!1,this.className=this._isOver?"dhxform_btn_over":"",this._pressed&&this._allowClick&&t.callEvent("_onButtonClick",[t._name,t._cmd]),this._pressed=this._allowClick=!1,t=null)}},t._doOnFocus=function(t){t.getForm().callEvent("onFocus",[t._idd])},t._doOnBlur=function(t){t.getForm().callEvent("onBlur",[t._idd])},this},destruct:function(t){for(this.doUnloadNestedLists(t),t.callEvent=null,t.checkEvent=null,t.getForm=null,t._autoCheck=null,t._type=null,t._enabled=null,t._cmd=null,t._name=null,t.onselectstart=null,t.childNodes[0].onselectstart=null,t.childNodes[0].onkeypress=null,t.childNodes[0].ontouchstart=null,t.childNodes[0].onblur=null,t.childNodes[0].childNodes[0].onmouseover=null,t.childNodes[0].childNodes[0].onmouseout=null,t.childNodes[0].childNodes[0].onmousedown=null,t.childNodes[0].childNodes[0].onmouseup=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);t.parentNode.removeChild(t),t=null},enable:function(t){String(t.className).search("disabled")>=0&&(t.className=String(t.className).replace(/disabled/gi,"")),t._enabled=!0,t.childNodes[0].removeAttribute("disabled"),t.childNodes[0].setAttribute("role","link"),t.childNodes[0].setAttribute("tabIndex","0")},disable:function(t){String(t.className).search("disabled")<0&&(t.className+=" disabled"),t._enabled=!1,t.childNodes[0].setAttribute("disabled","true"),t.childNodes[0].removeAttribute("role"),t.childNodes[0].removeAttribute("tabIndex")},setText:function(t,e){t.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1].childNodes[0].innerHTML=e},getText:function(t){return t.childNodes[0].childNodes[0].childNodes[0].childNodes[0].childNodes[1].childNodes[0].innerHTML},setFocus:function(t){t.childNodes[0].focus()}},function(){for(var t in{doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.button[t]=dhtmlXForm.prototype.items.checkbox[t]}(),dhtmlXForm.prototype.items.hidden={_index:!1,render:function(t,e){t.style.display="none",t._name=e.name,t._type="hd",t._enabled=!0;var i=document.createElement("INPUT");return i.type="HIDDEN",i.name=e.name,i.value=e.value||"",t.appendChild(i),this},destruct:function(t){for(this.doUnloadNestedLists(t);t.childNodes.length>0;)t.removeChild(t.childNodes[0]);t._autoCheck=null,t._name=null,t._type=null,t._enabled=null,t.onselectstart=null,t.callEvent=null,t.checkEvent=null,t.getForm=null,t.parentNode.removeChild(t),t=null},enable:function(t){t._enabled=!0,t.childNodes[0].setAttribute("name",t._name)},disable:function(t){t._enabled=!1,t.childNodes[0].removeAttribute("name")},show:function(){},hide:function(){},isHidden:function(){return!0},setValue:function(t,e){t.childNodes[0].value=e},getValue:function(t){return t.childNodes[0].value},getInput:function(t){return t.childNodes[0]}},function(){for(var t in{doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.hidden[t]=dhtmlXForm.prototype.items.checkbox[t]}(),dhtmlXForm.prototype.items.list={_index:!1,render:function(t){return t._type="list",t._enabled=!0,t._isNestedForm=!0,t.style.paddingLeft=t._ofsNested+"px",t.className="dhxform_base_nested"+(t._custom_css||""),[this,new dhtmlXForm(t)]},destruct:function(){}},dhtmlXForm.prototype.items.fieldset={_index:!1,render:function(t,e){t._type="fs",parseInt(e.inputWidth),t._width=e.width,t._enabled=!0,t._checked=!0,t.className="fs_"+e.position+("string"==typeof e.className?" "+e.className:"");var i=document.createElement("FIELDSET");i.className="dhxform_fs";var s=String(e.labelAlign).replace("align_","");if(i.innerHTML="<legend class='fs_legend' align='"+s+"' style='text-align:"+s+"'>"+e.label+"</legend>",t.appendChild(i),isNaN(e.inputLeft)||(i.style.left=parseInt(e.inputLeft)+"px"),isNaN(e.inputTop)||(i.style.top=parseInt(e.inputTop)+"px"),"auto"!=e.inputWidth&&!isNaN(e.inputWidth)){i.style.width=parseInt(e.inputWidth)+"px";var n=parseInt(i.style.width);i.offsetWidth>n&&(i.style.width=n+(n-i.offsetWidth)+"px")}return t._addSubListNode=function(){var t=document.createElement("DIV");return t._custom_css=" dhxform_fs_nested",this.childNodes[0].appendChild(t),t},1==e.hidden&&this.hide(t),1==e.disabled&&this.userDisable(t),this},destruct:function(t){for(this.doUnloadNestedLists(t),t._checked=null,t._enabled=null,t._idd=null,t._type=null,t._width=null,t.onselectstart=null,t._addSubListNode=null,t._autoCheck=null,t.callEvent=null,t.checkEvent=null,t.getForm=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);t.parentNode.removeChild(t),t=null},setText:function(t,e){t.childNodes[0].childNodes[0].innerHTML=e},getText:function(t){return t.childNodes[0].childNodes[0].innerHTML},enable:function(t){t._enabled=!0,String(t.className).search("disabled")>=0&&(t.className=String(t.className).replace(/disabled/gi,""))},disable:function(t){t._enabled=!1,String(t.className).search("disabled")<0&&(t.className+=" disabled")},setWidth:function(t,e){t.childNodes[0].style.width=e+"px",t._width=e},getWidth:function(t){return t._width}},function(){for(var t in{doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.fieldset[t]=dhtmlXForm.prototype.items.checkbox[t]}(),dhtmlXForm.prototype.items.block={_index:!1,render:function(t,e){t._type="bl",t._width=e.width,t._enabled=!0,t._checked=!0,t.className="block_"+e.position+("string"==typeof e.className?" "+e.className:"");var i=document.createElement("DIV");return i.className="dhxform_obj_"+t.getForm().skin+" dhxform_block",i.style.fontSize=t.getForm().cont.style.fontSize,e.style&&(i.style.cssText=e.style),"undefined"!=typeof e.id&&(i.id=e.id),t.appendChild(i),isNaN(e.inputLeft)||(i.style.left=parseInt(e.inputLeft)+"px"),isNaN(e.inputTop)||(i.style.top=parseInt(e.inputTop)+"px"),"auto"==e.inputWidth||isNaN(e.inputWidth)||(i.style.width=parseInt(e.inputWidth)+"px"),isNaN(e.blockOffset)||(t._ofsNested=e.blockOffset),t._addSubListNode=function(){var t=document.createElement("DIV");return t._inBlcok=!0,"undefined"!=typeof this._ofsNested&&(t._ofsNested=this._ofsNested),this.childNodes[0].appendChild(t),t},1==e.hidden&&this.hide(t),1==e.disabled&&this.userDisable(t),this},_setCss:function(t,e,i){t.firstChild.className="dhxform_obj_"+e+" dhxform_block",t.firstChild.style.fontSize=i}},function(){for(var t in{enable:1,disable:1,isEnabled:1,setWidth:1,getWidth:1,doUnloadNestedLists:1,destruct:1})dhtmlXForm.prototype.items.block[t]=dhtmlXForm.prototype.items.fieldset[t]}(),dhtmlXForm.prototype.items.newcolumn={_index:!1},dhtmlXForm.prototype.items.template={render:function(t,e){!isNaN(e.rows);return t._type="tp",t._enabled=!0,e.format&&("function"==typeof e.format&&(t.format=e.format),"function"==typeof window[e.format]&&(t.format=window[e.format])),t.format||(t.format=function(t,e){return e}),this.doAddLabel(t,e),this.doAddInput(t,e,"DIV",null,!0,!0,"dhxform_item_template"),t._value=e.value||"",t.childNodes[1].childNodes[0].innerHTML=t.format(t._idd,t._value),this},setValue:function(t,e){t._value=e,t.childNodes[1].childNodes[0].innerHTML=t.format(t._idd,t._value)
},getValue:function(t){return t._value},enable:function(t){String(t.className).search("disabled")>=0&&(t.className=String(t.className).replace(/disabled/gi,"")),t._enabled=!0},disable:function(t){String(t.className).search("disabled")<0&&(t.className+=" disabled"),t._enabled=!1}},function(){for(var t in{doAddLabel:1,doAddInput:1,destruct:1,doUnloadNestedLists:1,setText:1,getText:1,isEnabled:1,setWidth:1})dhtmlXForm.prototype.items.template[t]=dhtmlXForm.prototype.items.select[t]}(),dhtmlXForm.prototype._ulToObject=function(t,e){for(var i=[],s=0;s<t.childNodes.length;s++){if("li"==String(t.childNodes[s].tagName||"").toLowerCase()){for(var n={},o=t.childNodes[s],l=0;l<e.length;l++)null!=o.getAttribute(e[l])&&(n[String(e[l]).replace("ftype","type")]=o.getAttribute(e[l]));if(!n.label)try{n.label=o.firstChild.nodeValue}catch(h){}var r=o.getElementsByTagName("UL");for(null!=r[0]&&(n["select"==n.type?"options":"list"]=dhtmlXForm.prototype._ulToObject(r[0],e)),l=0;l<o.childNodes.length;l++)"userdata"==String(o.childNodes[l].tagName||"").toLowerCase()&&(n.userdata||(n.userdata={}),n.userdata[o.childNodes[l].getAttribute("name")]=o.childNodes[l].firstChild.nodeValue);i[i.length]=n}if("div"==String(t.childNodes[s].tagName||"").toLowerCase()){n={type:"label"};try{n.label=t.childNodes[s].firstChild.nodeValue}catch(a){}i[i.length]=n}}return i},dhtmlxEvent(window,"load",function(){for(var t="ftype,name,value,label,check,checked,disabled,text,rows,select,selected,width,style,className,labelWidth,labelHeight,labelLeft,labelTop,inputWidth,inputHeight,inputLeft,inputTop,position,size".split(","),e=document.getElementsByTagName("UL"),i=[],s=0;s<e.length;s++)if("dhtmlxForm"==e[s].className){var n=document.createElement("DIV");i[i.length]={nodeUL:e[s],nodeForm:n,data:dhtmlXForm.prototype._ulToObject(e[s],t),name:e[s].getAttribute("name")||null}}for(s=0;s<i.length;s++){i[s].nodeUL.parentNode.insertBefore(i[s].nodeForm,i[s].nodeUL);var o=new dhtmlXForm(i[s].nodeForm,i[s].data);null!==i[s].name&&(window[i[s].name]=o);var l=i[s].nodeUL.getAttribute("oninit")||null;i[s].nodeUL.parentNode.removeChild(i[s].nodeUL),i[s].nodeUL=null,i[s].nodeForm=null,i[s].data=null,i[s]=null,l&&("function"==typeof l?l():"function"==typeof window[l]&&window[l]())}}),window.dhtmlXContainer&&(dhtmlx.attaches||(dhtmlx.attaches={}),dhtmlx.attaches.attachForm||(dhtmlx.attaches.attachForm=function(t){var e=document.createElement("DIV");return e.id="dhxFormObj_"+this._genStr(12),e.style.position="relative",e.style.width="100%",e.style.height="100%",dhtmlx.$customScroll?dhtmlx.CustomScroll.enable(e):e.style.overflow="auto",e.cmp="form",this.attachObject(e,!1,!0,!1),this.vs[this.av].form=new dhtmlXForm(e,t),this.vs[this.av].form.setSkin(this.skin),this.vs[this.av].form.setSizes(),this.vs[this.av].formObj=e,"dhx_terrace"==this.skin&&(this.adjust(),this.updateNestedObjects()),this.vs[this._viewRestore()].form}),dhtmlx.detaches||(dhtmlx.detaches={}),dhtmlx.detaches.detachForm||(dhtmlx.detaches.detachForm=function(t){t.form&&(t.form.unload(),t.form=null,t.formObj=null,t.attachForm=null)})),dhtmlXForm.prototype.setUserData=function(t,e,i,s){if("undefined"!=typeof s){var n=this.doWithItem([t,e],"_getId");null!=n&&(t=n,e=i,i=s)}this._userdata||(this._userdata={}),this._userdata[t]=this._userdata[t]||{},this._userdata[t][e]=i},dhtmlXForm.prototype.getUserData=function(t,e,i){if("undefined"!=typeof i){var s=this.doWithItem([t,e],"_getId");null!=s&&(t=s,e=i)}return null!=this._userdata&&"undefined"!=typeof this._userdata[t]&&"undefined"!=typeof this._userdata[t][e]?this._userdata[t][e]:""},dhtmlXForm.prototype.setRTL=function(t){(this._rtl=t===!0?!0:!1)?String(this.cont).search(/dhxform_rtl/gi)<0&&(this.cont.className+=" dhxform_rtl"):String(this.cont).search(/dhxform_rtl/gi)>=0&&(this.cont.className=String(this.cont.className).replace(/dhxform_rtl/gi,""))},_dhxForm_doClick=function(t,e){if("object"==typeof e)var i=e[1],e=e[0];if(document.createEvent){var s=document.createEvent("MouseEvents");s.initEvent(e,!0,!1),t.dispatchEvent(s)}else document.createEventObject&&(s=document.createEventObject(),s.button=1,t.fireEvent("on"+e,s));i&&window.setTimeout(function(){_dhxForm_doClick(t,i)},100)},dhtmlXForm.prototype.setFormData=function(t){for(var e in t){var i=this.getItemType(e);switch(i){case"checkbox":this[1==t[e]||1==parseInt(t[e])||"true"==t[e]||t[e]==this.getItemValue(e,"realvalue")?"checkItem":"uncheckItem"](e);break;case"radio":this.checkItem(e,t[e]);break;case"input":case"textarea":case"password":case"select":case"multiselect":case"hidden":case"template":case"combo":case"calendar":case"colorpicker":case"editor":this.setItemValue(e,t[e]);break;default:this["setFormData_"+i]?this["setFormData_"+i](e,t[e]):(this.hId||(this.hId=this._genStr(12)),this.setUserData(this.hId,e,t[e]))}}},dhtmlXForm.prototype.getFormData=function(t,e){var i,s={};for(i in this.itemPull){var n=this.itemPull[i]._idd,o=this.itemPull[i]._type;if("ch"==o&&(s[n]=this.isItemChecked(n)?this.getItemValue(n):0),"ra"==o&&!s[this.itemPull[i]._group]&&(s[this.itemPull[i]._group]=this.getCheckedValue(this.itemPull[i]._group)),o in{se:1,ta:1,pw:1,hd:1,tp:1,fl:1,calendar:1,combo:1,editor:1,colorpicker:1}&&(s[n]=this.getItemValue(n,t)),this["getFormData_"+o]&&(s[n]=this["getFormData_"+o](n)),"up"==o){var l,h=this.getItemValue(n);for(l in h)s[l]=h[l]}if(this.itemPull[i]._list)for(var r=0;r<this.itemPull[i]._list.length;r++){var a,d=this.itemPull[i]._list[r].getFormData(t,e);for(a in d)s[a]=d[a]}}if(!e&&this.hId&&this._userdata[this.hId])for(i in this._userdata[this.hId])s[i]||(s[i]=this._userdata[this.hId][i]);return s},dhtmlXForm.prototype.adjustParentSize=function(){for(var t=0,e=-1,i=0;i<this.base.length;i++)t+=this.base[i].firstChild.offsetWidth,this.base[i].offsetHeight>e&&(e=this.base[i].offsetHeight);var s=!1;try{if(s=1==this.cont.parentNode.parentNode.parentNode.parentNode._isCell)var n=this.cont.parentNode.parentNode.parentNode.parentNode}catch(o){}if(s&&"undefined"!=typeof n)t>0&&n.setWidth(t+10),e>0&&n.setHeight(e+n.firstChild.firstChild.offsetHeight+5),s=n=null;else{var l=!1;try{if(l=1==this.cont.parentNode.parentNode.parentNode.parentNode._isWindow)var h=this.cont.parentNode.parentNode.parentNode.parentNode}catch(r){}l&&"undefined"!=typeof h&&(this.cont.style.display="none",(t>0||e>0)&&h._adjustToContent(t+10,e+10),this.cont.style.display="",l=h=null)}},window._dhxForm_isIPad=navigator.userAgent.search(/iPad/gi)>=0,dhtmlXForm.prototype.load=function(a,b,c){var d=this;d.callEvent("onXLS",[]),"function"==typeof b&&(c=b,b="xml"),dhtmlxAjax.get(a,function(e){var f={};if("json"==b)eval("data="+e.xmlDoc.responseText);else{var g=e.doXPath("//data")[0];g&&g.getAttribute("dhx_security")&&(dhtmlx.security_key=g.getAttribute("dhx_security"));for(var h=e.doXPath("//data/*"),i=0;i<h.length;i++)f[h[i].tagName]=h[i].firstChild?h[i].firstChild.nodeValue:""}var j=a.match(/(\?|\&)id\=([a-z0-9_]*)/i);j&&j[0]&&(j=j[0].split("=")[1]),d.callEvent("onBeforeDataLoad",[j,f])&&(d.formId=j,d._last_load_data=f,d.setFormData(f),d.resetDataProcessor("updated")),d.callEvent("onXLE",[]),c&&c.call(this)})},dhtmlXForm.prototype.reset=function(){this.callEvent("onBeforeReset",[this.formId,this.getFormData()])&&(this._last_load_data&&this.setFormData(this._last_load_data),this.callEvent("onAfterReset",[this.formId]))},dhtmlXForm.prototype.send=function(t,e,i,s){if("function"==typeof e&&(i=e,e="post"),s===!0||this.validate()){var n,o=this.getFormData(!0),l=[];for(n in o)l.push(n+"="+encodeURIComponent(o[n]));var h=function(t){i&&i.call(this,t,t.xmlDoc.responseText)};"get"==e?dhtmlxAjax.get(t+(-1==t.indexOf("?")?"?":"&")+l.join("&"),h):dhtmlxAjax.post(t,l.join("&"),h)}},dhtmlXForm.prototype.save=function(){},dhtmlXForm.prototype.dummy=function(){},dhtmlXForm.prototype._changeFormId=function(t,e){this.formId=e},dhtmlXForm.prototype._dp_init=function(t){t._methods=["dummy","dummy","_changeFormId","dummy"],t._getRowData=function(t){var e=this.obj.getFormData(!0);return e[this.action_param]=this.obj.getUserData(t,this.action_param),e},t._clearUpdateFlag=function(){},t.attachEvent("onAfterUpdate",function(t,e,i,s){return("inserted"==e||"updated"==e)&&(this.obj.resetDataProcessor("updated"),this.obj._last_load_data=this.obj.getFormData(!0)),this.obj.callEvent("onAfterSave",[this.obj.formId,s]),!0}),t.autoUpdate=!1,t.setTransactionMode("POST",!0),this.dp=t,this.formId=(new Date).valueOf(),this.resetDataProcessor("inserted"),this.save=function(){this.callEvent("onBeforeSave",[this.formId,this.getFormData()])&&this.validate()&&t.sendData()}},dhtmlXForm.prototype.resetDataProcessor=function(t){this.dp&&(this.dp.updatedRows=[],this.dp._in_progress=[],this.dp.setUpdated(this.formId,!0,t))},dhtmlXForm.prototype._ccActivate=function(t,e,i){this._formLS||(this._formLS={}),this._formLS[t]||(this._formLS[t]={input:e,value:i}),this._ccActive||(this._ccActive=!0,this._ccDo()),e=null},dhtmlXForm.prototype._ccDeactivate=function(t){this._ccTm&&window.clearTimeout(this._ccTm),this._ccActive=!1,null!=this._formLS&&null!=this._formLS[t]&&(this._formLS[t].input=null,this._formLS[t]=null,delete this._formLS[t])},dhtmlXForm.prototype._ccDo=function(){this._ccTm&&window.clearTimeout(this._ccTm);for(var t in this._formLS){var e=this._formLS[t].input;if("select"==String(e.tagName).toLowerCase()){var i="";e.selectedIndex>=0&&e.selectedIndex<e.options.length&&(i=e.options[e.selectedIndex].value)}else i=e.value;i!=this._formLS[t].value&&(this._formLS[t].value=i,this.callEvent("onInputChange",[e._idd,i,this])),e=null}if(this._ccActive){var s=this;this._ccTm=window.setTimeout(function(){s._ccDo(),s=null},100)}},dhtmlXForm.prototype._ccReload=function(t,e){this._formLS&&this._formLS[t]&&(this._formLS[t].value=e)},window.dhtmlxValidation||(dhtmlxValidation=function(){},dhtmlxValidation.prototype={isEmpty:function(t){return""==t},isNotEmpty:function(t){return t instanceof Array?t.length>0:""==!t},isValidBoolean:function(t){return!!t.match(/^(0|1|true|false)$/)},isValidEmail:function(t){return!!t.match(/(^[a-z]([a-z0-9_\.]*)@([a-z_\.]*)([.][a-z]{3})$)|(^[a-z]([a-z_\.]*)@([a-z_\-\.]*)(\.[a-z]{2,3})$)/i)},isValidInteger:function(t){return!!t.match(/(^-?\d+$)/)},isValidNumeric:function(t){return!!t.match(/(^-?\d\d*[\.|,]\d*$)|(^-?\d\d*$)|(^-?[\.|,]\d\d*$)/)},isValidAplhaNumeric:function(t){return!!t.match(/^[_\-a-z0-9]+$/gi)},isValidDatetime:function(t){var e=t.match(/^(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2}):(\d{2})$/);return e&&!!(e[1]<=9999&&e[2]<=12&&e[3]<=31&&e[4]<=59&&e[5]<=59&&e[6]<=59)||!1},isValidDate:function(t){var e=t.match(/^(\d{4})-(\d{2})-(\d{2})$/);return e&&!!(e[1]<=9999&&e[2]<=12&&e[3]<=31)||!1},isValidTime:function(t){var e=t.match(/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/);return e&&!!(e[1]<=24&&e[2]<=59&&e[3]<=59)||!1},isValidIPv4:function(t){var e=t.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/);return e&&!!(e[1]<=255&&e[2]<=255&&e[3]<=255&&e[4]<=255)||!1},isValidCurrency:function(t){return t.match(/^\$?\s?\d+?[\.,\,]?\d+?\s?\$?$/)&&!0||!1},isValidSSN:function(t){return t.match(/^\d{3}\-?\d{2}\-?\d{4}$/)&&!0||!1},isValidSIN:function(t){return t.match(/^\d{9}$/)&&!0||!1}},dhtmlxValidation=new dhtmlxValidation),dhtmlXForm.prototype.items.calendar={render:function(t,e){var i=this;t._type="calendar",t._enabled=!0,this.doAddLabel(t,e),this.doAddInput(t,e,"INPUT","TEXT",!0,!0,"dhxform_textarea calendar"),this.doAttachChangeLS(t),t.childNodes[t._ll?1:0].childNodes[0]._idd=t._idd,t.childNodes[t._ll?1:0].childNodes[0].onblur=function(){var t=this.parentNode.parentNode;t.getForm()._ccDeactivate(t._idd),i.checkEnteredValue(this.parentNode.parentNode),t.getForm().callEvent("onBlur",[t._idd]),t=null},t._f=e.dateFormat||null,t._f0=e.serverDateFormat||t._f;var s=t.getForm();return t._c=new dhtmlXCalendarObject(t.childNodes[t._ll?1:0].childNodes[0],e.skin||s.skin||"dhx_skyblue"),t._c._nullInInput=!0,t._c.enableListener(t.childNodes[t._ll?1:0].childNodes[0]),null!=t._f&&t._c.setDateFormat(t._f),s._s2b(e.enableTime)||t._c.hideTime(),s._s2b(e.showWeekNumbers)&&t._c.showWeekNumbers(),isNaN(e.weekStart)||t._c.setWeekStartDay(e.weekStart),"undefined"!=typeof e.calendarPosition&&t._c.setPosition(e.calendarPosition),null!=e.minutesInterval&&t._c.setMinutesInterval(e.minutesInterval),t._c._itemIdd=t._idd,t._c.attachEvent("onBeforeChange",function(e){if(t._value!=e){if(t.checkEvent("onBeforeChange")&&t.callEvent("onBeforeChange",[t._idd,t._value,e])!==!0)return!1;t._value=e,i.setValue(t,e),t.callEvent("onChange",[this._itemIdd,t._value])}return!0}),this.setValue(t,e.value),s=null,this},getCalendar:function(t){return t._c},setSkin:function(t,e){t._c.setSkin(e)},setValue:function(t,e){e&&null!=e&&"undefined"!=typeof e&&""!=e?(t._value=e instanceof Date?e:t._c._strToDate(e,t._f0||t._c._dateFormat),t.childNodes[t._ll?1:0].childNodes[0].value=t._c._dateToStr(t._value,t._f||t._c._dateFormat)):(t._value=null,t.childNodes[t._ll?1:0].childNodes[0].value=""),t._c.setDate(t._value)},getValue:function(t,e){var i=t._c.getDate();return e===!0&&null==i?"":e===!0?t._c._dateToStr(i,t._f0||t._c._dateFormat):i},setDateFormat:function(t,e,i){t._f=e,t._f0=i||t._f,t._c.setDateFormat(t._f),this.setValue(t,this.getValue(t))},destruct:function(t){t._c.disableListener(t.childNodes[t._ll?1:0].childNodes[0]),t._c.unload(),t._c=null;try{delete t._c}catch(e){}t._f=null;try{delete t._f}catch(i){}t._f0=null;try{delete t._f0}catch(s){}t.childNodes[t._ll?1:0].childNodes[0]._idd=null,t.childNodes[t._ll?1:0].childNodes[0].onblur=null,this.d2(t),t=null},checkEnteredValue:function(t){this.setValue(t,t._c.getDate())}},function(){for(var t in{doAddLabel:1,doAddInput:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,isEnabled:1,setWidth:1,setReadonly:1,isReadonly:1,setFocus:1,getInput:1})dhtmlXForm.prototype.items.calendar[t]=dhtmlXForm.prototype.items.input[t]}(),dhtmlXForm.prototype.items.calendar.doAttachChangeLS=dhtmlXForm.prototype.items.select.doAttachChangeLS,dhtmlXForm.prototype.items.calendar.d2=dhtmlXForm.prototype.items.input.destruct,dhtmlXForm.prototype.getCalendar=function(t){return this.doWithItem(t,"getCalendar")},dhtmlXForm.prototype.setCalendarDateFormat=function(t,e,i){this.doWithItem(t,"setDateFormat",e,i)},dhtmlXForm.prototype.items.upload={render:function(t,e){t._type="up",t._enabled=!0,t._checked=!0,t.className=e.position+("string"==typeof e.className?" "+e.className:"");var i=document.createElement("DIV");return t.appendChild(i),isNaN(e.inputLeft)||(t.style.left=parseInt(e.inputLeft)+"px"),isNaN(e.inputTop)||(t.style.top=parseInt(e.inputTop)+"px"),"auto"==e.inputWidth||isNaN(e.inputWidth)||(i.style.width=parseInt(e.inputWidth)+"px"),t._uploader=new dhtmlXFileUploader(i,e.swfPath||"",e.swfUrl||"",e.mode||null,e.swfLogs,e.slXap||"",e.slUrl||"",e.slLogs||""),t._uploader.setURL(e.url||""),t._uploader.callEvent=t.callEvent,"undefined"!=typeof e.autoStart&&t._uploader.setAutoStart(e.autoStart),"undefined"!=typeof e.autoRemove&&t._uploader.setAutoRemove(e.autoRemove),"undefined"!=typeof e.titleScreen&&t._uploader.enableTitleScreen(e.titleScreen),"undefined"!=typeof e.titleText&&t._uploader.setTitleText(e.titleText),1==e.hidden&&this.hide(t),1==e.disabled&&this.userDisable(t),"auto"!=e.inputHeight&&0/0!=parseInt(e.inputHeight)&&(t._uploader.p_files.style.height=parseInt(e.inputHeight)+"px"),this},destruct:function(t){for(this.doUnloadNestedLists(t),t._uploader.unload(),t._uploader=null,t._checked=null,t._enabled=null,t._idd=null,t._type=null,t.onselectstart=null,t._autoCheck=null,t.callEvent=null,t.checkEvent=null,t.getForm=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);t.parentNode.removeChild(t),t=null},setText:function(){},getText:function(){},enable:function(t){t._enabled=!0,String(t.className).search("disabled")>=0&&(t.className=String(t.className).replace(/disabled/gi,"")),t._uploader.enable()},disable:function(t){t._enabled=!1,String(t.className).search("disabled")<0&&(t.className+=" disabled"),t._uploader.disable()},setWidth:function(t,e){t.childNodes[0].style.width=e+"px",t._width=e},getWidth:function(t){return t._width||parseInt(t.childNodes[0].style.width)},setValue:function(t){t._uploader.clear()},getValue:function(t){var e,i=t._uploader.getData(),s={},n=0;for(e in i)s[t._idd+"_r_"+n]=i[e].realName,s[t._idd+"_s_"+n]=i[e].serverName,n++;return s[t._idd+"_count"]=n,s},getUploader:function(t){return t._uploader},getStatus:function(t){return t._uploader.getStatus()}},function(){for(var t in{doUnloadNestedLists:1,isEnabled:1})dhtmlXForm.prototype.items.upload[t]=dhtmlXForm.prototype.items.checkbox[t]}(),dhtmlXForm.prototype.setFormData_upload=function(t){this.doWithItem(t,"setValue")},dhtmlXForm.prototype.getUploader=function(t){return this.doWithItem(t,"getUploader")},dhtmlXForm.prototype.getUploaderStatus=function(t){return this.doWithItem(t,"getStatus")},dhtmlXFileUploader.prototype.html5=function(){},dhtmlXFileUploader.prototype.html5.prototype={_initEngine:function(){var t=this;this.buttons.browse.onclick=function(){t._enabled&&t.f.click()},this._progress_type="percentage",this._upload_dnd=this._upload_mp=!0;var e=window.navigator.userAgent;null!=e.match(/Windows/gi)&&null!=e.match(/AppleWebKit/gi)&&null!=e.match(/Safari/gi)&&(e.match(/Version\/5\.1\.5/gi)&&(this._upload_mp=!1),e.match(/Version\/5\.1[^\.\d{1,}]/gi)&&(this._upload_dnd=!1),e.match(/Version\/5\.1\.1/gi)&&(this._upload_dnd=this._upload_mp=!1),e.match(/Version\/5\.1\.2/gi)&&(this._upload_dnd=!1)),this._addFileInput(),this._upload_dnd?(this.p.ondragenter=function(t){t.dataTransfer&&(t.stopPropagation(),t.preventDefault())},this.p.ondragover=function(t){t.dataTransfer&&(t.stopPropagation(),t.preventDefault())},this.p.ondrop=function(e){e.dataTransfer&&(e.stopPropagation(),e.preventDefault(),t._enabled&&t._parseFilesInInput(e.dataTransfer.files))},this._titleText="Drag-n-Drop files here or<br>click to select files for upload."):this._titleText="Click to select files for upload."},_addFileInput:function(){null!=this.f&&(this.f.onchange=null,this.f.parentNode.removeChild(this.f),this.f=null);var t=this;this.f=document.createElement("INPUT"),this.f.type="file",this._upload_mp&&(this.f.multiple="1"),this.f.className="dhx_uploader_input",this.p_controls.appendChild(this.f),this.f.onchange=function(){t._parseFilesInInput(this.files),_isOpera&&t._addFileInput()}},_doUploadFile:function(a){var b=this;this._loader||(this._loader=new XMLHttpRequest,this._loader.upload.onprogress=function(t){"uploading"==b._files[this._idd].state&&b._updateFileInList(this._idd,"uploading",Math.round(100*t.loaded/t.total))},this._loader.onload=function(){try{eval("var r="+this.responseText)}catch(a){}"object"==typeof r&&"undefined"!=typeof r.state&&1==r.state?(b._onUploadSuccess(this.upload._idd,r.name),r=null):b._onUploadFail(this.upload._idd)},this._loader.onerror=function(){b._onUploadFail(this.upload._idd)},this._loader.onabort=function(){b._onUploadAbort(this.upload._idd)}),this._loader.upload._idd=a;var c=new FormData;c.append("file",this._files[a].file),this._loader.open("POST",this._url+(String(this._url).indexOf("?")<0?"?":"&")+"mode=html5&"+(new Date).getTime(),!0),this._loader.setRequestHeader("X-Requested-With","XMLHttpRequest"),this._loader.send(c)},_uploadStop:function(){this._uploading&&this._loader&&this._loader.abort()},_parseFilesInInput:function(t){for(var e=0;e<t.length;e++)this._addFileToQueue(t[e])},_addFileToQueue:function(t){if(this._beforeAddFileToList(t.name,t.size)){var e=t._idd||this._uid();this._files[e]={file:t,name:t.name,size:t.size,state:"added"},this._addFileToList(e,t.name,t.size,"added",0),this._autoStart&&!this._uploading&&this._uploadStart(!0)}},_removeFileFromQueue:function(t){if(this._files[t]){var e=this._files[t].name,i=null!=this._data&&null!=this._data[t]?this._data[t].serverName:null;if(this.callEvent("onBeforeFileRemove",[e,i])===!0){var s=!1;this._uploading&&t==this._loader.upload._idd&&"uploading"==this._files[t].state&&(this._uploadStop(),s=!0),this._files[t].file=null,this._files[t].name=null,this._files[t].size=null,this._files[t].state=null,this._files[t]=null,delete this._files[t],this._removeFileFromList(t),this.callEvent("onFileRemove",[e,i]),s&&this._uploadStart()}}},_unloadEngine:function(){this.buttons.browse.onclick=null,this.f.onchange=null,this.f.parentNode.removeChild(this.f),this.f=null,this.p.ondragenter=null,this.p.ondragover=null,this.p.ondrop=null,this._loader&&(this._loader.upload.onprogress=null,this._loader.onload=null,this._loader.onerror=null,this._loader.onabort=null,this._loader=this._loader.upload._idd=null),this._unloadEngine=this._removeFileFromQueue=this._addFileToQueue=this._parseFilesInInput=this._uploadStop=this._doUploadFile=this._initEngine=null}},dhtmlXFileUploader.prototype.html4=function(){},dhtmlXFileUploader.prototype.html4.prototype={_initEngine:function(){this._addForm(),this._progress_type="loader",this._titleText="Click button<br>to select files for upload."},_addForm:function(){var t=this,e=this._uid();this.k||(this.k=document.createElement("DIV"),this.k.className="dhx_file_form_cont",this.buttons.browse.appendChild(this.k),this.fr_name="dhx_file_"+(new Date).getTime(),this.k.innerHTML='<iframe name="'+this.fr_name+'" style="height:0px;width:0px;" frameBorder="0"></iframe>',this.fr=this.k.firstChild,window.navigator.userAgent.indexOf("MSIE")>=0?this.fr.onreadystatechange=function(){"complete"==this.readyState&&t._onLoad()}:this.fr.onload=function(){t._onLoad()});var i=document.createElement("DIV");i.innerHTML="<form method='POST' enctype='multipart/form-data' target='"+this.fr_name+"' class='dhx_file_form' name='dhx_file_form_"+(new Date).getTime()+"'><input type='hidden' name='mode' value='html4'><input type='hidden' name='uid' value='"+e+"'><input type='file' name='file' class='dhx_file_input'></form>",this.k.appendChild(i),i.firstChild.lastChild._idd=e,i.firstChild.lastChild.onchange=function(){t._beforeAddFileToList(this.value,null)&&(t._addFileToQueue(this),this.onchange=null,this.parentNode.parentNode.style.display="none",t._addForm())},i=null},_onLoad:function(){if(this._uploading){try{eval("var r="+this.fr.contentWindow.document.body.innerHTML)}catch(a){}if("object"==typeof r&&"undefined"!=typeof r.state){if("cancelled"==r.state)return this._onUploadAbort(this.fr._idd),void(r=null);if(1==r.state)return"undefined"==typeof r.size||isNaN(r.size)||(this._files[this.fr._idd].size=r.size),this._onUploadSuccess(this.fr._idd,r.name),void(r=null)}this._onUploadFail(this.fr._idd)}},_addFileToQueue:function(t){var e=t.value.match(/[^\\\/]*$/g),e=null!=e[0]?e[0]:t.value;this._files[t._idd]={name:e,form:t.parentNode,node:t.parentNode.parentNode,input:t,state:"added"},this._addFileToList(t._idd,t.value,!1,"added",0),this._autoStart&&!this._uploading&&this._uploadStart(!0)},_removeFileFromQueue:function(t){var e=this._files[t].name,i=null!=this._data&&null!=this._data[t]?this._data[t].serverName:null;this.callEvent("onBeforeFileRemove",[e,i])===!0&&(this._files[t].input.onchange=null,this._files[t].form.removeChild(this._files[t].input),this._files[t].node.removeChild(this._files[t].form),this._files[t].node.parentNode.removeChild(this._files[t].node),this._files[t].input=null,this._files[t].name=null,this._files[t].form=null,this._files[t].node=null,this._files[t].size=null,this._files[t].state=null,this._files[t]=null,delete this._files[t],this._removeFileFromList(t),this.callEvent("onFileRemove",[e,i]))},_doUploadFile:function(t){this.fr._idd=t,this._files[t].form.action=this._url,this._files[t].form.submit()},_uploadStop:function(){this._uploading&&(this.fr.contentWindow.location.href=this._url+(this._url.indexOf("?")<0?"?":"&")+"mode=html4&action=cancel&etc="+(new Date).getTime())},_unloadEngine:function(){this.k&&(this.fr_name=null,this.fr.onreadystatechange=null,this.fr.onload=null,this.fr.parentNode.removeChild(this.fr),this.fr=null,this.k.firstChild.firstChild.lastChild.onchange=null,this.k.parentNode.removeChild(this.k),this.k=null),this._unloadEngine=this._uploadStop=this._doUploadFile=this._removeFileFromQueue=this._addFileToQueue=this._onLoad=this._addForm=this._initEngine=null}},dhtmlXFileUploader.prototype.flash=function(){},dhtmlXFileUploader.prototype.flash.prototype={_initEngine:function(){window.dhtmlXFileUploaderSWFObjects||(window.dhtmlXFileUploaderSWFObjects={items:{},uid:function(){return this.id?this.id++:this.id=(new Date).getTime(),this.id},callEvent:function(t,e,i){return window.dhtmlXFileUploaderSWFObjects.items[t].uploader[e].apply(window.dhtmlXFileUploaderSWFObjects.items[t].uploader,i)}});this._swf_obj_id="dhtmlXFileUploaderSWFObject_"+window.dhtmlXFileUploaderSWFObjects.uid(),this._swf_file_url=this._swf_file_url+(this._swf_file_url.indexOf("?")>=0?"&":"?")+"etc="+(new Date).getTime(),this.buttons.browse.innerHTML="<div id='"+this._swf_obj_id+"' style='width:100%;height:100%;'></div>",swfobject.embedSWF(this._swf_file_url,this._swf_obj_id,"100%","100%","9",null,{ID:this._swf_obj_id,enableLogs:this._swf_logs},{wmode:"transparent"});var t=swfobject.getFlashPlayerVersion();this._titleText="Engine successfuly inited<br>Flash Player: "+t.major+"."+t.minor+"."+t.release,this._progress_type="percentage",window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id]={id:this._swf_obj_id,uploader:this}},_beforeAddFileToQueue:function(t,e){return this.callEvent("onBeforeFileAdd",[t,e])===!0},_addFileToQueue:function(t,e,i){if(_isIE){var s=document.createElement("INPUT");s.type="TEXT",s.style.position="absolute",s.style.left="0px",s.style.top=getAbsoluteTop(this.buttons.browse)+"px",s.style.width="10px",document.body.appendChild(s),s.focus(),document.body.removeChild(s),s=null}this._files[t]={name:e,size:i,state:"added"},this._addFileToList(t,e,i,"added",0),this._autoStart&&!this._uploading&&this._uploadStart(!0)},_removeFileFromQueue:function(t){if(this._files[t]){var e=this._files[t].name,i=null!=this._data&&null!=this._data[t]?this._data[t].serverName:null;if(this.callEvent("onBeforeFileRemove",[e,i])===!0){var s=!1;this._uploading&&"uploading"==this._files[t].state&&(this._uploadStop(),s=!0),swfobject.getObjectById(this._swf_obj_id).removeFileById(t),this._files[t].name=null,this._files[t].size=null,this._files[t].state=null,this._files[t]=null,delete this._files[t],this._removeFileFromList(t),this.callEvent("onFileRemove",[e,i]),s&&this._uploadStart()}}},_doUploadFile:function(t){swfobject.getObjectById(this._swf_obj_id).upload(t,this._swf_upolad_url)},_uploadStop:function(){for(var t in this._files)"uploading"==this._files[t].state&&swfobject.getObjectById(this._swf_obj_id).uploadStop(t)},_unloadEngine:function(){window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id]&&(window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id].id=null,window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id].uploader=null,window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id]=null,delete window.dhtmlXFileUploaderSWFObjects.items[this._swf_obj_id]),this._unloadEngine=this._uploadStop=this._doUploadFile=this._removeFileFromQueue=this._addFileToQueue=this._initEngine=this._swf_obj_id=null}},dhtmlXFileUploader.prototype.sl=function(){},dhtmlXFileUploader.prototype.sl.prototype={_initEngine:function(){"undefined"==typeof this._sl_v&&(this._sl_v=this.getSLVersion()),window.dhtmlXFileUploaderSLObjects||(window.dhtmlXFileUploaderSLObjects={items:{},uid:function(){return this.id?this.id++:this.id=(new Date).getTime(),this.id},callEvent:function(t,e,i){window.dhtmlXFileUploaderSLObjects.items[t].uploader[e].apply(window.dhtmlXFileUploaderSLObjects.items[t].uploader,i)}}),this._sl_obj_id="dhtmlXFileUploaderSLObject_"+window.dhtmlXFileUploaderSLObjects.uid(),0!=this._sl_v?(this._titleText="Engine successfuly inited<br>Silverlight version: "+this._sl_v[0]+"."+this._sl_v[1],this.buttons.browse.innerHTML='<div style="width:100%;height:100%;"><object data="data:application/x-silverlight-2," type="application/x-silverlight-2" width="100%" height="100%" id="'+this._sl_obj_id+'"><param name="source" value="'+this._sl_xap+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="initParams" value="SLID='+this._sl_obj_id+",LOGS="+this._sl_logs+'"/><param name="minRuntimeVersion" value="5.0"/></object></div>'):(this._titleText="Silverlight plugin not found<br>or version less than 4.0",this.buttons.browse.style.cursor="wait",this.buttons.browse.title=""),this._progress_type="percentage",window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id]={id:this._sl_obj_id,uploader:this}},_addFileToQueue:function(t,e,i){this._files[t]={name:e,size:i,state:"added"},this._addFileToList(t,e,i,"added",0),this._autoStart&&!this._uploading&&this._uploadStart(!0)},_removeFileFromQueue:function(t){if(this._files[t]){var e=!1;this._uploading&&"uploading"==this._files[t].state&&(this._uploadStop(),e=!0),document.getElementById([this._sl_obj_id]).Content.a.removeFileById(t),this._files[t].name=null,this._files[t].size=null,this._files[t].state=null,this._files[t]=null,delete this._files[t],this._removeFileFromList(t),e&&this._uploadStart()}},_doUploadFile:function(t){document.getElementById(this._sl_obj_id).Content.a.upload(t,this._sl_upload_url,"&mode=sl&etc="+(new Date).getTime())},_uploadStop:function(){this._uploading=!1;for(var t in this._files)"uploading"==this._files[t].state&&document.getElementById(this._sl_obj_id).Content.a.uploadStop(t)},_unloadEngine:function(){window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id]&&(window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id].id=null,window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id].uploader=null,window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id]=null,delete window.dhtmlXFileUploaderSLObjects.items[this._sl_obj_id]),this._unloadEngine=this._uploadStop=this._doUploadFile=this._removeFileFromQueue=this._addFileToQueue=this._initEngine=this._sl_obj_id=null}},dhtmlXFileUploader.prototype.setSLURL=function(t){this._sl_upload_url=t},dhtmlXFileUploader.prototype.getSLVersion=function(){var t=!1;if(_isIE)try{var e=new ActiveXObject("AgControl.AgControl");if(null!=e)for(var i=4,s=0;e.isVersionSupported([i,s].join("."));)t=[i,s],++s>9&&(i++,s=0);e=null}catch(n){}else null!=navigator.plugins["Silverlight Plug-In"]&&(t=navigator.plugins["Silverlight Plug-In"].description.split("."));return t},dhtmlXForm.prototype.items.colorpicker={ev:!1,inp:null,colorpicker:{},cz:{},render:function(t,e){var i=this;return t._type="colorpicker",t._enabled=!0,this.doAddLabel(t,e),this.doAddInput(t,e,"INPUT","TEXT",!0,!0,"dhxform_textarea"),this.doAttachChangeLS(t),t._value=e.value||"",t.childNodes[t._ll?1:0].childNodes[0].value=t._value,this.cz[t._idd]=document.createElement("DIV"),this.cz[t._idd].style.position="absolute",this.cz[t._idd].style.top="0px",this.cz[t._idd].style.zIndex=249,document.body.insertBefore(this.cz[t._idd],document.body.firstChild),this.colorpicker[t._idd]=new dhtmlXColorPicker(this.cz[t._idd],null,t.getForm()._s2b(e.enableCustomColors),!0),this.colorpicker[t._idd].setImagePath(e.imagePath||""),this.colorpicker[t._idd].setSkin(""),this.colorpicker[t._idd].init(),"undefined"!=typeof e.customColors&&this.colorpicker[t._idd].setCustomColors(e.customColors),this.colorpicker[t._idd].elements.cs_Content.onclick=function(t){(t||event).cancelBubble=!0},this.colorpicker[t._idd].setOnSelectHandler(function(e){t._value==e||t.checkEvent("onBeforeChange")&&t.callEvent("onBeforeChange",[t._idd,t._value,e])!==!0||(t._value=e,i.setValue(t,e),t.callEvent("onChange",[t._idd,t._value]))}),t.childNodes[t._ll?1:0].childNodes[0]._idd=t._idd,t.childNodes[t._ll?1:0].childNodes[0].onclick=function(){i.colorpicker[this._idd].isVisible()?(i.colorpicker[this._idd].hide(),i.inp=null):(i.checkEnteredValue(this.parentNode.parentNode),i.colorpicker[this._idd].setPosition(getAbsoluteLeft(this),getAbsoluteTop(this)+this.offsetHeight-1),i.colorpicker[this._idd].setColor(t._value),i.colorpicker[this._idd].show(),i.inp=this._idd)},t.childNodes[t._ll?1:0].childNodes[0].onblur=function(){var t=this.parentNode.parentNode;
t.getForm()._ccDeactivate(t._idd),i.checkEnteredValue(this.parentNode.parentNode),t.getForm().callEvent("onBlur",[t._idd]),t=null},this.ev||("undefined"!=typeof window.addEventListener?window.addEventListener("click",this.clickEvent,!1):document.body.attachEvent("onclick",this.clickEvent),this.ev=!0),this},clickEvent:function(){dhtmlXForm.prototype.items.colorpicker.hideAllColorPickers()},hideAllColorPickers:function(){for(var t in this.colorpicker)t!=this.inp&&this.colorpicker[t].hide();this.inp=null},getColorPicker:function(t){return this.colorpicker[t._idd]},destruct:function(t){this.colorpicker[t._idd].elements.cs_Content.onclick=null,this.colorpicker[t._idd].unload&&this.colorpicker[t._idd].unload(),this.colorpicker[t._idd]=null;try{delete this.colorpicker[t._idd]}catch(e){}this.cz[t._idd].parentNode.removeChild(this.cz[t._idd]),this.cz[t._idd]=null;try{delete this.cz[t._idd]}catch(i){}var s,n=0;for(s in this.colorpicker)n++;0==n&&("function"==typeof window.addEventListener?window.removeEventListener("click",this.clickEvent,!1):document.body.detachEvent("onclick",this.clickEvent),this.ev=!1),t.childNodes[t._ll?1:0].childNodes[0]._idd=null,t.childNodes[t._ll?1:0].childNodes[0].onclick=null,t.childNodes[t._ll?1:0].childNodes[0].onblur=null,this.d2(t),t=null},checkEnteredValue:function(t){this.setValue(t,t.childNodes[t._ll?1:0].childNodes[0].value)}},function(){for(var t in{doAddLabel:1,doAddInput:1,doUnloadNestedLists:1,setText:1,getText:1,enable:1,disable:1,isEnabled:1,setWidth:1,setReadonly:1,isReadonly:1,setValue:1,getValue:1,updateValue:1,setFocus:1,getInput:1})dhtmlXForm.prototype.items.colorpicker[t]=dhtmlXForm.prototype.items.input[t]}(),dhtmlXForm.prototype.items.colorpicker.doAttachChangeLS=dhtmlXForm.prototype.items.select.doAttachChangeLS,dhtmlXForm.prototype.items.colorpicker.d2=dhtmlXForm.prototype.items.input.destruct,dhtmlXForm.prototype.getColorPicker=function(t){return this.doWithItem(t,"getColorPicker")},"undefined"!=typeof dhtmlXColorPicker&&(dhtmlXColorPicker.prototype.unload=function(){for(this.elements.cs_SelectorVer.parentNode.removeChild(this.elements.cs_SelectorVer),this.elements.cs_SelectorHor.parentNode.removeChild(this.elements.cs_SelectorHor),this.elements.cs_SelectorVer=null,this.elements.cs_SelectorHor=null,this.elements.cs_SelectorDiv.ondblclick=null,this.elements.cs_SelectorDiv.onmousedown=null,this.elements.cs_SelectorDiv.z=null,this.elements.cs_SelectorDiv.parentNode.removeChild(this.elements.cs_SelectorDiv),this.elements.cs_SelectorDiv=null,this.elements.cs_LumSelectArrow.onmousedown=null,this.elements.cs_LumSelectArrow.z=null,this.elements.cs_LumSelectArrow.parentNode.removeChild(this.elements.cs_LumSelectArrow),this.elements.cs_LumSelectArrow=null,this.elements.cs_LumSelectLine.parentNode.removeChild(this.elements.cs_LumSelectLine),this.elements.cs_LumSelectLine=null;this.elements.cs_LumSelect.childNodes.length>0;)this.elements.cs_LumSelect.removeChild(this.elements.cs_LumSelect.childNodes[0]);this.elements.cs_LumSelect.ondblclick=null,this.elements.cs_LumSelect.onmousedown=null,this.elements.cs_LumSelect.z=null,this.elements.cs_LumSelect.parentNode.removeChild(this.elements.cs_LumSelect),this.elements.cs_LumSelect=null,this.elements.cs_EndColor.parentNode.removeChild(this.elements.cs_EndColor),this.elements.cs_EndColor=null,this.elements.cs_InputHue.onchange=null,this.elements.cs_InputHue.z=null,this.elements.cs_InputHue.parentNode.removeChild(this.elements.cs_InputHue),this.elements.cs_InputHue=null,this.elements.cs_InputRed.onchange=null,this.elements.cs_InputRed.z=null,this.elements.cs_InputRed.parentNode.removeChild(this.elements.cs_InputRed),this.elements.cs_InputRed=null,this.elements.cs_InputSat.onchange=null,this.elements.cs_InputSat.z=null,this.elements.cs_InputSat.parentNode.removeChild(this.elements.cs_InputSat),this.elements.cs_InputSat=null,this.elements.cs_InputGreen.onchange=null,this.elements.cs_InputGreen.z=null,this.elements.cs_InputGreen.parentNode.removeChild(this.elements.cs_InputGreen),this.elements.cs_InputGreen=null,this.elements.cs_Hex.onchange=null,this.elements.cs_Hex.z=null,this.elements.cs_Hex.parentNode.removeChild(this.elements.cs_Hex),this.elements.cs_Hex=null,this.elements.cs_InputLum.onchange=null,this.elements.cs_InputLum.z=null,this.elements.cs_InputLum.parentNode.removeChild(this.elements.cs_InputLum),this.elements.cs_InputLum=null,this.elements.cs_InputBlue.onchange=null,this.elements.cs_InputBlue.z=null,this.elements.cs_InputBlue.parentNode.removeChild(this.elements.cs_InputBlue),this.elements.cs_InputBlue=null,this.elements.cs_ButtonOk.onclick=null,this.elements.cs_ButtonOk.onmouseout=null,this.elements.cs_ButtonOk.onmouseover=null,this.elements.cs_ButtonOk.z=null,this.elements.cs_ButtonOk.parentNode.removeChild(this.elements.cs_ButtonOk),this.elements.cs_ButtonOk=null,this.elements.cs_ButtonCancel.onclick=null,this.elements.cs_ButtonCancel.onmouseout=null,this.elements.cs_ButtonCancel.onmouseover=null,this.elements.cs_ButtonCancel.z=null,this.elements.cs_ButtonCancel.parentNode.removeChild(this.elements.cs_ButtonCancel),this.elements.cs_ButtonCancel=null,this.elements.cs_ContentTable.parentNode.removeChild(this.elements.cs_ContentTable),this.elements.cs_ContentTable=null,this.elements.cs_Content.parentNode.removeChild(this.elements.cs_Content),this.z=this.elements.cs_Content=null,this.detachAllEvents(),this.customColors=this.linkToObjects=this.language=this.elements=this.container=this._changeValueHEX=this._changeValueRGB=this._changeValueHSV=this._selectCustomColor=this._getColorHEX=this._reinitCustomColors=this._initCustomColors=this._hex2dec=this._dec2hex=this._colorizeLum=this._drawLum=this._rgb2hsv=this._hsv2rgb=this._drawValues=this._calculateColor=this._getOffsetLeft=this._getOffsetTop=this._getOffset=this._stopMoveLum=this._mouseMoveLum=this._startMoveLum=this._stopMoveColor=this._mouseMoveColor=this._startMoveColor=this._setLumPos=this._getScrollers=this._setCrossPos=this._initEvents=this._initCsIdElement=this.unload=this.showA=this.show=this.normalButton=this.hoverButton=this.isVisible=this.setSkin=this.loadUserLanguage=this.init=this.setImagePath=this.hideOnSelect=this.linkTo=this.getSelectedColor=this.setOnCancelHandler=this.setOnSelectHandler=this.hide=this.setPosition=this.close=this.setColor=this.setCustomColors=this.redraw=this.restoreFromHEX=this.restoreFromHSV=this.restoreFromRGB=this.addCustomColor=this.restoreColor=this.saveColor=this.clickCancel=this.clickOk=this.resetHandlers=this.generate=this.detachAllEvents=this.detachEvent=this.eventCatcher=this.checkEvent=this.callEvent=this.attachEvent=null}),dhtmlXForm.prototype.items.container={render:function(t,e){return t._type="container",t._enabled=!0,this.doAddLabel(t,e),this.doAddInput(t,e,"DIV",null,!0,!0,"dhxform_container"),this},getContainer:function(t){return t.childNodes[t._ll?1:0].childNodes[0]},enable:function(t){t._enabled=!0,String(t.className).search("disabled")>=0&&(t.className=String(t.className).replace(/disabled/gi,"")),t.callEvent("onEnable",[t._idd])},disable:function(t){t._enabled=!1,String(t.className).search("disabled")<0&&(t.className+=" disabled"),t.callEvent("onDisable",[t._idd])},doAttachEvents:function(){},setValue:function(){},getValue:function(){return null}},dhtmlXForm.prototype.getContainer=function(t){return this.doWithItem(t,"getContainer")},function(){for(var t in dhtmlXForm.prototype.items.input)dhtmlXForm.prototype.items.container[t]||(dhtmlXForm.prototype.items.container[t]=dhtmlXForm.prototype.items.input[t])}(),dhtmlXForm.prototype.items.combo={render:function(t,e){return t._type="combo",t._enabled=!0,t._value=null,t._newValue=null,this.doAddLabel(t,e),this.doAddInput(t,e,"SELECT",null,!0,!0,"dhxform_select"),this.doAttachEvents(t),this.doLoadOpts(t,e),t.onselectstart=function(t){return t=t||event,t.returnValue=!0},t.childNodes[t._ll?1:0].childNodes[0].setAttribute("opt_type",e.comboType||""),t._combo=new dhtmlXComboFromSelect(t.childNodes[t._ll?1:0].childNodes[0]),t._combo._currentComboValue=t._combo.getSelectedValue(),t._combo.DOMelem_input.id=e.uid,t._combo.DOMelem_button.onmousedown=function(){return!1},e.connector&&this.doLoadOptsConnector(t,e.connector),e.filtering&&t._combo.enableFilteringMode(!0),1==e.readonly&&this.setReadonly(t,!0),e.style&&(t._combo.DOMelem_input.style.cssText+=e.style),"function"==typeof window.addEventListener?(t._combo.DOMelem_input.addEventListener("focus",this._comboFocus,!1),t._combo.DOMelem_input.addEventListener("blur",this._comboBlur,!1)):(t._combo.DOMelem_input.attachEvent("onfocus",this._comboFocus),t._combo.DOMelem_input.attachEvent("onblur",this._comboBlur)),this},destruct:function(t){t.childNodes[t._ll?1:0].childNodes[0].onchange=null,"function"==typeof window.addEventListener?(t._combo.DOMelem_input.removeEventListener("focus",this._comboFocus,!1),t._combo.DOMelem_input.removeEventListener("blur",this._comboBlur,!1)):(t._combo.DOMelem_input.detachEvent("onfocus",this._comboFocus),t._combo.DOMelem_input.detachEvent("onblur",this._comboBlur)),t._combo._currentComboValue=null,t._combo.destructor(),t._combo=null,t._apiChange=null,this.d2(t),t=null},doAttachEvents:function(t){var e=this;t.childNodes[t._ll?1:0].childNodes[0].onchange=function(){e.doOnChange(this),e.doValidate(this.DOMParent.parentNode.parentNode)}},doValidate:function(t){t.getForm().hot_validate&&this._validate(t)},doOnChange:function(t){var e=t.DOMParent.parentNode.parentNode;if(!e._apiChange){if(t._newComboValue=t.getSelectedValue(),t._newComboValue!=t._currentComboValue){if(e.checkEvent("onBeforeChange")&&e.callEvent("onBeforeChange",[e._idd,t._currentComboValue,t._newComboValue])!==!0)return window.setTimeout(function(){t.setComboValue(t._currentComboValue)},1),!1;t._currentComboValue=t._newComboValue,e.callEvent("onChange",[e._idd,t._currentComboValue])}e._autoCheck(e._enabled)}},doLoadOptsConnector:function(t,e){var i=this,s=t;t._connector_working=!0,t._apiChange=!0,t._combo.loadXML(e,function(){s.callEvent("onOptionsLoaded",[s._idd]),s._connector_working=!1,null!=s._connector_value&&(i.setValue(s,s._connector_value),s._connector_value=null),s._apiChange=!1,i=s=null})},enable:function(t){String(t.className).search("disabled")>=0&&(t.className=String(t.className).replace(/disabled/gi,"")),t._enabled=!0,t._combo.disable(!1),t._combo.DOMelem_button.src=(window.dhx_globalImgPath?dhx_globalImgPath:"")+"combo_select"+(dhtmlx.skin?"_"+dhtmlx.skin:"")+".gif"},disable:function(t){String(t.className).search("disabled")<0&&(t.className+=" disabled"),t._enabled=!1,t._combo.disable(!0),t._combo.DOMelem_button.src=(window.dhx_globalImgPath?dhx_globalImgPath:"")+"combo_select_dis"+(dhtmlx.skin?"_"+dhtmlx.skin:"")+".gif"},getCombo:function(t){return t._combo},setValue:function(t,e){t._connector_working?t._connector_value=e:(t._apiChange=!0,t._combo.setComboValue(e),t._combo._currentComboValue=t._combo.getActualValue(),t._apiChange=!1)},getValue:function(t){return t._combo.getActualValue()},setWidth:function(t,e){t.childNodes[t._ll?1:0].childNodes[0].style.width=e+"px"},setReadonly:function(t,e){t._combo&&(t._combo_ro=e,t._combo.readonly(t._combo_ro))},isReadonly:function(t){return t._combo_ro||!1},setFocus:function(t){t._enabled&&t._combo.DOMelem_input.focus()},_setCss:function(t,e,i){t._combo.DOMlist.style.fontSize=i},_comboFocus:function(t){var t=t||event,e=(t.target||t.srcElement).parentNode.parentNode,i=e.parentNode.parentNode;"dhx_terrace"==i.getForm().skin&&e.className.search(/combo_in_focus/)<0&&(e.className+=" combo_in_focus");for(var s=0;s<i._combo.DOMlist.childNodes.length;s++)i._combo.DOMlist.childNodes[s].onmousedown=function(){return!1};i.callEvent("onFocus",[i._idd]),i=e=null},_comboBlur:function(t){var t=t||event,e=(t.target||t.srcElement).parentNode.parentNode,i=e.parentNode.parentNode;"dhx_terrace"==i.getForm().skin&&e.className.search(/combo_in_focus/)>=0&&(e.className=e.className.replace(/combo_in_focus/gi,""));for(var s=0;s<i._combo.DOMlist.childNodes.length;s++)i._combo.DOMlist.childNodes[s].onmousedown=null;i.callEvent("onBlur",[i._idd]),i=e=null}},function(){for(var t in{doAddLabel:1,doAddInput:1,doLoadOpts:1,doUnloadNestedLists:1,setText:1,getText:1,isEnabled:1,_checkNoteWidth:1})dhtmlXForm.prototype.items.combo[t]=dhtmlXForm.prototype.items.select[t]}(),dhtmlXForm.prototype.items.combo.d2=dhtmlXForm.prototype.items.select.destruct,dhtmlXForm.prototype.getCombo=function(t){return this.doWithItem(t,"getCombo")},dhtmlXForm.prototype.items.editor={editor:{},render:function(t,e){!isNaN(e.rows);t._type="editor",t._enabled=!0,this.doAddLabel(t,e),this.doAddInput(t,e,"DIV",null,!0,!0,"dhxform_item_template dhxeditor_inside"),t._value=e.value||"";var i=this;return this.editor[t._idd]=new dhtmlXEditor(t.childNodes[t._ll?1:0].childNodes[0]),this.editor[t._idd].setContent(t._value),this.editor[t._idd].attachEvent("onAccess",function(e,s){_dhxForm_doClick(document.body,"click"),"blur"==e?(i.doOnBlur(t,this),t.callEvent("onBlur",[t._idd]),"dhx_terrace"==t.getForm().skin&&(t.childNodes[t._ll?1:0].childNodes[0].className="dhxform_item_template dhxeditor_inside")):(t.callEvent("onEditorAccess",[t._idd,e,s,this,t.getForm()]),t.callEvent("onFocus",[t._idd]),"dhx_terrace"==t.getForm().skin&&(t.childNodes[t._ll?1:0].childNodes[0].className="dhxform_item_template dhxeditor_inside_focus"))}),this.editor[t._idd].attachEvent("onToolbarClick",function(e){t.callEvent("onEditorToolbarClick",[t._idd,e,this,t.getForm()])}),e.readonly&&this.setReadonly(t,!0),t.childNodes[t._ll?0:1].childNodes[0].removeAttribute("for"),t.childNodes[t._ll?0:1].childNodes[0].onclick=function(){i.editor[t._idd]._focus()},this.editor[t._idd]._isToolbar||(this.editor[t._idd].base.firstChild.onmousedown=function(){return!1}),this},doOnBlur:function(t,e){var i=e.getContent();t._value!=i&&(t.checkEvent("onBeforeChange")&&t.callEvent("onBeforeChange",[t._idd,t._value,i])!==!0?e.setContent(t._value):(t._value=i,t.callEvent("onChange",[t._idd,i])))},setValue:function(t,e){t._value!=e&&(t._value=e,this.editor[t._idd].setContent(t._value))},getValue:function(t){return t._value=this.editor[t._idd].getContent(),t._value},enable:function(t){this.editor[t._idd].setReadonly(!1),this.doEn(t)},disable:function(t){this.editor[t._idd].setReadonly(!0),this.doDis(t)},setReadonly:function(t,e){this.editor[t._idd].setReadonly(e)},getEditor:function(t){return this.editor[t._idd]||null},destruct:function(t){t.childNodes[t._ll?0:1].childNodes[0].onclick=null,this.editor[t._idd].unload(),this.editor[t._idd]=null,this.d2(t),t=null},setFocus:function(t){this.editor[t._idd]._focus()}},function(){for(var t in{doAddLabel:1,doAddInput:1,doUnloadNestedLists:1,setText:1,getText:1,setWidth:1,isEnabled:1})dhtmlXForm.prototype.items.editor[t]=dhtmlXForm.prototype.items.template[t]}(),dhtmlXForm.prototype.items.editor.d2=dhtmlXForm.prototype.items.select.destruct,dhtmlXForm.prototype.items.editor.doEn=dhtmlXForm.prototype.items.select.enable,dhtmlXForm.prototype.items.editor.doDis=dhtmlXForm.prototype.items.select.disable,dhtmlXForm.prototype.getEditor=function(t){return this.doWithItem(t,"getEditor")};var globalActiveDHTMLGridObject;String.prototype._dhx_trim=function(){return this.replace(/&nbsp;/g," ").replace(/(^[ \t]*)|([ \t]*$)/g,"")},dhtmlxArray._master={_dhx_find:function(t){for(var e=0;e<this.length;e++)if(t==this[e])return e;return-1},_dhx_insertAt:function(t,e){this[this.length]=null;for(var i=this.length-1;i>=t;i--)this[i]=this[i-1];this[t]=e},_dhx_removeAt:function(t){this.splice(t,1)},_dhx_swapItems:function(t,e){var i=this[t];this[t]=this[e],this[e]=i}},dhtmlXGridObject.prototype={getRowAttribute:function(t,e){return this.getRowById(t)._attrs[e]},setRowAttribute:function(t,e,i){this.getRowById(t)._attrs[e]=i},isTreeGrid:function(){return-1!=this.cellType._dhx_find("tree")},setRowHidden:function(t,e){var i=(convertStringToBoolean(e),this.getRowById(t));if(i){if(""===i.expand&&this.collapseKids(i),e&&"none"!=i.style.display){i.style.display="none";var s=this.selectedRows._dhx_find(i);if(-1!=s){i.className=i.className.replace("rowselected","");for(var n=0;n<i.childNodes.length;n++)i.childNodes[n].className=i.childNodes[n].className.replace(/cellselected/g,"");this.selectedRows._dhx_removeAt(s)}this.callEvent("onGridReconstructed",[])}e||"none"!=i.style.display||(i.style.display="",this.callEvent("onGridReconstructed",[])),this.callEvent("onRowHide",[t,e]),this.setSizes()}},setColumnHidden:function(t,e){if(!this.hdr.rows.length)return this._ivizcol||(this._ivizcol=[]),this._ivizcol[t]=e;this.fldSorted&&this.fldSorted.cellIndex==t&&e&&(this.sortImg.style.display="none");var i=convertStringToBoolean(e);if(i){if(this._hrrar){if(this._hrrar[t])return}else this._hrrar=[];this._hrrar[t]="display:none;",this._hideShowColumn(t,"none")}else{if(!this._hrrar||!this._hrrar[t])return;this._hrrar[t]="",this._hideShowColumn(t,"")}this.fldSorted&&this.fldSorted.cellIndex==t&&!e&&(this.sortImg.style.display="inline"),this.setSortImgPos(),this.callEvent("onColumnHidden",[t,e])},isColumnHidden:function(t){return this._hrrar&&this._hrrar[t]?!0:!1},setColumnsVisibility:function(t){if(t&&(this._ivizcol=t.split(this.delim)),this.hdr.rows.length&&this._ivizcol)for(var e=0;e<this._ivizcol.length;e++)this.setColumnHidden(e,this._ivizcol[e])},_fixHiddenRowsAll:function(t,e,i,s,n){for(var n=n||"_cellIndex",o=t.rows.length,l=0;o>l;l++){var h=t.rows[l].childNodes;if(h.length!=this._cCount){for(var r=0;r<h.length;r++)if(h[r][n]==e){h[r].style[i]=s;break}}else h[e].style[i]=s}},_hideShowColumn:function(t,e){var i=t;if(this.hdr.rows[1]&&this.hdr.rows[1]._childIndexes&&this.hdr.rows[1]._childIndexes[t]!=t&&(i=this.hdr.rows[1]._childIndexes[t]),"none"==e){this.hdr.rows[0].cells[t]._oldWidth=this.hdr.rows[0].cells[t].style.width||this.initCellWidth[t]+"px",this.hdr.rows[0].cells[t]._oldWidthP=this.cellWidthPC[t],this.obj.rows[0].cells[t].style.width="0px";var s={rows:[this.obj.rows[0]]};this.forEachRow(function(t){"TR"==this.rowsAr[t].tagName&&s.rows.push(this.rowsAr[t])}),this._fixHiddenRowsAll(s,t,"display","none"),this.isTreeGrid()&&this._fixHiddenRowsAllTG(t,"none"),(_isOpera&&9>_OperaRv||_isKHTML||_isFF)&&this._fixHiddenRowsAll(this.hdr,t,"display","none","_cellIndexS"),this.ftr&&this._fixHiddenRowsAll(this.ftr.childNodes[0],t,"display","none"),this._fixHiddenRowsAll(this.hdr,t,"whiteSpace","nowrap","_cellIndexS"),this.cellWidthPX.length||this.cellWidthPC.length||(this.cellWidthPX=[].concat(this.initCellWidth)),this.cellWidthPX[t]&&(this.cellWidthPX[t]=0),this.cellWidthPC[t]&&(this.cellWidthPC[t]=0)}else if(this.hdr.rows[0].cells[t]._oldWidth){var n=this.hdr.rows[0].cells[t];(_isOpera||_isKHTML||_isFF)&&this._fixHiddenRowsAll(this.hdr,t,"display","","_cellIndexS"),this.ftr&&this._fixHiddenRowsAll(this.ftr.childNodes[0],t,"display",""),s={rows:[this.obj.rows[0]]},this.forEachRow(function(t){"TR"==this.rowsAr[t].tagName&&s.rows.push(this.rowsAr[t])}),this._fixHiddenRowsAll(s,t,"display",""),this.isTreeGrid()&&this._fixHiddenRowsAllTG(t,""),this._fixHiddenRowsAll(this.hdr,t,"whiteSpace","normal","_cellIndexS"),n._oldWidthP&&(this.cellWidthPC[t]=n._oldWidthP),n._oldWidth&&(this.cellWidthPX[t]=parseInt(n._oldWidth))}this.setSizes(),_isIE||_isFF||(this.obj.border=1,this.obj.border=0)},enableColSpan:function(t){this._ecspn=convertStringToBoolean(t)},enableRowsHover:function(t,e){this._unsetRowHover(!1,!0),this._hvrCss=e,convertStringToBoolean(t)?this._elmnh||(this.obj._honmousemove=this.obj.onmousemove,this.obj.onmousemove=this._setRowHover,_isIE?this.obj.onmouseleave=this._unsetRowHover:this.obj.onmouseout=this._unsetRowHover,this._elmnh=!0):this._elmnh&&(this.obj.onmousemove=this.obj._honmousemove,_isIE?this.obj.onmouseleave=null:this.obj.onmouseout=null,this._elmnh=!1)},enableEditEvents:function(t,e,i){this._sclE=convertStringToBoolean(t),this._dclE=convertStringToBoolean(e),this._f2kE=convertStringToBoolean(i)},enableLightMouseNavigation:function(t){convertStringToBoolean(t)?this._elmn||(this.entBox._onclick=this.entBox.onclick,this.entBox.onclick=function(){return!0},this.obj._onclick=this.obj.onclick,this.obj.onclick=function(t){var e=this.grid.getFirstParentOfType(t?t.target:event.srcElement,"TD");e&&(this.grid.editStop(),this.grid.doClick(e),this.grid.editCell(),(t||event).cancelBubble=!0)},this.obj._onmousemove=this.obj.onmousemove,this.obj.onmousemove=this._autoMoveSelect,this._elmn=!0):this._elmn&&(this.entBox.onclick=this.entBox._onclick,this.obj.onclick=this.obj._onclick,this.obj.onmousemove=this.obj._onmousemove,this._elmn=!1)},_unsetRowHover:function(t,e){if(that=e?this:this.grid,that._lahRw&&that._lahRw!=e){for(var i=0;i<that._lahRw.childNodes.length;i++)that._lahRw.childNodes[i].className=that._lahRw.childNodes[i].className.replace(that._hvrCss,"");that._lahRw=null}},_setRowHover:function(t){var e=this.grid.getFirstParentOfType(t?t.target:event.srcElement,"TD");if(e&&e.parentNode!=this.grid._lahRw){if(this.grid._unsetRowHover(0,e),e=e.parentNode,!e.idd||"__filler__"==e.idd)return;for(var i=0;i<e.childNodes.length;i++)e.childNodes[i].className+=" "+this.grid._hvrCss;this.grid._lahRw=e}this._honmousemove(t)},_autoMoveSelect:function(t){if(!this.grid.editor){var e=this.grid.getFirstParentOfType(t?t.target:event.srcElement,"TD");e.parentNode.idd&&this.grid.doClick(e,!0,0)}this._onmousemove(t)},enableDistributedParsing:function(t,e,i){convertStringToBoolean(t)?(this._ads_count=e||10,this._ads_time=i||250):this._ads_count=0},destructor:function(){if(this.editStop(!0),this._sizeTime&&(this._sizeTime=window.clearTimeout(this._sizeTime)),this.entBox.className=(this.entBox.className||"").replace(/gridbox.*/,""),this.formInputs)for(var t=0;t<this.formInputs.length;t++)this.parentForm.removeChild(this.formInputs[t]);var e;for(this.xmlLoader=this.xmlLoader.destructor(),t=0;t<this.rowsCol.length;t++)this.rowsCol[t]&&(this.rowsCol[t].grid=null);for(t in this.rowsAr)this.rowsAr[t]&&(this.rowsAr[t]=null);this.rowsCol=new dhtmlxArray,this.rowsAr={},this.entBox.innerHTML="";var i=function(){};this.setSizes=this._update_srnd_view=this.callEvent=this.entBox.onclick=this.entBox.onmousedown=this.entBox.onbeforeactivate=this.entBox.onbeforedeactivate=this.entBox.onbeforedeactivate=this.entBox.onselectstart=i,this.entBox.grid=this.objBox.grid=this.hdrBox.grid=this.obj.grid=this.hdr.grid=null,this._fake&&(this.globalBox.innerHTML="",this._fake.setSizes=this._fake._update_srnd_view=this._fake.callEvent=i,this.globalBox.onclick=this.globalBox.onmousedown=this.globalBox.onbeforeactivate=this.globalBox.onbeforedeactivate=this.globalBox.onbeforedeactivate=this.globalBox.onselectstart=i);for(e in this)this[e]&&this[e].m_obj&&(this[e].m_obj=null),this[e]=null;return this==globalActiveDHTMLGridObject&&(globalActiveDHTMLGridObject=null),null},getSortingState:function(){var t=[];return this.fldSorted&&(t[0]=this.fldSorted._cellIndex,t[1]=-1!=this.sortImg.src.indexOf("sort_desc.gif")?"des":"asc"),t},enableAutoHeight:function(t,e,i){this._ahgr=convertStringToBoolean(t),this._ahgrF=convertStringToBoolean(i),this._ahgrM=e||null,1==arguments.length&&(this.objBox.style.overflowY=t?"hidden":"auto"),"auto"==e&&(this._ahgrM=null,this._ahgrMA=!0,this._setAutoResize())},enableStableSorting:function(t){this._sst=convertStringToBoolean(t),this.rowsCol.stablesort=function(t){for(var e=this.length-1,i=0;i<this.length-1;i++){for(var s=0;e>s;s++)if(t(this[s],this[s+1])>0){var n=this[s];this[s]=this[s+1],this[s+1]=n}e--}}},enableKeyboardSupport:function(t){this._htkebl=!convertStringToBoolean(t)},enableContextMenu:function(t){this._ctmndx=t},setScrollbarWidthCorrection:function(){},enableTooltips:function(t){this._enbTts=t.split(",");for(var e=0;e<this._enbTts.length;e++)this._enbTts[e]=convertStringToBoolean(this._enbTts[e])},enableResizing:function(t){this._drsclmn=t.split(",");for(var e=0;e<this._drsclmn.length;e++)this._drsclmn[e]=convertStringToBoolean(this._drsclmn[e])},setColumnMinWidth:function(t,e){2==arguments.length?(this._drsclmW||(this._drsclmW=[]),this._drsclmW[e]=t):this._drsclmW=t.split(",")},enableCellIds:function(t){this._enbCid=convertStringToBoolean(t)},lockRow:function(t,e){var i=this.getRowById(t);i&&(i._locked=convertStringToBoolean(e),this.cell&&this.cell.parentNode.idd==t&&this.editStop())},_getRowArray:function(t){for(var e=[],i=0;i<t.childNodes.length;i++){var s=this.cells3(t,i);e[i]=s.getValue()}return e},setDateFormat:function(t,e){this._dtmask=t,this._dtmask_inc=e},setNumberFormat:function(t,e,i,s){var n=t.replace(/[^0\,\.]*/g,""),o=n.indexOf(".");o>-1&&(o=n.length-o-1);var l=n.indexOf(",");l>-1&&(l=n.length-o-2-l),"string"!=typeof i&&(i=this.i18n.decimal_separator),"string"!=typeof s&&(s=this.i18n.group_separator);var h=t.split(n)[0],r=t.split(n)[1];this._maskArr[e]=[o,l,h,r,i,s]},_aplNFb:function(t,e){var i=this._maskArr[e];if(!i)return t;var s=parseFloat(t.toString().replace(/[^0-9]*/g,""));return"-"==t.toString().substr(0,1)&&(s*=-1),i[0]>0&&(s/=Math.pow(10,i[0])),s},_aplNF:function(t,e){var i=this._maskArr[e];if(!i)return t;var s=(parseFloat(t)<0?"-":"")+i[2],t=Math.abs(Math.round(parseFloat(t)*Math.pow(10,i[0]>0?i[0]:0))).toString(),t=(t.length<i[0]?Math.pow(10,i[0]+1-t.length).toString().substr(1,i[0]+1)+t.toString():t).split("").reverse();if(t[i[0]]=(t[i[0]]||"0")+i[4],i[1]>0)for(var n=(i[0]>0?0:1)+i[0]+i[1];n<t.length;n+=i[1])t[n]+=i[5];return s+t.reverse().join("")+i[3]},_launchCommands:function(t){for(var e=0;e<t.length;e++){for(var i=[],s=0;s<t[e].childNodes.length;s++)1==t[e].childNodes[s].nodeType&&(i[i.length]=t[e].childNodes[s].firstChild.data);this[t[e].getAttribute("command")].apply(this,i)}},_parseHead:function(t){var e=this.xmlLoader.doXPath("./head",t);if(e.length){var i=this.xmlLoader.doXPath("./column",e[0]),s=this.xmlLoader.doXPath("./settings",e[0]),n="setInitWidths",o=!1;if(s[0])for(var l=0;l<s[0].childNodes.length;l++)switch(s[0].childNodes[l].tagName){case"colwidth":s[0].childNodes[l].firstChild&&"%"==s[0].childNodes[l].firstChild.data&&(n="setInitWidthsP");break;case"splitat":o=s[0].childNodes[l].firstChild?s[0].childNodes[l].firstChild.data:!1}if(this._launchCommands(this.xmlLoader.doXPath("./beforeInit/call",e[0])),i.length>0){this.hdr.rows.length>0&&this.clearAll(!0);for(var h=[[],[],[],[],[],[],[],[],[]],r=",width,type,align,sort,color,format,hidden,id".split(","),a=["",n,"setColTypes","setColAlign","setColSorting","setColumnColor","","","setColumnIds"],d=0;d<i.length;d++){for(var c=1;c<r.length;c++)h[c].push(i[d].getAttribute(r[c]));h[0].push((i[d].firstChild?i[d].firstChild.data:"").replace(/^\s*((\s\S)*.+)\s*$/gi,"$1"))}for(this.setHeader(h[0]),d=0;d<a.length;d++)a[d]&&this[a[d]](h[d].join(this.delim));for(d=0;d<i.length;d++)if(0==this.cellType[d].indexOf("co")||"clist"==this.cellType[d]){var u=this.xmlLoader.doXPath("./option",i[d]);if(u.length){var _=[];if("clist"==this.cellType[d]){for(c=0;c<u.length;c++)_[_.length]=u[c].firstChild?u[c].firstChild.data:"";this.registerCList(d,_)}else for(var p=this.getCombo(d),c=0;c<u.length;c++)p.put(u[c].getAttribute("value"),u[c].firstChild?u[c].firstChild.data:"")}}else h[6][d]&&(-1!=this.cellType[d].toLowerCase().indexOf("calendar")||"date"==this.fldSort[d]?this.setDateFormat(h[6][d]):this.setNumberFormat(h[6][d],d));this.init();var f=h[7].join(this.delim);this.setColHidden&&""!=f.replace(/,/g,"")&&this.setColHidden(f),o&&this.splitAt&&this.splitAt(o)}this._launchCommands(this.xmlLoader.doXPath("./afterInit/call",e[0]))}var m=this.xmlLoader.doXPath("//rows/userdata",t);if(m.length>0)for(this.UserData.gridglobaluserdata||(this.UserData.gridglobaluserdata=new Hashtable),c=0;c<m.length;c++){for(var g="",b=0;b<m[c].childNodes.length;b++)g+=m[c].childNodes[b].nodeValue;this.UserData.gridglobaluserdata.put(m[c].getAttribute("name"),g)}},getCheckedRows:function(t){var e=[];return this.forEachRowA(function(i){0!=this.cells(i,t).getValue()&&e.push(i)},!0),e.join(",")},checkAll:function(){for(var t=arguments.length?arguments[0]:1,e=0;e<this.getColumnsNum();e++)"ch"==this.getColType(e)&&this.setCheckedRows(e,t)},uncheckAll:function(){this.checkAll(0)},setCheckedRows:function(t,e){this.forEachRowA(function(i){this.cells(i,t).isCheckbox()&&this.cells(i,t).setValue(e)})},_drawTooltip:function(t){var e=this.grid.getFirstParentOfType(t?t.target:event.srcElement,"TD");if(!e||this.grid.editor&&this.grid.editor.cell==e)return!0;var i=e.parentNode;if(i.idd&&"__filler__"!=i.idd){var s=t?t.target:event.srcElement;if(i.idd==window.unknown)return!0;if(!this.grid.callEvent("onMouseOver",[i.idd,e._cellIndex,t||window.event]))return!0;if(this.grid._enbTts&&!this.grid._enbTts[e._cellIndex])return s.title&&(s.title=""),!0;if(!(e._cellIndex>=this.grid._cCount)){var n=this.grid.cells3(i,e._cellIndex);if(n&&n.cell&&n.cell._attrs)return s._title&&(n.cell.title=""),n.cell._attrs.title||(s._title=!0),n&&(s.title=n.cell._attrs.title||(n.getTitle?n.getTitle():(n.getValue()||"").toString().replace(/<[^>]*>/gi,""))),!0}}},enableCellWidthCorrection:function(t){_isFF&&(this._wcorr=parseInt(t))},getAllRowIds:function(t){for(var e=[],i=0;i<this.rowsBuffer.length;i++)this.rowsBuffer[i]&&e.push(this.rowsBuffer[i].idd);return e.join(t||this.delim)},getAllItemIds:function(){return this.getAllRowIds()},setColspan:function(t,e,i){if(this._ecspn){var s=this.getRowById(t);if(s._childIndexes&&s.childNodes[s._childIndexes[e]]){var n=s._childIndexes[e],o=s.childNodes[n],l=o.colSpan;if(o.colSpan=1,l&&1!=l)for(var h=1;l>h;h++){var r=document.createElement("TD");o.nextSibling?s.insertBefore(r,o.nextSibling):s.appendChild(r),s._childIndexes[e+h]=n+h,r._cellIndex=e+h,r.style.textAlign=this.cellAlign[h],r.style.verticalAlign=this.cellVAlign[h],o=r,this.cells3(s,e+h).setValue("")}for(var a=1*e+1*l;a<s._childIndexes.length;a++)s._childIndexes[a]+=1*(l-1)}if(i&&i>1){if(s._childIndexes)n=s._childIndexes[e];else for(n=e,s._childIndexes=[],a=0;a<s.childNodes.length;a++)s._childIndexes[a]=a;for(s.childNodes[n].colSpan=i,a=1;i>a;a++)s._childIndexes[s.childNodes[n+1]._cellIndex]=n,s.removeChild(s.childNodes[n+1]);for(var d=s.childNodes[s._childIndexes[e]]._cellIndex,a=1*d+1*i;a<s._childIndexes.length;a++)s._childIndexes[a]-=i-1}}},preventIECaching:function(t){this.no_cashe=convertStringToBoolean(t),this.xmlLoader.rSeed=this.no_cashe},enableColumnAutoSize:function(t){this._eCAS=convertStringToBoolean(t)},_onHeaderDblClick:function(t){var e=this.grid,i=e.getFirstParentOfType(_isIE?event.srcElement:t.target,"TD");return e._eCAS?void e.adjustColumnSize(i._cellIndexS):!1},adjustColumnSize:function(t,e){if(!this._hrrar||!this._hrrar[t]){this._notresize=!0;var i=0;this._setColumnSizeR(t,20);for(var s=1;s<this.hdr.rows.length;s++){var n=this.hdr.rows[s];(n=n.childNodes[n._childIndexes?n._childIndexes[t]:t])&&(!n.colSpan||n.colSpan<2)&&n._cellIndex==t&&(n.childNodes[0]&&"hdrcell"==n.childNodes[0].className&&(n=n.childNodes[0]),i=Math.max(i,n.scrollWidth))}for(var o=this.obj.rows.length,l=1;o>l;l++){var h=this.obj.rows[l];this.rowsAr[h.idd]&&!(h._childIndexes&&h._childIndexes[t]!=t)&&h.childNodes[t]&&(h=_isFF||_isOpera||e?h.childNodes[t].textContent.length*this.fontWidth:h.childNodes[t].scrollWidth,h>i&&(i=h))}i+=20+(e||0),this._setColumnSizeR(t,i),this._notresize=!1,this.setSizes()}},detachHeader:function(t,e){var e=e||this.hdr,i=e.rows[t+1];i&&i.parentNode.removeChild(i),this.setSizes()},detachFooter:function(t){this.detachHeader(t,this.ftr)},attachHeader:function(t,e,i){if("string"==typeof t&&(t=this._eSplit(t)),"string"==typeof e&&(e=e.split(this.delim)),i=i||"_aHead",this.hdr.rows.length){if(t)this._createHRow([t,e],this["_aHead"==i?"hdr":"ftr"]);else if(this[i])for(var s=0;s<this[i].length;s++)this.attachHeader.apply(this,this[i][s])}else this[i]||(this[i]=[]),this[i][this[i].length]=[t,e,i]},_createHRow:function(t,e){if(!e){"absolute"!=this.entBox.style.position&&(this.entBox.style.position="relative");var i=document.createElement("DIV");i.className="ftr",this.entBox.appendChild(i);var s=document.createElement("TABLE");s.cellPadding=s.cellSpacing=0,_isIE&&8!=_isIE||(s.width="100%",s.style.paddingRight="20px"),s.style.marginRight="20px",s.style.tableLayout="fixed",i.appendChild(s),s.appendChild(document.createElement("TBODY")),this.ftr=e=s;
for(var n=s.insertRow(0),o=this.hdrLabels.length<=1?t[0].length:this.hdrLabels.length,l=0;o>l;l++)n.appendChild(document.createElement("TH")),n.childNodes[l]._cellIndex=l;_isIE&&8>_isIE?n.style.position="absolute":n.style.height="auto"}var h=t[1],i=document.createElement("TR");for(e.rows[0].parentNode.appendChild(i),l=0;l<t[0].length;l++)if("#cspan"==t[0][l]){var r=i.cells[i.cells.length-1];r.colSpan=(r.colSpan||1)+1}else if("#rspan"==t[0][l]&&e.rows.length>1){for(var a=e.rows.length-2,d=!1,r=null;!d;){for(var r=e.rows[a],c=0;c<r.cells.length;c++)if(r.cells[c]._cellIndex==l){d=c+1;break}a--}r=r.cells[d-1],r.rowSpan=(r.rowSpan||1)+1}else{var u=document.createElement("TD");if(u._cellIndex=u._cellIndexS=l,this._hrrar&&this._hrrar[l]&&!_isIE&&(u.style.display="none"),"object"==typeof t[0][l])u.appendChild(t[0][l]);else if(u.innerHTML=this.forceDivInHeader?"<div class='hdrcell'>"+(t[0][l]||"&nbsp;")+"</div>":t[0][l]||"&nbsp;",-1!=(t[0][l]||"").indexOf("#")&&(s=t[0][l].match(/(^|{)#([^}]+)(}|$)/))){var _="_in_header_"+s[2];this[_]&&this[_](this.forceDivInHeader?u.firstChild:u,l,t[0][l].split(s[0]))}h&&(u.style.cssText=h[l]),i.appendChild(u)}_isKHTML&&(e._kTimer&&window.clearTimeout(e._kTimer),e._kTimer=window.setTimeout(function(){e.rows[1].style.display="none",window.setTimeout(function(){e.rows[1].style.display=""},1)},500))},attachFooter:function(t,e){this.attachHeader(t,e,"_aFoot")},setCellExcellType:function(t,e,i){this.changeCellType(this.getRowById(t),e,i)},changeCellType:function(t,e,i){var i=i||this.cellType[e],s=this.cells3(t,e),n=s.getValue();s.cell._cellType=i,s=this.cells3(t,e),s.setValue(n)},setRowExcellType:function(t,e){for(var i=this.rowsAr[t],s=0;s<i.childNodes.length;s++)this.changeCellType(i,s,e)},setColumnExcellType:function(t,e){for(var i=0;i<this.rowsBuffer.length;i++)this.rowsBuffer[i]&&"TR"==this.rowsBuffer[i].tagName&&this.changeCellType(this.rowsBuffer[i],t,e);"math"==this.cellType[t]?this._strangeParams[i]=e:this.cellType[t]=e},forEachRow:function(t){for(var e in this.rowsAr)this.rowsAr[e]&&this.rowsAr[e].idd&&t.apply(this,[this.rowsAr[e].idd])},forEachRowA:function(t){for(var e=0;e<this.rowsBuffer.length;e++)this.rowsBuffer[e]&&t.call(this,this.render_row(e).idd)},forEachCell:function(t,e){var i=this.getRowById(t);if(i)for(var s=0;s<this._cCount;s++)e(this.cells3(i,s),s)},enableAutoWidth:function(t,e,i){this._awdth=[convertStringToBoolean(t),parseInt(e||99999),parseInt(i||0)],1==arguments.length&&(this.objBox.style.overflowX=t?"hidden":"auto")},updateFromXML:function(t,e,i,s){"undefined"==typeof e&&(e=!0),this._refresh_mode=[!0,e,i],this.load(t,s)},_refreshFromXML:function(t){this._f_rowsBuffer&&this.filterBy(0,""),reset=!1,window.eXcell_tree&&(eXcell_tree.prototype.setValueX=eXcell_tree.prototype.setValue,eXcell_tree.prototype.setValue=function(t){var e=this.grid._h2.get[this.cell.parentNode.idd];e&&this.cell.parentNode.valTag?this.setLabel(t):this.setValueX(t)});var e=this.cellType._dhx_find("tree");t.getXMLTopNode("rows");var i=t.doXPath("//rows")[0].getAttribute("parent")||0,s={};this._refresh_mode[2]&&(-1!=e?this._h2.forEachChild(i,function(t){s[t.id]=!0},this):this.forEachRow(function(t){s[t]=!0}));for(var n=t.doXPath("//row"),o=0;o<n.length;o++){var l=n[o],h=l.getAttribute("id");if(s[h]=!1,i=l.parentNode.getAttribute("id")||i,this.rowsAr[h]&&"TR"!=this.rowsAr[h].tagName)this._h2?this._h2.get[h].buff.data=l:this.rowsBuffer[this.getRowIndex(h)].data=l,this.rowsAr[h]=l;else if(this.rowsAr[h])this._process_xml_row(this.rowsAr[h],l,-1),this._postRowProcessing(this.rowsAr[h],!0);else if(this._refresh_mode[1]){var r={idd:h,data:l,_parser:this._process_xml_row,_locator:this._get_xml_data},a=this.rowsBuffer.length;"top"==this._refresh_mode[1]?(this.rowsBuffer.unshift(r),a=0):this.rowsBuffer.push(r),this._h2&&(reset=!0,this._h2.add(h,l.parentNode.getAttribute("id")||l.parentNode.getAttribute("parent")).buff=this.rowsBuffer[this.rowsBuffer.length-1]),this.rowsAr[h]=l,l=this.render_row(a),this._insertRowAt(l,a?-1:0)}}if(this._refresh_mode[2])for(h in s)s[h]&&this.rowsAr[h]&&this.deleteRow(h);this._refresh_mode=null,window.eXcell_tree&&(eXcell_tree.prototype.setValue=eXcell_tree.prototype.setValueX),reset&&this._renderSort(),this._f_rowsBuffer&&(this._f_rowsBuffer=null,this.filterByAll())},getCustomCombo:function(t,e){var i=this.cells(t,e).cell;return i._combo||(i._combo=new dhtmlXGridComboObject),i._combo},setTabOrder:function(t){var e=t.split(this.delim);this._tabOrder=[];for(var i=this._cCount||t.length,s=0;i>s;s++)e[s]={c:parseInt(e[s]),ind:s};for(e.sort(function(t,e){return t.c>e.c?1:-1}),s=0;i>s;s++)this._tabOrder[e[s].ind]=e[s+1]&&"undefined"!=typeof e[s].c?e[s+1].ind:-1*(e[0].ind+1)},i18n:{loading:"Loading",decimal_separator:".",group_separator:","},_key_events:{k13_1_0:function(){var t=this.rowsCol._dhx_find(this.row);this.selectCell(this.rowsCol[t+1],this.cell._cellIndex,!0)},k13_0_1:function(){var t=this.rowsCol._dhx_find(this.row);this.selectCell(this.rowsCol[t-1],this.cell._cellIndex,!0)},k13_0_0:function(){this.editStop(),this.callEvent("onEnter",[this.row?this.row.idd:null,this.cell?this.cell._cellIndex:null]),this._still_active=!0},k9_0_0:function(){if(this.editStop(),!this.callEvent("onTab",[!0]))return!0;var t=this._getNextCell(null,1);t&&(this.selectCell(t.parentNode,t._cellIndex,this.row!=t.parentNode,!1,!0),this._still_active=!0)},k9_0_1:function(){if(this.editStop(),!this.callEvent("onTab",[!1]))return!1;var t=this._getNextCell(null,-1);t&&(this.selectCell(t.parentNode,t._cellIndex,this.row!=t.parentNode,!1,!0),this._still_active=!0)},k113_0_0:function(){this._f2kE&&this.editCell()},k32_0_0:function(){var t=this.cells4(this.cell);return t.changeState&&t.changeState()!==!1?void 0:!1},k27_0_0:function(){this.editStop(!0)},k33_0_0:function(){this.pagingOn?this.changePage(this.currentPage-1):this.scrollPage(-1)},k34_0_0:function(){this.pagingOn?this.changePage(this.currentPage+1):this.scrollPage(1)},k37_0_0:function(){return this.editor||!this.isTreeGrid()?!1:void this.collapseKids(this.row)},k39_0_0:function(){return this.editor||!this.isTreeGrid()?!1:void this.expandKids(this.row)},k40_0_0:function(){var t=this._realfake?this._fake:this;if(this.editor&&this.editor.combo)this.editor.shiftNext();else{if(!this.row.idd)return;var e=Math.max(t._r_select||0,this.getRowIndex(this.row.idd)),i=this._nextRow(e,1);if(i)t._r_select=null,this.selectCell(i,this.cell._cellIndex,!0),t.pagingOn&&t.showRow(i.idd);else{if(!this.callEvent("onLastRow",[]))return!1;this._key_events.k34_0_0.apply(this,[]),this.pagingOn&&this.rowsCol[e+1]&&this.selectCell(e+1,0,!0)}}this._still_active=!0},k38_0_0:function(){var t=this._realfake?this._fake:this;if(this.editor&&this.editor.combo)this.editor.shiftPrev();else{if(!this.row.idd)return;var e=this.getRowIndex(this.row.idd)+1;if(-1==e||this.pagingOn&&1==e)this._key_events.k33_0_0.apply(this,[]);else{var i=this._nextRow(e-1,-1);this.selectCell(i,this.cell._cellIndex,!0),t.pagingOn&&i&&t.showRow(i.idd)}}this._still_active=!0}},_build_master_row:function(){for(var t=document.createElement("DIV"),e=["<table><tr>"],i=0;i<this._cCount;i++)e.push("<td></td>");e.push("</tr></table>"),t.innerHTML=e.join(""),this._master_row=t.firstChild.rows[0]},_prepareRow:function(t){this._master_row||this._build_master_row();for(var e=this._master_row.cloneNode(!0),i=0;i<e.childNodes.length;i++)e.childNodes[i]._cellIndex=i,this._enbCid&&(e.childNodes[i].id="c_"+t+"_"+i),this.dragAndDropOff&&this.dragger.addDraggableItem(e.childNodes[i],this);return e.idd=t,e.grid=this,e},_process_jsarray_row:function(t,e){t._attrs={};for(var i=0;i<t.childNodes.length;i++)t.childNodes[i]._attrs={};return this._fillRow(t,this._c_order?this._swapColumns(e):e),t},_get_jsarray_data:function(t,e){return t[e]},_process_json_row:function(t,e){return e=this._c_order?this._swapColumns(e.data):e.data,this._process_some_row(t,e)},_process_some_row:function(t,e){t._attrs={};for(var i=0;i<t.childNodes.length;i++)t.childNodes[i]._attrs={};return this._fillRow(t,e),t},_get_json_data:function(t,e){return t.data[e]},_process_js_row:function(t,e){for(var i=[],s=0;s<this.columnIds.length;s++)i[s]=e[this.columnIds[s]],!i[s]&&0!==i[s]&&(i[s]="");return this._process_some_row(t,i),t._attrs=e,t},_get_js_data:function(t,e){return t[this.columnIds[e]]},_process_csv_row:function(t,e){t._attrs={};for(var i=0;i<t.childNodes.length;i++)t.childNodes[i]._attrs={};return this._fillRow(t,this._c_order?this._swapColumns(e.split(this.csv.cell)):e.split(this.csv.cell)),t},_get_csv_data:function(t,e){return t.split(this.csv.cell)[e]},_process_store_row:function(t,e){for(var i=[],s=0;s<this.columnIds.length;s++)i[s]=e[this.columnIds[s]];for(var n=0;n<t.childNodes.length;n++)t.childNodes[n]._attrs={};t._attrs=e,this._fillRow(t,i)},_process_xml_row:function(t,e){var i=this.xmlLoader.doXPath(this.xml.cell,e),s=[];if(t._attrs=this._xml_attrs(e),this._ud_enabled)for(var n=this.xmlLoader.doXPath("./userdata",e),o=n.length-1;o>=0;o--){for(var l="",h=0;h<n[o].childNodes.length;h++)l+=n[o].childNodes[h].nodeValue;this.setUserData(t.idd,n[o].getAttribute("name"),l)}for(h=0;h<i.length;h++){var r=i[this._c_order?this._c_order[h]:h];if(r){var a=t._childIndexes?t._childIndexes[h]:h,d=r.getAttribute("type");t.childNodes[a]&&(d&&(t.childNodes[a]._cellType=d),t.childNodes[a]._attrs=this._xml_attrs(r)),r.getAttribute("xmlcontent")||(r=r.firstChild?r.firstChild.data:""),s.push(r)}}for(;h<t.childNodes.length;h++)t.childNodes[h]._attrs={};return t.parentNode&&"row"==t.parentNode.tagName&&(t._attrs.parent=t.parentNode.getAttribute("idd")),this._fillRow(t,s),t},_get_xml_data:function(t,e){for(t=t.firstChild;;){if(!t)return"";if("cell"==t.tagName&&e--,0>e)break;t=t.nextSibling}return t.firstChild?t.firstChild.data:""},_fillRow:function(t,e){this.editor&&this.editStop();for(var i=0;i<t.childNodes.length;i++)if(i<e.length||this.defVal[i]){var s=t.childNodes[i]._cellIndex,n=e[s],o=this.cells4(t.childNodes[i]);!this.defVal[s]||""!=n&&"undefined"!=typeof n||(n=this.defVal[s]),o&&o.setValue(n)}else t.childNodes[i].innerHTML="&nbsp;",t.childNodes[i]._clearCell=!0;return t},_postRowProcessing:function(t,e){t._attrs["class"]&&(t._css=t.className=t._attrs["class"]),t._attrs.locked&&(t._locked=!0),t._attrs.bgColor&&(t.bgColor=t._attrs.bgColor);for(var i=0,s=0;s<t.childNodes.length;s++){var n=t.childNodes[s],o=n._cellIndex,l=n._attrs.style||t._attrs.style;l&&(n.style.cssText+=";"+l),n._attrs["class"]&&(n.className=n._attrs["class"]),(l=n._attrs.align||this.cellAlign[o])&&(n.align=l),n.vAlign=n._attrs.valign||this.cellVAlign[o];var h=n._attrs.bgColor||this.columnColor[o];h&&(n.bgColor=h),n._attrs.colspan&&!e&&(this.setColspan(t.idd,s+i,n._attrs.colspan),i+=n._attrs.colspan-1),this._hrrar&&this._hrrar[o]&&!e&&(n.style.display="none")}this.callEvent("onRowCreated",[t.idd,t,null])},load:function(t,e,i){this.callEvent("onXLS",[this]),2==arguments.length&&"function"!=typeof e&&(i=e,e=null),i=i||"xml",this.xmlFileUrl||(this.xmlFileUrl=t),this._data_type=i,this.xmlLoader.onloadAction=function(t,s,n,o,l){t.callEvent&&(l=t["_process_"+i](l),t._contextCallTimer||t.callEvent("onXLE",[t,0,0,l]),e&&(e(),e=null))},this.xmlLoader.loadXML(t)},loadXMLString:function(t,e){var i=new dtmlXMLLoaderObject(function(){});i.loadXMLString(t),this.parse(i,e,"xml")},loadXML:function(t,e){this.load(t,e,"xml")},parse:function(t,e,i){2==arguments.length&&"function"!=typeof e&&(i=e,e=null),this._data_type=i=i||"xml",t=this["_process_"+i](t),this._contextCallTimer||this.callEvent("onXLE",[this,0,0,t]),e&&e()},xml:{top:"rows",row:"./row",cell:"./cell",s_row:"row",s_cell:"cell",row_attrs:[],cell_attrs:[]},csv:{row:"\n",cell:","},_xml_attrs:function(t){var e={};if(t.attributes.length)for(var i=0;i<t.attributes.length;i++)e[t.attributes[i].name]=t.attributes[i].value;return e},_process_xml:function(t){if(!t.doXPath){var e=new dtmlXMLLoaderObject(function(){});"string"==typeof t?e.loadXMLString(t):(e.xmlDoc=t.responseXML?t:{},e.xmlDoc.responseXML=t),t=e}if(this._refresh_mode)return this._refreshFromXML(t);this._parsing=!0;var i=t.getXMLTopNode(this.xml.top);if(i.tagName==this.xml.top){var s=i.getAttribute("dhx_security");s&&(dhtmlx.security_key=s),this._parseHead(i);var n=t.doXPath(this.xml.row,i),o=parseInt(t.doXPath("//"+this.xml.top)[0].getAttribute("pos")||0),l=parseInt(t.doXPath("//"+this.xml.top)[0].getAttribute("total_count")||0),l=Math.min(l,32e6/this._srdh),h=!1;if(l&&l!=this.rowsBuffer.length&&(this.rowsBuffer[l-1]||(this.rowsBuffer.length&&(h=!0),this.rowsBuffer[l-1]=null),l<this.rowsBuffer.length&&(this.rowsBuffer.splice(l,this.rowsBuffer.length-l),h=!0)),this.isTreeGrid())return this._process_tree_xml(t);for(var r=0;r<n.length;r++)if(!this.rowsBuffer[r+o]){var a=n[r].getAttribute("id")||r+o+1;this.rowsBuffer[r+o]={idd:a,data:n[r],_parser:this._process_xml_row,_locator:this._get_xml_data},this.rowsAr[a]=n[r]}if(this.callEvent("onDataReady",[]),h&&this._srnd){var d=this.objBox.scrollTop;this._reset_view(),this.objBox.scrollTop=d}else this.render_dataset();return this._parsing=!1,t.xmlDoc.responseXML?t.xmlDoc.responseXML:t.xmlDoc}},_process_jsarray:function(a){this._parsing=!0,a&&a.xmlDoc&&(eval("dhtmlx.temp="+a.xmlDoc.responseText+";"),a=dhtmlx.temp);for(var b=0;b<a.length;b++){var c=b+1;this.rowsBuffer.push({idd:c,data:a[b],_parser:this._process_jsarray_row,_locator:this._get_jsarray_data}),this.rowsAr[c]=a[b]}this.render_dataset(),this._parsing=!1},_process_csv:function(t){if(this._parsing=!0,t.xmlDoc&&(t=t.xmlDoc.responseText),t=t.replace(/\r/g,""),t=t.split(this.csv.row),this._csvHdr){this.clearAll();var e=t.splice(0,1)[0].split(this.csv.cell);this._csvAID||e.splice(0,1),this.setHeader(e.join(this.delim)),this.init()}for(var i=0;i<t.length;i++)if(t[i]||i!=t.length-1){if(this._csvAID){var s=i+1;this.rowsBuffer.push({idd:s,data:t[i],_parser:this._process_csv_row,_locator:this._get_csv_data})}else{var n=t[i].split(this.csv.cell),s=n.splice(0,1)[0];this.rowsBuffer.push({idd:s,data:n,_parser:this._process_jsarray_row,_locator:this._get_jsarray_data})}this.rowsAr[s]=t[i]}this.render_dataset(),this._parsing=!1},_process_js:function(t){return this._process_json(t,"js")},_process_json:function(a,b){if(this._parsing=!0,a&&a.xmlDoc&&(eval("dhtmlx.temp="+a.xmlDoc.responseText+";"),a=dhtmlx.temp),"js"==b){a.data&&(a=a.data);for(var c=0;c<a.length;c++){var d=a[c],e=d.id||c+1;this.rowsBuffer.push({idd:e,data:d,_parser:this._process_js_row,_locator:this._get_js_data}),this.rowsAr[e]=a[c]}}else for(c=0;c<a.rows.length;c++)e=a.rows[c].id,this.rowsBuffer.push({idd:e,data:a.rows[c],_parser:this._process_json_row,_locator:this._get_json_data}),this.rowsAr[e]=a.rows[c];a.dhx_security&&(dhtmlx.security_key=a.dhx_security),this.render_dataset(),this._parsing=!1},render_dataset:function(t,e){if(this._srnd){if(this._fillers)return this._update_srnd_view();e=Math.min(this._get_view_size()+(this._srnd_pr||0),this.rowsBuffer.length)}this.pagingOn?(t=Math.max(t||0,(this.currentPage-1)*this.rowsBufferOutSize),e=Math.min(this.currentPage*this.rowsBufferOutSize,this.rowsBuffer.length)):(t=t||0,e=e||this.rowsBuffer.length);for(var i=t;e>i;i++){var s=this.render_row(i);if(-1==s){this.xmlFileUrl&&this.callEvent("onDynXLS",[i,this._dpref?this._dpref:e-i])&&this.load(this.xmlFileUrl+getUrlSymbol(this.xmlFileUrl)+"posStart="+i+"&count="+(this._dpref?this._dpref:e-i),this._data_type),e=i;break}if(s.parentNode&&s.parentNode.tagName||(this._insertRowAt(s,i),(s._attrs.selected||s._attrs.select)&&(this.selectRow(s,s._attrs.call?!0:!1,!0),s._attrs.selected=s._attrs.select=null)),this._ads_count&&i-t==this._ads_count){var n=this;return this._context_parsing=this._context_parsing||this._parsing,this._contextCallTimer=window.setTimeout(function(){n._contextCallTimer=null,n.render_dataset(i,e),n._contextCallTimer||(n._context_parsing?n.callEvent("onXLE",[]):n._fixAlterCss(),n.callEvent("onDistributedEnd",[]),n._context_parsing=!1)},this._ads_time)}}if(this._srnd&&!this._fillers){var o=this.rowsBuffer.length-e;for(this._fillers=[];o>0;){var l=_isIE||window._FFrv?Math.min(o,5e4):o,h=this._add_filler(e,l);h&&this._fillers.push(h),o-=l,e+=l}}this.setSizes()},render_row:function(t){if(!this.rowsBuffer[t])return-1;if(this.rowsBuffer[t]._parser){var e=this.rowsBuffer[t];if(this.rowsAr[e.idd]&&"TR"==this.rowsAr[e.idd].tagName)return this.rowsBuffer[t]=this.rowsAr[e.idd];var i=this._prepareRow(e.idd);return this.rowsBuffer[t]=i,this.rowsAr[e.idd]=i,e._parser.call(this,i,e.data),this._postRowProcessing(i),i}return this.rowsBuffer[t]},_get_cell_value:function(t,e,i){return t._locator?(this._c_order&&(e=this._c_order[e]),t._locator.call(this,t.data,e)):this.cells3(t,e)[i?i:"getValue"]()},sortRows:function(t,e,i){if(i=(i||"asc").toLowerCase(),e=e||this.fldSort[t],t=t||0,this.isTreeGrid())this.sortTreeRows(t,e,i);else{var s={},n=this.cellType[t],o="getValue";"link"==n&&(o="getContent"),("dhxCalendar"==n||"dhxCalendarA"==n)&&(o="getDate");for(var l=0;l<this.rowsBuffer.length;l++)s[this.rowsBuffer[l].idd]=this._get_cell_value(this.rowsBuffer[l],t,o);this._sortRows(t,e,i,s)}this.callEvent("onAfterSorting",[t,e,i])},_sortCore:function(t,e,i,s,n){var o="sort";if(this._sst&&(n.stablesort=this.rowsCol.stablesort,o="stablesort"),e.length>4&&(e=window[e]),"cus"==e){var l=this._customSorts[t];n[o](function(t,e){return l(s[t.idd],s[e.idd],i,t.idd,e.idd)})}else"function"==typeof e?n[o](function(t,n){return e(s[t.idd],s[n.idd],i,t.idd,n.idd)}):"str"==e?n[o](function(t,e){return"asc"==i?s[t.idd]>s[e.idd]?1:s[t.idd]<s[e.idd]?-1:0:s[t.idd]<s[e.idd]?1:s[t.idd]>s[e.idd]?-1:0}):"int"==e?n[o](function(t,e){var n=parseFloat(s[t.idd]),n=isNaN(n)?-99999999999999:n,o=parseFloat(s[e.idd]),o=isNaN(o)?-99999999999999:o;return"asc"==i?n-o:o-n}):"date"==e&&n[o](function(t,e){var n=Date.parse(s[t.idd])||Date.parse("01/01/1900"),o=Date.parse(s[e.idd])||Date.parse("01/01/1900");return"asc"==i?n-o:o-n})},_sortRows:function(t,e,i,s){this._sortCore(t,e,i,s,this.rowsBuffer),this._reset_view(),this.callEvent("onGridReconstructed",[])},_reset_view:function(t){if(this.obj.rows[0]){this._lahRw&&this._unsetRowHover(0,!0),this.callEvent("onResetView",[]);var e=this.obj.rows[0].parentNode,i=e.removeChild(e.childNodes[0],!0);if(_isKHTML)for(var s=e.parentNode.childNodes.length-1;s>=0;s--)"TR"==e.parentNode.childNodes[s].tagName&&e.parentNode.removeChild(e.parentNode.childNodes[s],!0);else if(_isIE)for(s=e.childNodes.length-1;s>=0;s--)e.childNodes[s].removeNode(!0);else e.innerHTML="";e.appendChild(i),this.rowsCol=dhtmlxArray(),this._sst&&this.enableStableSorting(!0),this._fillers=this.undefined,t||this.render_dataset()}},deleteRow:function(t,e){if(e||(e=this.getRowById(t)),e){if(this.editStop(),!this._realfake&&0==this.callEvent("onBeforeRowDeleted",[t]))return!1;var i=0;if(-1==this.cellType._dhx_find("tree")||this._realfake){e.parentNode&&e.parentNode.removeChild(e);var s=this.rowsCol._dhx_find(e);-1!=s&&this.rowsCol._dhx_removeAt(s);for(var n=0;n<this.rowsBuffer.length;n++)if(this.rowsBuffer[n]&&this.rowsBuffer[n].idd==t){this.rowsBuffer._dhx_removeAt(n),s=n;break}}else i=this._h2.get[t].parent.id,this._removeTrGrRow(e);for(this.rowsAr[t]=null,n=0;n<this.selectedRows.length;n++)this.selectedRows[n].idd==t&&this.selectedRows._dhx_removeAt(n);if(this._srnd){for(n=0;n<this._fillers.length;n++){var o=this._fillers[n];o&&this._update_fillers(n,o[1]>=s?-1:0,o[0]>=s?-1:0)}this._update_srnd_view()}return this.pagingOn&&this.changePage(),this._realfake||this.callEvent("onAfterRowDeleted",[t,i]),this.callEvent("onGridReconstructed",[]),this._ahgr&&this.setSizes(),!0}},_addRow:function(t,e,i){(-1==i||"undefined"==typeof i)&&(i=this.rowsBuffer.length),"string"==typeof e&&(e=e.split(this.delim));var s=this._prepareRow(t);s._attrs={};for(var n=0;n<s.childNodes.length;n++)s.childNodes[n]._attrs={};if(this.rowsAr[s.idd]=s,this._h2&&(this._h2.get[s.idd].buff=s),this._fillRow(s,e),this._postRowProcessing(s),this._skipInsert)return this._skipInsert=!1,this.rowsAr[s.idd]=s;if(this.pagingOn)return this.rowsBuffer._dhx_insertAt(i,s),this.rowsAr[s.idd]=s;if(this._fillers){this.rowsCol._dhx_insertAt(i,null),this.rowsBuffer._dhx_insertAt(i,s),this._fake&&this._fake.rowsCol._dhx_insertAt(i,null),this.rowsAr[s.idd]=s;for(var o=!1,l=0;l<this._fillers.length;l++){var h=this._fillers[l];if(h&&h[0]<=i&&h[0]+h[1]>=i){h[1]+=1;var r=h[2].firstChild.style.height=parseInt(h[2].firstChild.style.height)+this._srdh+"px",o=!0;this._fake&&(this._fake._fillers[l][1]++,this._fake._fillers[l][2].firstChild.style.height=r)}h&&h[0]>i&&(h[0]+=1,this._fake&&this._fake._fillers[l][0]++)}return o||this._fillers.push(this._add_filler(i,1,0==i?{parentNode:this.obj.rows[0].parentNode,nextSibling:this.rowsCol[1]}:this.rowsCol[i-1])),s}return this.rowsBuffer._dhx_insertAt(i,s),this._insertRowAt(s,i)},addRow:function(t,e,i){var s=this._addRow(t,e,i);return this.dragContext||this.callEvent("onRowAdded",[t]),this.pagingOn&&this.changePage(this.currentPage),this._srnd&&this._update_srnd_view(),s._added=!0,this._ahgr&&this.setSizes(),this.callEvent("onGridReconstructed",[]),s},_insertRowAt:function(t,e,i){if(this.rowsAr[t.idd]=t,this._skipInsert)return this._skipInsert=!1,t;if(0>e||!e&&0!==parseInt(e)?e=this.rowsCol.length:e>this.rowsCol.length&&(e=this.rowsCol.length),this._cssEven){var s=t.className.replace(this._cssUnEven,"");t.className+=(this._cssSP?this.getLevel(t.idd):e)%2==1?s+" "+this._cssUnEven+(this._cssSU?" "+this._cssUnEven+"_"+this.getLevel(t.idd):""):s+" "+this._cssEven+(this._cssSU?" "+this._cssEven+"_"+this.getLevel(t.idd):"")}return i||(e!=this.obj.rows.length-1&&this.rowsCol[e]?this.rowsCol[e].parentNode.insertBefore(t,this.rowsCol[e]):_isKHTML?this.obj.appendChild(t):this.obj.firstChild.appendChild(t)),this.rowsCol._dhx_insertAt(e,t),this.callEvent("onRowInserted",[t,e]),t},getRowById:function(t){var e=this.rowsAr[t];if(e){if("TR"!=e.tagName){for(var i=0;i<this.rowsBuffer.length;i++)if(this.rowsBuffer[i]&&this.rowsBuffer[i].idd==t)return this.render_row(i);if(this._h2)return this.render_row(null,e.idd)}return e}return null},cellById:function(t,e){return this.cells(t,e)},cells:function(t,e){if(0==arguments.length)return this.cells4(this.cell);var i=this.getRowById(t),s=i._childIndexes?i.childNodes[i._childIndexes[e]]:i.childNodes[e];return!s&&i._childIndexes&&(s=i.firstChild||{}),this.cells4(s)},cellByIndex:function(t,e){return this.cells2(t,e)},cells2:function(t,e){var i=this.render_row(t),s=i._childIndexes?i.childNodes[i._childIndexes[e]]:i.childNodes[e];return!s&&i._childIndexes&&(s=i.firstChild||{}),this.cells4(s)},cells3:function(t,e){var i=t._childIndexes?t.childNodes[t._childIndexes[e]]:t.childNodes[e];return this.cells4(i)},cells4:function(t){var e=window["eXcell_"+(t._cellType||this.cellType[t._cellIndex])];return e?new e(t):void 0},cells5:function(t,e){if(e=e||t._cellType||this.cellType[t._cellIndex],!this._ecache[e]){var i=window["eXcell_"+e]?window["eXcell_"+e]:eXcell_ro;this._ecache[e]=new i(t)}return this._ecache[e].cell=t,this._ecache[e]},dma:function(t){this._ecache||(this._ecache={}),t&&!this._dma?(this._dma=this.cells4,this.cells4=this.cells5):!t&&this._dma&&(this.cells4=this._dma,this._dma=null)},getRowsNum:function(){return this.rowsBuffer.length},enableEditTabOnly:function(t){this.smartTabOrder=arguments.length>0?convertStringToBoolean(t):!0},setExternalTabOrder:function(t,e){var i=this;this.tabStart="object"==typeof t?t:document.getElementById(t);var s=this.tabStart.onkeydown;this.tabStart.onkeydown=function(t){s&&s.call(this,t);var e=t||window.event;return 9!=e.keyCode||e.shiftKey?void 0:(e.cancelBubble=!0,i.selectCell(0,0,0,0,1),i.smartTabOrder&&i.cells2(0,0).isDisabled()&&i._key_events.k9_0_0.call(i),this.blur(),!1)},_isOpera&&(this.tabStart.onkeypress=this.tabStart.onkeydown),this.tabEnd="object"==typeof e?e:document.getElementById(e);var n=this.tabEnd.onkeydown;this.tabEnd.onkeydown=this.tabEnd.onkeypress=function(t){n&&n.call(this,t);var e=t||window.event;return 9==e.keyCode&&e.shiftKey?(e.cancelBubble=!0,i.selectCell(i.getRowsNum()-1,i.getColumnCount()-1,0,0,1),i.smartTabOrder&&i.cells2(i.getRowsNum()-1,i.getColumnCount()-1).isDisabled()&&i._key_events.k9_0_1.call(i),this.blur(),!1):void 0},_isOpera&&(this.tabEnd.onkeypress=this.tabEnd.onkeydown)},uid:function(){return this._ui_seed||(this._ui_seed=(new Date).valueOf()),this._ui_seed++},clearAndLoad:function(){var t=this._pgn_skin;this._pgn_skin=null,this.clearAll(),this._pgn_skin=t,this.load.apply(this,arguments)},getStateOfView:function(){if(this.pagingOn){var t=(this.currentPage-1)*this.rowsBufferOutSize;return[this.currentPage,t,Math.min(t+this.rowsBufferOutSize,this.rowsBuffer.length),this.rowsBuffer.length]}return[Math.floor(this.objBox.scrollTop/this._srdh),Math.ceil(parseInt(this.objBox.offsetHeight)/this._srdh),this.rowsBuffer.length]}},function(){function t(t,e){this[t]=e}function e(t,e){this[t].call(this,e)}function i(t,e){this[t].call(this,e.join(this.delim))}function s(t,e){for(var i=0;i<e.length;i++)if("object"==typeof e[i]){var s,n=this.getCombo(i);for(s in e[i])n.put(s,e[i][s])}}function n(t,e){function i(t,e,i){s[e]||(s[e]=[]),"object"==typeof i&&(i.toString=function(){return this.text}),s[e][t]=i}for(var s=[],n=0;n<e.length;n++)if("object"==typeof e[n]&&e[n].length)for(var o=0;o<e[n].length;o++)i(n,o,e[n][o]);else i(n,0,e[n]);for(n=0;n<s.length;n++)for(o=0;o<s[0].length;o++){var l=s[n][o];if(s[n][o]=(l||"").toString()||"&nbsp;",l&&l.colspan)for(var h=1;h<l.colspan;h++)i(o+h,n,"#cspan");if(l&&l.rowspan)for(h=1;h<l.rowspan;h++)i(o,n+h,"#rspan")}for(this.setHeader(s[0]),n=1;n<s.length;n++)this.attachHeader(s[n])}var o=[{name:"label",def:"&nbsp;",operation:"setHeader",type:n},{name:"id",def:"",operation:"columnIds",type:t},{name:"width",def:"*",operation:"setInitWidths",type:i},{name:"align",def:"left",operation:"cellAlign",type:t},{name:"valign",def:"middle",operation:"cellVAlign",type:t},{name:"sort",def:"na",operation:"fldSort",type:t},{name:"type",def:"ro",operation:"setColTypes",type:i},{name:"options",def:"",operation:"",type:s}];dhtmlx.extend_api("dhtmlXGridObject",{_init:function(t){return[t.parent]},image_path:"setImagePath",columns:"columns",rows:"rows",headers:"headers",skin:"setSkin",smart_rendering:"enableSmartRendering",css:"enableAlterCss",auto_height:"enableAutoHeight",save_hidden:"enableAutoHiddenColumnsSaving",save_cookie:"enableAutoSaving",save_size:"enableAutoSizeSaving",auto_width:"enableAutoWidth",block_selection:"enableBlockSelection",csv_id:"enableCSVAutoID",csv_header:"enableCSVHeader",cell_ids:"enableCellIds",colspan:"enableColSpan",column_move:"enableColumnMove",context_menu:"enableContextMenu",distributed:"enableDistributedParsing",drag:"enableDragAndDrop",drag_order:"enableDragOrder",tabulation:"enableEditTabOnly",header_images:"enableHeaderImages",header_menu:"enableHeaderMenu",keymap:"enableKeyboardSupport",mouse_navigation:"enableLightMouseNavigation",markers:"enableMarkedCells",math_editing:"enableMathEditing",math_serialization:"enableMathSerialization",drag_copy:"enableMercyDrag",multiline:"enableMultiline",multiselect:"enableMultiselect",save_column_order:"enableOrderSaving",hover:"enableRowsHover",rowspan:"enableRowspan",smart:"enableSmartRendering",save_sorting:"enableSortingSaving",stable_sorting:"enableStableSorting",undo:"enableUndoRedo",csv_cell:"setCSVDelimiter",date_format:"setDateFormat",drag_behavior:"setDragBehavior",editable:"setEditable",without_header:"setNoHeader",submit_changed:"submitOnlyChanged",submit_serialization:"submitSerialization",submit_selected:"submitOnlySelected",submit_id:"submitOnlyRowID",xml:"load"},{columns:function(t){for(var i=0;i<o.length;i++){for(var s=[],n=0;n<t.length;n++)s[n]=t[n][o[i].name]||o[i].def;var l=o[i].type||e;l.call(this,o[i].operation,s,t)}this.init()},rows:function(){},headers:function(t){for(var e=0;e<t.length;e++)this.attachHeader(t[e])}})}(),dhtmlXGridObject.prototype._dp_init=function(t){t.attachEvent("insertCallback",function(t,e){this.obj._h2?this.obj.addRow(e,i,null,parent):this.obj.addRow(e,[],0);var i=this.obj.getRowById(e);i&&(this.obj._process_xml_row(i,t.firstChild),this.obj._postRowProcessing(i))}),t.attachEvent("updateCallback",function(t,e){var i=this.obj.getRowById(e);i&&(this.obj._process_xml_row(i,t.firstChild),this.obj._postRowProcessing(i))}),t.attachEvent("deleteCallback",function(t,e){this.obj.setUserData(e,this.action_param,"true_deleted"),this.obj.deleteRow(e)}),t._methods=["setRowTextStyle","setCellTextStyle","changeRowId","deleteRow"],this.attachEvent("onEditCell",function(e,i,s){if(t._columns&&!t._columns[s])return!0;var n=this.cells(i,s);return 1==e?n.isCheckbox()&&t.setUpdated(i,!0):2==e&&n.wasChanged()&&t.setUpdated(i,!0),!0}),this.attachEvent("onRowPaste",function(e){t.setUpdated(e,!0)}),this.attachEvent("onUndo",function(e){t.setUpdated(e,!0)}),this.attachEvent("onRowIdChange",function(e,i){var s=t.findRow(e);s<t.updatedRows.length&&(t.updatedRows[s]=i)}),this.attachEvent("onSelectStateChanged",function(){return"row"==t.updateMode&&t.sendData(),!0}),this.attachEvent("onEnter",function(){return"row"==t.updateMode&&t.sendData(),!0}),this.attachEvent("onBeforeRowDeleted",function(e){if(!this.rowsAr[e])return!0;if(this.dragContext&&t.dnd)return window.setTimeout(function(){t.setUpdated(e,!0)},1),!0;var i=t.getState(e);return this._h2&&this._h2.forEachChild(e,function(e){t.setUpdated(e.id,!1),t.markRow(e.id,!0,"deleted")},this),"inserted"==i?(t.set_invalid(e,!1),t.setUpdated(e,!1),!0):"deleted"==i?!1:"true_deleted"==i?(t.setUpdated(e,!1),!0):(t.setUpdated(e,!0,"deleted"),!1)}),this.attachEvent("onBindUpdate",function(e){"object"==typeof e&&(e=e.id),t.setUpdated(e,!0)}),this.attachEvent("onRowAdded",function(e){return this.dragContext&&t.dnd?!0:(t.setUpdated(e,!0,"inserted"),!0)}),t._getRowData=function(t){var e=[];e.gr_id=t,this.obj.isTreeGrid()&&(e.gr_pid=this.obj.getParentId(t));for(var i=this.obj.getRowById(t),s=0;s<this.obj._cCount;s++){var n=this.obj._c_order?this.obj._c_order[s]:s,o=this.obj.cells(i.idd,s);(!this._changed||o.wasChanged())&&(this._endnm?e[this.obj.getColumnId(s)]=o.getValue():e["c"+n]=o.getValue())}var l=this.obj.UserData[t];if(l)for(var h=0;h<l.keys.length;h++)l.keys[h]&&0!=l.keys[h].indexOf("__")&&(e[l.keys[h]]=l.values[h]);if(l=this.obj.UserData.gridglobaluserdata)for(h=0;h<l.keys.length;h++)e[l.keys[h]]=l.values[h];return e},t._clearUpdateFlag=function(t){var e=this.obj.getRowById(t);if(e)for(var i=0;i<this.obj._cCount;i++)this.obj.cells(t,i).cell.wasChanged=!1},t.checkBeforeUpdate=function(t){for(var e=!0,i=[],s=0;s<this.obj._cCount;s++)if(this.mandatoryFields[s]){var n=this.mandatoryFields[s].call(this.obj,this.obj.cells(t,s).getValue(),t,s);"string"==typeof n?(this.messages.push(n),e=!1):(e&=n,i[s]=!n)}return e||(this.set_invalid(t,"invalid",i),this.setUpdated(t,!1)),e}},dhtmlXGridCellObject.prototype={getAttribute:function(t){return this.cell._attrs[t]},setAttribute:function(t,e){this.cell._attrs[t]=e},getInput:function(){if(this.obj&&("INPUT"==this.obj.tagName||"TEXTAREA"==this.obj.tagName))return this.obj;var t=(this.obj||this.cell).getElementsByTagName("TEXTAREA");return t.length||(t=(this.obj||this.cell).getElementsByTagName("INPUT")),t[0]}},dhtmlXGridCellObject.prototype.setValue=function(t){"number"==typeof t||t&&""!=t.toString()._dhx_trim()?this.cell._clearCell=!1:(t="&nbsp;",this.cell._clearCell=!0),this.setCValue(t)},dhtmlXGridCellObject.prototype.getTitle=function(){return _isIE?this.cell.innerText:this.cell.textContent},dhtmlXGridCellObject.prototype.setCValue=function(t,e){this.cell.innerHTML=t,this.grid.callEvent("onCellChanged",[this.cell.parentNode.idd,this.cell._cellIndex,arguments.length>1?e:t])},dhtmlXGridCellObject.prototype.setCTxtValue=function(t){this.cell.innerHTML="",this.cell.appendChild(document.createTextNode(t)),this.grid.callEvent("onCellChanged",[this.cell.parentNode.idd,this.cell._cellIndex,t])},dhtmlXGridCellObject.prototype.setLabel=function(t){this.cell.innerHTML=t},dhtmlXGridCellObject.prototype.getMath=function(){return this._val?this.val:this.getValue()
},eXcell.prototype=new dhtmlXGridCellObject,eXcell_ed.prototype=new eXcell,eXcell_edtxt.prototype=new eXcell_ed,eXcell_edn.prototype=new eXcell_ed,eXcell_edn.prototype.setValue=function(t){return t&&""!=t.toString()._dhx_trim()?(this.cell._clearCell=!1,this.cell._orig_value=t,void this.setCValue(this.grid._aplNF(t,this.cell._cellIndex),t)):(this.cell._clearCell=!0,this.setCValue("&nbsp;",0))},eXcell_ch.prototype=new eXcell,eXcell_ch.prototype.setValue=function(t){this.cell.style.verticalAlign="middle",t&&(t=t.toString()._dhx_trim(),"false"==t||"0"==t)&&(t=""),t?(t="1",this.cell.chstate="1"):(t="0",this.cell.chstate="0");this.setCValue("<img src='"+this.grid.imgURL+"item_chk"+t+".gif' onclick='new eXcell_ch(this.parentNode).changeState(true); (arguments[0]||event).cancelBubble=true; '>",this.cell.chstate)},eXcell_ra.prototype=new eXcell_ch,eXcell_ra.prototype.setValue=function(t){if(this.cell.style.verticalAlign="middle",t&&(t=t.toString()._dhx_trim(),"false"==t||"0"==t)&&(t=""),t){if(this.grid._RaSeCol||(this.grid._RaSeCol=[]),this.grid._RaSeCol[this.cell._cellIndex]){var e=this.grid.cells4(this.grid._RaSeCol[this.cell._cellIndex]);e.setValue("0"),this.grid.rowsAr[e.cell.parentNode.idd]&&this.grid.callEvent("onEditCell",[1,e.cell.parentNode.idd,e.cell._cellIndex])}this.grid._RaSeCol[this.cell._cellIndex]=this.cell,t="1",this.cell.chstate="1"}else t="0",this.cell.chstate="0";this.setCValue("<img src='"+this.grid.imgURL+"radio_chk"+t+".gif' onclick='new eXcell_ra(this.parentNode).changeState(false);'>",this.cell.chstate)},eXcell_txt.prototype=new eXcell,eXcell_txttxt.prototype=new eXcell_txt,eXcell_txt.prototype.setValue=function(t){this.cell._brval=t,t&&""!=t.toString()._dhx_trim()?this.cell._clearCell=!1:(t="&nbsp;",this.cell._clearCell=!0),!this.grid.multiLine||this.cell._clearCell?this.setCValue(t,this.cell._brval):this.setCValue(t.replace(/\n/g,"<br/>"),t)},eXcell_co.prototype=new eXcell,eXcell_co.prototype.getText=function(){return this.cell.innerHTML},eXcell_co.prototype.setValue=function(t){if("object"==typeof t){var e=this.grid.xmlLoader.doXPath("./option",t);e.length&&(this.cell._combo=new dhtmlXGridComboObject);for(var i=0;i<e.length;i++)this.cell._combo.put(e[i].getAttribute("value"),e[i].firstChild?e[i].firstChild.data:"");t=t.firstChild.data}if(""==(t||"").toString()._dhx_trim()&&(t=null),this.cell.combo_value=t,null!==t){var s=(this.cell._combo||this.grid.getCombo(this.cell._cellIndex)).get(t);this.setCValue(null===s?t:s,t)}else this.setCValue("&nbsp;",t)},eXcell_coro.prototype=new eXcell_co,eXcell_cotxt.prototype=new eXcell_co,eXcell_cotxt.prototype.getText=function(){return _isIE?this.cell.innerText:this.cell.textContent},eXcell_cotxt.prototype.setValue=function(t){if("object"==typeof t){var e=this.grid.xmlLoader.doXPath("./option",t);e.length&&(this.cell._combo=new dhtmlXGridComboObject);for(var i=0;i<e.length;i++)this.cell._combo.put(e[i].getAttribute("value"),e[i].firstChild?e[i].firstChild.data:"");t=t.firstChild.data}""==(t||"").toString()._dhx_trim()&&(t=null),null!==t?this.setCTxtValue((this.cell._combo||this.grid.getCombo(this.cell._cellIndex)).get(t)||t,t):this.setCTxtValue(" ",t),this.cell.combo_value=t},eXcell_corotxt.prototype=new eXcell_cotxt,eXcell_cp.prototype=new eXcell,eXcell_cp.prototype.setValue=function(t){this.setCValue("<div style='width:100%;height:"+(this.grid.multiLine?this.cell.offsetHeight-2:16)+";background-color:"+(t||"")+";border:0px;'>&nbsp;</div>",t),this.cell.firstChild._bg=t},eXcell_img.prototype=new eXcell,eXcell_img.prototype.getTitle=function(){return this.cell._brval},eXcell_img.prototype.setValue=function(t){var e=t;if(-1!=t.indexOf("^")){var i=t.split("^"),t=i[0],e=this.cell._attrs.title||i[1];i.length>2&&(this.cell.lnk=i[2],i[3])&&(this.cell.trg=i[3]),this.cell.titFl="1"}this.setCValue("<img src='"+this.grid.iconURL+(t||"")._dhx_trim()+"' border='0'>",t),this.cell.lnk&&(this.cell.innerHTML="<a href='"+this.cell.lnk+"' target='"+this.cell.trg+"'>"+this.cell.innerHTML+"</a>"),this.cell._brval=e},eXcell_price.prototype=new eXcell_ed,eXcell_price.prototype.setValue=function(t){isNaN(parseFloat(t))&&(t=this.val||0);var e="green";0>t&&(e="red"),this.setCValue("<span>$</span><span style='padding-right:2px;color:"+e+";'>"+t+"</span>",t)},eXcell_dyn.prototype=new eXcell_ed,eXcell_dyn.prototype.setValue=function(t){if((!t||isNaN(Number(t)))&&""!==t&&(t=0),t>0)var e="green",i="dyn_up.gif";else 0==t?(e="black",i="dyn_.gif"):(e="red",i="dyn_down.gif");this.setCValue("<div style='position:relative;padding-right:2px; width:100%;overflow:hidden; white-space:nowrap;'><img src='"+this.grid.imgURL+i+"' height='15' style='position:absolute;top:0px;left:0px;'><span style=' padding-left:20px; width:100%;color:"+e+";'>"+t+"</span></div>",t)},eXcell_ro.prototype=new eXcell,eXcell_ron.prototype=new eXcell,eXcell_ron.prototype.setValue=function(t){return 0===t||t&&""!=t.toString()._dhx_trim()?(this.cell._clearCell=!1,void this.setCValue(t?this.grid._aplNF(t,this.cell._cellIndex):"0")):(this.setCValue("&nbsp;"),this.cell._clearCell=!0)},eXcell_rotxt.prototype=new eXcell,Hashtable.prototype=new dhtmlXGridComboObject,dhtmlXGridObject.prototype._process_json_row=function(t,e){t._attrs=e;for(var i=0;i<t.childNodes.length;i++)t.childNodes[i]._attrs={};if(e.userdata)for(var s in e.userdata)this.setUserData(t.idd,s,e.userdata[s]);for(var e=this._c_order?this._swapColumns(e.data):e.data,n=0;n<e.length;n++)"object"==typeof e[n]&&null!=e[n]&&(t.childNodes[n]._attrs=e[n],e[n].type&&(t.childNodes[n]._cellType=e[n].type),e[n]=e[n].value);return this._fillRow(t,e),t},dhtmlXGridObject.prototype._process_js_row=function(t,e){t._attrs=e;for(var i=0;i<t.childNodes.length;i++)t.childNodes[i]._attrs={};if(e.userdata)for(var s in e.userdata)this.setUserData(t.idd,s,e.userdata[s]);for(var n=[],o=0;o<this.columnIds.length;o++)n[o]=e[this.columnIds[o]],"object"==typeof n[o]&&null!=n[o]&&(t.childNodes[o]._attrs=n[o],n[o].type&&(t.childNodes[o]._cellType=n[o].type),n[o]=n[o].value),!n[o]&&0!==n[o]&&(n[o]="");return this._fillRow(t,n),t},dhtmlXGridObject.prototype.updateFromJSON=function(t,e,i,s){"undefined"==typeof e&&(e=!0),this._refresh_mode=[!0,e,i],this.load(t,s,"json")},dhtmlXGridObject.prototype._refreshFromJSON=function(t){this._f_rowsBuffer&&this.filterBy(0,""),reset=!1,window.eXcell_tree&&(eXcell_tree.prototype.setValueX=eXcell_tree.prototype.setValue,eXcell_tree.prototype.setValue=function(t){var e=this.grid._h2.get[this.cell.parentNode.idd];e&&this.cell.parentNode.valTag?this.setLabel(t):this.setValueX(t)});var e=this.cellType._dhx_find("tree"),i=t.parent||0,s={};this._refresh_mode[2]&&(-1!=e?this._h2.forEachChild(i,function(t){s[t.id]=!0},this):this.forEachRow(function(t){s[t]=!0}));for(var n=t.rows,o=0;o<n.length;o++){var l=n[o],h=l.id;if(s[h]=!1,this.rowsAr[h]&&"TR"!=this.rowsAr[h].tagName)this._h2?this._h2.get[h].buff.data=l:this.rowsBuffer[this.getRowIndex(h)].data=l,this.rowsAr[h]=l;else if(this.rowsAr[h])this._process_json_row(this.rowsAr[h],l,-1),this._postRowProcessing(this.rowsAr[h],!0);else if(this._refresh_mode[1]){var r={idd:h,data:l,_parser:this._process_json_row,_locator:this._get_json_data},a=this.rowsBuffer.length;"top"==this._refresh_mode[1]?(this.rowsBuffer.unshift(r),a=0):this.rowsBuffer.push(r),this._h2&&(reset=!0,this._h2.add(h,i).buff=this.rowsBuffer[this.rowsBuffer.length-1]),this.rowsAr[h]=l,l=this.render_row(a),this._insertRowAt(l,a?-1:0)}}if(this._refresh_mode[2])for(h in s)s[h]&&this.rowsAr[h]&&this.deleteRow(h);this._refresh_mode=null,window.eXcell_tree&&(eXcell_tree.prototype.setValue=eXcell_tree.prototype.setValueX),reset&&this._renderSort(),this._f_rowsBuffer&&(this._f_rowsBuffer=null,this.filterByAll())},dhtmlXGridObject.prototype._process_js=function(t){return this._process_json(t,"js")},dhtmlXGridObject.prototype._process_json=function(a,b){this._parsing=!0;try{a&&a.xmlDoc?(eval("dhtmlx.temp="+a.xmlDoc.responseText+";"),a=dhtmlx.temp):"string"==typeof a&&(eval("dhtmlx.temp="+a+";"),a=dhtmlx.temp)}catch(c){dhtmlxError.throwError("LoadXML","Incorrect JSON",[a.xmlDoc||a,this]),a={rows:[]}}if(this._refresh_mode)return this._refreshFromJSON(a);var d=parseInt(a.pos||0),e=parseInt(a.total_count||0),f=!1;e&&(this.rowsBuffer[e-1]||(this.rowsBuffer.length&&(f=!0),this.rowsBuffer[e-1]=null),e<this.rowsBuffer.length&&(this.rowsBuffer.splice(e,this.rowsBuffer.length-e),f=!0));for(var g in a)"rows"!=g&&this.setUserData("",g,a[g]);if("js"==b&&a.collections)for(var h in a.collections){var i=this.getColIndexById(h),j=a.collections[h];if(i!==window.undefined)if("clist"==this.cellType[i]){colplaindata=[];for(var k=0;k<j.length;k++)colplaindata.push(j[k].label);this.registerCList(i,colplaindata)}else for(var l=this.getCombo(i),k=0;k<j.length;k++)l.put(j[k].value,j[k].label)}if(this.isTreeGrid())return this._process_tree_json(a,null,null,b);if("js"==b){a.data&&(a=a.data);for(var m=0;m<a.length;m++)if(!this.rowsBuffer[m+d]){var n=a[m],o=n.id||m+1;this.rowsBuffer[m+d]={idd:o,data:n,_parser:this._process_js_row,_locator:this._get_js_data},this.rowsAr[o]=a[m]}}else for(m=0;m<a.rows.length;m++)this.rowsBuffer[m+d]||(o=a.rows[m].id,this.rowsBuffer[m+d]={idd:o,data:a.rows[m],_parser:this._process_json_row,_locator:this._get_json_data},this.rowsAr[o]=a.rows[m]);if(f&&this._srnd){var p=this.objBox.scrollTop;this._reset_view(),this.objBox.scrollTop=p}else this.render_dataset();this._parsing=!1},dhtmlXGridObject.prototype._get_json_data=function(t,e){return"object"==typeof t.data[e]?t.data[e].value:t.data[e]},dhtmlXGridObject.prototype._process_tree_json=function(t,e,i,s){this._parsing=!0;var n=!1;if(e||(this.render_row=this.render_row_tree,n=!0,e=t,i=e.parent||0,"0"==i&&(i=0),this._h2||(this._h2=new dhtmlxHierarchy),this._fake&&(this._fake._h2=this._h2)),"js"==s){e.data&&!i&&(t=e.data),e.rows&&(e=e.rows);for(var o=0;o<e.length;o++){var l=e[o].id,h=this._h2.add(l,i);h.buff={idd:l,data:e[o],_parser:this._process_js_row,_locator:this._get_js_data},e[o].open&&(h.state="minus"),this.rowsAr[l]=h.buff,this._process_tree_json(e[o],e[o],l,s)}}else if(e.rows)for(o=0;o<e.rows.length;o++)l=e.rows[o].id,h=this._h2.add(l,i),h.buff={idd:l,data:e.rows[o],_parser:this._process_json_row,_locator:this._get_json_data},e.rows[o].open&&(h.state="minus"),this.rowsAr[l]=h.buff,this._process_tree_json(e.rows[o],e.rows[o],l,s);n&&(0!=i&&this._h2.change(i,"state","minus"),this._updateTGRState(this._h2.get[i]),this._h2_to_buff(),0!=i&&(this._srnd||this.pagingOn)?this._renderSort():this.render_dataset(),this._slowParse===!1&&this.forEachRow(function(t){this.render_row_tree(0,t)}),this._parsing=!1)},dhtmlXGridObject.prototype.filterBy=function(t,e,i){if(this.isTreeGrid())return this.filterTreeBy(t,e,i);if(this._f_rowsBuffer?!i&&(this.rowsBuffer=dhtmlxArray([].concat(this._f_rowsBuffer)),this._fake)&&(this._fake.rowsBuffer=this.rowsBuffer):this._f_rowsBuffer=[].concat(this.rowsBuffer),this.rowsBuffer.length){if(this.dma(!0),"object"==typeof t)for(var s=0;s<e.length;s++)this._filterA(t[s],e[s]);else this._filterA(t,e);this.dma(!1),this.pagingOn&&this.rowsBuffer.length/this.rowsBufferOutSize<this.currentPage-1&&this.changePage(0),this._reset_view(),this.callEvent("onGridReconstructed",[])}},dhtmlXGridObject.prototype._filterA=function(t,e){if(""!=e){var i=!0;if("function"==typeof e?i=!1:e=(e||"").toString().toLowerCase(),this.rowsBuffer.length)for(var s=this.rowsBuffer.length-1;s>=0;s--)(i?-1==this._get_cell_value(this.rowsBuffer[s],t).toString().toLowerCase().indexOf(e):!e.call(this,this._get_cell_value(this.rowsBuffer[s],t),this.rowsBuffer[s].idd))&&this.rowsBuffer.splice(s,1)}},dhtmlXGridObject.prototype.getFilterElement=function(t){if(this.filters){for(var e=0;e<this.filters.length;e++)if(this.filters[e][1]==t)return this.filters[e][0].combo||this.filters[e][0];return null}},dhtmlXGridObject.prototype.collectValues=function(t){var e=this.callEvent("onCollectValues",[t]);if(e!==!0)return e;if(this.isTreeGrid())return this.collectTreeValues(t);this.dma(!0),this._build_m_order();for(var t=this._m_order?this._m_order[t]:t,i={},s=[],n=this._f_rowsBuffer||this.rowsBuffer,o=0;o<n.length;o++){var l=this._get_cell_value(n[o],t);!l||n[o]._childIndexes&&n[o]._childIndexes[t]==n[o]._childIndexes[t-1]||(i[l]=!0)}this.dma(!1);var h,r=this.combos[t]||(this._col_combos?this._col_combos[t]:!1);for(h in i)i[h]===!0&&(r&&(r.get&&r.get(h)?h=r.get(h):r.getOption&&r.getOption(h)&&(h=r.getOption(h).text)),s.push(h));return s.sort()},dhtmlXGridObject.prototype._build_m_order=function(){if(this._c_order){this._m_order=[];for(var t=0;t<this._c_order.length;t++)this._m_order[this._c_order[t]]=t}},dhtmlXGridObject.prototype.filterByAll=function(){var t=[],e=[];this._build_m_order();for(var i=0;i<this.filters.length;i++)if(!(i>=this._cCount)){var s=this._m_order?this._m_order[this.filters[i][1]]:this.filters[i][1];e.push(s);var n=this.filters[i][0].old_value=this.filters[i][0].value;this.filters[i][0]._filter&&(n=this.filters[i][0]._filter());var o;"function"!=typeof n&&(o=this.combos[s]||(this._col_combos?this._col_combos[s]:!1))&&(o.values?(s=o.values._dhx_find(n),n=-1==s?n:o.keys[s]):o.getOptionByLabel&&(n=o.getOptionByLabel(n)?o.getOptionByLabel(n).value:n)),t.push(n)}this.callEvent("onFilterStart",[e,t])&&(this.filterBy(e,t),this._cssEven&&this._fixAlterCss(),this.callEvent("onFilterEnd",[this.filters]),this._f_rowsBuffer&&this.rowsBuffer.length==this._f_rowsBuffer.length)&&(this._f_rowsBuffer=null)},dhtmlXGridObject.prototype.makeFilter=function(t,e){if(this.filters||(this.filters=[]),"object"!=typeof t&&(t=document.getElementById(t)),t){var i=this;if(t.style.width||(t.style.width="90%"),"SELECT"==t.tagName)this.filters.push([t,e]),this._loadSelectOptins(t,e),t.onchange=function(){i.filterByAll()},_isIE&&(t.style.marginTop="1px"),this.attachEvent("onEditCell",function(i,s,n){return this._build_m_order(),2==i&&this.filters&&(this._m_order?n==this._m_order[e]:n==e)&&this._loadSelectOptins(t,e),!0});else if("INPUT"==t.tagName)this.filters.push([t,e]),t.old_value=t.value="",t.onkeydown=function(){this._timer&&window.clearTimeout(this._timer),this._timer=window.setTimeout(function(){t.value!=t.old_value&&(i.filterByAll(),t.old_value=t.value)},500)};else if("DIV"==t.tagName&&"combo"==t.className){this.filters.push([t,e]),t.style.padding="0px",t.style.margin="0px",window.dhx_globalImgPath||(window.dhx_globalImgPath=this.imgURL);var s=new dhtmlXCombo(t,"_filter","90%");s.filterSelfA=s.filterSelf,s.filterSelf=function(){0==this.getSelectedIndex()&&this.setComboText(""),this.filterSelfA.apply(this,arguments),this.optionsArr[0].hide(!1)},s.enableFilteringMode(!0),t.combo=s,t.value="",this._loadComboOptins(t,e),s.attachEvent("onChange",function(){t.value=s.getSelectedValue(),null===t.value&&(t.value=""),i.filterByAll()})}t.parentNode&&(t.parentNode.className+=" filter"),this._filters_ready()}},dhtmlXGridObject.prototype.findCell=function(t,e,i,s){s=s||function(t,e){return-1!=e.toString().toLowerCase().indexOf(t)},s===!0&&(s=function(t,e){return e.toString().toLowerCase()==t});var n=[],t=t.toString().toLowerCase();if("number"!=typeof i&&(i=i?1:0),!this.rowsBuffer.length)return n;for(var o=e||0;o<this._cCount;o++){if(this._h2)this._h2.forEachChild(0,function(e){return i&&n.length==i?n:void(s(t,this._get_cell_value(e.buff,o))&&n.push([e.id,o]))},this);else for(var l=0;l<this.rowsBuffer.length;l++)if(s(t,this._get_cell_value(this.rowsBuffer[l],o))&&(n.push([this.rowsBuffer[l].idd,o]),i&&n.length==i))return n;if("undefined"!=typeof e)break}return n},dhtmlXGridObject.prototype.makeSearch=function(t,e,i){if("object"!=typeof t&&(t=document.getElementById(t)),t){var s=this;"INPUT"==t.tagName&&(t.onkeypress=function(){this._timer&&window.clearTimeout(this._timer),this._timer=window.setTimeout(function(){if(""!=t.value){var n=s.findCell(t.value,e,!0,i);n.length&&(s._h2&&s.openItem(n[0][0]),s.selectCell(s.getRowIndex(n[0][0]),e||0))}},500)}),t.parentNode&&(t.parentNode.className+=" filter")}},dhtmlXGridObject.prototype._loadSelectOptins=function(t,e){var i=this.collectValues(e),s=t.value;t.innerHTML="",t.options[0]=new Option("","");for(var n=this._filter_tr?this._filter_tr[e]:null,o=0;o<i.length;o++)t.options[t.options.length]=new Option(n?n(i[o]):i[o],i[o]);t.value=s},dhtmlXGridObject.prototype.setSelectFilterLabel=function(t,e){this._filter_tr||(this._filter_tr=[]),this._filter_tr[t]=e},dhtmlXGridObject.prototype._loadComboOptins=function(t,e){if(t.combo){var i=this.collectValues(e);t.combo.clearAll(),t.combo.render(!1);for(var s=[["","&nbsp;"]],n=0;n<i.length;n++)s.push([i[n],i[n]]);t.combo.addOption(s),t.combo.render(!0)}},dhtmlXGridObject.prototype.refreshFilters=function(){if(this.filters)for(var t=0;t<this.filters.length;t++)switch(this.filters[t][0].tagName.toLowerCase()){case"select":this._loadSelectOptins.apply(this,this.filters[t]);break;case"div":this._loadComboOptins.apply(this,this.filters[t])}},dhtmlXGridObject.prototype._filters_ready=function(){this.attachEvent("onXLE",this.refreshFilters),this.attachEvent("onRowCreated",function(t,e){if(this._f_rowsBuffer)for(var i=0;i<this._f_rowsBuffer.length;i++)if(this._f_rowsBuffer[i].idd==t)return this._f_rowsBuffer[i]=e}),this.attachEvent("onClearAll",function(){this._f_rowsBuffer=null,this.hdr.rows.length||(this.filters=[])}),window.dhtmlXCombo&&this.attachEvent("onScroll",dhtmlXCombo.prototype.closeAll),this._filters_ready=function(){}},dhtmlXGridObject.prototype._in_header_text_filter=function(t,e){t.innerHTML="<input type='text'>",t.onclick=t.onmousedown=function(t){return(t||event).cancelBubble=!0},t.onselectstart=function(){return event.cancelBubble=!0},this.makeFilter(t.firstChild,e)},dhtmlXGridObject.prototype._in_header_text_filter_inc=function(t,e){t.innerHTML="<input type='text'>",t.onclick=t.onmousedown=function(t){return(t||event).cancelBubble=!0},t.onselectstart=function(){return event.cancelBubble=!0},this.makeFilter(t.firstChild,e),t.firstChild._filter=function(){return""==t.firstChild.value?"":function(e){return 0==e.toString().toLowerCase().indexOf(t.firstChild.value.toLowerCase())}},this._filters_ready()},dhtmlXGridObject.prototype._in_header_select_filter=function(t,e){t.innerHTML="<select></select>",t.onclick=function(t){return(t||event).cancelBubble=!0,!1},this.makeFilter(t.firstChild,e)},dhtmlXGridObject.prototype._in_header_select_filter_strict=function(t,e){t.innerHTML="<select style='width:90%; font-size:8pt; font-family:Tahoma;'></select>",t.onclick=function(t){return(t||event).cancelBubble=!0,!1},this.makeFilter(t.firstChild,e);var i=this.combos;t.firstChild._filter=function(){var s=t.firstChild.value;return s?(i[e]&&(s=i[e].keys[i[e].values._dhx_find(s)]),s=s.toLowerCase(),function(t){return t.toString().toLowerCase()==s}):""},this._filters_ready()},dhtmlXGridObject.prototype._in_header_combo_filter=function(t,e){t.innerHTML="<div style='width:100%; padding-left:2px; overflow:hidden; ' class='combo'></div>",t.onselectstart=function(){return event.cancelBubble=!0},t.onclick=t.onmousedown=function(t){return(t||event).cancelBubble=!0},this.makeFilter(t.firstChild,e)},dhtmlXGridObject.prototype._search_common=function(t){t.innerHTML="<input type='text' style='width:90%; '>",t.onclick=t.onmousedown=function(t){return(t||event).cancelBubble=!0},t.onselectstart=function(){return event.cancelBubble=!0}},dhtmlXGridObject.prototype._in_header_text_search=function(t,e){this._search_common(t,e),this.makeSearch(t.firstChild,e)},dhtmlXGridObject.prototype._in_header_text_search_strict=function(t,e){this._search_common(t,e),this.makeSearch(t.firstChild,e,!0)},dhtmlXGridObject.prototype._in_header_numeric_filter=function(t,e){this._in_header_text_filter.call(this,t,e),t.firstChild._filter=function(){var t,e=this.value,i="==",s=parseFloat(e.replace("=","")),n=null;return e?-1!=e.indexOf("..")?(e=e.split(".."),s=parseFloat(e[0]),n=parseFloat(e[1]),function(t){return t>=s&&n>=t?!0:!1}):((t=e.match(/>=|<=|>|</))&&(i=t[0],s=parseFloat(e.replace(i,""))),Function("v"," if (v "+i+" "+s+" ) return true; return false;")):""}},dhtmlXGridObject.prototype._in_header_master_checkbox=function(t,e,i){t.innerHTML=i[0]+"<input type='checkbox' />"+i[1];var s=this;t.getElementsByTagName("input")[0].onclick=function(t){s._build_m_order();var i=s._m_order?s._m_order[e]:e,n=this.checked?1:0;s.forEachRowA(function(t){var e=this.cells(t,i);e.isCheckbox()&&(e.setValue(n),e.cell.wasChanged=!0),this.callEvent("onEditCell",[1,t,i,n]),this.callEvent("onCheckbox",[t,i,n])}),(t||event).cancelBubble=!0}},dhtmlXGridObject.prototype._in_header_stat_total=function(t,e,i){var s=function(){var t=0;this._build_m_order();for(var i=this._m_order?this._m_order[e]:e,s=0;s<this.rowsBuffer.length;s++){var n=parseFloat(this._get_cell_value(this.rowsBuffer[s],i));t+=isNaN(n)?0:n}return this._maskArr[i]?this._aplNF(t,i):Math.round(100*t)/100};this._stat_in_header(t,s,e,i,i)},dhtmlXGridObject.prototype._in_header_stat_multi_total=function(t,e,i){var s=i[1].split(":");i[1]="";for(var n=0;n<s.length;n++)s[n]=parseInt(s[n]);for(var o=function(){for(var t=0,i=0;i<this.rowsBuffer.length;i++){for(var n=1,o=0;o<s.length;o++)n*=parseFloat(this._get_cell_value(this.rowsBuffer[i],s[o]));t+=isNaN(n)?0:n}return this._maskArr[e]?this._aplNF(t,e):Math.round(100*t)/100},l=[],h=0;h<s.length;h++)l[s[h]]=!0;this._stat_in_header(t,o,l,i,i)},dhtmlXGridObject.prototype._in_header_stat_max=function(t,e,i){var s=function(){this._build_m_order();var t=this._m_order?this._m_order[e]:e,i=-999999999;if(0==this.getRowsNum())return"&nbsp;";for(var s=0;s<this.rowsBuffer.length;s++)i=Math.max(i,parseFloat(this._get_cell_value(this.rowsBuffer[s],t)));return this._maskArr[e]?this._aplNF(i,e):i};this._stat_in_header(t,s,e,i)},dhtmlXGridObject.prototype._in_header_stat_min=function(t,e,i){var s=function(){this._build_m_order();var t=this._m_order?this._m_order[e]:e,i=999999999;if(0==this.getRowsNum())return"&nbsp;";for(var s=0;s<this.rowsBuffer.length;s++)i=Math.min(i,parseFloat(this._get_cell_value(this.rowsBuffer[s],t)));return this._maskArr[e]?this._aplNF(i,e):i};this._stat_in_header(t,s,e,i)},dhtmlXGridObject.prototype._in_header_stat_average=function(t,e,i){var s=function(){this._build_m_order();var t=this._m_order?this._m_order[e]:e,i=0,s=0;if(0==this.getRowsNum())return"&nbsp;";for(var n=0;n<this.rowsBuffer.length;n++){var o=parseFloat(this._get_cell_value(this.rowsBuffer[n],t));i+=isNaN(o)?0:o,s++}return this._maskArr[e]?this._aplNF(i/s,e):Math.round(i/s*100)/100};this._stat_in_header(t,s,e,i)},dhtmlXGridObject.prototype._in_header_stat_count=function(t,e,i){var s=function(){return this.getRowsNum()};this._stat_in_header(t,s,e,i)},dhtmlXGridObject.prototype._stat_in_header=function(t,e,i,s){var n=function(){this.dma(!0),t.innerHTML=(s[0]?s[0]:"")+e.call(this)+(s[1]?s[1]:""),this.dma(!1),this.callEvent("onStatReady",[])};this._stat_events||(this._stat_events=[],this.attachEvent("onClearAll",function(){if(!this.hdr.rows[1]){for(var t=0;t<this._stat_events.length;t++)for(var e=0;4>e;e++)this.detachEvent(this._stat_events[t][e]);this._stat_events=[]}})),this._stat_events.push([this.attachEvent("onGridReconstructed",n),this.attachEvent("onXLE",n),this.attachEvent("onFilterEnd",n),this.attachEvent("onEditCell",function(t,e,s){return 2==t&&(s==i||i&&i[s])&&n.call(this),!0})]),t.innerHTML=""},dhtmlXGridObject.prototype.unGroup=function(){this._groups&&(this._dndProblematic=!1,delete this._groups,delete this._gIndex,this._fake&&this._mirror_rowsCol(),this.forEachRow(function(t){this.rowsAr[t].style.display=""}),this._reset_view(),this.callEvent("onGridReconstructed",[]),this.callEvent("onUnGroup",[]))},dhtmlXGridObject.prototype._mirror_rowsCol=function(){this._fake._groups=this._groups,this._fake._gIndex=this._gIndex,this.rowsBuffer=dhtmlxArray();for(var t=0;t<this.rowsCol.length;t++)this.rowsCol[t]._cntr||this.rowsBuffer.push(this.rowsCol[t]);for(this._fake.rowsBuffer=dhtmlxArray(),t=0;t<this._fake.rowsCol.length;t++)this._fake.rowsCol[t]._cntr||this._fake.rowsBuffer.push(this._fake.rowsCol[t])},dhtmlXGridObject.prototype.groupBy=function(t,e){if(this._groups&&this.unGroup(),this._dndProblematic=!0,this._groups={},!e)for(var e=["#title"],i=1;i<this._cCount;i++)e.push("#cspan");this._gmask=document.createElement("TR"),this._gmask.origin=e;for(var s,n=0,i=0;i<e.length;i++)"#cspan"==e[i]?s.colSpan=(parseInt(s.colSpan)||1)+1:(s=document.createElement("TD"),s._cellIndex=i,this._hrrar[i]&&(s.style.display="none"),s.className="group_row",s.innerHTML="&nbsp;","#title"==e[i]?this._gmask._title=n:s.align=this.cellAlign[i]||"left",this._gmask.appendChild(s),0==e[i].indexOf("#stat")&&(this._gmask._math=!0,s._counter=[this["_g_"+e[i].replace("#","")],i,n]),n++);for(var o in this._groups)this._groups[o]=this.undefined;if(this._gIndex=t,this._fake&&!this._realfake&&(this._fake._groups=[],this._fake._gIndex=this._gIndex),this._nextRow=function(t,e){var i=this.rowsCol[t+e];return i&&("none"==i.style.display||i._cntr)?this._nextRow(t+e,e):i},this.__sortRowsBG||(this._key_events=dhtmlXHeir({},this._key_events),this._key_events.k38_0_0=function(){if(this.editor&&this.editor.combo)this.editor.shiftPrev();else{var t=this.row.rowIndex;if(t){var e=this._nextRow(t-1,-1);e&&this.selectCell(e,this.cell._cellIndex,!0)}}},this._key_events.k13_1_0=this._key_events.k13_0_1=function(){},this._key_events.k40_0_0=function(){if(this.editor&&this.editor.combo)this.editor.shiftNext();else{var t=this.row.rowIndex;if(t){var e=this._nextRow(t-1,1);e&&this.selectCell(e,this.cell._cellIndex,!0)}}},this.attachEvent("onFilterStart",function(){return this._groups&&(this._groups=this.undefined),!0}),this.attachEvent("onFilterEnd",function(){"undefined"!=typeof this._gIndex&&this.groupBy(this._gIndex,this._gmask.origin)}),this.sortRows_bg=this.sortRows,this.sortRows=function(t,e,i){return"undefined"==typeof this._groups?this.sortRows_bg.apply(this,arguments):void this.callEvent("onBeforeSorting",[t,e||"str",i||"asc"])},this.attachEvent("onBeforeSorting",function(t,e,i){return"undefined"==typeof this._groups?!0:(t==this._gIndex?this._sortByGroup(t,e,i):this._sortInGroup(t,e,i),this.setSortImgState(!0,t,i),this._fake&&(this._mirror_rowsCol(),this._fake._groups=[],this._fake._reset_view()),this.setSortImgState(!0,t,i),this.callEvent("onAfterSorting",[t,e,i]),!1)}),this.attachEvent("onClearAll",function(){this.unGroup()}),this.attachEvent("onBeforeRowDeleted",function(t){if(!this._groups)return!0;if(!this.rowsAr[t])return!0;var e=this.cells(t,this._gIndex).getValue();""===e&&(e=" ");var i=this._groups[e];return this._dec_group(i),!0}),this.attachEvent("onAfterRowDeleted",function(){this.updateGroups()}),this.attachEvent("onCheckbox",function(t,e,i){this.callEvent("onEditCell",[2,t,e,i?1:0,i?0:1])}),this.attachEvent("onXLE",this.updateGroups),this.attachEvent("onColumnHidden",this.hideGroupColumn),this.attachEvent("onEditCell",function(t,e,i,s,n){if(!this._groups)return!0;if(2==t&&s!=n&&i==this._gIndex){""===n&&(n=" "),this._dec_group(this._groups[n]);var o=this.rowsAr[e],l=this.rowsCol._dhx_find(o),h=this._inc_group(s),r=this.rowsCol[h];o==r&&(r=r.nextSibling);{var a=o.parentNode;o.rowIndex}a.removeChild(o),r?a.insertBefore(o,r):a.appendChild(o),this.rowsCol._dhx_insertAt(h,o),l>h&&l++,this.rowsCol._dhx_removeAt(l,o),this._fixAlterCss()}else 2==t&&s!=n&&(this.updateGroups(),this._updateGroupView(this._groups[this.cells(e,this._gIndex).getValue()||" "]));return!0}),this.__sortRowsBG=!0),this._groupExisting(),this._hrrar)for(i=0;i<this._hrrar.length;i++)this._hrrar[i]&&this.hideGroupColumn(i,!0);this.callEvent("onGroup",[]),(this._ahgr||this._awdth)&&this.setSizes()},dhtmlXGridObject.prototype._sortInGroup=function(t,e,i){var s=this._groups_get();s.reverse();for(var n=0;n<s.length;n++){for(var o=s[n]._cntr._childs,l={},h=0;h<o.length;h++){var r=this.cells3(o[h],t);l[o[h].idd]=r.getDate?r.getDate():r.getValue()}this._sortCore(t,e,i,l,o)}this._groups_put(s),this.setSizes(),this.callEvent("onGridReconstructed",[])},dhtmlXGridObject.prototype._sortByGroup=function(t,e,i){for(var s=this._groups_get(),n=[],o=0;o<s.length;o++)s[o].idd="_sort_"+o,n["_sort_"+o]=s[o]._cntr.text;this._sortCore(t,e,i,n,s),this._groups_put(s),this.callEvent("onGridReconstructed",[]),this.setSizes()},dhtmlXGridObject.prototype._inc_group=function(t,e,i){""===t&&(t=" "),this._groups[t]||(this._groups[t]={text:t,row:this._addPseudoRow(),count:0,state:e?"plus":"minus"});var s=this._groups[t];s.row._cntr=s;var n=this.rowsCol._dhx_find(s.row)+s.count+1;return s.count++,i||(this._updateGroupView(s),this.updateGroups()),n},dhtmlXGridObject.prototype._dec_group=function(t){return t?(t.count--,0==t.count?(t.row.parentNode.removeChild(t.row),this.rowsCol._dhx_removeAt(this.rowsCol._dhx_find(t.row)),delete this._groups[t.text]):this._updateGroupView(t),this._fake&&!this._realfake&&this._fake._dec_group(this._fake._groups[t.text]),this.updateGroups(),!0):void 0},dhtmlXGridObject.prototype._insertRowAt_gA=dhtmlXGridObject.prototype._insertRowAt,dhtmlXGridObject.prototype._insertRowAt=function(t,e,i){if("undefined"!=typeof this._groups){var s=this._realfake?this._fake._bfs_cells(t.idd,this._gIndex).getValue():this._bfs_cells3?this._bfs_cells3(t,this._gIndex).getValue():this.cells3(t,this._gIndex).getValue();s||(s=" "),e=this._inc_group(s,"none"==t.style.display)}var n=this._insertRowAt_gA(t,e,i);return"undefined"!=typeof this._groups&&(this.expandGroup(s),this._updateGroupView(this._groups[s]),this.updateGroups()),n},dhtmlXGridObject.prototype._updateGroupView=function(t){if(this._fake&&!this._realfake)return t.row.firstChild.innerHTML="&nbsp;";var e=this._gmask||this._fake._gmask,i="<img style='margin-bottom:-4px' src='"+this.imgURL+t.state+".gif'> ";i+=this.customGroupFormat?this.customGroupFormat(t.text,t.count):t.text+" ( "+t.count+" ) ",t.row.childNodes[e._title].innerHTML=i},dhtmlXGridObject.prototype._addPseudoRow=function(t){for(var e=this._gmask||this._fake._gmask,i=e.cloneNode(!0),s=0;s<i.childNodes.length;s++)i.childNodes[s]._cellIndex=e.childNodes[s]._cellIndex,this._realfake&&(i.childNodes[s].style.display="");var n=this;return i.onclick=function(t){n.callEvent("onGroupClick",[this._cntr.text])&&(n._fake&&n._realfake?n._fake._switchGroupState(n._fake._groups[this._cntr.text].row):n._switchGroupState(this),(t||event).cancelBubble="true")},i.ondblclick=function(t){(t||event).cancelBubble="true"},t||(_isKHTML?this.obj.appendChild(i):this.obj.firstChild.appendChild(i),this.rowsCol.push(i)),i},dhtmlXGridObject.prototype._groups_get=function(){var t=[];this._temp_par=this.obj.parentNode,this._temp_par.removeChild(this.obj);for(var e=[],i=this.rowsCol.length-1;i>=0;i--)this.rowsCol[i]._cntr?(this.rowsCol[i]._cntr._childs=e,e=[],t.push(this.rowsCol[i])):e.push(this.rowsCol[i]),this.rowsCol[i].parentNode.removeChild(this.rowsCol[i]);return t},dhtmlXGridObject.prototype._groups_put=function(t){var e=this.rowsCol.stablesort;this.rowsCol=new dhtmlxArray(0),this.rowsCol.stablesort=e;for(var i=0;i<t.length;i++){var s=t[i]._cntr;this.obj.firstChild.appendChild(s.row),this.rowsCol.push(s.row),s.row.idd=null;for(var n=0;n<s._childs.length;n++)this.obj.firstChild.appendChild(s._childs[n]),this.rowsCol.push(s._childs[n]);delete s._childs}this._temp_par.appendChild(this.obj)},dhtmlXGridObject.prototype._groupExisting=function(t){if(this.getRowsNum()){t=[],this._temp_par=this.obj.parentNode,this._temp_par.removeChild(this.obj);for(var e=this.rowsCol.length,i=0;e>i;i++){var s=this.cells4(this.rowsCol[i].childNodes[this._gIndex]).getValue();if(this.rowsCol[i].style.display="",s||(s=" "),!this._groups[s]){this._groups[s]={text:s,row:this._addPseudoRow(!0),count:0,state:"minus"};var n=this._groups[s];n.row._cntr=n,this._groups[s]._childs=[],t.push(n.row)}this._groups[s].count++,this._groups[s]._childs.push(this.rowsCol[i]),this.rowsCol[i].parentNode.removeChild(this.rowsCol[i])}for(i=0;i<t.length;i++)this._updateGroupView(t[i]._cntr);this._groups_put(t),this._fake&&!this._realfake&&(this._mirror_rowsCol(),this._fake._groups=[],this._fake._reset_view()),this.callEvent("onGridReconstructed",[]),this.updateGroups()
}},dhtmlXGridObject.prototype._switchGroupState=function(t){var e=t._cntr;this._fake&&!this._realfake&&(e.state=this._fake._groups[t._cntr.text].row._cntr.state,this._fake._switchGroupState(this._fake._groups[t._cntr.text].row));var i=this.rowsCol._dhx_find(e.row)+1;e.state="minus"==e.state?"plus":"minus";for(var s="plus"==e.state?"none":"";this.rowsCol[i]&&!this.rowsCol[i]._cntr;)this.rowsCol[i].style.display=s,i++;this._updateGroupView(e),this.callEvent("onGroupStateChanged",[e.text,"minus"==e.state]),this.setSizes()},dhtmlXGridObject.prototype.expandGroup=function(t){"plus"==this._groups[t].state&&this._switchGroupState(this._groups[t].row)},dhtmlXGridObject.prototype.collapseGroup=function(t){"minus"==this._groups[t].state&&this._switchGroupState(this._groups[t].row)},dhtmlXGridObject.prototype.expandAllGroups=function(){for(var t in this._groups)this._groups[t]&&"plus"==this._groups[t].state&&this._switchGroupState(this._groups[t].row)},dhtmlXGridObject.prototype.collapseAllGroups=function(){for(var t in this._groups)this._groups[t]&&"minus"==this._groups[t].state&&this._switchGroupState(this._groups[t].row)},dhtmlXGridObject.prototype.hideGroupColumn=function(t,e){if(!this._fake){for(var i=-1,s=this._gmask.childNodes,n=0;n<s.length;n++)if(s[n]._cellIndex==t){i=n;break}if(-1!=i)for(var o in this._groups)this._groups[o].row.childNodes[i].style.display=e?"none":""}},dhtmlXGridObject.prototype.groupStat=function(t,e,i){var i=this["_g_"+(i||"stat_total")],s=0,n=0;return this.forEachRowInGroup(t,function(t){s=i(s,1*this.cells(t,e).getValue(),n),n++}),s},dhtmlXGridObject.prototype.forEachRowInGroup=function(t,e){var i=this._groups[t].row.nextSibling;if(i)for(;i&&!i._cntr;)e.call(this,i.idd),i=i.nextSibling;else{var s=this._groups[t]._childs;if(s)for(var n=0;n<s.length;n++)e.call(this,s[n].idd)}},dhtmlXGridObject.prototype.updateGroups=function(){if(this._gmask&&this._gmask._math&&!this._parsing)for(var t=this._gmask.childNodes,e=0;e<t.length;e++)t[e]._counter&&this._b_processing.apply(this,t[e]._counter)},dhtmlXGridObject.prototype._b_processing=function(t,e,i){var s=0,n=0;this._ecache[this.cellType[e]]||this.cells5({parentNode:{grid:this}},this.cellType[e]);for(var o=this.rowsCol.length-1;o>=0;o--)this.rowsCol[o]._cntr?(this.cells5(this.rowsCol[o].childNodes[i],this.cellType[e]).setValue(s),n=s=0):(s=t(s,1*this.cells3(this.rowsCol[o],e).getValue(),n),n++)},dhtmlXGridObject.prototype._g_stat_total=function(t,e){return t+e},dhtmlXGridObject.prototype._g_stat_min=function(t,e,i){return i||(t=1/0),Math.min(t,e)},dhtmlXGridObject.prototype._g_stat_max=function(t,e,i){return i||(t=-1/0),Math.max(t,e)},dhtmlXGridObject.prototype._g_stat_average=function(t,e,i){return(t*i+e)/(i+1)},dhtmlXGridObject.prototype._g_stat_count=function(t){return t++},dhtmlXGridObject.prototype.enableDragAndDrop=function(t){"temporary_disabled"==t?(this.dADTempOff=!1,t=!0):this.dADTempOff=!0,this.dragAndDropOff=convertStringToBoolean(t),this._drag_validate=!0,t&&(this.objBox.ondragstart=function(t){return(t||event).cancelBubble=!0,!1})},dhtmlXGridObject.prototype.setDragBehavior=function(t){switch(this.dadmodec=this.dadmodefix=0,t){case"child":this.dadmode=0,this._sbmod=!1;break;case"sibling":this.dadmode=1,this._sbmod=!1;break;case"sibling-next":this.dadmode=1,this._sbmod=!0;break;case"complex":this.dadmode=2,this._sbmod=!1;break;case"complex-next":this.dadmode=2,this._sbmod=!0}},dhtmlXGridObject.prototype.enableDragOrder=function(t){this._dndorder=convertStringToBoolean(t)},dhtmlXGridObject.prototype._checkParent=function(t,e){var i=this._h2.get[t.idd].parent;if(i.parent){for(var s=0;s<e.length;s++)if(e[s]==i.id)return!0;return this._checkParent(this.rowsAr[i.id],e)}},dhtmlXGridObject.prototype._createDragNode=function(t,e){if(this.editStop(),window.dhtmlDragAndDrop.dragNode)return null;if(!this.dADTempOff)return null;t.parentObject={},t.parentObject.treeNod=this;var i=this.callEvent("onBeforeDrag",[t.parentNode.idd,t._cellIndex,e]);if(!i)return null;for(var s=[],s=(s=this.getSelectedId())&&""!=s?s.split(this.delim):[],n=!1,o=0;o<s.length;o++)s[o]==t.parentNode.idd&&(n=!0);if(n||(this.selectRow(this.rowsAr[t.parentNode.idd],!1,e.ctrlKey,!1),e.ctrlKey||(s=[]),s[this.selMultiRows?s.length:0]=t.parentNode.idd),this.isTreeGrid())for(o=s.length-1;o>=0;o--)this._checkParent(this.rowsAr[s[o]],s)&&s.splice(o,1);var l=this;s.length&&this._dndorder&&s.sort(function(t,e){return l.rowsAr[t].rowIndex>l.rowsAr[e].rowIndex?1:-1});var h=this.getFirstParentOfType(_isIE?e.srcElement:e.target,"TD");for(h&&(this._dndExtra=h._cellIndex),this._dragged=[],o=0;o<s.length;o++)this.rowsAr[s[o]]&&(this._dragged[this._dragged.length]=this.rowsAr[s[o]],this.rowsAr[s[o]].treeNod=this);t.parentObject.parentNode=t.parentNode;var r=document.createElement("div");return r.innerHTML=i!==!0?i:this.rowToDragElement(t.parentNode.idd),r.style.position="absolute",r.className="dragSpanDiv",r},dhtmlXGridObject.prototype._createSdrgc=function(){this._sdrgc=document.createElement("DIV"),this._sdrgc.innerHTML="&nbsp;",this._sdrgc.className="gridDragLine",this.objBox.appendChild(this._sdrgc)},dragContext.prototype.valid=function(){if(this.sobj!=this.tobj)return!0;if(this.sid==this.tid)return!1;if("treeGrid"==this.target)for(var t=this.tid;t=this.tobj.getParentId(t);)if(this.sid==t)return!1;return!0},dragContext.prototype.close=function(){this.tobj=this.sobj=null},dragContext.prototype.copy=function(){return new dragContext(this.source,this.target,this.mode,this.dropmode,this.sid,this.tid,this.sobj,this.tobj,this.sExtra,this.tExtra)},dragContext.prototype.set=function(t,e){return this[t]=e,this},dragContext.prototype.uid=function(){for(this.nid=this.sid;this.tobj.rowsAr[this.nid];)this.nid+=(new Date).valueOf();return this},dragContext.prototype.data=function(){return this.sobj==this.tobj?this.sobj._getRowArray(this.sobj.rowsAr[this.sid]):"tree"==this.source?this.tobj.treeToGridElement(this.sobj,this.sid,this.tid):this.tobj.gridToGrid(this.sid,this.sobj,this.tobj)},dragContext.prototype.attrs=function(){return"tree"==this.source?{}:this.sobj.rowsAr[this.sid]._attrs},dragContext.prototype.childs=function(){return"treeGrid"==this.source&&this.sobj._h2.get[this.sid]._xml_await?this.sobj._h2.get[this.sid].has_kids:null},dragContext.prototype.pid=function(){if(!this.tid)return 0;if(!this.tobj._h2)return 0;if("treeGrid"==this.target){if("child"==this.dropmode)return this.tid;var t=this.tobj.rowsAr[this.tid],e=this.tobj._h2.get[t.idd].parent.id;if(this.alfa&&this.tobj._sbmod&&t.nextSibling){var i=this.tobj._h2.get[t.nextSibling.idd].parent.id;if(i==this.tid)return this.tid;if(i!=e)return i}return e}},dragContext.prototype.ind=function(){if(this.tid==window.unknown)return this.tobj.rowsBuffer.length;"treeGrid"==this.target&&this.tobj.openItem("child"==this.dropmode?this.tid:this.tobj.getParentId(this.tid));var t=this.tobj.rowsBuffer._dhx_find(this.tobj.rowsAr[this.tid]);if(this.alfa&&this.tobj._sbmod&&"sibling"==this.dropmode){var e=this.tobj.rowsAr[this.tid];if(e.nextSibling&&this._h2.get[e.nextSibling.idd].parent.id==this.tid)return t+1}return t+1+("treeGrid"==this.target&&t>=0&&"minus"==this.tobj._h2.get[this.tobj.rowsBuffer[t].idd].state?this.tobj._getOpenLenght(this.tobj.rowsBuffer[t].idd,0):0)},dragContext.prototype.img=function(){return"grid"!=this.target&&this.sobj._h2?this.sobj.getItemImage(this.sid):null},dragContext.prototype.slist=function(){for(var t=[],e=0;e<this.sid.length;e++)t[t.length]=this.sid[e]["tree"==this.source?"id":"idd"];return t.join(",")},dhtmlXGridObject.prototype._drag=function(t,e,i,s){if(this._realfake)return this._fake._drag();this.lastLanding;this._autoOpenTimer&&window.clearTimeout(this._autoOpenTimer);var n=i.parentNode,o=t.parentObject;n.idd||(n.grid=this,this.dadmodefix=0);var l=new dragContext(0,0,0,1==n.grid.dadmode||n.grid.dadmodec?"sibling":"child");if(o&&o.childNodes)l.set("source","tree").set("sobj",o.treeNod).set("sid",l.sobj._dragged);else{if(!o)return!0;o.treeNod.isTreeGrid&&o.treeNod.isTreeGrid()&&l.set("source","treeGrid"),l.set("sobj",o.treeNod).set("sid",l.sobj._dragged)}n.grid.isTreeGrid()?l.set("target","treeGrid"):l.set("dropmode","sibling"),l.set("tobj",n.grid).set("tid",n.idd),2==l.tobj.dadmode&&1==l.tobj.dadmodec&&l.tobj.dadmodefix<0&&(l.tid=l.tobj.obj.rows[1].idd!=l.tid?n.previousSibling.idd:0);var h=this.getFirstParentOfType(s,"TD");if(h&&l.set("tExtra",h._cellIndex),h&&l.set("sExtra",l.sobj._dndExtra),l.sobj.dpcpy&&l.set("mode","copy"),l.tobj._realfake&&(l.tobj=l.tobj._fake),l.sobj._realfake&&(l.sobj=l.sobj._fake),l.tobj._clearMove(),o&&o.treeNod&&o.treeNod._nonTrivialRow)o.treeNod._nonTrivialRow(this,l.tid,l.dropmode,o);else{if(l.tobj.dragContext=l,!l.tobj.callEvent("onDrag",[l.slist(),l.tid,l.sobj,l.tobj,l.sExtra,l.tExtra]))return l.tobj.dragContext=null;var r=[];if("object"==typeof l.sid){for(var a=l.copy(),d=0;d<l.sid.length;d++)a.set("alfa",!d).set("sid",l.sid[d]["tree"==l.source?"id":"idd"]).valid()&&(a.tobj._dragRoutine(a),"treeGrid"==a.target&&"child"==a.dropmode&&a.tobj.openItem(a.tid),r[r.length]=a.nid,a.set("dropmode","sibling").set("tid",a.nid));a.close()}else l.tobj._dragRoutine(l);l.tobj.laterLink&&l.tobj.laterLink(),l.tobj.callEvent("onDrop",[l.slist(),l.tid,r.join(","),l.sobj,l.tobj,l.sExtra,l.tExtra])}l.tobj.dragContext=null,l.close()},dhtmlXGridObject.prototype._dragRoutine=function(t){if(t.sobj!=t.tobj||"grid"!=t.source||"move"!=t.mode||this._fake){var e;if(this._h2&&"undefined"!=typeof t.tid&&"sibling"==t.dropmode&&(this._sbmod||t.tid)?t.alfa&&this._sbmod&&this._h2.get[t.tid].childs.length?(this.openItem(t.tid),e=t.uid().tobj.addRowBefore(t.nid,t.data(),this._h2.get[t.tid].childs[0].id,t.img(),t.childs())):e=t.uid().tobj.addRowAfter(t.nid,t.data(),t.tid,t.img(),t.childs()):e=t.uid().tobj.addRow(t.nid,t.data(),t.ind(),t.pid(),t.img(),t.childs()),e._attrs=t.attrs(),"tree"==t.source){this.callEvent("onRowAdded",[t.nid]);var i=t.sobj._globalIdStorageFind(t.sid);if(i.childsCount){for(var s=t.copy().set("tid",t.nid).set("dropmode","grid"==t.target?"sibling":"child"),n=0;n<i.childsCount;n++)t.tobj._dragRoutine(s.set("sid",i.childNodes[n].id)),"move"==t.mode&&n--;s.close()}}else if(t.tobj._copyUserData(t),this.callEvent("onRowAdded",[t.nid]),"treeGrid"==t.source){t.sobj==t.tobj&&(e._xml=t.sobj.rowsAr[t.sid]._xml);var o=t.sobj._h2.get[t.sid];if(o&&o.childs.length){s=t.copy().set("tid",t.nid),"grid"==t.target?s.set("dropmode","sibling"):(s.tobj.openItem(t.tid),s.set("dropmode","child"));for(var l=o.childs.length,n=0;l>n;n++)t.sobj.render_row_tree(null,o.childs[n].id),t.tobj._dragRoutine(s.set("sid",o.childs[n].id)),l!=o.childs.length&&(n--,l=o.childs.length);s.close()}}"move"!=t.mode||(t.sobj["tree"==t.source?"deleteItem":"deleteRow"](t.sid),t.sobj!=t.tobj||t.tobj.rowsAr[t.sid])||(t.tobj.changeRowId(t.nid,t.sid),t.nid=t.sid)}else if(!t.sobj._dndProblematic){var h=t.sobj.rowsAr[t.sid],r=t.sobj.rowsCol._dhx_find(h);if(t.sobj.rowsCol._dhx_removeAt(t.sobj.rowsCol._dhx_find(h)),t.sobj.rowsBuffer._dhx_removeAt(t.sobj.rowsBuffer._dhx_find(h)),t.sobj.rowsBuffer._dhx_insertAt(t.ind(),h),t.tobj._fake){t.tobj._fake.rowsCol._dhx_removeAt(r);var a=t.tobj._fake.rowsAr[t.sid];a.parentNode.removeChild(a)}t.sobj._insertRowAt(h,t.ind()),t.nid=t.sid,t.sobj.callEvent("onGridReconstructed",[])}},dhtmlXGridObject.prototype.gridToGrid=function(t,e){for(var i=[],s=0;s<e.hdr.rows[0].cells.length;s++)i[s]=e.cells(t,s).getValue();return i},dhtmlXGridObject.prototype.checkParentLine=function(t,e){return this._h2&&e&&t?t.id==e?!0:this.checkParentLine(t.parent,e):!1},dhtmlXGridObject.prototype._dragIn=function(t,e,i,s){if(!this.dADTempOff)return 0;var n=this.isTreeGrid(),o=e.parentNode.idd?e.parentNode:e.parentObject;if(this._drag_validate){if(t.parentNode==e.parentNode)return 0;if(n&&this==o.grid&&this.checkParentLine(this._h2.get[t.parentNode.idd],e.parentNode.idd))return 0}return this.callEvent("onDragIn",[o.idd||o.id,t.parentNode.idd,o.grid||o.treeNod,t.grid||t.parentNode.grid])?(this._setMove(t,i,s),n&&""!=t.parentNode.expand?(this._autoOpenTimer=window.setTimeout(new callerFunction(this._autoOpenItem,this),1e3),this._autoOpenId=t.parentNode.idd):this._autoOpenTimer&&window.clearTimeout(this._autoOpenTimer),t):this._setMove(t,i,s,!0)},dhtmlXGridObject.prototype._autoOpenItem=function(t,e){e.openItem(e._autoOpenId)},dhtmlXGridObject.prototype._dragOut=function(t){this._clearMove();var e=t.parentNode.parentObject?t.parentObject.id:t.parentNode.idd;this.callEvent("onDragOut",[e]),this._autoOpenTimer&&window.clearTimeout(this._autoOpenTimer)},dhtmlXGridObject.prototype._setMove=function(t,e,i,s){if(t.parentNode.idd){var n=getAbsoluteTop(t),o=getAbsoluteTop(this.objBox);if(n-o>parseInt(this.objBox.offsetHeight)-50&&(this.objBox.scrollTop=parseInt(this.objBox.scrollTop)+20),n-o+parseInt(this.objBox.scrollTop)<parseInt(this.objBox.scrollTop)+30&&(this.objBox.scrollTop=parseInt(this.objBox.scrollTop)-20),s)return 0;if(2==this.dadmode){var l=i-n+(document.body.scrollTop||document.documentElement.scrollTop)-2-t.offsetHeight/2;Math.abs(l)-t.offsetHeight/6>0?(this.dadmodec=1,this.dadmodefix=0>l?-1:1):this.dadmodec=0}else this.dadmodec=this.dadmode;if(this.dadmodec)this._sdrgc||this._createSdrgc(),this._sdrgc.style.display="block",this._sdrgc.style.top=n-o+parseInt(this.objBox.scrollTop)+(this.dadmodefix>=0?t.offsetHeight:0)+"px";else if(this._llSelD=t,"TR"==t.parentNode.tagName)for(var h=0;h<t.parentNode.childNodes.length;h++)l=t.parentNode.childNodes[h],l._bgCol=l.style.backgroundColor,l.style.backgroundColor="#FFCCCC"}},dhtmlXGridObject.prototype._clearMove=function(){if(this._sdrgc&&(this._sdrgc.style.display="none"),this._llSelD&&"TR"==this._llSelD.parentNode.tagName)for(var t=this._llSelD.parentNode.childNodes,e=0;e<t.length;e++)t[e].style.backgroundColor=t[e]._bgCol;this._llSelD=null},dhtmlXGridObject.prototype.rowToDragElement=function(t){var e=this.cells(t,0).getValue();return e},dhtmlXGridObject.prototype._copyUserData=function(t){if(!t.tobj.UserData[t.nid]||t.tobj!=t.sobj){t.tobj.UserData[t.nid]=new Hashtable;var e=t.sobj.UserData[t.sid],i=t.tobj.UserData[t.nid];e&&(i.keys=i.keys.concat(e.keys),i.values=i.values.concat(e.values))}},dhtmlXGridObject.prototype.moveRow=function(t,e,i,s){switch(e){case"row_sibling":this.moveRowTo(t,i,"move","sibling",this,s);break;case"up":this.moveRowUp(t);break;case"down":this.moveRowDown(t)}},dhtmlXGridObject.prototype._nonTrivialNode=function(t,e,i,s,n){if(t.callEvent&&!n&&!t.callEvent("onDrag",[s.idd,e.id,i?i.id:null,this,t]))return!1;for(var o=s.idd,l=o;t._idpull[l];)l+=(new Date).getMilliseconds().toString();var h=this.isTreeGrid()?this.getItemImage(o):"";if(i){for(d=0;d<e.childsCount&&e.childNodes[d]!=i;d++);0!=d?i=e.childNodes[d-1]:(st="TOP",i="")}var r=t._attachChildNode(e,l,this.gridToTreeElement(t,l,o),"",h,h,h,"","",i);if(this._h2){var a=this._h2.get[o];if(a.childs.length)for(var d=0;d<a.childs.length;d++)this._nonTrivialNode(t,r,0,this.rowsAr[a.childs[d].id],1),this.dpcpy||d--}this.dpcpy||this.deleteRow(o),t.callEvent&&!n&&t.callEvent("onDrop",[l,e.id,i?i.id:null,this,t])},dhtmlXGridObject.prototype.gridToTreeElement=function(t,e,i){return this.cells(i,0).getValue()},dhtmlXGridObject.prototype.treeToGridElement=function(t,e){var i=[],s=this.cellType._dhx_find("tree");-1==s&&(s=0);for(var n=0;n<this.getColumnCount();n++)i[i.length]=n!=s?t.getUserData(e,this.getColumnId(n))||"":t.getItemText(e);return i},dhtmlXGridObject.prototype.moveRowTo=function(t,e,i,s,n,o){var l=new dragContext((n||this).isTreeGrid()?"treeGrid":"grid",(o||this).isTreeGrid()?"treeGrid":"grid",i,s||"sibling",t,e,n||this,o||this);return l.tobj._dragRoutine(l),l.close(),l.nid},dhtmlXGridObject.prototype.enableMercyDrag=function(t){this.dpcpy=convertStringToBoolean(t)},dhtmlXGridObject.prototype._process_xmlA=function(t){if(!t.doXPath){var e=new dtmlXMLLoaderObject(function(){});"string"==typeof t?e.loadXMLString(t):(e.xmlDoc=t.responseXML?t:{},e.xmlDoc.responseXML=t),t=e}this._parsing=!0;var i=t.getXMLTopNode(this.xml.top);this._parseHead(i);var s=t.doXPath(this.xml.row,i),n=parseInt(t.doXPath("//"+this.xml.top)[0].getAttribute("pos")||0),o=parseInt(t.doXPath("//"+this.xml.top)[0].getAttribute("total_count")||0);if(o&&!this.rowsBuffer[o-1]&&(this.rowsBuffer[o-1]=null),this.isTreeGrid())return this._get_xml_data=this._get_xml_dataA,this._process_xml_row=this._process_xml_rowA,this._process_tree_xml(t);for(var l=0;l<s.length;l++)if(!this.rowsBuffer[l+n]){var h=s[l].getAttribute("id")||this.uid();this.rowsBuffer[l+n]={idd:h,data:s[l],_parser:this._process_xml_rowA,_locator:this._get_xml_dataA},this.rowsAr[h]=s[l]}return this.render_dataset(),this._parsing=!1,t.xmlDoc.responseXML?t.xmlDoc.responseXML:t.xmlDoc},dhtmlXGridObject.prototype._process_xmlB=function(t){if(!t.doXPath){var e=new dtmlXMLLoaderObject(function(){});"string"==typeof t?e.loadXMLString(t):(e.xmlDoc=t.responseXML?t:{},e.xmlDoc.responseXML=t),t=e}this._parsing=!0;var i=t.getXMLTopNode(this.xml.top);this._parseHead(i);var s=t.doXPath(this.xml.row,i),n=parseInt(t.doXPath("//"+this.xml.top)[0].getAttribute("pos")||0),o=parseInt(t.doXPath("//"+this.xml.top)[0].getAttribute("total_count")||0);if(o&&!this.rowsBuffer[o-1]&&(this.rowsBuffer[o-1]=null),this.isTreeGrid())return this._get_xml_data=this._get_xml_dataB,this._process_xml_row=this._process_xml_rowB,this._process_tree_xml(t);for(var l=0;l<s.length;l++)if(!this.rowsBuffer[l+n]){var h=s[l].getAttribute("id")||this.uid();this.rowsBuffer[l+n]={idd:h,data:s[l],_parser:this._process_xml_rowB,_locator:this._get_xml_dataB},this.rowsAr[h]=s[l]}return this.render_dataset(),this._parsing=!1,t.xmlDoc.responseXML?t.xmlDoc.responseXML:t.xmlDoc},dhtmlXGridObject.prototype._process_xml_rowA=function(t,e){var i=[];t._attrs=this._xml_attrs(e);for(var s=0;s<this.columnIds.length;s++){var n=this.columnIds[s],o=t._attrs[n]||"";t.childNodes[s]&&(t.childNodes[s]._attrs={}),i.push(o)}return this._fillRow(t,this._c_order?this._swapColumns(i):i),t},dhtmlXGridObject.prototype._get_xml_dataA=function(t,e){return t.getAttribute(this.getColumnId(e))},dhtmlXGridObject.prototype._process_xml_rowB=function(t,e){var i=[];if(t._attrs=this._xml_attrs(e),this._ud_enabled)for(var s=this.xmlLoader.doXPath("./userdata",e),n=s.length-1;n>=0;n--)this.setUserData(s[n].getAttribute("name"),s[n].firstChild?s[n].firstChild.data:"");for(var o=0;o<e.childNodes.length;o++){var l=e.childNodes[o];if(l.tagName){var h=this.getColIndexById(l.tagName);if(!isNaN(h)){var r=l.getAttribute("type");r&&(t.childNodes[h]._cellType=r),t.childNodes[h]._attrs=this._xml_attrs(l),l.getAttribute("xmlcontent")||(l=l.firstChild?l.firstChild.data:""),i[h]=l}}}for(n=0;n<t.childNodes.length;n++)t.childNodes[n]._attrs||(t.childNodes[n]._attrs={});return this._fillRow(t,this._c_order?this._swapColumns(i):i),t},dhtmlXGridObject.prototype._get_xml_dataB=function(t,e){for(var i=this.getColumnId(e),t=t.firstChild;t;){if(t.tagName==i)return t.firstChild?t.firstChild.data:"";t=t.nextSibling}return""},dhtmlXGridObject.prototype.attachHeaderA=dhtmlXGridObject.prototype.attachHeader,dhtmlXGridObject.prototype.attachHeader=function(){if(this.attachHeaderA.apply(this,arguments),this._realfake)return!0;this.formAutoSubmit(),"undefined"==typeof this.FormSubmitOnlyChanged&&this.submitOnlyChanged(!0),"undefined"==typeof this._submitAR&&this.submitAddedRows(!0);var t=this;this._added_rows=[],this._deleted_rows=[],this.attachEvent("onRowAdded",function(e){return t._added_rows.push(e),t.forEachCell(e,function(t){t.cell.wasChanged=!0}),!0}),this.attachEvent("onBeforeRowDeleted",function(e){return t._deleted_rows.push(e),!0}),this.attachHeader=this.attachHeaderA},dhtmlXGridObject.prototype.formAutoSubmit=function(){if(this.parentForm=this.detectParentFormPresent(),this.parentForm===!1)return!1;if(!this.formEventAttached){this.formInputs=[];var t=this;dhtmlxEvent(this.parentForm,"submit",function(){t.entBox&&t.parentFormOnSubmit()}),this.formEventAttached=!0}},dhtmlXGridObject.prototype.parentFormOnSubmit=function(){return this.formCreateInputCollection(),this.callEvent("onBeforeFormSubmit",[])?void 0:!1},dhtmlXGridObject.prototype.submitOnlyChanged=function(t){this.FormSubmitOnlyChanged=convertStringToBoolean(t)},dhtmlXGridObject.prototype.submitColumns=function(t){"string"==typeof t&&(t=t.split(this.delim)),this._submit_cols=t},dhtmlXGridObject.prototype.setFieldName=function(t){t=t.replace(/\{GRID_ID\}/g,"'+a1+'"),t=t.replace(/\{ROW_ID\}/g,"'+a2+'"),t=t.replace(/\{ROW_INDEX\}/g,"'+this.getRowIndex(a2)+'"),t=t.replace(/\{COLUMN_INDEX\}/g,"'+a3+'"),t=t.replace(/\{COLUMN_ID\}/g,"'+this.getColumnId(a3)+'"),this._input_mask=Function("a1","a2","a3","return '"+t+"';")},dhtmlXGridObject.prototype.submitSerialization=function(t){this.FormSubmitSerialization=convertStringToBoolean(t)},dhtmlXGridObject.prototype.submitAddedRows=function(t){this._submitAR=convertStringToBoolean(t)},dhtmlXGridObject.prototype.submitOnlySelected=function(t){this.FormSubmitOnlySelected=convertStringToBoolean(t)},dhtmlXGridObject.prototype.submitOnlyRowID=function(t){this.FormSubmitOnlyRowID=convertStringToBoolean(t)},dhtmlXGridObject.prototype.createFormInput=function(t,e){var i=document.createElement("input");i.type="hidden",i.name=this._input_mask&&"string"!=typeof t?this._input_mask.apply(this,t):((this.globalBox||this.entBox).id||"dhtmlXGrid")+"_"+t,i.value=e,this.parentForm.appendChild(i),this.formInputs.push(i)},dhtmlXGridObject.prototype.createFormInputRow=function(t){for(var e=(this.globalBox||this.entBox).id,i=0;i<this._cCount;i++){var s=this.cells3(t,i);this.FormSubmitOnlyChanged&&!s.wasChanged()||this._submit_cols&&!this._submit_cols[i]||this.createFormInput(this._input_mask?[e,t.idd,i]:t.idd+"_"+i,s.getValue())}},dhtmlXGridObject.prototype.formCreateInputCollection=function(){if(0==this.parentForm)return!1;for(var t=0;t<this.formInputs.length;t++)this.parentForm.removeChild(this.formInputs[t]);if(this.formInputs=[],this.FormSubmitSerialization)this.createFormInput("serialized",this.serialize());else if(this.FormSubmitOnlySelected)if(this.FormSubmitOnlyRowID)this.createFormInput("selected",this.getSelectedId());else for(t=0;t<this.selectedRows.length;t++)this.createFormInputRow(this.selectedRows[t]);else this._submitAR&&(this._added_rows.length&&this.createFormInput("rowsadded",this._added_rows.join(",")),this._deleted_rows.length&&this.createFormInput("rowsdeleted",this._deleted_rows.join(","))),this.forEachRow(function(t){this.getRowById(t),this.createFormInputRow(this.rowsAr[t])})},dhtmlXGridObject.prototype.detectParentFormPresent=function(){for(var t=!1,e=this.entBox;e&&e.tagName&&e!=document.body;){if("form"==e.tagName.toLowerCase()){t=e;break}e=e.parentNode}return t},dhtmlXGridObject.prototype.enableHeaderMenu=function(t){"string"==typeof t&&(t=t.split(",")),this._hm_config=t;var e=this;this.attachEvent("onInit",function(){this.hdr.oncontextmenu=function(t){return e._doHContClick(t||window.event)},this.startColResizeA=this.startColResize,this.startColResize=function(t){return 2==t.button||_isMacOS&&t.ctrlKey?this._doHContClick(t):this.startColResizeA(t)},this._chm_ooc=this.obj.onclick,this._chm_hoc=this.hdr.onclick,this.hdr.onclick=function(t){return t&&(2==t.button||_isMacOS&&t.ctrlKey)?!1:(e._showHContext(!1),e._chm_hoc.apply(this,arguments))},this.obj.onclick=function(){return e._showHContext(!1),e._chm_ooc.apply(this,arguments)}}),dhtmlxEvent(document.body,"click",function(){e._hContext&&e._showHContext(!1)}),this.hdr.rows.length&&this.callEvent("onInit",[]),this.enableHeaderMenu=function(){}},dhtmlXGridObject.prototype._doHContClick=function(t){function e(t){if(t.pageX||t.pageY)return{x:t.pageX,y:t.pageY};var e=_isIE&&"BackCompat"!=document.compatMode?document.documentElement:document.body;return{x:t.clientX+e.scrollLeft-e.clientLeft,y:t.clientY+e.scrollTop-e.clientTop}}this._createHContext();var i=e(t);return this._showHContext(!0,i.x,i.y),t[_isIE?"srcElement":"target"].oncontextmenu=function(t){return(t||event).cancelBubble=!0,!1},t.cancelBubble=!0,t.preventDefault&&t.preventDefault(),!1},dhtmlXGridObject.prototype._createHContext=function(){if(this._hContext)return this._hContext;var t=document.createElement("DIV");t.oncontextmenu=function(t){return(t||event).cancelBubble=!0,!1},t.onclick=function(t){return(t||event).cancelBubble=!0},t.className="dhx_header_cmenu",t.style.width=t.style.height="5px",t.style.display="none";var e=[],i=0;this._fake&&(i=this._fake._cCount);for(var s=i;i<this.hdr.rows[1].cells.length;i++){var n=this.hdr.rows[1].cells[i];if(!this._hm_config||this._hm_config[i]&&"false"!=this._hm_config[i]){var o=n.firstChild&&"DIV"==n.firstChild.tagName?n.firstChild.innerHTML:n.innerHTML,o=o.replace(/<[^>]*>/gi,"");e.push("<div class='dhx_header_cmenu_item'><input type='checkbox' column='"+s+"' len='"+(n.colSpan||1)+"' checked='true' />"+o+"</div>")}s+=n.colSpan||1}t.innerHTML=e.join("");for(var l=this,h=function(){var t=this.getAttribute("column");if(!this.checked&&!l._checkLast(t))return this.checked=!0;l._realfake&&(l=l._fake);for(var e=0;e<this.getAttribute("len");e++)l.setColumnHidden(1*t+1*e,!this.checked);this.checked&&0==l.getColWidth(t)&&l.adjustColumnSize(t)},i=0;i<t.childNodes.length;i++)t.childNodes[i].firstChild.onclick=h;document.body.insertBefore(t,document.body.firstChild),this._hContext=t,t.style.position="absolute",t.style.zIndex=999,t.style.width="auto",t.style.height="auto",t.style.display="block"},dhtmlXGridObject.prototype._checkLast=function(t){for(var e=0;e<this._cCount;e++)if(!(this._hrrar&&this._hrrar[e]||e==t))return!0;return!1},dhtmlXGridObject.prototype._updateHContext=function(){for(var t=0;t<this._hContext.childNodes.length;t++){var e=this._hContext.childNodes[t].firstChild,i=e.getAttribute("column");(this.isColumnHidden(i)||0==this.getColWidth(i))&&(e.checked=!1)}},dhtmlXGridObject.prototype._showHContext=function(t,e,i){t&&this.enableColumnMove&&(this._hContext.parentNode.removeChild(this._hContext),this._hContext=null),this._createHContext(),this._hContext.style.display=t?"block":"none",t&&(this._updateHContext(!0),this._hContext.style.left=e+"px",this._hContext.style.top=i+"px")},eXcell_math.prototype=new eXcell,dhtmlXGridObject.prototype._init_point_bm=dhtmlXGridObject.prototype._init_point,dhtmlXGridObject.prototype._init_point=function(){this._mat_links={},this._aggregators=[],this.attachEvent("onClearAll",function(){this._mat_links={},this._aggregators=[]}),this.attachEvent("onCellChanged",function(t,e){if(this._mat_links[t]){var i=this._mat_links[t][e];if(i)for(var s=0;s<i.length;s++)i[s].parentNode&&this.cells5(i[s]).setValue(this._calcSCL(i[s]))}if(!this._parsing&&this._aggregators[e]){var n=this._h2.get[t].parent.id;if(0!=n){var o=this.cells(n,e);o.setValue(this._calcSCL(o.cell))}}}),this.attachEvent("onAfterRowDeleted",function(t,e){if(0!=e&&!this._parsing&&this._aggregators.length)for(var i=0;i<this._aggregators.length;i++)if(this._aggregators[i]){var s=this.cells(e,i);s.setValue(this._calcSCL(s.cell))}return!0}),this.attachEvent("onXLE",function(){for(var t=0;t<this._aggregators.length;t++)this._aggregators[t]&&this._h2.forEachChild(0,function(e){if(0!=e.childs.length){var i=this.cells(e.id,t);i.setValue(this._calcSCL(i.cell))}},this)}),(this._init_point=this._init_point_bm)&&this._init_point()},dhtmlXGridObject.prototype.enableMathSerialization=function(t){this._mathSerialization=convertStringToBoolean(t)},dhtmlXGridObject.prototype.setMathRound=function(t){this._roundDl=t,this._roundD=Math.pow(10,t)},dhtmlXGridObject.prototype.enableMathEditing=function(t){this._mathEdit=convertStringToBoolean(t)},dhtmlXGridObject.prototype._calcSCL=function(a){if(!a._code)return this.cells5(a).getValue();try{dhtmlx.agrid=this;var b=eval(a._code)}catch(c){return"#SCL"}if(this._roundD){var d=Math.abs(b)<1?"0":"";if(0>b&&(d="-"+d),b=Math.round(Math.abs(b)*this._roundD).toString(),0==b)return 0;if(this._roundDl>0){var e=b.length-this._roundDl;return 0>e&&(b=("000000000"+b).substring(9+e),e=0),d+b.substring(0,e)+"."+b.substring(e,b.length)}return d+b}return b},dhtmlXGridObject.prototype._countTotal=function(t,e){for(var i=0,s=this._h2.get[t],n=0;n<s.childs.length&&s.childs[n].buff;n++){if(s.childs[n].buff._parser){this._h2.forEachChild(t,function(t){0==t.childs.length&&(i+=parseFloat(this._get_cell_value(t.buff,e),10))},this);break}i+=parseFloat(this._get_cell_value(s.childs[n].buff,e),10)}return i},dhtmlXGridObject.prototype._compileSCL=function(t,e,i){if(null===t||t===window.undefined)return t;if(t=t.toString(),0!=t.indexOf("="))return this._reLink([],e),i&&(e._code=e.original=null),t;e.original=t;var s=null,t=t.replace("=","");if(-1!=t.indexOf("sum"))return t=t.replace("sum","(dhtmlx.agrid._countTotal('"+e.parentNode.idd+"',"+e._cellIndex+"))"),this._aggregators||(this._aggregators=[]),this._aggregators[e._cellIndex]="sum",e._code=t,this._parsing?"":this._calcSCL(e);if(-1!=t.indexOf("[[")){var n=/(\[\[([^\,]*)\,([^\]]*)]\])/g;dhtmlx.agrid=this,s=s||[],t=t.replace(n,function(t,i,n,o){return"-"==n&&(n=e.parentNode.idd),0==n.indexOf("#")&&(n=dhtmlx.agrid.getRowId(n.replace("#",""))),s[s.length]=[n,o],'(parseFloat(dhtmlx.agrid.cells("'+n+'",'+o+").getValue(),10))"})}if(-1!=t.indexOf(":")){n=/:(\w+)/g,dhtmlx.agrid=this;var o=e.parentNode.idd,s=s||[],t=t.replace(n,function(t,e){return s[s.length]=[o,dhtmlx.agrid.getColIndexById(e)],'(parseFloat(dhtmlx.agrid.cells("'+o+'",dhtmlx.agrid.getColIndexById("'+e+'")).getValue(),10))'})}else n=/c([0-9]+)/g,dhtmlx.agrid=this,o=e.parentNode.idd,s=s||[],t=t.replace(n,function(t,e){return s[s.length]=[o,e],'(parseFloat(dhtmlx.agrid.cells("'+o+'",'+e+").getValue(),10))"});return this._reLink(s,e),e._code=t,this._calcSCL(e)},dhtmlXGridObject.prototype._reLink=function(t,e){if(t.length)for(var i=0;i<t.length;i++){this._mat_links[t[i][0]]||(this._mat_links[t[i][0]]={});var s=this._mat_links[t[i][0]];s[t[i][1]]||(s[t[i][1]]=[]),s[t[i][1]].push(e)}},_isKHTML&&function(){var t=String.prototype.replace;String.prototype.replace=function(e,i){if("function"!=typeof i)return t.apply(this,arguments);var s=""+this,n=i;if(!(e instanceof RegExp)){var o=s.indexOf(e);return-1==o?s:t.apply(s,[e,n(e,o,s)])}for(var l,h=e,r=[],a=h.lastIndex;null!=(l=h.exec(s));){var o=l.index,d=l.concat(o,s);if(r.push(s.slice(a,o),n.apply(null,d).toString()),!h.global){a+=RegExp.lastMatch.length;break}a=h.lastIndex}return r.push(s.slice(a)),r.join("")}}(),dhtmlXGridObject.prototype.insertColumn=function(t,e,i,s,n,o,l,h,r){if(t=parseInt(t),t>this._cCount&&(t=this._cCount),this._cMod||(this._cMod=this._cCount),this._processAllArrays(this._cCount,t-1,[e||"&nbsp;",s||100,i||"ed",o||"left",l||"",n||"na",r||"","",this._cMod,s||100]),this._processAllRows("_addColInRow",t),"object"==typeof e)for(var a=1;a<this.hdr.rows.length;a++)if("#rspan"==e[a-1]){for(var d=a-1,c=!1,u=null;!c;){for(var u=this.hdr.rows[d],_=0;_<u.cells.length;_++)if(u.cells[_]._cellIndex==t){c=_;break}d--}this.hdr.rows[d+1].cells[_].rowSpan=(this.hdr.rows[d].cells[_].rowSpan||1)+1}else this.setHeaderCol(t,e[a-1]||"&nbsp;",a);else this.setHeaderCol(t,e||"&nbsp;");this._cCount++,this._cMod++,this._master_row=null,this.setSizes()},dhtmlXGridObject.prototype.deleteColumn=function(t){t=parseInt(t),0!=this._cCount&&(this._cMod||(this._cMod=this._cCount),t>=this._cCount||(this._processAllArrays(t,this._cCount-1,[null,null,null,null,null,null,null,null,null,null,null]),this._processAllRows("_deleteColInRow",t),this._cCount--,this._master_row=null,this.setSizes()))},dhtmlXGridObject.prototype._processAllRows=function(t,e,i){this[t](this.obj.rows[0],e,i,0);for(var s=this.hdr.rows.length,n=0;s>n;n++)this[t](this.hdr.rows[n],e,i,n);if(this.ftr)for(s=this.ftr.firstChild.rows.length,n=0;s>n;n++)this[t](this.ftr.firstChild.rows[n],e,i,n);this.forEachRow(function(s){this.rowsAr[s]&&"TR"==this.rowsAr[s].tagName&&this[t](this.rowsAr[s],e,i,-1)})},dhtmlXGridObject.prototype._processAllArrays=function(t,e,i){var s="hdrLabels,initCellWidth,cellType,cellAlign,cellVAlign,fldSort,columnColor,_hrrar,_c_order".split(",");this.cellWidthPX.length&&s.push("cellWidthPX"),this.cellWidthPC.length&&s.push("cellWidthPC"),this._col_combos&&s.push("_col_combos"),this._mCols&&(s[s.length]="_mCols"),this.columnIds&&(s[s.length]="columnIds"),this._maskArr&&s.push("_maskArr"),this._drsclmW&&s.push("_drsclmW"),this._RaSeCol&&s.push("_RaSeCol"),this.clists&&s.push("clists"),this._validators&&this._validators.data&&s.push(this._validators.data),s.push("combos"),this._customSorts&&s.push("_customSorts"),this._aggregators&&s.push("_aggregators");
var n=e>=t;if(!this._c_order){this._c_order=[];for(var o=this._cCount,l=0;o>l;l++)this._c_order[l]=l}for(l=0;l<s.length;l++){var h=this[s[l]]||s[l];if(h){if(n){for(var r=h[t],a=t;e>a;a++)h[a]=h[a+1];h[e]=r}else{for(r=h[t],a=t;a>e+1;a--)h[a]=h[a-1];h[e+1]=r}i&&(h[e+(n?0:1)]=i[l])}}},dhtmlXGridObject.prototype.moveColumn=function(t,e){e--;var t=parseInt(t),e=parseInt(e),i=t>e?e+1:e;return this.callEvent("onBeforeCMove",[t,i])?void(t!=i&&(this.editStop(),this._processAllRows("_moveColInRow",t,e),this._processAllArrays(t,e),this.fldSorted&&this.setSortImgPos(this.fldSorted._cellIndex),this.callEvent("onAfterCMove",[t,i]))):!1},dhtmlXGridObject.prototype._swapColumns=function(t){for(var e=[],i=0;i<this._cCount;i++){var s=t[this._c_order[i]];"undefined"==typeof s&&(s=""),e[i]=s}return e},dhtmlXGridObject.prototype._moveColInRow=function(t,e,i){var s=t.childNodes[e],n=t.childNodes[i+1];if(s){n?t.insertBefore(s,n):t.appendChild(s);for(var o=0;o<t.childNodes.length;o++)t.childNodes[o]._cellIndex=t.childNodes[o]._cellIndexS=o}},dhtmlXGridObject.prototype._addColInRow=function(t,e,i,s){var n=e;if(t._childIndexes){if(t._childIndexes[e-1]!=t._childIndexes[e]&&t.childNodes[t._childIndexes[e-1]])for(o=t._childIndexes.length;o>=e;o--)t._childIndexes[o]=o?t._childIndexes[o-1]+1:0;else{for(var o=t._childIndexes.length;o>=e;o--)t._childIndexes[o]=o?t._childIndexes[o-1]+1:0;t._childIndexes[e]--}n=t._childIndexes[e]}var l=t.childNodes[n],h=document.createElement(s?"TD":"TH");for(s?h._attrs={}:h.style.width=(parseInt(this.cellWidthPX[e])||"100")+"px",l?t.insertBefore(h,l):t.appendChild(h),this.dragAndDropOff&&t.idd&&this.dragger.addDraggableItem(t.childNodes[n],this),o=n+1;o<t.childNodes.length;o++)t.childNodes[o]._cellIndex=t.childNodes[o]._cellIndexS=t.childNodes[o]._cellIndex+1;t.childNodes[n]&&(t.childNodes[n]._cellIndex=t.childNodes[n]._cellIndexS=e),t.idd||"undefined"!=typeof t.idd?(this.cells3(t,e).setValue(""),h.align=this.cellAlign[e],h.style.verticalAlign=this.cellVAlign[e],h.bgColor=this.columnColor[e]):"TD"==h.tagName&&(h.innerHTML=!t.idd&&this.forceDivInHeader?"<div class='hdrcell'>&nbsp;</div>":"&nbsp;")},dhtmlXGridObject.prototype._deleteColInRow=function(t,e){t._childIndexes&&(e=t._childIndexes[e]);var i=t.childNodes[e];if(i){if(i.colSpan&&i.colSpan>1&&i.parentNode.idd){var s=i.colSpan-1,n=this.cells4(i).getValue();if(this.setColspan(i.parentNode.idd,i._cellIndex,1),s>1){var o=1*i._cellIndex;this.setColspan(i.parentNode.idd,o+1,s),this.cells(i.parentNode.idd,1*i._cellIndex+1).setValue(n),t._childIndexes.splice(o,1);for(var l=o;l<t._childIndexes.length;l++)t._childIndexes[l]-=1}}else if(t._childIndexes)for(t._childIndexes.splice(e,1),l=e;l<t._childIndexes.length;l++)t._childIndexes[l]--;for(i&&t.removeChild(i),l=e;l<t.childNodes.length;l++)t.childNodes[l]._cellIndex=t.childNodes[l]._cellIndexS=t.childNodes[l]._cellIndex-1}},dhtmlXGridObject.prototype.enableColumnMove=function(t,e){this._mCol=convertStringToBoolean(t),"undefined"!=typeof e&&(this._mCols=e.split(",")),this._mmevTrue||(dhtmlxEvent(this.hdr,"mousedown",this._startColumnMove),dhtmlxEvent(document.body,"mousemove",this._onColumnMove),dhtmlxEvent(document.body,"mouseup",this._stopColumnMove),this._mmevTrue=!0)},dhtmlXGridObject.prototype._startColumnMove=function(t){for(var t=t||event,e=t.target||t.srcElement,i=e;"TABLE"!=i.tagName;)i=i.parentNode;var s=i.grid;return s&&(s.setActive(),s._mCol&&2!=t.button)?(e=s.getFirstParentOfType(e,"TD"),"default"!=e.style.cursor?!0:(!s||s._colInMove||(s.resized=null,s._mCols&&"true"!=s._mCols[e._cellIndex])||(s._colInMove=e._cellIndex+1),!0)):void 0},dhtmlXGridObject.prototype._onColumnMove=function(t){var t=t||event,e=window.globalActiveDHTMLGridObject;if(e&&e._colInMove){if(e._showHContext&&e._showHContext(!1),"object"!=typeof e._colInMove){var i=document.createElement("DIV");i._aIndex=e._colInMove-1,i._bIndex=null,i.innerHTML=e.getHeaderCol(i._aIndex),i.className="dhx_dragColDiv",i.style.position="absolute",document.body.appendChild(i),e._colInMove=i}var s=[];s[0]=document.body.scrollLeft||document.documentElement.scrollLeft,s[1]=document.body.scrollTop||document.documentElement.scrollTop,e._colInMove.style.left=t.clientX+s[0]+8+"px",e._colInMove.style.top=t.clientY+s[1]+8+"px";for(var n=t.target||t.srcElement;n&&"undefined"==typeof n._cellIndexS;)n=n.parentNode;if(e._colInMove._oldHe&&(e._colInMove._oldHe.className=e._colInMove._oldHe.className.replace(/columnTarget(L|R)/g,""),e._colInMove._oldHe=null,e._colInMove._bIndex=null),n){var o=e.hdr.rows[1]._childIndexes?e.hdr.rows[1].cells[e.hdr.rows[1]._childIndexes[n._cellIndexS]]:e.hdr.rows[1].cells[n._cellIndexS],i=t.clientX-(getAbsoluteLeft(o)-e.hdrBox.scrollLeft);i/o.offsetWidth>.5?(o.className+=" columnTargetR",e._colInMove._bIndex=n._cellIndexS):(o.className+=" columnTargetL",e._colInMove._bIndex=n._cellIndexS-1),o.offsetLeft<e.objBox.scrollLeft+20&&(e.objBox.scrollLeft=Math.max(0,o.offsetLeft-20)),o.offsetLeft+o.offsetWidth-e.objBox.scrollLeft>e.objBox.offsetWidth-20&&(e.objBox.scrollLeft=Math.min(e.objBox.scrollLeft+o.offsetWidth+20,e.objBox.scrollWidth-e.objBox.offsetWidth)),e._colInMove._oldHe=o}return t.cancelBubble=!0,!1}return!0},dhtmlXGridObject.prototype._stopColumnMove=function(t){var e=window.globalActiveDHTMLGridObject;return e&&e._colInMove&&("object"==typeof e._colInMove&&(e._colInMove.parentNode.removeChild(e._colInMove),null!=e._colInMove._bIndex&&e.moveColumn(e._colInMove._aIndex,e._colInMove._bIndex+1),e._colInMove._oldHe&&(e._colInMove._oldHe.className=e._colInMove._oldHe.className.replace(/columnTarget(L|R)/g,"")),e._colInMove._oldHe=null,e._colInMove.grid=null,e.resized=!0),e._colInMove=0),!0},dhtmlXGridObject.prototype.loadCSVFile=function(t,e){this.load(t,e,"csv")},dhtmlXGridObject.prototype.enableCSVAutoID=function(t){this._csvAID=convertStringToBoolean(t)},dhtmlXGridObject.prototype.enableCSVHeader=function(t){this._csvHdr=convertStringToBoolean(t)},dhtmlXGridObject.prototype.setCSVDelimiter=function(t){this.csv.cell=t},dhtmlXGridObject.prototype._csvAID=!0,dhtmlXGridObject.prototype.loadCSVString=function(t){this.parse(t,"csv")},dhtmlXGridObject.prototype.serializeToCSV=function(t){this.editStop(),this._agetm=this._mathSerialization?"getMathValue":this._strictText||t?"getTitle":"getValue";var e=[];if(this._csvHdr)for(var i=1;i<this.hdr.rows.length;i++){for(var s=[],n=0;n<this._cCount;n++)(!this._srClmn||this._srClmn[n])&&s.push(this.getColumnLabel(n,i-1));e.push(this.csvParser.str(s,this.csv.cell,this.csv.row))}for(var n=0,o=this.rowsBuffer.length;o>n;n++){var l=this._serializeRowToCVS(null,n);""!=l&&e.push(l)}return this.csvParser.block(e,this.csv.row)},dhtmlXGridObject.prototype._serializeRowToCVS=function(t,e,i,s){var n=[];t||(t=this.render_row(e),this._fake&&!this._fake.rowsAr[t.idd]&&this._fake.render_row(e)),this._csvAID||(n[n.length]=t.idd);for(var i=i||0,s=s||this._cCount,o=!1,l=i;t.childNodes[i]._cellIndex>l&&i;)i--;for(var h=i;s>l&&t.childNodes[h];h++){var r=t.childNodes[h]._cellIndex;if(this._srClmn&&!this._srClmn[r]||this._serialize_visible&&this._hrrar[r])l++;else{for(var a=t.childNodes[h],d=this.cells(t.idd,r);l!=r&&(l++,n.push(""),!(l>=s)););if(l>=s)break;if(l++,zxVal=d.cell?d[this._agetm]():"",this._chAttr&&d.wasChanged()&&(o=!0),n[n.length]=null===zxVal?"":zxVal,this._ecspn&&a.colSpan&&a.colSpan>1)for(var a=a.colSpan-1,c=0;a>c;c++)n[n.length]="",l++}}return this._onlChAttr&&!o?"":this.csvParser.str(n,this.csv.cell,this.csv.row)},dhtmlXGridObject.prototype.toClipBoard=function(t){window.clipboardData?window.clipboardData.setData("Text",t):(new Clipboard).copy(t)},dhtmlXGridObject.prototype.fromClipBoard=function(){return window.clipboardData?window.clipboardData.getData("Text"):(new Clipboard).paste()},dhtmlXGridObject.prototype.cellToClipboard=function(t,e){if(!t||!e){if(!this.selectedRows[0])return;t=this.selectedRows[0].idd,e=this.cell._cellIndex}var i=this.cells(t,e);this.toClipBoard(((i.getLabel?i.getLabel():i.getValue())||"").toString())},dhtmlXGridObject.prototype.updateCellFromClipboard=function(t,e){if(!t||!e){if(!this.selectedRows[0])return;t=this.selectedRows[0].idd,e=this.cell._cellIndex}var i=this.cells(t,e);i[i.setImage?"setLabel":"setValue"](this.fromClipBoard())},dhtmlXGridObject.prototype.rowToClipboard=function(t){var e="";if(this._agetm=this._mathSerialization?"getMathValue":this._strictText?"getTitle":"getValue",t)e=this._serializeRowToCVS(this.getRowById(t));else for(var i=[],s=0;s<this.selectedRows.length;s++)i[i.length]=this._serializeRowToCVS(this.selectedRows[s]),e=this.csvParser.block(i,this.csv.row);this.toClipBoard(e)},dhtmlXGridObject.prototype.updateRowFromClipboard=function(t){var e=this.fromClipBoard();if(e){var i=t?this.getRowById(t):this.selectedRows[0];if(i){var s=this.csvParser,e=s.unblock(e,this.csv.cell,this.csv.row)[0];this._csvAID||e.splice(0,1);for(var n=0;n<e.length;n++){var o=this.cells3(i,n);o[o.setImage?"setLabel":"setValue"](e[n])}}}},dhtmlXGridObject.prototype.csvParser={block:function(t,e){return t.join(e)},unblock:function(t,e,i){for(var s=(t||"").split(i),n=0;n<s.length;n++)s[n]=(s[n]||"").split(e);var o=s.length-1;return 1==s[o].length&&""==s[o][0]&&s.splice(o,1),s},str:function(t,e){return t.join(e)}},dhtmlXGridObject.prototype.csvExtParser={_quote:RegExp('"',"g"),_quote_esc:RegExp('\\\\"',"g"),block:function(t,e){return t.join(e)},unblock:function(t,e,i){var s=[[]],n=0;if(!t)return s;for(var o=/^[ ]*"/,l=/"[ ]*$/,h=RegExp(".*"+i+".*$"),r=t.split(e),a=0;a<r.length;a++)if(r[a].match(o)){for(var d=r[a].replace(o,"");!r[a].match(l);)a++,d+=r[a];s[n].push(d.replace(l,"").replace(this._quote_esc,'"'))}else if(r[a].match(h)){var c=r[a].indexOf(i);s[n].push(r[a].substr(0,c)),n++,s[n]=[],r[a]=r[a].substr(c+1),a--}else(r[a]||a!=r.length-1)&&s[n].push(r[a]);var u=s.length-1;return u>0&&!s[u].length&&s.splice(u,1),s},str:function(t,e){for(var i=0;i<t.length;i++)t[i]='"'+t[i].replace(this._quote,'\\"')+'"';return t.join(e)}},dhtmlXGridObject.prototype.addRowFromClipboard=function(){var t=this.fromClipBoard();if(t)for(var e=this.csvParser.unblock(t,this.csv.cell,this.csv.row),i=0;i<e.length;i++)e[i]&&(t=e[i],t.length&&(this._csvAID?this.addRow(this.getRowsNum()+2,t):(this.rowsAr[t[0]]&&(t[0]=this.uid()),this.addRow(t[0],t.slice(1)))))},dhtmlXGridObject.prototype.gridToClipboard=function(){this.toClipBoard(this.serializeToCSV())},dhtmlXGridObject.prototype.gridFromClipboard=function(){var t=this.fromClipBoard();t&&this.loadCSVString(t)},dhtmlXGridObject.prototype.getXLS=function(t){if(!this.xslform){this.xslform=document.createElement("FORM"),this.xslform.action=(t||"")+"xls.php",this.xslform.method="post",this.xslform.target=_isIE?"_blank":"",document.body.appendChild(this.xslform);var e=document.createElement("INPUT");e.type="hidden",e.name="csv",this.xslform.appendChild(e);var i=document.createElement("INPUT");i.type="hidden",i.name="csv_header",this.xslform.appendChild(i)}var s=this.serializeToCSV();this.xslform.childNodes[0].value=s;for(var n=[],o=this._cCount,l=0;o>l;l++)n.push(this.getHeaderCol(l));n=n.join(","),this.xslform.childNodes[1].value=n,this.xslform.submit()},dhtmlXGridObject.prototype.printView=function(t,e){var i="<style>TD { font-family:Arial; text-align:center; padding-left:2px;padding-right:2px; } \n td.filter input, td.filter select { display:none; }	\n  </style>",s=null;if(this._fake)for(var s=[].concat(this._hrrar),n=0;n<this._fake._cCount;n++)this._hrrar[n]=null;i+="<base  href='"+document.location.href+"'></base>",this.parentGrid||(i+=t||""),i+='<table width="100%" border="2px" cellpadding="0" cellspacing="0">';var o=Math.max(this.rowsBuffer.length,this.rowsCol.length),l=this._cCount,h=this._printWidth();for(i+='<tr class="header_row_1">',n=0;l>n;n++)if(!this._hrrar||!this._hrrar[n]){for(var r=this.hdr.rows[1].cells[this.hdr.rows[1]._childIndexes?this.hdr.rows[1]._childIndexes[parseInt(n)]:n],a=r.colSpan||1,d=r.rowSpan||1,c=1;a>c;c++)h[n]+=h[c];i+='<td rowspan="'+d+'" width="'+h[n]+'%" style="background-color:lightgrey;" colspan="'+a+'">'+this.getHeaderCol(n)+"</td>",n+=a-1}for(i+="</tr>",n=2;n<this.hdr.rows.length;n++)if(_isIE){i+="<tr style='background-color:lightgrey' class='header_row_"+n+"'>";for(var u=this.hdr.rows[n].childNodes,c=0;c<u.length;c++)this._hrrar&&this._hrrar[u[c]._cellIndex]||(i+=u[c].outerHTML);i+="</tr>"}else i+="<tr class='header_row_"+n+"' style='background-color:lightgrey'>"+(this._fake?this._fake.hdr.rows[n].innerHTML:"")+this.hdr.rows[n].innerHTML+"</tr>";for(n=0;o>n;n++)if(i+="<tr>",this.rowsCol[n]&&this.rowsCol[n]._cntr)i+=this.rowsCol[n].innerHTML.replace(/<img[^>]*>/gi,"")+"</tr>";else if(!this.rowsCol[n]||"none"!=this.rowsCol[n].style.display){var _;if(this.rowsCol[n])_=this.rowsCol[n].idd;else{if(!this.rowsBuffer[n])continue;_=this.rowsBuffer[n].idd}for(c=0;l>c;c++)if(!this._hrrar||!this._hrrar[c]){if(this.rowsAr[_]&&"TR"==this.rowsAr[_].tagName)var p=this.cells(_,c),f=p._setState?"":p.getContent?p.getContent():p.getImage||p.combo?p.cell.innerHTML:p.getValue();else f=this._get_cell_value(this.rowsBuffer[n],c);var m=this.columnColor[c]?"background-color:"+this.columnColor[c]+";":"",g=this.cellAlign[c]?"text-align:"+this.cellAlign[c]+";":"",b=p.getAttribute("colspan");i+='<td style="'+m+g+'" '+(b?'colSpan="'+b+'"':"")+">"+(""===f?"&nbsp;":f)+"</td>",b&&(c+=b-1)}if(i+="</tr>",this.rowsCol[n]&&this.rowsCol[n]._expanded){var v=this.cells4(this.rowsCol[n]._expanded.ctrl);i+=v.getSubGrid?'<tr><td colspan="'+l+'">'+v.getSubGrid().printView()+"</td></tr>":'<tr><td colspan="'+l+'">'+this.rowsCol[n]._expanded.innerHTML+"</td></tr>"}}if(this.ftr)for(n=1;n<this.ftr.childNodes[0].rows.length;n++)i+="<tr style='background-color:lightgrey'>"+(this._fake?this._fake.ftr.childNodes[0].rows[n].innerHTML:"")+this.ftr.childNodes[0].rows[n].innerHTML+"</tr>";if(i+="</table>",this.parentGrid)return i;i+=e||"";var y=window.open("","_blank");y.document.write(i),y.document.write("<script>window.onerror=function(){return true;}</script>"),y.document.close(),this._fake&&(this._hrrar=s)},dhtmlXGridObject.prototype._printWidth=function(){for(var t=[],e=0,i=0;i<this._cCount;i++){var s=this.getColWidth(i);t.push(s),e+=s}for(var n=[],o=0,i=0;i<t.length;i++){var l=Math.floor(t[i]/e*100);o+=l,n.push(l)}return n[n.length-1]+=100-o,n},dhtmlXGridObject.prototype.loadObject=function(){},dhtmlXGridObject.prototype.loadJSONFile=function(){},dhtmlXGridObject.prototype.serializeToObject=function(){},dhtmlXGridObject.prototype.serializeToJSON=function(){},window.clipboardData||(window.clipboardData={_make:function(){var t=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!t)return null;var e=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!e)return null;e.addDataFlavor("text/unicode");var i=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);return this._p=[t,e,i],!0},setData:function(t,e){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(i){return dhtmlxError.throwError("Clipboard","Access to clipboard denied",[t,e]),""}if(!this._make())return!1;this._p[2].data=e,this._p[1].setTransferData("text/unicode",this._p[2],2*e.length);var s=Components.interfaces.nsIClipboard;this._p[0].setData(this._p[1],null,s.kGlobalClipboard)},getData:function(t){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(e){return dhtmlxError.throwError("Clipboard","Access to clipboard denied",[t]),""}if(!this._make())return!1;this._p[0].getData(this._p[1],this._p[0].kGlobalClipboard);var i={},s={};try{this._p[1].getTransferData("text/unicode",s,i)}catch(n){return""}return s&&(s=s.value.QueryInterface(Components.interfaces.nsISupportsString)),s?s.data.substring(0,i.value/2):""}}),dhtmlXGridObject.prototype.enableBlockSelection=function(t){if("undefined"==typeof this._bs_mode){var e=this;this.obj.onmousedown=function(t){return e._bs_mode&&e._OnSelectionStart(t||event,this),!0},this._CSVRowDelimiter=this.csv.row,this.attachEvent("onResize",function(){return e._HideSelection(),!0}),this.attachEvent("onGridReconstructed",function(){return e._HideSelection(),!0}),this.attachEvent("onFilterEnd",this._HideSelection)}return t===!1?(this._bs_mode=!1,this._HideSelection()):void(this._bs_mode=!0)},dhtmlXGridObject.prototype.forceLabelSelection=function(t){this._strictText=convertStringToBoolean(t)},dhtmlXGridObject.prototype.disableBlockSelection=function(){this.obj.onmousedown=null},dhtmlXGridObject.prototype._OnSelectionStart=function(t){var e=this;if(2!=t.button){var i=t.srcElement||t.target;if(this.editor){if(i.tagName&&("INPUT"==i.tagName||"TEXTAREA"==i.tagName))return;this.editStop()}e.setActive(!0);var s=this.getPosition(this.obj),n=t.clientX-s[0]+(document.body.scrollLeft||(document.documentElement?document.documentElement.scrollLeft:0)),o=t.clientY-s[1]+(document.body.scrollTop||(document.documentElement?document.documentElement.scrollTop:0));if(this._CreateSelection(n-4,o-4),i==this._selectionObj)this._HideSelection(),this._startSelectionCell=null;else{for(;"td"!=i.tagName.toLowerCase();)i=i.parentNode;this._startSelectionCell=i}if(this._startSelectionCell&&!this.callEvent("onBeforeBlockSelected",[this._startSelectionCell.parentNode.idd,this._startSelectionCell._cellIndex]))return this._startSelectionCell=null;this.obj.onmousedown=null,this.obj[_isIE?"onmouseleave":"onmouseout"]=function(){e._blsTimer&&window.clearTimeout(e._blsTimer)},this.obj.onmmold=this.obj.onmousemove,this._init_pos=[n,o],this._selectionObj.onmousemove=this.obj.onmousemove=function(i){i=i||t,i.returnValue=!1,e._OnSelectionMove(i)},this._oldDMP=document.body.onmouseup,document.body.onmouseup=function(i){return i=i||t,e._OnSelectionStop(i,this),!0},this.callEvent("onBeforeBlockSelection",[]),document.body.onselectstart=function(){return!1}}},dhtmlXGridObject.prototype._getCellByPos=function(t,e){this._fake&&(t+=this._fake.objBox.scrollHeight);for(var i=0,s=0;s<this.obj.rows.length;s++)if(e-=this.obj.rows[s].offsetHeight,0>=e){i=this.obj.rows[s];break}if(!i||!i.idd)return null;for(s=0;s<this._cCount;s++)if(t-=this.getColWidth(s),0>=t)for(;;){if(!i._childIndexes||i._childIndexes[s+1]!=i._childIndexes[s])return this.cells(i.idd,s).cell;i=i.previousSibling}return null},dhtmlXGridObject.prototype._OnSelectionMove=function(t){var e=this;this._ShowSelection();var i=this.getPosition(this.obj),s=t.clientX-i[0]+(document.body.scrollLeft||(document.documentElement?document.documentElement.scrollLeft:0)),n=t.clientY-i[1]+(document.body.scrollTop||(document.documentElement?document.documentElement.scrollTop:0));if(Math.abs(this._init_pos[0]-s)<5&&Math.abs(this._init_pos[1]-n)<5)return this._HideSelection();var o=this._endSelectionCell;if(null==this._startSelectionCell)this._endSelectionCell=this._startSelectionCell=this.getFirstParentOfType(t.srcElement||t.target,"TD");else if(t.srcElement||t.target)if("dhtmlxGrid_selection"==(t.srcElement||t.target).className)this._endSelectionCell=this._getCellByPos(s,n)||this._endSelectionCell;else{var l=this.getFirstParentOfType(t.srcElement||t.target,"TD");l.parentNode.idd&&(this._endSelectionCell=l)}this._endSelectionCell&&!this.callEvent("onBeforeBlockSelected",[this._endSelectionCell.parentNode.idd,this._endSelectionCell._cellIndex])&&(this._endSelectionCell=o);var h=this.objBox.scrollLeft+this.objBox.clientWidth,r=this.objBox.scrollTop+this.objBox.clientHeight,a=this.objBox.scrollLeft,d=this.objBox.scrollTop,c=!1;if(this._blsTimer&&window.clearTimeout(this._blsTimer),s+20>=h?(this.objBox.scrollLeft+=20,c=!0):a>s-20&&(this.objBox.scrollLeft-=20,c=!0),n+20>=r&&!this._realfake?(this.objBox.scrollTop+=20,c=!0):d>n-20&&!this._realfake&&(this.objBox.scrollTop-=20,c=!0),this._selectionArea=this._RedrawSelectionPos(this._startSelectionCell,this._endSelectionCell),c){var u=t.clientX,_=t.clientY;this._blsTimer=window.setTimeout(function(){e._OnSelectionMove({clientX:u,clientY:_})},100)}},dhtmlXGridObject.prototype._OnSelectionStop=function(t){var e=this;if(this._blsTimer&&window.clearTimeout(this._blsTimer),this.obj.onmousedown=function(i){return e._bs_mode&&e._OnSelectionStart(i||t,this),!0},this.obj.onmousemove=this.obj.onmmold||null,this._selectionObj.onmousemove=null,document.body.onmouseup=this._oldDMP||null,parseInt(this._selectionObj.style.width)<2&&parseInt(this._selectionObj.style.height)<2)this._HideSelection();else{var i=this.getFirstParentOfType(t.srcElement||t.target,"TD");if(i&&i.parentNode.idd||(i=this._endSelectionCell),!i)return this._HideSelection();for(;"td"!=i.tagName.toLowerCase();)i=i.parentNode;this._stopSelectionCell=i,this._selectionArea=this._RedrawSelectionPos(this._startSelectionCell,this._stopSelectionCell),this.callEvent("onBlockSelected",[])}document.body.onselectstart=function(){}},dhtmlXGridObject.prototype._RedrawSelectionPos=function(t,e){var i={};i.LeftTopCol=t._cellIndex,i.LeftTopRow=this.getRowIndex(t.parentNode.idd),i.RightBottomCol=e._cellIndex,i.RightBottomRow=this.getRowIndex(e.parentNode.idd);var s=t.offsetWidth,n=t.offsetHeight,t=this.getPosition(t,this.obj),o=e.offsetWidth,l=e.offsetHeight,e=this.getPosition(e,this.obj);if(t[0]<e[0])var h=t[0],r=e[0]+o;else{var a=i.RightBottomCol;i.RightBottomCol=i.LeftTopCol,i.LeftTopCol=a,h=e[0],r=t[0]+s}if(t[1]<e[1])var d=t[1],c=e[1]+l;else a=i.RightBottomRow,i.RightBottomRow=i.LeftTopRow,i.LeftTopRow=a,d=e[1],c=t[1]+n;var u=r-h,_=c-d;return this._selectionObj.style.left=h+"px",this._selectionObj.style.top=d+"px",this._selectionObj.style.width=u+"px",this._selectionObj.style.height=_+"px",i},dhtmlXGridObject.prototype._CreateSelection=function(t,e){if(null==this._selectionObj){var i=document.createElement("div");i.style.position="absolute",i.style.display="none",i.className="dhtmlxGrid_selection",this._selectionObj=i,this._selectionObj.onmousedown=function(t){return t=t||event,2==t.button||_isMacOS&&t.ctrlKey?this.parentNode.grid.callEvent("onBlockRightClick",["BLOCK",t]):void 0},this._selectionObj.oncontextmenu=function(t){return(t||event).cancelBubble=!0,!1},this.objBox.appendChild(this._selectionObj)}this._selectionObj.style.width="0px",this._selectionObj.style.height="0px",this._selectionObj.style.left=t+"px",this._selectionObj.style.top=e+"px",this._selectionObj.startX=t,this._selectionObj.startY=e},dhtmlXGridObject.prototype._ShowSelection=function(){this._selectionObj&&(this._selectionObj.style.display="")},dhtmlXGridObject.prototype._HideSelection=function(){this._selectionObj&&(this._selectionObj.style.display="none"),this._selectionArea=null},dhtmlXGridObject.prototype.copyBlockToClipboard=function(){if(null!=this._selectionArea){var t=[];this._agetm=this._mathSerialization?"getMathValue":this._strictText?"getTitle":"getValue",this._serialize_visible=!0;for(var e=this._selectionArea.LeftTopRow;e<=this._selectionArea.RightBottomRow;e++){var i=this._serializeRowToCVS(this.rowsBuffer[e],null,this._selectionArea.LeftTopCol,this._selectionArea.RightBottomCol+1);t[t.length]=this._csvAID?i:i.substr(i.indexOf(this.csv.cell)+1)}t=t.join(this._CSVRowDelimiter),this.toClipBoard(t),this._serialize_visible=!1}},dhtmlXGridObject.prototype.pasteBlockFromClipboard=function(){var t=this.fromClipBoard();if(null!=this._selectionArea)var e=this._selectionArea.LeftTopRow,i=this._selectionArea.LeftTopCol;else{if(null==this.cell||this.editor)return!1;e=this.getRowIndex(this.cell.parentNode.idd),i=this.cell._cellIndex}var t=this.csvParser.unblock(t,this.csv.cell,this.csv.row),s=e+t.length,n=i+t[0].length;n>this._cCount&&(n=this._cCount);for(var o=0,l=e;s>l;l++){var h=this.render_row(l);if(-1!=h){for(var r=0,a=i;n>a;a++)if(this._hrrar[a])n=Math.max(n+1,this._cCount);else{var d=this.cells3(h,a);if(d.isDisabled())r++;else{if(this._onEditUndoRedo&&this._onEditUndoRedo(2,h.idd,a,t[o][r],d.getValue()),d.combo){for(var c=d.combo.values,u=0;u<c.length;u++)if(t[o][r]==c[u]){d.setValue(d.combo.keys[u]),c=null;break}null!=c&&d.editable?d.setValue(t[o][r++]):r++}else d[d.setImage?"setLabel":"setValue"](t[o][r++]);d.cell.wasChanged=!0}}this.callEvent("onRowPaste",[h.idd]),o++}}},dhtmlXGridObject.prototype.getSelectedBlock=function(){return this._selectionArea?this._selectionArea:null!==this.getSelectedRowId()?{LeftTopRow:this.getSelectedRowId(),LeftTopCol:this.getSelectedCellIndex(),RightBottomRow:this.getSelectedRowId(),RightBottomCol:this.getSelectedCellIndex()}:null},dhtmlXGridObject.prototype.enablePaging=function(t,e,i,s,n,o){this._pgn_parentObj="string"==typeof s?document.getElementById(s):s,this._pgn_recInfoParentObj="string"==typeof o?document.getElementById(o):o,this.pagingOn=t,this.showRecInfo=n,this.rowsBufferOutSize=parseInt(e),this.currentPage=1,this.pagesInGroup=parseInt(i),this._init_pgn_events(),this.setPagingSkin("default")},dhtmlXGridObject.prototype.setXMLAutoLoading=function(t,e){this.xmlFileUrl=t,this._dpref=e},dhtmlXGridObject.prototype.changePageRelative=function(t){this.changePage(this.currentPage+t)},dhtmlXGridObject.prototype.changePage=function(t){0==arguments.length&&(t=this.currentPage||0),t=parseInt(t),t=Math.max(1,Math.min(t,Math.ceil(this.rowsBuffer.length/this.rowsBufferOutSize))),this.callEvent("onBeforePageChanged",[this.currentPage,t])&&(this.currentPage=parseInt(t),this._reset_view(),this._fixAlterCss(),this.callEvent("onPageChanged",this.getStateOfView()))},dhtmlXGridObject.prototype.setPagingSkin=function(t,e){this._pgn_skin=this["_pgn_"+t],"toolbar"==t&&(this._pgn_skin_tlb=e)},dhtmlXGridObject.prototype.setPagingTemplates=function(t,e){this._pgn_templateA=this._pgn_template_compile(t),this._pgn_templateB=this._pgn_template_compile(e),this._page_skin_update()},dhtmlXGridObject.prototype._page_skin_update=function(){this.pagesInGroup||(this.pagesInGroup=Math.ceil(Math.min(5,this.rowsBuffer.length/this.rowsBufferOutSize)));var t=Math.ceil(this.rowsBuffer.length/this.rowsBufferOutSize);return t&&t<this.currentPage?this.changePage(t):void(this.pagingOn&&this._pgn_skin&&this._pgn_skin.apply(this,this.getStateOfView()))},dhtmlXGridObject.prototype._init_pgn_events=function(){this.attachEvent("onXLE",this._page_skin_update),this.attachEvent("onClearAll",this._page_skin_update),this.attachEvent("onPageChanged",this._page_skin_update),this.attachEvent("onGridReconstructed",this._page_skin_update),this._init_pgn_events=function(){}},dhtmlXGridObject.prototype._pgn_default=function(){if(!this.pagingBlock){if(this.pagingBlock=document.createElement("DIV"),this.pagingBlock.className="pagingBlock",this.recordInfoBlock=document.createElement("SPAN"),this.recordInfoBlock.className="recordsInfoBlock",!this._pgn_parentObj)return;this._pgn_parentObj.appendChild(this.pagingBlock),this._pgn_recInfoParentObj&&this.showRecInfo&&this._pgn_recInfoParentObj.appendChild(this.recordInfoBlock),this._pgn_templateA||(this._pgn_templateA=this._pgn_template_compile("[prevpages:&lt;:&nbsp;] [currentpages:,&nbsp;] [nextpages:&gt;:&nbsp;]"),this._pgn_templateB=this._pgn_template_compile("Results <b>[from]-[to]</b> of <b>[total]</b>"))}var t=this.getStateOfView();this.pagingBlock.innerHTML=this._pgn_templateA.apply(this,t),this.recordInfoBlock.innerHTML=this._pgn_templateB.apply(this,t),this._pgn_template_active(this.pagingBlock),this._pgn_template_active(this.recordInfoBlock),this.callEvent("onPaging",[])},dhtmlXGridObject.prototype._pgn_block=function(t){for(var e=Math.floor((this.currentPage-1)/this.pagesInGroup)*this.pagesInGroup,i=Math.min(Math.ceil(this.rowsBuffer.length/this.rowsBufferOutSize),e+this.pagesInGroup),s=[],n=e+1;i>=n;n++)s.push(n==this.currentPage?"<a class='dhx_not_active'><b>"+n+"</b></a>":"<a onclick='this.grid.changePage("+n+"); return false;'>"+n+"</a>");return s.join(t)},dhtmlXGridObject.prototype._pgn_link=function(t,e,i){if("prevpages"==t||"prev"==t)return 1==this.currentPage?i:"<a onclick='this.grid.changePageRelative(-1*"+("prev"==t?"1":"this.grid.pagesInGroup")+"); return false;'>"+e+"</a>";if("nextpages"==t||"next"==t)return this.rowsBuffer.length/this.rowsBufferOutSize<=this.currentPage?i:this.rowsBuffer.length/(this.rowsBufferOutSize*("next"==t?1:this.pagesInGroup))<=1?i:"<a onclick='this.grid.changePageRelative("+("next"==t?"1":"this.grid.pagesInGroup")+"); return false;'>"+e+"</a>";if("current"==t){var s=this.currentPage+(e?parseInt(e):0);return 1>s||Math.ceil(this.rowsBuffer.length/this.rowsBufferOutSize)<s?i:"<a "+(s==this.currentPage?"class='dhx_active_page_link' ":"")+"onclick='this.grid.changePage("+s+"); return false;'>"+s+"</a>"}return e},dhtmlXGridObject.prototype._pgn_template_active=function(t){var e=t.getElementsByTagName("A");if(e)for(var i=0;i<e.length;i++)e[i].grid=this},dhtmlXGridObject.prototype._pgn_template_compile=function(t){return t=t.replace(/\[([^\]]*)\]/g,function(t,e){switch(e=e.split(":"),e[0]){case"from":return'"+(arguments[1]*1+(arguments[2]*1?1:0))+"';case"total":return'"+arguments[3]+"';case"to":return'"+arguments[2]+"';case"current":case"prev":case"next":case"prevpages":case"nextpages":return"\"+this._pgn_link('"+e[0]+"','"+e[1]+"','"+e[2]+"')+\"";case"currentpages":return"\"+this._pgn_block('"+e[1]+"')+\""}}),new Function('return "'+t+'";')},dhtmlXGridObject.prototype.i18n.paging={results:"Results",records:"Records from ",to:" to ",page:"Page ",perpage:"rows per page",first:"To first Page",previous:"Previous Page",found:"Found records",next:"Next Page",last:"To last Page",of:" of ",notfound:"No Records Found"},dhtmlXGridObject.prototype.setPagingWTMode=function(t,e,i,s){this._WTDef=[t,e,i,s]},dhtmlXGridObject.prototype._pgn_bricks=function(t,e,i){var s=(this.skin_name||"").split("_")[1],n="";("light"==s||"modern"==s||"skyblue"==s)&&(n="_"+s),this.pagerElAr=[],this.pagerElAr.pagerCont=document.createElement("DIV"),this.pagerElAr.pagerBord=document.createElement("DIV"),this.pagerElAr.pagerLine=document.createElement("DIV"),this.pagerElAr.pagerBox=document.createElement("DIV"),this.pagerElAr.pagerInfo=document.createElement("DIV"),this.pagerElAr.pagerInfoBox=document.createElement("DIV");var o=this.globalBox||this.objBox;if(this.pagerElAr.pagerCont.style.width=o.clientWidth+"px",this.pagerElAr.pagerCont.style.overflow="hidden",this.pagerElAr.pagerCont.style.clear="both",this.pagerElAr.pagerBord.className="dhx_pbox"+n,this.pagerElAr.pagerLine.className="dhx_pline"+n,this.pagerElAr.pagerBox.style.clear="both",this.pagerElAr.pagerInfo.className="dhx_pager_info"+n,this.pagerElAr.pagerCont.appendChild(this.pagerElAr.pagerBord),this.pagerElAr.pagerCont.appendChild(this.pagerElAr.pagerLine),this.pagerElAr.pagerCont.appendChild(this.pagerElAr.pagerInfo),this.pagerElAr.pagerLine.appendChild(this.pagerElAr.pagerBox),this.pagerElAr.pagerInfo.appendChild(this.pagerElAr.pagerInfoBox),this._pgn_parentObj.innerHTML="",this._pgn_parentObj.appendChild(this.pagerElAr.pagerCont),this.rowsBuffer.length>0){var l=20,h=22;if(t>this.pagesInGroup){var r=document.createElement("DIV"),a=document.createElement("DIV");r.className="dhx_page"+n,a.innerHTML="&larr;",r.appendChild(a),this.pagerElAr.pagerBox.appendChild(r);var d=this;r.pgnum=(Math.ceil(t/this.pagesInGroup)-1)*this.pagesInGroup,r.onclick=function(){d.changePage(this.pgnum)},l+=h}for(var c=1;c<=this.pagesInGroup&&(r=document.createElement("DIV"),a=document.createElement("DIV"),r.className="dhx_page"+n,pageNumber=(Math.ceil(t/this.pagesInGroup)-1)*this.pagesInGroup+c,!(pageNumber>Math.ceil(this.rowsBuffer.length/this.rowsBufferOutSize)));c++)a.innerHTML=pageNumber,r.appendChild(a),t==pageNumber?(r.className+=" dhx_page_active"+n,a.className="dhx_page_active"+n):(d=this,r.pgnum=pageNumber,r.onclick=function(){d.changePage(this.pgnum)}),l+=parseInt(h/3)*pageNumber.toString().length+15,a.style.width=parseInt(h/3)*pageNumber.toString().length+8+"px",this.pagerElAr.pagerBox.appendChild(r);Math.ceil(t/this.pagesInGroup)*this.pagesInGroup<Math.ceil(this.rowsBuffer.length/this.rowsBufferOutSize)&&(r=document.createElement("DIV"),a=document.createElement("DIV"),r.className="dhx_page"+n,a.innerHTML="&rarr;",r.appendChild(a),this.pagerElAr.pagerBox.appendChild(r),d=this,r.pgnum=Math.ceil(t/this.pagesInGroup)*this.pagesInGroup+1,r.onclick=function(){d.changePage(this.pgnum)
},l+=h),this.pagerElAr.pagerLine.style.width=l+"px"}this.rowsBuffer.length>0&&this.showRecInfo?this.pagerElAr.pagerInfoBox.innerHTML=this.i18n.paging.records+(e+1)+this.i18n.paging.to+i+this.i18n.paging.of+this.rowsBuffer.length:0==this.rowsBuffer.length&&(this.pagerElAr.pagerLine.parentNode.removeChild(this.pagerElAr.pagerLine),this.pagerElAr.pagerInfoBox.innerHTML=this.i18n.paging.notfound),this.pagerElAr.pagerBox.appendChild(document.createElement("SPAN")).innerHTML="&nbsp;",this.pagerElAr.pagerBord.appendChild(document.createElement("SPAN")).innerHTML="&nbsp;",this.pagerElAr.pagerCont.appendChild(document.createElement("SPAN")).innerHTML="&nbsp;",this.callEvent("onPaging",[])},dhtmlXGridObject.prototype._pgn_toolbar=function(t,e,i){this.aToolBar||(this.aToolBar=this._pgn_createToolBar());var s=Math.ceil(this.rowsBuffer.length/this.rowsBufferOutSize);if(this._WTDef[0]&&(this.aToolBar.enableItem("right"),this.aToolBar.enableItem("rightabs"),this.aToolBar.enableItem("left"),this.aToolBar.enableItem("leftabs"),this.currentPage>=s&&(this.aToolBar.disableItem("right"),this.aToolBar.disableItem("rightabs")),1==this.currentPage&&(this.aToolBar.disableItem("left"),this.aToolBar.disableItem("leftabs"))),this._WTDef[2]){var n=this;this.aToolBar.forEachListOption("pages",function(t){n.aToolBar.removeListOption("pages",t)});for(var o=0;s>o;o++)this.aToolBar.addListOption("pages","pages_"+(o+1),0/0,"button",this.i18n.paging.page+(o+1));this.aToolBar.setItemText("pages","<div style='width:100%; text-align:right'>"+this.i18n.paging.page+t+"</div>")}this._WTDef[1]&&(this.getRowsNum()?this.aToolBar.setItemText("results","<div style='width:100%; text-align:center'>"+this.i18n.paging.records+(e+1)+this.i18n.paging.to+i+"</div>"):this.aToolBar.setItemText("results",this.i18n.paging.notfound)),this._WTDef[3]&&this.aToolBar.setItemText("perpagenum","<div style='width:100%; text-align:right'>"+this.rowsBufferOutSize.toString()+" "+this.i18n.paging.perpage+"</div>"),this.callEvent("onPaging",[])},dhtmlXGridObject.prototype._pgn_createToolBar=function(){this.aToolBar=new dhtmlXToolbarObject(this._pgn_parentObj,this._pgn_skin_tlb||"dhx_blue"),this._WTDef||this.setPagingWTMode(!0,!0,!0,!0);var t=this;this.aToolBar.attachEvent("onClick",function(e){switch(e=e.split("_"),e[0]){case"leftabs":t.changePage(1);break;case"left":t.changePage(t.currentPage-1);break;case"rightabs":t.changePage(99999);break;case"right":t.changePage(t.currentPage+1);break;case"perpagenum":if(e[1]===this.undefined)break;t.rowsBufferOutSize=parseInt(e[1]),t.changePage(),t.aToolBar.setItemText("perpagenum","<div style='width:100%; text-align:right'>"+e[1]+" "+t.i18n.paging.perpage+"</div>");break;case"pages":if(e[1]===this.undefined)break;t.changePage(e[1]),t.aToolBar.setItemText("pages","<div style='width:100%; text-align:right'>"+t.i18n.paging.page+e[1]+"</div>")}}),this._WTDef[0]&&(this.aToolBar.addButton("leftabs",0/0,"",this.imgURL+"ar_left_abs.gif",this.imgURL+"ar_left_abs_dis.gif"),this.aToolBar.setWidth("leftabs","20"),this.aToolBar.addButton("left",0/0,"",this.imgURL+"ar_left.gif",this.imgURL+"ar_left_dis.gif"),this.aToolBar.setWidth("left","20")),this._WTDef[1]&&(this.aToolBar.addText("results",0/0,this.i18n.paging.results),this.aToolBar.setWidth("results","150"),this.aToolBar.disableItem("results")),this._WTDef[0]&&(this.aToolBar.addButton("right",0/0,"",this.imgURL+"ar_right.gif",this.imgURL+"ar_right_dis.gif"),this.aToolBar.setWidth("right","20"),this.aToolBar.addButton("rightabs",0/0,"",this.imgURL+"ar_right_abs.gif",this.imgURL+"ar_right_abs_dis.gif"),this.aToolBar.setWidth("rightabs","20")),this._WTDef[2]&&(this.aToolBar.addButtonSelect("pages",0/0,"select page",[],null,null,!0,!0),this.aToolBar.setWidth("pages","75"));var e;if(e=this._WTDef[3]){this.aToolBar.addButtonSelect("perpagenum",0/0,"select size",[],null,null,!0,!0),"object"!=typeof e&&(e=[5,10,15,20,25,30]);for(var i=0;i<e.length;i++)this.aToolBar.addListOption("perpagenum","perpagenum_"+e[i],0/0,"button",e[i]+" "+this.i18n.paging.perpage);this.aToolBar.setWidth("perpagenum","135")}return this.aToolBar},dhtmlXGridObject.prototype.hidePivot=function(){if(this._pgridCont){this._pgrid&&this._pgrid.destructor();var t=this._pgridCont.parentNode;t.innerHTML="",t.parentNode==this.entBox&&this.entBox.removeChild(t),this._pgrid=this._pgridSelect=this._pUNI=this._pgridCont=null}},dhtmlXGridObject.prototype.makePivot=function(t,e){if(e=e||{},this.hidePivot(),t||(t=document.createElement("DIV"),t.style.cssText="position:absolute; top:0px; left:0px;background-color:white;",t.style.height=this.entBox.offsetHeight+"px",t.style.width=this.entBox.offsetWidth+"px","absolute"!=this.entBox.style.position&&(this.entBox.style.position="relative"),this.entBox.appendChild(t)),"object"!=typeof t&&(t=document.getElementById(t)),e.column_list)this._column_list=e.column_list;else{this._column_list=[];for(var i=0;i<this.hdr.rows[1].cells.length;i++)this._column_list.push(this.hdr.rows[1].cells[i][_isIE?"innerText":"textContent"])}var s=this;t.innerHTML="<table cellspacing='0' cellpadding='0'><tr><td style='width:160px' align='center'></td><td>&nbsp;&nbsp;&nbsp;</td><td></td></tr></table><div></div>";var n=this.makePivotSelect(this._column_list);n.style.width="80px",n.onchange=function(){s._pivotS.value=-1!=this.value?this.value:"",s._reFillPivotLists(),s._renderPivot2()};var o=this.makePivotSelect(this._column_list);o.onchange=function(){s._pivotS.x=-1!=this.value?this.value:"",s._reFillPivotLists(),s._renderPivot()};var l=this.makePivotSelect(this._column_list);l.onchange=function(){s._pivotS.y=-1!=this.value?this.value:"",s._reFillPivotLists(),s._renderPivot()};var h=this.makePivotSelect(["Sum","Min","Max","Average","Count"],-1);h.style.width="70px",h.onchange=function(){s._pivotS.action=-1!=this.value?this.value:null,s._renderPivot2()},e.readonly&&(n.disabled=o.disabled=l.disabled=h.disabled=!0),t.firstChild.rows[0].cells[0].appendChild(h),t.firstChild.rows[0].cells[0].appendChild(n),t.firstChild.rows[0].cells[2].appendChild(o);var r=t.childNodes[1];r.style.width=t.offsetWidth+"px",r.style.height=t.offsetHeight-20+"px",r.style.overflow="hidden",this._pgridCont=r,this._pgridSelect=[n,o,l,h],this._pData=this._fetchPivotData(),this._pUNI=[],this._pivotS={action:e.action||"0",value:"undefined"!=typeof e.value?e.value||"0":null,x:"undefined"!=typeof e.x?e.x||"0":null,y:"undefined"!=typeof e.y?e.y||"0":null},n.value=this._pivotS.value,o.value=this._pivotS.x,l.value=this._pivotS.y,h.value=this._pivotS.action,s._reFillPivotLists(),this._renderPivot()},dhtmlXGridObject.prototype._fetchPivotData=function(){for(var t=[],e=0;e<this._cCount;e++){for(var i=[],s=0;s<this.rowsCol.length;s++)this.rowsCol[s]._cntr||i.push(this.cells2(s,e).getValue());t.push(i)}return t},dhtmlXGridObject.prototype._renderPivot=function(){if(_isIE&&this._pgridSelect[2].removeNode(!0),this._pgrid&&this._pgrid.destructor(),this._pgrid=new dhtmlXGridObject(this._pgridCont),this._pgrid.setImagePath(this.imgURL),this._pgrid.attachEvent("onBeforeSelect",function(){return!1}),this._pivotS.x){for(var t=this._getUniList(this._pivotS.x),e=[160],i=0;i<t.length;i++)e.push(100);t=[""].concat(t),this._pgrid.setHeader(t),this._pgrid.setInitWidths(e.join(","))}else this._pgrid.setHeader(""),this._pgrid.setInitWidths("160");this._pgrid.init(),this._pgrid.setEditable(!1),this._pgrid.setSkin(this.entBox.className.replace("gridbox gridbox_",""));var s=this._pgrid.hdr.rows[1].cells[0];if(s.firstChild&&"DIV"==s.firstChild.tagName&&(s=s.firstChild),s.appendChild(this._pgridSelect[2]),this._pgrid.setSizes(),this._pivotS.y)for(t=this._getUniList(this._pivotS.y),i=0;i<t.length;i++)this._pgrid.addRow(this._pgrid.uid(),[t[i]],-1);else this._pgrid.addRow(1,"not ready",1);this._renderPivot2()},dhtmlXGridObject.prototype._pivot_action_0=function(t,e,i,s,n,o){for(var l=0,h=o[t],r=o[e],a=o[i],d=h.length-1;d>=0;d--)h[d]==s&&r[d]==n&&(l+=this.parseFloat(a[d]));return l},dhtmlXGridObject.prototype._pivot_action_1=function(t,e,i,s,n,o){ret=9999999999;for(var l=o[t],h=o[e],r=o[i],a=l.length-1;a>=0;a--)l[a]==s&&h[a]==n&&(ret=Math.min(this.parseFloat(r[a]),ret));return 9999999999==ret&&(ret=""),ret},dhtmlXGridObject.prototype._pivot_action_2=function(t,e,i,s,n,o){ret=-9999999999;for(var l=o[t],h=o[e],r=o[i],a=l.length-1;a>=0;a--)l[a]==s&&h[a]==n&&(ret=Math.max(this.parseFloat(r[a]),ret));return-9999999999==ret&&(ret=""),ret},dhtmlXGridObject.prototype._pivot_action_3=function(t,e,i,s,n,o){for(var l=0,h=0,r=o[t],a=o[e],d=o[i],c=r.length-1;c>=0;c--)r[c]==s&&a[c]==n&&(l+=this.parseFloat(d[c]),h++);return h?l/h:""},dhtmlXGridObject.prototype._pivot_action_4=function(t,e,i,s,n,o){for(var l=0,h=o[t],r=o[e],a=(o[i],h.length-1);a>=0;a--)h[a]==s&&r[a]==n&&l++;return l},dhtmlXGridObject.prototype.parseFloat=function(t){return t=parseFloat(t),isNaN(t)?0:t},dhtmlXGridObject.prototype._renderPivot2=function(){if(this._pivotS.x&&this._pivotS.y&&this._pivotS.value&&this._pivotS.action)for(var t=this["_pivot_action_"+this._pivotS.action],e=this._getUniList(this._pivotS.x),i=this._getUniList(this._pivotS.y),s=0;s<e.length;s++)for(var n=0;n<i.length;n++)this._pgrid.cells2(n,s+1).setValue(Math.round(100*t(this._pivotS.x,this._pivotS.y,this._pivotS.value,e[s],i[n],this._pData))/100)},dhtmlXGridObject.prototype._getUniList=function(t){if(!this._pUNI[t]){for(var e={},i=[],s=this._pData[t].length-1;s>=0;s--)e[this._pData[t][s]]=!0;for(var n in e)e[n]===!0&&i.push(n);this._pUNI[t]=i.sort()}return this._pUNI[t]},dhtmlXGridObject.prototype._fillPivotList=function(t,e,i,s){i||(i={},s=-1),t.innerHTML="",t.options[t.options.length]=new Option("-select-",-1);for(var n=0;n<e.length;n++)i[n]||null===e[n]||(t.options[t.options.length]=new Option(e[n],n));t.value=parseInt(s)},dhtmlXGridObject.prototype._reFillPivotLists=function(){for(var t=[],e=[],i=0;3>i;i++)t.push(this._pgridSelect[i]),e.push(t[i].value);var s=this._reFfillPivotLists,n={};n[e[1]]=n[e[2]]=!0,this._fillPivotList(t[0],this._column_list,n,e[0]),n={},n[e[0]]=n[e[2]]=!0,this._fillPivotList(t[1],this._column_list,n,e[1]),n={},n[e[1]]=n[e[0]]=!0,this._fillPivotList(t[2],this._column_list,n,e[2]),this._reFfillPivotLists=s},dhtmlXGridObject.prototype.makePivotSelect=function(t,e){var i=document.createElement("SELECT");return this._fillPivotList(i,t,e),i.style.cssText="width:150px; height:20px; font-family:Tahoma; font-size:8pt; font-weight:normal;",i},dhtmlXGridObject.prototype.setRowspan=function(t,e,i){var s=this[this._bfs_cells?"_bfs_cells":"cells"](t,e).cell,n=this.rowsAr[t];if(s.rowSpan&&1!=s.rowSpan)for(var o=n.nextSibling,l=1;l<s.rowSpan;l++){var h=o.childNodes[o._childIndexes[s._cellIndex+1]],r=document.createElement("TD");r.innerHTML="&nbsp;",r._cellIndex=s._cellIndex,r._clearCell=!0,h?h.parentNode.insertBefore(r,h):o.parentNode.appendChild(r),this._shiftIndexes(o,s._cellIndex,-1),o=o.nextSibling}s.rowSpan=i;for(var n=this._h2?this.rowsAr[this._h2.get[n.idd].parent.childs[this._h2.get[n.idd].index+1].id]:n.nextSibling||this.rowsCol[this.rowsCol._dhx_find(n)+1],a=[],l=1;i>l;l++){var d=null,d=this._fake&&!this._realfake?this._bfs_cells3(n,e).cell:this.cells3(n,e).cell;this._shiftIndexes(n,s._cellIndex,1),d&&d.parentNode.removeChild(d),a.push(n),this._h2?(n=this._h2.get[n.idd].parent.childs[this._h2.get[n.idd].index+1])&&(n=this.rowsAr[n.id]):n=n.nextSibling||this.rowsCol[this.rowsCol._dhx_find(n)+1]}this.rowsAr[t]._rowSpan=this.rowsAr[t]._rowSpan||{},this.rowsAr[t]._rowSpan[e]=a,this._fake&&!this._realfake&&e<this._fake._cCount&&this._fake.setRowspan(t,e,i)},dhtmlXGridObject.prototype._shiftIndexes=function(t,e,i){if(!t._childIndexes){t._childIndexes=[];for(var s=0;s<t.childNodes.length;s++)t._childIndexes[s]=s}for(s=0;s<t._childIndexes.length;s++)s>e&&(t._childIndexes[s]-=i)},dhtmlXGridObject.prototype.enableRowspan=function(){this._erspan=!0,this.enableRowspan=function(){},this.attachEvent("onAfterSorting",function(){if(!this._dload){for(var t=1;t<this.obj.rows.length;t++)if(this.obj.rows[t]._rowSpan){var e,i=this.obj.rows[t];for(e in i._rowSpan)for(var s=i,n=s._rowSpan[e],o=0;o<n.length;o++){if(s.nextSibling?s.parentNode.insertBefore(n[o],s.nextSibling):s.parentNode.appendChild(n[o]),this._fake){var l=this._fake.rowsAr[s.idd],h=this._fake.rowsAr[n[o].idd];l.nextSibling?l.parentNode.insertBefore(h,l.nextSibling):l.parentNode.appendChild(h),this._correctRowHeight(s.idd)}s=s.nextSibling}}var r=this.rowsCol.stablesort;for(this.rowsCol=new dhtmlxArray,this.rowsCol.stablesort=r,t=1;t<this.obj.rows.length;t++)this.rowsCol.push(this.obj.rows[t])}}),this.attachEvent("onXLE",function(){for(var t=0;t<this.rowsBuffer.length;t++)for(var e=this.render_row(t),i=e.childNodes,s=0;s<i.length;s++)i[s]._attrs.rowspan&&this.setRowspan(e.idd,s,i[s]._attrs.rowspan)})},dhtmlXGridObject.prototype._init_point_bspl=dhtmlXGridObject.prototype._init_point,dhtmlXGridObject.prototype._init_point=function(){this._split_later&&this.splitAt(this._split_later),(this._init_point=this._init_point_bspl)&&this._init_point()},dhtmlXGridObject.prototype.splitAt=function(t){function e(t){var e=t.wheelDelta/-40;t.wheelDelta===window.undefined&&(e=t.detail);var i=f.objBox;i.scrollTop+=40*e,t.preventDefault&&t.preventDefault()}function i(t,e){e.style.whiteSpace="";var i=e.nextSibling,s=e.parentNode;t.parentNode.insertBefore(e,t),i?s.insertBefore(t,i):s.appendChild(t);var n=t.style.display;t.style.display=e.style.display,e.style.display=n}function s(e,s,n,o){var l=Array(t).join(this.delim),h=[];if(2==e)for(var r=0;t>r;r++){var a=s[e-1].cells[s[e-1]._childIndexes?s[e-1]._childIndexes[r]:r];a.rowSpan&&a.rowSpan>1&&(h[a._cellIndex]=a.rowSpan-1,o[e-1].cells[o[e-1]._childIndexes?o[e-1]._childIndexes[r]:r].rowSpan=a.rowSpan,a.rowSpan=1)}for(;e<s.length;e++){this._fake.attachHeader(l,null,n);for(var o=o||this._fake.ftr.childNodes[0].rows,d=t,c=0,u=0;d>u;u++)if(h[u]){if(h[u]-=1,_isIE||_isFF&&_FFrv>=1.9||_isOpera){var _=document.createElement("TD");_isFF&&(_.style.display="none"),s[e].insertBefore(_,s[e].cells[0])}c++}else{var p=o[e].cells[u-c],f=s[e].cells[u-(_isIE?0:c)],m=f.rowSpan;if(i(p,f),m>1&&(h[u]=m-1,f.rowSpan=m),o[e].cells[u].colSpan>1)for(s[e].cells[u].colSpan=o[e].cells[u].colSpan,d-=o[e].cells[u].colSpan-1,r=1;r<o[e].cells[u].colSpan;r++)o[e].removeChild(o[e].cells[u+1])}}}if(!this.obj.rows[0])return this._split_later=t;var t=parseInt(t),n=document.createElement("DIV");this.entBox.appendChild(n);var o=document.createElement("DIV");this.entBox.appendChild(o);for(var l=this.entBox.childNodes.length-3;l>=0;l--)o.insertBefore(this.entBox.childNodes[l],o.firstChild);if(this.entBox.style.position="relative",this.globalBox=this.entBox,this.entBox=o,o.grid=this,n.style.cssText+="border:0px solid red !important;",o.style.cssText+="border:0px solid red !important;",o.style.top="0px",o.style.position="absolute",n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.zIndex=11,o.style.height=n.style.height=this.globalBox.clientHeight,this._fake=new dhtmlXGridObject(n),this._fake.setSkin("not_existing_skin"),this.globalBox=this._fake.globalBox=this.globalBox,this._fake._fake=this,this._fake._realfake=!0,this._treeC=this.cellType._dhx_find("tree"),this._fake.delim=this.delim,this._fake.customGroupFormat=this.customGroupFormat,this._fake.imgURL=this.imgURL,this._fake._customSorts=this._customSorts,this._fake.noHeader=this.noHeader,this._fake._enbTts=this._enbTts,this._fake._htkebl=this._htkebl,this._fake.clists=this.clists,this._fake.fldSort=[],this._fake.selMultiRows=this.selMultiRows,(this._fake.multiLine=this.multiLine)||this._erspan){this.attachEvent("onCellChanged",this._correctRowHeight),this.attachEvent("onRowAdded",this._correctRowHeight);var h=function(){this.forEachRow(function(t){this._correctRowHeight(t)})};this.attachEvent("onPageChanged",h),this.attachEvent("onXLE",h),this.attachEvent("onResizeEnd",h),this._ads_count||this.attachEvent("onAfterSorting",h),this.attachEvent("onDistributedEnd",h)}this.attachEvent("onGridReconstructed",function(){this._fake.objBox.scrollTop=this.objBox.scrollTop}),this._fake.loadedKidsHash=this.loadedKidsHash,this._h2&&(this._fake._h2=this._h2),this._fake._dInc=this._dInc;var r=[[],[],[],[],[],[],[]],a="hdrLabels,initCellWidth,cellType,cellAlign,cellVAlign,fldSort,columnColor".split(","),d="setHeader,setInitWidths,setColTypes,setColAlign,setColVAlign,setColSorting,setColumnColor".split(",");this._fake.callEvent=function(){return this._fake._split_event=!0,"onGridReconstructed"==arguments[0]&&this._fake.callEvent.apply(this,arguments),this._fake.callEvent.apply(this._fake,arguments)},this._elmn&&this._fake.enableLightMouseNavigation(!0),(this.__cssEven||this._cssUnEven)&&this._fake.attachEvent("onGridReconstructed",function(){this._fixAlterCss()}),this._fake._cssEven=this._cssEven,this._fake._cssUnEven=this._cssUnEven,this._fake._cssSP=this._cssSP,this._fake.isEditable=this.isEditable,this._fake._edtc=this._edtc,this._sst&&this._fake.enableStableSorting(!0),this._fake._sclE=this._sclE,this._fake._dclE=this._dclE,this._fake._f2kE=this._f2kE,this._fake._maskArr=this._maskArr,this._fake._dtmask=this._dtmask,this._fake.combos=this.combos;for(var c=0,u=this.globalBox.offsetWidth,l=0;t>l;l++){for(var _=0;_<a.length;_++)this[a[_]]&&(r[_][l]=this[a[_]][l]),"string"==typeof r[_][l]&&(r[_][l]=r[_][l].replace(RegExp("\\"+this.delim,"g"),"\\"+this.delim));_isFF&&(r[1][l]*=1),"%"==this.cellWidthType?(r[1][l]=Math.round(parseInt(this[a[1]][l])*u/100),c+=r[1][l]):c+=parseInt(this[a[1]][l]),this.setColumnHidden(l,!0)}for(_=0;_<a.length;_++){var p=r[_].join(this.delim);"setHeader"!=d[_]?""!=p&&this._fake[d[_]](p):this._fake[d[_]](p,null,this._hstyles)}this._fake._strangeParams=this._strangeParams,this._fake._drsclmn=this._drsclmn,c=Math.min(this.globalBox.offsetWidth,c),o.style.left=c+"px",n.style.width=c+"px",o.style.width=Math.max(this.globalBox.offsetWidth-c,0),this._ecspn&&(this._fake._ecspn=!0),this._fake.init(),this.dragAndDropOff&&this.dragger.addDragLanding(this._fake.entBox,this),this._fake.objBox.style.overflow="hidden",this._fake.objBox.style.overflowX="scroll",this._fake._srdh=this._srdh||20,this._fake._srnd=this._srnd;var f=this;dhtmlxEvent(this._fake.objBox,"mousewheel",e),dhtmlxEvent(this._fake.objBox,"DOMMouseScroll",e),this.hdr.rows.length>2&&s.call(this,2,this.hdr.rows,"_aHead",this._fake.hdr.rows),this.ftr&&(s.call(this,1,this.ftr.childNodes[0].rows,"_aFoot"),this._fake.ftr.parentNode.style.bottom=(_isFF?2:1)+"px"),this.saveSizeToCookie&&(this.saveSizeToCookie=function(e,i){if(this._realfake)return this._fake.saveSizeToCookie.apply(this._fake,arguments);e||(e=this.entBox.id);for(var s=[],n="cellWidthPX",o=0;o<this[n].length;o++)s[o]=t>o?this._fake[n][o]:this[n][o];return s=s.join(","),this.setCookie(e,i,0,s),s=(this.initCellWidth||[]).join(","),this.setCookie(e,i,1,s),!0},this.loadSizeFromCookie=function(e){e||(e=this.entBox.id);var i=this._getCookie(e,1);if(i){this.initCellWidth=i.split(",");var i=this._getCookie(e,0),s="cellWidthPX";this.cellWidthType="px";var n=0;if(i&&i.length)for(var i=i.split(","),o=0;o<i.length;o++)t>o?(this._fake[s][o]=i[o],n+=1*i[o]):this[s][o]=i[o];this._fake.entBox.style.width=n+"px",this._fake.objBox.style.width=n+"px";var l=this.globalBox.childNodes[1];return l.style.left=n-(_isFF?0:0)+"px",this.ftr&&(this.ftr.style.left=n-(_isFF?0:0)+"px"),l.style.width=this.globalBox.offsetWidth-n+"px",this.setSizes(),!0}},this._fake.onRSE=this.onRSE),this.setCellTextStyleA=this.setCellTextStyle,this.setCellTextStyle=function(e,i,s){t>i&&this._fake.setCellTextStyle(e,i,s),this.setCellTextStyleA(e,i,s)},this.setRowTextBoldA=this.setRowTextBold,this.setRowTextBold=function(t){this.setRowTextBoldA(t),this._fake.setRowTextBold(t)},this.setRowColorA=this.setRowColor,this.setRowColor=function(t,e){this.setRowColorA(t,e),this._fake.setRowColor(t,e)},this.setRowHiddenA=this.setRowHidden,this.setRowHidden=function(t,e){this.setRowHiddenA(t,e),this._fake.setRowHidden(t,e)},this.setRowTextNormalA=this.setRowTextNormal,this.setRowTextNormal=function(t){this.setRowTextNormalA(t),this._fake.setRowTextNormal(t)},this.getChangedRows=function(t){function e(t){for(var e=0;e<t.childNodes.length;e++)if(t.childNodes[e].wasChanged)return i[i.length]=t.idd}var i=[];return this.forEachRow(function(s){var n=this.rowsAr[s],o=this._fake.rowsAr[s];"TR"==n.tagName&&"TR"==o.tagName&&(t&&n._added?i[i.length]=n.idd:e(n)||e(o))}),i.join(this.delim)},this.setRowTextStyleA=this.setRowTextStyle,this.setRowTextStyle=function(t,e){this.setRowTextStyleA(t,e),this._fake.rowsAr[t]&&this._fake.setRowTextStyle(t,e)},this.lockRowA=this.lockRow,this.lockRow=function(t,e){this.lockRowA(t,e),this._fake.lockRow(t,e)},this.getColWidth=function(e){return parseInt(t>e?this._fake.cellWidthPX[e]:this.cellWidthPX[e])},this.getColumnLabel=function(e){return this._fake.getColumnLabel.apply(t>e?this._fake:this,arguments)},this.setColWidthA=this._fake.setColWidthA=this.setColWidth,this.setColWidth=function(e,i){e*=1,t>e?this._fake.setColWidthA(e,i):this.setColWidthA(e,i),t>=e+1&&this._fake._correctSplit(Math.min(this._fake.objBox.offsetWidth,this._fake.obj.offsetWidth))},this.adjustColumnSizeA=this.adjustColumnSize,this.setColumnLabelA=this.setColumnLabel,this.setColumnLabel=function(e,i,s,n){var o=this;return t>e&&(o=this._fake),this.setColumnLabelA.apply(o,[e,i,s,n])},this.adjustColumnSize=function(e,i){return t>e?(_isIE&&(this._fake.obj.style.tableLayout=""),this._fake.adjustColumnSize(e,i),_isIE&&(this._fake.obj.style.tableLayout="fixed"),this._fake._correctSplit(),void 0):this.adjustColumnSizeA(e,i)};var m="cells";this._bfs_cells=this[m],this[m]=function(){return arguments[1]<t?this._fake.cells.apply(this._fake,arguments):this._bfs_cells.apply(this,arguments)},this._bfs_isColumnHidden=this.isColumnHidden,this.isColumnHidden=function(){return parseInt(arguments[0])<t?this._fake.isColumnHidden.apply(this._fake,arguments):this._bfs_isColumnHidden.apply(this,arguments)},this._bfs_setColumnHidden=this.setColumnHidden,this.setColumnHidden=function(){return parseInt(arguments[0])<t?(this._fake.setColumnHidden.apply(this._fake,arguments),this._fake._correctSplit()):this._bfs_setColumnHidden.apply(this,arguments)},m="cells2",this._bfs_cells2=this[m],this[m]=function(){return arguments[1]<t?this._fake.cells2.apply(this._fake,arguments):this._bfs_cells2.apply(this,arguments)},m="cells3",this._bfs_cells3=this[m],this[m]=function(e){return arguments[1]<t&&this._fake.rowsAr[arguments[0].idd]?this._fake.rowsAr[e.idd]&&0==this._fake.rowsAr[e.idd].childNodes.length?this._bfs_cells3.apply(this,arguments):(arguments[0]=arguments[0].idd,this._fake.cells.apply(this._fake,arguments)):this._bfs_cells3.apply(this,arguments)},m="changeRowId",this._bfs_changeRowId=this[m],this[m]=function(){this._bfs_changeRowId.apply(this,arguments),this._fake.rowsAr[arguments[0]]&&this._fake.changeRowId.apply(this._fake,arguments)},this._fake.getRowById=function(t){var e=this.rowsAr[t];if(!e&&this._fake.rowsAr[t]&&(e=this._fake.getRowById(t)),e){if("TR"!=e.tagName){for(var i=0;i<this.rowsBuffer.length;i++)if(this.rowsBuffer[i]&&this.rowsBuffer[i].idd==t)return this.render_row(i);if(this._h2)return this.render_row(null,e.idd)}return e}return null},this.collapseKids&&(this._fake._bfs_collapseKids=this.collapseKids,this._fake.collapseKids=function(t){return this._fake.collapseKids.apply(this._fake,[this._fake.rowsAr[t.idd]])},this._bfs_collapseKids=this.collapseKids,this.collapseKids=function(){this._bfs_collapseKids.apply(this,arguments);this._fake._h2syncModel(),this._cssSP||this._fake._fixAlterCss()},this._fake._bfs_expandKids=this.expandKids,this._fake.expandKids=function(t){this._fake.expandKids.apply(this._fake,[this._fake.rowsAr[t.idd]]),this._cssSP||this._fake._fixAlterCss()},this._bfs_expandAll=this.expandAll,this.expandAll=function(){this._bfs_expandAll(),this._fake._h2syncModel(),this._cssSP||this._fake._fixAlterCss()},this._bfs_collapseAll=this.collapseAll,this.collapseAll=function(){this._bfs_collapseAll(),this._fake._h2syncModel(),this._cssSP||this._fake._fixAlterCss()},this._bfs_expandKids=this.expandKids,this.expandKids=function(){this._bfs_expandKids.apply(this,arguments);this._fake._h2syncModel(),this._cssSP||this._fake._fixAlterCss()},this._fake._h2syncModel=function(){this._fake.pagingOn?this._fake._renderSort():this._renderSort()},this._updateTGRState=function(t){return this._fake._updateTGRState(t)}),this._elmnh&&(this._setRowHoverA=this._fake._setRowHoverA=this._setRowHover,this._unsetRowHoverA=this._fake._unsetRowHoverA=this._unsetRowHover,this._setRowHover=this._fake._setRowHover=function(){var t=this.grid;t._setRowHoverA.apply(this,arguments);var e=_isIE?event.srcElement:arguments[0].target;(e=t._fake.rowsAr[t.getFirstParentOfType(e,"TD").parentNode.idd])&&t._fake._setRowHoverA.apply(t._fake.obj,[{target:e.childNodes[0]},arguments[1]])},this._unsetRowHover=this._fake._unsetRowHover=function(){var t=arguments[1]?this:this.grid;t._unsetRowHoverA.apply(this,arguments),t._fake._unsetRowHoverA.apply(t._fake.obj,arguments)},this._fake.enableRowsHover(!0,this._hvrCss),this.enableRowsHover(!1),this.enableRowsHover(!0,this._fake._hvrCss)),this._updateTGRState=function(t){t.update&&0!=t.id&&(this.rowsAr[t.id].imgTag&&(this.rowsAr[t.id].imgTag.src=this.imgURL+t.state+".gif"),this._fake.rowsAr[t.id]&&this._fake.rowsAr[t.id].imgTag&&(this._fake.rowsAr[t.id].imgTag.src=this.imgURL+t.state+".gif"),t.update=!1)},this.copy_row=function(e){var i=e.cloneNode(!0);i._skipInsert=e._skipInsert;var s=t;if(i._attrs={},i._css=e._css,this._ecspn)for(var n=s=0;s<i.childNodes.length&&t>n;n+=i.childNodes[s].colSpan||1)s++;for(;i.childNodes.length>s;)i.removeChild(i.childNodes[i.childNodes.length-1]);for(var o=s,n=0;o>n;n++)this.dragAndDropOff&&this.dragger.addDraggableItem(i.childNodes[n],this),i.childNodes[n].style.display=this._fake._hrrar&&this._fake._hrrar[n]?"none":"",i.childNodes[n]._cellIndex=n,i.childNodes[n].combo_value=e.childNodes[n].combo_value,i.childNodes[n]._clearCell=e.childNodes[n]._clearCell,i.childNodes[n]._cellType=e.childNodes[n]._cellType,i.childNodes[n]._brval=e.childNodes[n]._brval,i.childNodes[n]._attrs=e.childNodes[n]._attrs,i.childNodes[n].chstate=e.childNodes[n].chstate,e._attrs.style&&(i.childNodes[n].style.cssText+=";"+e._attrs.style),i.childNodes[n].colSpan>1&&(this._childIndexes=this._fake._childIndexes);if(this._h2&&this._treeC<t){var l=this._h2.get[e.idd];i.imgTag=i.childNodes[this._treeC].childNodes[0].childNodes[l.level],i.valTag=i.childNodes[this._treeC].childNodes[0].childNodes[l.level+2]}return i.idd=e.idd,i.grid=this._fake,i},m="_insertRowAt",this._bfs_insertRowAt=this[m],this[m]=function(){var t=this._bfs_insertRowAt.apply(this,arguments);arguments[0]=this.copy_row(arguments[0]);var e=this._fake._insertRowAt.apply(this._fake,arguments);return t._fhd&&(e.parentNode.removeChild(e),this._fake.rowsCol._dhx_removeAt(this._fake.rowsCol._dhx_find(e)),t._fhd=!1),t},this._bfs_setSizes=this.setSizes,this.setSizes=function(){this._notresize||(this._bfs_setSizes(this,arguments),this.sync_headers(),this.sync_scroll()&&this._ahgr&&this.setSizes(),this._fake.entBox.style.height=this.entBox.style.height,this._fake.objBox.style.height=this.objBox.style.height,this._fake.hdrBox.style.height=this.hdrBox.style.height,this._fake.objBox.scrollTop=this.objBox.scrollTop,this._fake.setColumnSizes(this._fake.entBox.clientWidth),this.globalBox.style.width=parseInt(this.entBox.style.width)+parseInt(this._fake.entBox.style.width),this.globalBox.style.height=this.entBox.style.height)},this.sync_scroll=this._fake.sync_scroll=function(t){var e=this.objBox.style.overflowX;if(this.obj.offsetWidth<=this.objBox.offsetWidth){if(!t)return this._fake.sync_scroll(!0);this.objBox.style.overflowX="hidden",this._fake.objBox.style.overflowX="hidden"}else this.objBox.style.overflowX="scroll",this._fake.objBox.style.overflowX="scroll";return e!=this.objBox.style.overflowX},this.sync_headers=this._fake.sync_headers=function(){if(!this.noHeader&&this._fake.hdr.scrollHeight!=this.hdr.offsetHeight)for(var e=1;e<this.hdr.rows.length;e++){var i=this.hdr.rows[e].scrollHeight,s=this._fake.hdr.rows[e].scrollHeight;i!=s&&(this._fake.hdr.rows[e].style.height=this.hdr.rows[e].style.height=Math.max(i,s)+"px"),window._KHTMLrv&&(this._fake.hdr.rows[e].childNodes[0].style.height=this.hdr.rows[e].childNodes[t].style.height=Math.max(i,s)+"px")}},this._fake._bfs_setSizes=this._fake.setSizes,this._fake.setSizes=function(){this._fake._notresize||this._fake.setSizes()},m="_doOnScroll",this._bfs__doOnScroll=this[m],this[m]=function(){this._bfs__doOnScroll.apply(this,arguments),this._fake.objBox.scrollTop=this.objBox.scrollTop,this._fake._doOnScroll.apply(this._fake,arguments)},m="selectAll",this._bfs__selectAll=this[m],this[m]=function(){this._bfs__selectAll.apply(this,arguments),this._bfs__selectAll.apply(this._fake,arguments)},m="doClick",this._bfs_doClick=this[m],this[m]=function(){if(this._bfs_doClick.apply(this,arguments),"TD"==arguments[0].tagName){var e=arguments[0]._cellIndex>=t;arguments[0].parentNode.idd&&(e||(arguments[0].className=arguments[0].className.replace(/cellselected/g,"")),this._fake.rowsAr[arguments[0].parentNode.idd]||this._fake.render_row(this.getRowIndex(arguments[0].parentNode.idd)),arguments[0]=this._fake.cells(arguments[0].parentNode.idd,e?0:arguments[0]._cellIndex).cell,e&&(this._fake.cell=null),this._fake._bfs_doClick.apply(this._fake,arguments),e?this._fake.cell=this.cell:this.cell=this._fake.cell,this._fake.onRowSelectTime&&clearTimeout(this._fake.onRowSelectTime),e?(arguments[0].className=arguments[0].className.replace(/cellselected/g,""),globalActiveDHTMLGridObject=this,this._fake.cell=this.cell):this.objBox.scrollTop=this._fake.objBox.scrollTop)}},this._fake._bfs_doClick=this._fake[m],this._fake[m]=function(){if(this._bfs_doClick.apply(this,arguments),"TD"==arguments[0].tagName){var e=arguments[0]._cellIndex<t;arguments[0].parentNode.idd&&(arguments[0]=this._fake._bfs_cells(arguments[0].parentNode.idd,e?t:arguments[0]._cellIndex).cell,this._fake.cell=null,this._fake._bfs_doClick.apply(this._fake,arguments),this._fake.cell=this.cell,this._fake.onRowSelectTime&&clearTimeout(this._fake.onRowSelectTime),e)&&(arguments[0].className=arguments[0].className.replace(/cellselected/g,""),globalActiveDHTMLGridObject=this,this._fake.cell=this.cell,this._fake.objBox.scrollTop=this.objBox.scrollTop)}},this.clearSelectionA=this.clearSelection,this.clearSelection=function(t){t&&this._fake.clearSelection(),this.clearSelectionA()},this.moveRowUpA=this.moveRowUp,this.moveRowUp=function(t){this._h2||this._fake.moveRowUp(t),this.moveRowUpA(t),this._h2&&this._fake._h2syncModel()},this.moveRowDownA=this.moveRowDown,this.moveRowDown=function(t){this._h2||this._fake.moveRowDown(t),this.moveRowDownA(t),this._h2&&this._fake._h2syncModel()},this._fake.getUserData=function(){return this._fake.getUserData.apply(this._fake,arguments)},this._fake.setUserData=function(){return this._fake.setUserData.apply(this._fake,arguments)},this.getSortingStateA=this.getSortingState,this.getSortingState=function(){var t=this.getSortingStateA();return 0!=t.length?t:this._fake.getSortingState()},this.setSortImgStateA=this._fake.setSortImgStateA=this.setSortImgState,this.setSortImgState=function(e,i,s,n){this.setSortImgStateA(e,i,s,n),t>1*i?(this._fake.setSortImgStateA(e,i,s,n),this.setSortImgStateA(!1)):this._fake.setSortImgStateA(!1)},this._fake.doColResizeA=this._fake.doColResize,this._fake.doColResize=function(e,i,s,n){var o=-1,l=0;return arguments[1]._cellIndex==t-1?(o=this._initalSplR+(e.clientX-n),this._initalSplF||(this._initalSplF=arguments[3]+this.objBox.scrollWidth-this.objBox.offsetWidth),this.objBox.scrollWidth==this.objBox.offsetWidth&&(this._fake.alter_split_resize||e.clientX-n>0)&&(arguments[3]=this._initalSplF||arguments[3])):this.obj.offsetWidth<this.entBox.offsetWidth&&(o=this.obj.offsetWidth),l=this.doColResizeA.apply(this,arguments),this._correctSplit(o),this.resized=this._fake.resized=1,l},this._fake.changeCursorState=function(t){var e=t.target||t.srcElement;
if("TD"!=e.tagName&&(e=this.getFirstParentOfType(e,"TD")),"TD"!=e.tagName||!this._drsclmn||this._drsclmn[e._cellIndex]){var i=(t.layerX||0)+(_isIE||"DIV"!=t.target.tagName?0:e.offsetLeft),s=parseInt(this.getPosition(e,this.hdrBox));e.style.cursor=e.offsetWidth-(t.offsetX||-1*(s-i))<(_isOpera?20:10)||this.entBox.offsetWidth-(t.offsetX?t.offsetX+e.offsetLeft:i)+this.objBox.scrollLeft-0<(_isOpera?20:10)?"E-resize":"default",_isOpera&&(this.hdrBox.scrollLeft=this.objBox.scrollLeft)}},this._fake.startColResizeA=this._fake.startColResize,this._fake.startColResize=function(t){var e=this.startColResizeA(t);if(this._initalSplR=this.entBox.offsetWidth,this._initalSplF=null,this.entBox.onmousemove){var i=this.entBox.parentNode;if(i._aggrid)return e;i._aggrid=i.grid,i.grid=this,this.entBox.parentNode.onmousemove=this.entBox.onmousemove,this.entBox.onmousemove=null}return e},this._fake.stopColResizeA=this._fake.stopColResize,this._fake.stopColResize=function(t){if(this.entBox.parentNode.onmousemove){var e=this.entBox.parentNode;e.grid=e._aggrid,e._aggrid=null,this.entBox.onmousemove=this.entBox.parentNode.onmousemove,this.entBox.parentNode.onmousemove=null,this.obj.offsetWidth<this.entBox.offsetWidth&&this._correctSplit(this.obj.offsetWidth)}return this.stopColResizeA(t)},this.doKeyA=this.doKey,this._fake.doKeyA=this._fake.doKey,this._fake.doKey=this.doKey=function(e){if(!e)return!0;if(this._htkebl)return!0;if((e.target||e.srcElement).value!==window.undefined){var i=e.target||e.srcElement;if(!i.parentNode||-1==i.parentNode.className.indexOf("editable"))return!0}switch(e.keyCode){case 9:if(e.shiftKey){if(this._realfake){if(this.cell&&0==this.cell._cellIndex){if(e.preventDefault&&e.preventDefault(),n=this._fake.rowsBuffer[this._fake.getRowIndex(this.cell.parentNode.idd)-1]){for(this._fake.showRow(n.idd),s=this._fake._cCount-1;"none"==n.childNodes[s].style.display;)s--;this._fake.selectCell(this._fake.getRowIndex(n.idd),s,!1,!1,!0)}return!1}}else if(this.cell&&this.cell._cellIndex==t)return e.preventDefault&&e.preventDefault(),this._fake.selectCell(this.getRowIndex(this.cell.parentNode.idd),t-1,!1,!1,!0),!1}else{if(this._realfake){if(this.cell&&this.cell._cellIndex==t-1){e.preventDefault&&e.preventDefault();for(var s=t;this._fake._hrrar&&this._fake._hrrar[s];)s++;return this._fake.selectCell(this._fake.getRowIndex(this.cell.parentNode.idd),s,!1,!1,!0),!1}var n=this.doKeyA(e);return globalActiveDHTMLGridObject=this,n}if(this.cell){for(s=this.cell._cellIndex+1;this.rowsCol[0].childNodes[s]&&"none"==this.rowsCol[0].childNodes[s].style.display;)s++;if(s==this.rowsCol[0].childNodes.length&&(e.preventDefault&&e.preventDefault(),n=this.rowsBuffer[this.getRowIndex(this.cell.parentNode.idd)+1]))return this.showRow(n.idd),this._fake.selectCell(this._fake.getRowIndex(n.idd),0,!1,!1,!0),!1}}}return this.doKeyA(e)},this.editCellA=this.editCell,this.editCell=function(){return this.cell&&this.cell.parentNode.grid!=this?this._fake.editCell():this.editCellA()},this.deleteRowA=this.deleteRow,this.deleteRow=function(t,e){return this.deleteRowA(t,e)===!1?!1:void(this._fake.rowsAr[t]&&this._fake.deleteRow(t))},this.clearAllA=this.clearAll,this.clearAll=function(){this.clearAllA(),this._fake.clearAll()},this.editStopA=this.editStop,this.editStop=function(){this._fake.editor?this._fake.editStop():this.editStopA()},this.attachEvent("onAfterSorting",function(e){e>=t&&this._fake.setSortImgState(!1)}),this._fake.sortField=function(t,e){if(this._fake.sortField.call(this._fake,t,e,this._fake.hdr.rows[0].cells[t]),"na"!=this.fldSort[t]&&this._fake.fldSorted){var i=this._fake.getSortingState()[1];this._fake.setSortImgState(!1),this.setSortImgState(!0,t,i)}},this.sortTreeRowsA=this.sortTreeRows,this._fake.sortTreeRowsA=this._fake.sortTreeRows,this.sortTreeRows=this._fake.sortTreeRows=function(t,e,i,s){return this._realfake?this._fake.sortTreeRows(t,e,i,s):(this.sortTreeRowsA(t,e,i,s),this._fake._h2syncModel(),this._fake.setSortImgStateA(!1),void(this._fake.fldSorted=null))},this._fake._fillers=[],this._fake.rowsBuffer=this.rowsBuffer,this.attachEvent("onClearAll",function(){this._fake.rowsBuffer=this.rowsBuffer}),this._add_filler_s=this._add_filler,this._add_filler=function(t,e,i,s){if(this._fake._fillers||(this._fake._fillers=[]),this._realfake||!s){var n;(i||!this._fake._fillers.length)&&(i&&i.idd?n=this._fake.rowsAr[i.idd]:i&&i.nextSibling&&(n={},n.nextSibling=this._fake.rowsAr[i.nextSibling.idd],n.parentNode=n.nextSibling.parentNode),this._fake._fillers.push(this._fake._add_filler(t,e,n)))}return this._add_filler_s.apply(this,arguments)},this._add_from_buffer_s=this._add_from_buffer,this._add_from_buffer=function(){var t=this._add_from_buffer_s.apply(this,arguments);return-1!=t&&(this._fake._add_from_buffer.apply(this._fake,arguments),this.multiLine&&this._correctRowHeight(this.rowsBuffer[arguments[0]].idd)),t},this._fake.render_row=function(t){var e=this._fake.render_row(t);return-1==e?-1:e?this.rowsAr[e.idd]=this.rowsAr[e.idd]||this._fake.copy_row(e):null},this._reset_view_s=this._reset_view,this._reset_view=function(){this._fake._reset_view(!0),this._fake._fillers=[],this._reset_view_s()},this.moveColumn_s=this.moveColumn,this.moveColumn=function(e,i){return i>=t?this.moveColumn_s(e,i):void 0},this.attachEvent("onCellChanged",function(e,i,s){if(this._split_event&&t>i&&this.rowsAr[e]){var n=this._fake.rowsAr[e];if(n){var n=n._childIndexes?n.childNodes[n._childIndexes[i]]:n.childNodes[i],o=this.rowsAr[e].childNodes[i];o._treeCell&&o.firstChild.lastChild?o.firstChild.lastChild.innerHTML=s:o.innerHTML=n.innerHTML,o._clearCell=!1,o.combo_value=n.combo_value,o.chstate=n.chstate}}}),this._fake.combos=this.combos,this.setSizes(),this.rowsBuffer[0]&&this._reset_view(),this.attachEvent("onXLE",function(){this._fake._correctSplit()}),this._fake._correctSplit()},dhtmlXGridObject.prototype._correctSplit=function(t){if(t=t||this.obj.scrollWidth-this.objBox.scrollLeft,t=Math.min(this.globalBox.offsetWidth,t),t>-1){this.entBox.style.width=t+"px",this.objBox.style.width=t+"px";var e=(this.globalBox.offsetWidth-this.globalBox.clientWidth)/2;if(this._fake.entBox.style.left=t+"px",this._fake.entBox.style.width=Math.max(0,this.globalBox.offsetWidth-t-(this.quirks?0:2)*e)+"px",this._fake.ftr&&(this._fake.ftr.parentNode.style.width=this._fake.entBox.style.width),_isIE){var i=_isIE&&!window.xmlHttpRequest,e=this.globalBox.offsetWidth-this.globalBox.clientWidth;this._fake.hdrBox.style.width=this._fake.objBox.style.width=Math.max(0,this.globalBox.offsetWidth-(i?e:0)-t)+"px"}}},dhtmlXGridObject.prototype._correctRowHeight=function(t){if(this.rowsAr[t]&&this._fake.rowsAr[t]){var e=this.rowsAr[t].offsetHeight,i=this._fake.rowsAr[t].offsetHeight,s=Math.max(e,i);s&&(this.rowsAr[t].style.height=this._fake.rowsAr[t].style.height=s+"px",window._KHTMLrv)&&(this.rowsAr[t].childNodes[this._fake._cCount].style.height=this._fake.rowsAr[t].firstChild.style.height=s+"px")}},dhtmlXGridObject.prototype.enableSmartRendering=function(t,e,i){arguments.length>2&&(e&&!this.rowsBuffer[e-1]&&(this.rowsBuffer[e-1]=0),e=i),this._srnd=convertStringToBoolean(t),this._srdh=this._srdh||20,this._dpref=e||0},dhtmlXGridObject.prototype.enablePreRendering=function(t){this._srnd_pr=parseInt(t||50)},dhtmlXGridObject.prototype.forceFullLoading=function(t,e){for(var i=0;i<this.rowsBuffer.length;i++)if(!this.rowsBuffer[i]){var s=t||this.rowsBuffer.length-i;if(this.callEvent("onDynXLS",[i,s])){var n=this;this.load(this.xmlFileUrl+getUrlSymbol(this.xmlFileUrl)+"posStart="+i+"&count="+s,function(){window.setTimeout(function(){n.forceFullLoading(t,e)},100)},this._data_type)}return}e&&e.call(this)},dhtmlXGridObject.prototype.setAwaitedRowHeight=function(t){this._srdh=parseInt(t)},dhtmlXGridObject.prototype._get_view_size=function(){return Math.floor(parseInt(this.entBox.offsetHeight)/this._srdh)+2},dhtmlXGridObject.prototype._add_filler=function(t,e,i,s){if(!e)return null;var n="__filler__",o=this._prepareRow(n);o.firstChild.style.width="1px";for(var l=1;l<o.childNodes.length;l++)o.childNodes[l].style.display="none";return o.firstChild.style.height=e*this._srdh+"px",(i=i||this.rowsCol[t])&&i.nextSibling?i.parentNode.insertBefore(o,i.nextSibling):_isKHTML?this.obj.appendChild(o):this.obj.rows[0].parentNode.appendChild(o),this.callEvent("onAddFiller",[t,e,o,i,s]),[t,e,o]},dhtmlXGridObject.prototype._update_srnd_view=function(){var t=Math.floor(this.objBox.scrollTop/this._srdh),e=t+this._get_view_size();if(this.multiLine){for(var i=this.objBox.scrollTop,t=0;i>0;)i-=this.rowsCol[t]?this.rowsCol[t].offsetHeight:this._srdh,t++;e=t+this._get_view_size(),t>0&&t--}e+=this._srnd_pr||0,e>this.rowsBuffer.length&&(e=this.rowsBuffer.length);for(var s=t;e>s;s++)if(!this.rowsCol[s]){var n=this._add_from_buffer(s);if(-1==n){if(this.xmlFileUrl){if(this._dpref&&this.rowsBuffer[e-1]){var o=(this._dpref?this._dpref:e-s,Math.max(0,e-this._dpref));this._current_load=[o,e-o]}else this._current_load=[s,this._dpref?this._dpref:e-s];this.callEvent("onDynXLS",this._current_load)&&this.load(this.xmlFileUrl+getUrlSymbol(this.xmlFileUrl)+"posStart="+this._current_load[0]+"&count="+this._current_load[1],this._data_type)}return}this._tgle&&(this._updateLine(this._h2.get[this.rowsBuffer[s].idd],this.rowsBuffer[s]),this._updateParentLine(this._h2.get[this.rowsBuffer[s].idd],this.rowsBuffer[s])),s&&s==(this._realfake?this._fake:this)._r_select&&this.selectCell(s,this.cell?this.cell._cellIndex:0,!0)}this._fake&&!this._realfake&&this.multiLine&&(this._fake.objBox.scrollTop=this.objBox.scrollTop)},dhtmlXGridObject.prototype._add_from_buffer=function(t){var e=this.render_row(t);if(-1==e)return-1;if((e._attrs.selected||e._attrs.select)&&(this.selectRow(e,!1,!0),e._attrs.selected=e._attrs.select=null),this._cssSP){if(this._h2){var i=this._h2.get[e.idd];e.className+=" "+(i.level%2?this._cssUnEven+" "+this._cssUnEven:this._cssEven+" "+this._cssEven)+"_"+i.level+(this.rowsAr[i.id]._css||"")}}else this._cssEven&&t%2==0?e.className=this._cssEven+(-1!=e.className.indexOf("rowselected")?" rowselected ":" ")+(e._css||""):this._cssUnEven&&t%2==1&&(e.className=this._cssUnEven+(-1!=e.className.indexOf("rowselected")?" rowselected ":" ")+(e._css||""));for(var s=0;s<this._fillers.length;s++){var n=this._fillers[s];if(n&&n[0]<=t&&n[0]+n[1]>t){var o=t-n[0];0==o?(this._insert_before(t,e,n[2]),this._update_fillers(s,-1,1)):o==n[1]-1?(this._insert_after(t,e,n[2]),this._update_fillers(s,-1,0)):(this._fillers.push(this._add_filler(t+1,n[1]-o-1,n[2],1)),this._insert_after(t,e,n[2]),this._update_fillers(s,-n[1]+o,0));break}}},dhtmlXGridObject.prototype._update_fillers=function(t,e,i){var s=this._fillers[t];s[1]+=e,s[0]+=i,s[1]?(s[2].firstChild.style.height=parseFloat(s[2].firstChild.style.height)+e*this._srdh+"px",this.callEvent("onUpdateFiller",[s[2]])):(this.callEvent("onRemoveFiller",[s[2]]),s[2].parentNode.removeChild(s[2]),this._fillers.splice(t,1))},dhtmlXGridObject.prototype._insert_before=function(t,e,i){i.parentNode.insertBefore(e,i),this.rowsCol[t]=e,this.callEvent("onRowInserted",[e,null,i,"before"])},dhtmlXGridObject.prototype._insert_after=function(t,e,i){i.nextSibling?i.parentNode.insertBefore(e,i.nextSibling):i.parentNode.appendChild(e),this.rowsCol[t]=e,this.callEvent("onRowInserted",[e,null,i,"after"])},dhtmlXGridObject.prototype.enableAutoSizeSaving=function(t,e){this.attachEvent("onResizeEnd",function(){this.saveSizeToCookie(t,e)})},dhtmlXGridObject.prototype.saveOpenStates=function(t,e){t||(t=this.entBox.id);var i=[];this._h2.forEachChild(0,function(t){"minus"==t.state&&i.push(t.id)});var s="gridOpen"+(t||"")+"="+i.join("|")+(e?"; "+e:"");document.cookie=s},dhtmlXGridObject.prototype.loadOpenStates=function(t){var e=this.getCookie(t,"gridOpen");if(e)for(var e=e.split("|"),i=0;i<e.length;i++){var s=this.getParentId(e[i]);this.getOpenState(s)&&this.openItem(e[i])}},dhtmlXGridObject.prototype.enableAutoHiddenColumnsSaving=function(t,e){this.attachEvent("onColumnHidden",function(){this.saveHiddenColumnsToCookie(t,e)})},dhtmlXGridObject.prototype.enableSortingSaving=function(t,e){this.attachEvent("onBeforeSorting",function(){var i=this;return window.setTimeout(function(){i.saveSortingToCookie(t,e)},1),!0})},dhtmlXGridObject.prototype.enableOrderSaving=function(t,e){this.attachEvent("onAfterCMove",function(){this.saveOrderToCookie(t,e),this.saveSizeToCookie(t,e)})},dhtmlXGridObject.prototype.enableAutoSaving=function(t,e){this.enableOrderSaving(t,e),this.enableAutoSizeSaving(t,e),this.enableSortingSaving(t,e)},dhtmlXGridObject.prototype.saveSizeToCookie=function(t,e){var i="px"==this.cellWidthType?this.cellWidthPX.join(","):this.cellWidthPC.join(","),s=(this.initCellWidth||[]).join(",");this.setCookie(t,e,0,i),this.setCookie(t,e,1,s)},dhtmlXGridObject.prototype.saveHiddenColumnsToCookie=function(t,e){var i=[].concat(this._hrrar||[]);if(this._fake&&this._fake._hrrar)for(var s=0;s<this._fake._cCount;s++)i[s]=this._fake._hrrar[s]?"1":"";this.setCookie(t,e,4,i.join(",").replace(/display:none;/g,"1"))},dhtmlXGridObject.prototype.loadHiddenColumnsFromCookie=function(t){for(var e=this._getCookie(t,4),i=(e||"").split(","),s=0;s<this._cCount;s++)this.setColumnHidden(s,i[s]?!0:!1)},dhtmlXGridObject.prototype.saveSortingToCookie=function(t,e){this.setCookie(t,e,2,(this.getSortingState()||[]).join(","))},dhtmlXGridObject.prototype.loadSortingFromCookie=function(t){var e=this._getCookie(t,2),e=(e||"").split(",");e.length>1&&e[0]<this._cCount&&(this.sortRows(e[0],null,e[1]),this.setSortImgState(!0,e[0],e[1]))},dhtmlXGridObject.prototype.saveOrderToCookie=function(t,e){if(!this._c_order){this._c_order=[];for(var i=this._cCount,s=0;i>s;s++)this._c_order[s]=s}this.setCookie(t,e,3,(this._c_order||[]).slice(0,this._cCount).join(",")),this.saveSortingToCookie()},dhtmlXGridObject.prototype.loadOrderFromCookie=function(t){var e=this._getCookie(t,3),e=(e||"").split(",");if(e.length>1&&e.length<=this._cCount)for(var i=0;i<e.length;i++)if(!this._c_order&&e[i]!=i||this._c_order&&e[i]!=this._c_order[i]){var s=e[i];if(this._c_order)for(var n=0;n<this._c_order.length;n++)if(this._c_order[n]==e[i]){s=n;break}this.moveColumn(1*s,i)}},dhtmlXGridObject.prototype.loadSizeFromCookie=function(t){var e=this._getCookie(t,1);if(e&&(this.initCellWidth=e.split(",")),(e=this._getCookie(t,0))&&e.length){if(!this._fake&&this._hrrar)for(var i=0;i<e.length;i++)this._hrrar[i]&&(e[i]=0);"px"==this.cellWidthType?this.cellWidthPX=e.split(","):this.cellWidthPC=e.split(",")}return this.setSizes(),!0},dhtmlXGridObject.prototype.clearConfigCookie=function(t){t||(t=this.entBox.id);var e="gridSettings"+t+"=||||";document.cookie=e},dhtmlXGridObject.prototype.clearSizeCookie=dhtmlXGridObject.prototype.clearConfigCookie,dhtmlXGridObject.prototype.setCookie=function(t,e,i,s){t||(t=this.entBox.id);var n=this.getCookie(t),n=(n||"||||").split("|");n[i]=s;var o="gridSettings"+t+"="+n.join("|").replace(/,/g,"-")+(e?"; "+e:"");document.cookie=o},dhtmlXGridObject.prototype.getCookie=function(t,e){t||(t=this.entBox.id);var t=(e||"gridSettings")+t,i=t+"=";if(document.cookie.length>0){var s=document.cookie.indexOf(i);if(-1!=s){s+=i.length;var n=document.cookie.indexOf(";",s);return-1==n&&(n=document.cookie.length),document.cookie.substring(s,n)}}},dhtmlXGridObject.prototype._getCookie=function(t,e){return(this.getCookie(t)||"||||").replace(/-/g,",").split("|")[e]},dhtmlXGridObject.prototype._process_html=function(t){if(t.tagName&&"TABLE"==t.tagName)return this._process_inner_html(t,0);var e=document.createElement("DIV");e.innerHTML=t.xmlDoc.responseText;var i=e.getElementsByTagName("TABLE")[0];this._process_inner_html(i,0)},dhtmlXGridObject.prototype._process_inner_html=function(t,e){for(var i=t.rows.length,s=e;i>s;s++){var n=t.rows[s].getAttribute("id")||s;this.rowsBuffer.push({idd:n,data:t.rows[s],_parser:this._process_html_row,_locator:this._get_html_data})}this.render_dataset(),this.setSizes()},dhtmlXGridObject.prototype._process_html_row=function(t,e){var i=e.getElementsByTagName("TD"),s=[];t._attrs=this._xml_attrs(e);for(var n=0;n<i.length;n++){var o=i[n],l=o.getAttribute("type");if(t.childNodes[n]&&(l&&(t.childNodes[n]._cellType=l),t.childNodes[n]._attrs=this._xml_attrs(i[n])),s.push(o.firstChild?o.innerHTML:""),o.colSpan>1){t.childNodes[n]._attrs.colspan=o.colSpan;for(var h=1;h<o.colSpan;h++)s.push("")}}for(;n<t.childNodes.length;n++)t.childNodes[n]._attrs={};return this._fillRow(t,this._c_order?this._swapColumns(s):s),t},dhtmlXGridObject.prototype._get_html_data=function(t,e){for(t=t.firstChild;;){if(!t)return"";if("TD"==t.tagName&&e--,0>e)break;t=t.nextSibling}return t.firstChild?t.firstChild.data:""},dhtmlxEvent(window,"load",function(){for(var t=document.getElementsByTagName("table"),e=0;e<t.length;e++)"dhtmlxGrid"==t[e].className&&dhtmlXGridFromTable(t[e])}),dhtmlXGridObject.prototype.enableUndoRedo=function(){var t=this,e=function(){return t._onEditUndoRedo.apply(t,arguments)};this.attachEvent("onEditCell",e);var i=function(e,i,s){return t._onEditUndoRedo.apply(t,[2,e,i,s?1:0,s?0:1])};this.attachEvent("onCheckbox",i),this._IsUndoRedoEnabled=!0,this._UndoRedoData=[],this._UndoRedoPos=-1},dhtmlXGridObject.prototype.disableUndoRedo=function(){this._IsUndoRedoEnabled=!1,this._UndoRedoData=[],this._UndoRedoPos=-1},dhtmlXGridObject.prototype._onEditUndoRedo=function(t,e,i,s,n){if(this._IsUndoRedoEnabled&&2==t&&n!=s){-1!==this._UndoRedoPos&&this._UndoRedoPos!=this._UndoRedoData.length-1?this._UndoRedoData=this._UndoRedoData.slice(0,this._UndoRedoPos+1):-1===this._UndoRedoPos&&this._UndoRedoData.length>0&&(this._UndoRedoData=[]);var o={old_value:n,new_value:s,row_id:e,cell_index:i};this._UndoRedoData.push(o),this._UndoRedoPos++}return!0},dhtmlXGridObject.prototype.doUndo=function(){if(-1===this._UndoRedoPos)return!1;var t=this._UndoRedoData[this._UndoRedoPos--],e=this.cells(t.row_id,t.cell_index);"tree"==this.getColType(t.cell_index)?e.setLabel(t.old_value):e.setValue(t.old_value),this.callEvent("onUndo",[t.row_id])},dhtmlXGridObject.prototype.doRedo=function(){if(this._UndoRedoPos==this._UndoRedoData.length-1)return!1;var t=this._UndoRedoData[++this._UndoRedoPos];this.cells(t.row_id,t.cell_index).setValue(t.new_value),this.callEvent("onUndo",[t.row_id])},dhtmlXGridObject.prototype.getRedo=function(){return this._UndoRedoPos==this._UndoRedoData.length-1?[]:this._UndoRedoData.slice(this._UndoRedoPos+1)},dhtmlXGridObject.prototype.getUndo=function(){return-1==this._UndoRedoPos?[]:this._UndoRedoData.slice(0,this._UndoRedoPos+1)},eXcell_sub_row.prototype=new eXcell,eXcell_sub_row_ajax.prototype=new eXcell_sub_row,eXcell_sub_row_grid.prototype=new eXcell_sub_row,dhtmlXGridObject.prototype._expandMonolite=function(t,e,i){var s=this.parentNode,n=s.parentNode,o=n.grid;(t||window.event)&&(!i&&!n._expanded&&o.editStop(),(t||event).cancelBubble=!0);var l=o.getUserData(n.idd,"__sub_row");if(o._sub_row_editor||(o._sub_row_editor=new eXcell_sub_row(s)),l){if(n._expanded&&!e){o._sub_row_editor._setState("plus.gif",s),s._previous_content=n._expanded,o.objBox.removeChild(n._expanded),n._expanded=!1,n.style.height=(n.oldHeight||20)+"px",s.style.height=(n.oldHeight||20)+"px",o._fake&&(o._fake.rowsAr[n.idd].style.height=(n.oldHeight||20)+"px");for(var h=0;h<n.cells.length;h++)n.cells[h].style.verticalAlign="middle",n.cells[h].style.paddingTop="0px";delete o._flow[n.idd],o._correctMonolite(),n._expanded.ctrl=null}else if(!n._expanded&&!i){if(o._sub_row_editor._setState("minus.gif",s),n.oldHeight=s.offsetHeight,s._previous_content){var r=s._previous_content;r.ctrl=s,o.objBox.appendChild(r),o._detectHeight(r,s,parseInt(r.style.height))}else r=document.createElement("DIV"),r.ctrl=s,s._sub_row_type?o._sub_row_render[s._sub_row_type](o,r,s,l):r.innerHTML=l,r.style.cssText="position:absolute; left:0px; top:0px; overflow:auto; font-family:Tahoma; font-size:8pt; margin-top:2px; margin-left:4px;",r.className="dhx_sub_row",o.objBox.appendChild(r),o._detectHeight(r,s);o._flow||(o.attachEvent("onGridReconstructed",function(){this.pagingOn&&!this.parentGrid||this._srnd?this._collapsMonolite():this._correctMonolite()}),o.attachEvent("onResizeEnd",function(){this._correctMonolite(!0)}),o.attachEvent("onAfterCMove",function(){this._correctMonolite(!0)}),o.attachEvent("onDrop",function(){this._correctMonolite(!0)}),o.attachEvent("onBeforePageChanged",function(){return this._collapsMonolite(),!0}),o.attachEvent("onGroupStateChanged",function(){return this._correctMonolite(),!0}),o.attachEvent("onFilterEnd",function(){this._collapsMonolite()}),o.attachEvent("onUnGroup",function(){this._collapsMonolite()}),o.attachEvent("onPageChanged",function(){this._collapsMonolite()}),o.attachEvent("onXLE",function(){this._collapsMonolite()}),o.attachEvent("onClearAll",function(){for(var t in this._flow)this._flow[t]&&this._flow[t].parentNode&&this._flow[t].parentNode.removeChild(this._flow[t]);this._flow=[]}),o.attachEvent("onEditCell",function(t,e,i){return 2!==t&&this._flow[e]&&"ch"!=this.cellType[i]&&"ra"!=this.cellType[i]&&this._expandMonolite.apply(this._flow[e].ctrl.firstChild,[0,!1,!0]),!0}),o.attachEvent("onCellChanged",function(t,e){if(this._flow[t]){var i=this.cells(t,e).cell;i.style.verticalAlign="top",i.style.paddingTop="3px"}}),o._flow=[]),o._flow[n.idd]=r,o._correctMonolite();for(var a=o._srdh>30?11:3,h=0;h<n.cells.length;h++)n.cells[h].style.verticalAlign="top",n.cells[h].style.paddingTop=a+"px";if(o._fake)for(var d=o._fake.rowsAr[n.idd],h=0;h<d.cells.length;h++)d.cells[h].style.verticalAlign="top",d.cells[h].style.paddingTop=a+"px";s.style.paddingTop=a-1+"px",n._expanded=r}o._ahgr&&o.setSizes(),o.parentGrid&&o.callEvent("onGridReconstructed",[]),o.callEvent("onSubRowOpen",[n.idd,!!n._expanded])}},dhtmlXGridObject.prototype._sub_row_render={ajax:function(a,b,c,d){b.innerHTML="Loading...";var e=new dtmlXMLLoaderObject(function(){b.innerHTML=e.xmlDoc.responseText;var d=e.xmlDoc.responseText.match(/<script[^>]*>([^\f]+?)<\/script>/g);if(d)for(var g=0;g<d.length;g++)eval(d[g].replace(/<([\/]{0,1})s[^>]*>/g,""));a._detectHeight(b,c),a._correctMonolite(),a.setUserData(c.parentNode.idd,"__sub_row",e.xmlDoc.responseText),c._sub_row_type=null,a._ahgr&&a.setSizes(),a.callEvent("onSubAjaxLoad",[c.parentNode.idd,e.xmlDoc.responseText])},this,!0,!0);e.loadXML(d)},grid:function(t,e,i,s){i._sub_grid=new dhtmlXGridObject(e),t.skin_name&&i._sub_grid.setSkin(t.skin_name),i._sub_grid.parentGrid=t,i._sub_grid.setImagePath(t.imgURL),i._sub_grid.enableAutoHeight(!0),i._sub_grid._delta_x=i._sub_grid._delta_y=null,i._sub_grid.attachEvent("onGridReconstructed",function(){t._detectHeight(e,i,i._sub_grid.objBox.scrollHeight+i._sub_grid.hdr.offsetHeight+(this.ftr?this.ftr.offsetHeight:0)),t._correctMonolite(),this.setSizes(),t.parentGrid&&t.callEvent("onGridReconstructed",[])}),t.callEvent("onSubGridCreated",[i._sub_grid,i.parentNode.idd,i._cellIndex,s])&&i._sub_grid.loadXML(s,function(){t._detectHeight(e,i,i._sub_grid.objBox.scrollHeight+i._sub_grid.hdr.offsetHeight+(i._sub_grid.ftr?i._sub_grid.ftr.offsetHeight:0)),i._sub_grid.objBox.style.overflow="hidden",t._correctMonolite(),i._sub_row_type=null,t.callEvent("onSubGridLoaded",[i._sub_grid,i.parentNode.idd,i._cellIndex,s])&&t._ahgr&&t.setSizes()})}},dhtmlXGridObject.prototype._detectHeight=function(t,e,i){var s=e.offsetLeft+e.offsetWidth;t.style.left=s+"px",t.style.width=Math.max(0,e.parentNode.offsetWidth-s-4)+"px",i=i||t.scrollHeight,t.style.overflow="hidden",t.style.height=i+"px";var n=e.parentNode;if(e.parentNode.style.height=(n.oldHeight||20)+3+1*i+"px",e.style.height=(n.oldHeight||20)+3+1*i+"px",this._fake){var o=this._fake.rowsAr[e.parentNode.idd];o.style.height=(n.oldHeight||20)+3+1*i+"px"}},dhtmlXGridObject.prototype._correctMonolite=function(t){if(!this._in_correction){this._in_correction=!0;for(var e in this._flow)if(this._flow[e]&&"DIV"==this._flow[e].tagName)if(this.rowsAr[e]){if("none"==this.rowsAr[e].style.display)this.cells4(this._flow[e].ctrl).close();else if(this._flow[e].style.top=this.rowsAr[e].offsetTop+(this.rowsAr[e].oldHeight||20)+"px",t){var i=this._flow[e].ctrl.offsetLeft+this._flow[e].ctrl.offsetWidth;this._flow[e].style.left=i+"px",this._flow[e].style.width=this.rowsAr[e].offsetWidth-i-4+"px"}}else this._flow[e].ctrl=null,this.objBox.removeChild(this._flow[e]),delete this._flow[e];this._in_correction=!1}},dhtmlXGridObject.prototype._collapsMonolite=function(){for(var t in this._flow)this._flow[t]&&"DIV"==this._flow[t].tagName&&this.rowsAr[t]&&this.cells4(this._flow[t].ctrl).close()},dhtmlxValidation=function(){},dhtmlxValidation.prototype={trackInput:function(t,e,i,s){dhtmlxEvent(t,"keyup",function(){dhtmlxValidation._timer&&(window.clearTimeout(dhtmlxValidation._timer),dhtmlxValidation._timer=null),dhtmlxValidation._timer=window.setTimeout(function(){dhtmlxValidation.checkInput(t,e)?(t.className=t.className.replace(/[ ]*dhtmlx_live_validation_error/g,""),s&&s(t,t.value,e)):(!i||i(t,t.value,e))&&(t.className+=" dhtmlx_live_validation_error")},250)})},checkInput:function(t,e){return this.checkValue(t.value,e)},checkValue:function(t,e){"string"==typeof e&&(e=e.split(","));for(var i=!0,s=0;s<e.length;s++)this["is"+e[s]]?i=i&&this["is"+e[s]](t):alert("Incorrect validation rule: "+e[s]);return i},isEmpty:function(t){return""==t},isNotEmpty:function(t){return""==!t},isValidBoolean:function(t){return!!t.toString().match(/^(0|1|true|false)$/)},isValidEmail:function(t){return!!t.toString().match(/(^[a-z0-9]([0-9a-z\-_\.]*)@([0-9a-z_\-\.]*)([.][a-z]{3})$)|(^[a-z]([0-9a-z_\.\-]*)@([0-9a-z_\-\.]*)(\.[a-z]{2,4})$)/i)},isValidInteger:function(t){return!!t.toString().match(/(^-?\d+$)/)},isValidNumeric:function(t){return!!t.toString().match(/(^-?\d\d*[\.|,]\d*$)|(^-?\d\d*$)|(^-?[\.|,]\d\d*$)/)},isValidAplhaNumeric:function(t){return!!t.toString().match(/^[_\-a-z0-9]+$/gi)},isValidDatetime:function(t){var e=t.toString().match(/^(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2}):(\d{2})$/);return e&&!!(e[1]<=9999&&e[2]<=12&&e[3]<=31&&e[4]<=59&&e[5]<=59&&e[6]<=59)||!1},isValidDate:function(t){var e=t.toString().match(/^(\d{4})-(\d{2})-(\d{2})$/);return e&&!!(e[1]<=9999&&e[2]<=12&&e[3]<=31)||!1},isValidTime:function(t){var e=t.toString().match(/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/);return e&&!!(e[1]<=24&&e[2]<=59&&e[3]<=59)||!1},isValidIPv4:function(t){var e=t.toString().match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/);return e&&!!(e[1]<=255&&e[2]<=255&&e[3]<=255&&e[4]<=255)||!1},isValidCurrency:function(t){return t.toString().match(/^\$?\s?\d+?[\.,\,]?\d+?\s?\$?$/)&&!0||!1},isValidSSN:function(t){return t.toString().match(/^\d{3}\-?\d{2}\-?\d{4}$/)&&!0||!1},isValidSIN:function(t){return t.toString().match(/^\d{9}$/)&&!0||!1}},dhtmlxValidation=new dhtmlxValidation,dhtmlXGridObject.prototype.enableValidation=function(t,e){this._validators=(t=convertStringToBoolean(t))?{data:[]}:!1,arguments.length>1&&(this._validators._live=e),this._validators._event||(this._validators._event=this.attachEvent("onEditCell",this.validationEvent))},dhtmlXGridObject.prototype.setColValidators=function(t){this._validators||this.enableValidation(!0),"string"==typeof t&&(t=t.split(this.delim)),this._validators.data=t},dhtmlXGridObject.prototype.validationEvent=function(t,e,i,s){var n=this._validators;if(!n)return!0;var o=n.data[i]||this.cells(e,i).getAttribute("validate")||"";if(1==t&&o){var l=this.editor||(this._fake||{}).editor;if(!l)return!0;if(l.cell.className=l.cell.className.replace(/[ ]*dhtmlx_validation_error/g,""),n._live){var h=this;dhtmlxValidation.trackInput(l.getInput(),o,function(t,s,n){return h.callEvent("onLiveValidationError",[e,i,s,t,n])},function(t,s,n){return h.callEvent("onLiveValidationCorrect",[e,i,s,t,n])})}}return 2==t&&this.validateCell(e,i,o,s),!0},dhtmlXGridObject.prototype.validateCell=function(t,e,i,s){if(i=i||this._validators.data[e]||this.cells(t,e).getAttribute("validate"),s=s||this.cells(t,e).getValue(),i){var n=this.cells(t,e).cell,o=!0;"string"==typeof i&&(i=i.split(this.delim));for(var l=0;l<i.length;l++)dhtmlxValidation.checkValue(s,i[l])||(this.callEvent("onValidationError",[t,e,s,i[l]])&&(n.className+=" dhtmlx_validation_error"),o=!1);return o&&(this.callEvent("onValidationCorrect",[t,e,s,i]),n.className=n.className.replace(/[ ]*dhtmlx_validation_error/g,"")),o}},dhtmlXGridObject.prototype.startFastOperations=function(){this._disF=["setSizes","callEvent","_fixAlterCss","cells4","forEachRow"],this._disA=[];for(var t=this._disF.length-1;t>=0;t--)this._disA[t]=this[this._disF[t]],this[this._disF[t]]=function(){return!0};this._cellCache=[],this.cells4=function(t){var e=this._cellCache[t._cellIndex];return e||(e=this._cellCache[t._cellIndex]=this._disA[3].apply(this,[t]),e.destructor=function(){return!0},e.setCValue=function(t){e.cell.innerHTML=t}),e.cell=t,e.combo=t._combo||this.combos[t._cellIndex],e}},dhtmlXGridObject.prototype.stopFastOperations=function(){if(this._disF){for(var t=this._disF.length-1;t>=0;t--)this[this._disF[t]]=this._disA[t];this.setSizes(),this.callEvent("onGridReconstructed",[])}},dhtmlXGridObject.prototype.enableMarkedCells=function(t){this.markedRowsArr=new dhtmlxArray(0),this.markedCellsArr=[],this.lastMarkedColumn=this.lastMarkedRow=null,this.markedCells=!0,this.lastMarkMethod=0,arguments.length>0&&!convertStringToBoolean(t)&&(this.markedCells=!1)},dhtmlXGridObject.prototype.doMark=function(t,e){var i=t.parentNode.idd;if(this.setActive(!0),i){this.editStop(),this.cell=t,this.row=t.parentNode;var s=t._cellIndex;if(e||(e=0),0==e)this.unmarkAll();else if(1==e){if(this.lastMarkedRow)for(var n=Math.min(this.getRowIndex(i),this.getRowIndex(this.lastMarkedRow)),o=Math.max(this.getRowIndex(i),this.getRowIndex(this.lastMarkedRow)),l=Math.min(s,this.lastMarkedColumn),h=Math.max(s,this.lastMarkedColumn),r=n;o+1>r;r++)for(var a=l;h+1>a;a++)this.mark(this.getRowId(r),a,!0)}else if(2==e&&-1!=this.markedRowsArr._dhx_find(i))for(var d=0;d<this.markedCellsArr[i].length;d++)if(this.markedCellsArr[i][d]==s)return this.mark(i,s,!1),!0;this.markedCellsArr[i]||(this.markedCellsArr[i]=new dhtmlxArray(0)),1!=e&&this.mark(i,s),this.moveToVisible(this.cells(i,s).cell),this.lastMarkedRow=i,this.lastMarkedColumn=s,this.lastMarkMethod=e}},dhtmlXGridObject.prototype.mark=function(t,e,i){if(arguments.length>2&&!convertStringToBoolean(i)){if(this.cells(t,e).cell.className=this.cells(t,e).cell.className.replace(/cellselected/g,""),-1!=this.markedRowsArr._dhx_find(t)){var s=this.markedCellsArr[t]._dhx_find(e);-1!=s&&(this.markedCellsArr[t]._dhx_removeAt(s),0==this.markedCellsArr[t].length&&this.markedRowsArr._dhx_removeAt(this.markedRowsArr._dhx_find(t)),this.callEvent("onCellUnMarked",[t,e]))}return!0}this.cells(t,e).cell.className+=" cellselected",-1==this.markedRowsArr._dhx_find(t)&&(this.markedRowsArr[this.markedRowsArr.length]=t),this.markedCellsArr[t]||(this.markedCellsArr[t]=new dhtmlxArray(0)),-1==this.markedCellsArr[t]._dhx_find(e)&&(this.markedCellsArr[t][this.markedCellsArr[t].length]=e,this.callEvent("onCellMarked",[t,e]))},dhtmlXGridObject.prototype.unmarkAll=function(){if(this.markedRowsArr){for(var t=0;t<this.markedRowsArr.length;t++){var e=this.markedRowsArr[t];if(this.rowsAr[e])for(var i=0;i<this.markedCellsArr[e].length;i++)this.callEvent("onCellUnMarked",[e,this.markedCellsArr[e][i]]),this.cells(e,this.markedCellsArr[e][i]).cell.className=this.cells(e,this.markedCellsArr[e][i]).cell.className.replace(/cellselected/g,"")}this.markedRowsArr=new dhtmlxArray(0),this.markedCellsArr=[]}return!0},dhtmlXGridObject.prototype.getMarked=function(){var t=[];if(this.markedRowsArr)for(var e=0;e<this.markedRowsArr.length;e++)for(var i=this.markedRowsArr[e],s=0;s<this.markedCellsArr[i].length;s++)t[t.length]=[i,this.markedCellsArr[i][s]];return t},eXcell_dhxCalendar.prototype=new eXcell,eXcell_dhxCalendar.prototype.edit=function(){var t=this.grid.getPosition(this.cell);this.grid._grid_calendarA._show(!1,!1),this.grid._grid_calendarA.setPosition(t[0],t[1]+this.cell.offsetHeight),this.grid._grid_calendarA._last_operation_calendar=!1,this.grid.callEvent("onCalendarShow",[this.grid._grid_calendarA,this.cell.parentNode.idd,this.cell._cellIndex]),this.cell._cediton=!0,this.val=this.cell.val,this._val=this.cell.innerHTML;
var e=this.grid._grid_calendarA.draw;this.grid._grid_calendarA.draw=function(){},this.grid._grid_calendarA.setDateFormat(this.grid._dtmask||"%d/%m/%Y"),this.grid._grid_calendarA.setDate(this.val||new Date),this.grid._grid_calendarA.draw=e},eXcell_dhxCalendar.prototype.getDate=function(){return this.cell.val?this.cell.val:null},eXcell_dhxCalendar.prototype.getValue=function(){return this.cell._clearCell?"":this.grid._dtmask_inc&&this.cell.val?this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask_inc,this.cell.val).toString():this.cell.innerHTML.toString()._dhx_trim()},eXcell_dhxCalendar.prototype.detach=function(){if(this.grid._grid_calendarA&&(this.grid._grid_calendarA.hide(),this.cell._cediton)){if(this.cell._cediton=!1,this.grid._grid_calendarA._last_operation_calendar){var t=this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||"%d/%m/%Y"),e=this.grid._grid_calendarA.getDate();this.cell.val=new Date(e),this.setCValue(t,e),this.cell._clearCell=!t;var i=this.val;return this.val=this._val,this.cell.val.valueOf()!=i}return!1}},eXcell_dhxCalendar.prototype.setValue=function(t){t&&"object"==typeof t?(this.cell.val=t,this.cell._clearCell=!1,this.setCValue(this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||"%d/%m/%Y",t).toString(),this.cell.val)):(t&&""!=t.toString()._dhx_trim()?(this.cell._clearCell=!1,this.cell.val=new Date(this.grid._grid_calendarA.setFormatedDate(this.grid._dtmask_inc||this.grid._dtmask||"%d/%m/%Y",t.toString(),null,!0)),this.grid._dtmask_inc&&(t=this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||"%d/%m/%Y",this.cell.val))):(t="&nbsp",this.cell._clearCell=!0,this.cell.val=""),"NaN"==this.cell.val||"Invalid Date"==this.cell.val?(this.cell._clearCell=!0,this.cell.val=new Date,this.setCValue("&nbsp;",0)):this.setCValue((t||"").toString(),this.cell.val))},eXcell_dhxCalendarA.prototype=new eXcell,eXcell_dhxCalendarA.prototype.edit=function(){var t=this.grid.getPosition(this.cell);this.grid._grid_calendarA._show(!1,!1),this.grid._grid_calendarA.setPosition(1*t[0]+this.cell.offsetWidth,1*t[1]),this.grid.callEvent("onCalendarShow",[this.grid._grid_calendarA,this.cell.parentNode.idd,this.cell._cellIndex]),this.grid._grid_calendarA._last_operation_calendar=!1,this.cell._cediton=!0,this.val=this.cell.val,this._val=this.cell.innerHTML;var e=this.grid._grid_calendarA.draw;this.grid._grid_calendarA.draw=function(){},this.grid._grid_calendarA.setDateFormat(this.grid._dtmask||"%d/%m/%Y"),this.grid._grid_calendarA.setDate(this.val),this.grid._grid_calendarA.draw=e,this.grid._grid_calendarA.draw(),this.cell.atag=!this.grid.multiLine&&(_isKHTML||_isMacOS||_isFF)?"INPUT":"TEXTAREA",this.obj=document.createElement(this.cell.atag),this.obj.style.height=this.cell.offsetHeight-(_isIE?4:2)+"px",this.obj.className="dhx_combo_edit",this.obj.wrap="soft",this.obj.style.textAlign=this.cell.align,this.obj.onclick=function(t){(t||event).cancelBubble=!0},this.obj.onmousedown=function(t){(t||event).cancelBubble=!0},this.obj.value=this.getValue(),this.cell.innerHTML="",this.cell.appendChild(this.obj),_isFF&&(this.obj.style.overflow="visible",this.grid.multiLine&&this.obj.offsetHeight>=18&&this.obj.offsetHeight<40)&&(this.obj.style.height="36px",this.obj.style.overflow="scroll"),this.obj.onselectstart=function(t){return t||(t=event),t.cancelBubble=!0},this.obj.focus(),this.obj.focus()},eXcell_dhxCalendarA.prototype.getDate=function(){return this.cell.val?this.cell.val:null},eXcell_dhxCalendarA.prototype.getValue=function(){return this.cell._clearCell?"":this.grid._dtmask_inc&&this.cell.val?this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask_inc,this.cell.val).toString():this.cell.innerHTML.toString()._dhx_trim()},eXcell_dhxCalendarA.prototype.detach=function(){if(this.grid._grid_calendarA&&(this.grid._grid_calendarA.hide(),this.cell._cediton)){if(this.cell._cediton=!1,this.grid._grid_calendarA._last_operation_calendar){this.grid._grid_calendarA._last_operation_calendar=!1;var t=this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||"%d/%m/%Y"),e=this.grid._grid_calendarA.getDate();this.cell.val=new Date(e),this.setCValue(t,e),this.cell._clearCell=!t;var i=this.val;return this.val=this._val,this.cell.val.valueOf()!=(0|i).valueOf()}return this.setValue(this.obj.value),i=this.val,this.val=this._val,this.cell.val.valueOf()!=(i||"").valueOf()}},eXcell_dhxCalendarA.prototype.setValue=function(t){t&&"object"==typeof t?(this.cell.val=t,this.cell._clearCell=!1,this.setCValue(this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||"%d/%m/%Y",t).toString(),this.cell.val)):(t&&""!=t.toString()._dhx_trim()?(this.cell._clearCell=!1,this.cell.val=new Date(this.grid._grid_calendarA.setFormatedDate(this.grid._dtmask_inc||this.grid._dtmask||"%d/%m/%Y",t.toString(),null,!0)),this.grid._dtmask_inc&&(t=this.grid._grid_calendarA.getFormatedDate(this.grid._dtmask||"%d/%m/%Y",this.cell.val))):(t="&nbsp",this.cell._clearCell=!0,this.cell.val=""),"NaN"==this.cell.val||"Invalid Date"==this.cell.val?(this.cell.val=new Date,this.cell._clearCell=!0,this.setCValue("&nbsp;",0)):this.setCValue((t||"").toString(),this.cell.val))},dhtmlXGridObject.prototype._init_point_bcg=dhtmlXGridObject.prototype._init_point,dhtmlXGridObject.prototype._init_point=function(){window.dhx_globalImgPath||(window.dhx_globalImgPath=this.imgURL),this._col_combos=[];for(var t=0;t<this._cCount;t++)0==this.cellType[t].indexOf("combo")&&(this._col_combos[t]=eXcell_combo.prototype.initCombo.call({grid:this},t));this._loading_handler_set||(this._loading_handler_set=this.attachEvent("onXLE",function(t,e,i,s){eXcell_combo.prototype.fillColumnCombos(this,s),this.detachEvent(this._loading_handler_set),this._loading_handler_set=null})),this._init_point_bcg&&this._init_point_bcg()},eXcell_combo.prototype=new eXcell,eXcell_combo_v=function(t){var e=new eXcell_combo(t);return t.style.paddingLeft="0px",t.style.paddingRight="0px",e._combo_pre="<img src='"+(window.dhx_globalImgPath?window.dhx_globalImgPath:this.grid.imgURL)+"combo_select"+(dhtmlx.skin?"_"+dhtmlx.skin:"")+".gif' style='position:absolute;z-index:1;top:0px;right:0px;'/>",e},eXcell_combo.prototype.initCombo=function(t){var e=document.createElement("DIV"),i=this.grid.defVal[arguments.length?t:this.cell._cellIndex],s=new dhtmlXCombo(e,"combo",0,i);this.grid.defVal[arguments.length?t:this.cell._cellIndex]="",s.DOMelem.className+=" fake_editable";var n=this.grid;return s.DOMelem.onselectstart=function(){return event.cancelBubble=!0},s.attachEvent("onKeyPressed",function(t){(13==t||27==t)&&(n.editStop(),n._fake&&n._fake.editStop())}),dhtmlxEvent(s.DOMlist,"click",function(){n.editStop(),n._fake&&n._fake.editStop()}),s.DOMelem.style.border="0px",s.DOMelem.style.height="18px",s},eXcell_combo.prototype.fillColumnCombos=function(t,e){if(e){t.combo_columns=t.combo_columns||[],columns=t.xmlLoader.doXPath("//column",e);for(var i=0;i<columns.length;i++)0==(columns[i].getAttribute("type")||"").indexOf("combo")&&(t.combo_columns[t.combo_columns.length]=i,this.setComboOptions(t._col_combos[i],columns[i],t,i))}},eXcell_combo.prototype.setComboCValue=function(t,e){""!=this._combo_pre&&(t="<div style='width:100%;position:relative;height:100%;overflow:hidden;line-height:20px'>"+this._combo_pre+"<span>"+t+"</span></div>"),arguments.length>1?this.setCValue(t,e):this.setCValue(t)},eXcell_combo.prototype.setComboOptions=function(t,e,i,s,n){if(convertStringToBoolean(e.getAttribute("xmlcontent"))&&!e.getAttribute("source")){options=e.childNodes;for(var o=[],l=0;l<options.length;l++)if("option"==options[l].tagName){var h=options[l].firstChild?options[l].firstChild.data:"";o[o.length]=[options[l].getAttribute("value"),h]}if(t.addOption(o),4==arguments.length)i.forEachRowA(function(e){var n=i.cells(e,s);!n.cell._brval&&!n.cell._cellType&&n.cell._cellIndex==s&&(""==n.cell.combo_value?n.setComboCValue("&nbsp;",""):n.setComboCValue(t.getOption(n.cell.combo_value)?t.getOption(n.cell.combo_value).text:n.cell.combo_value))});else{var r=this.cell?this:i.cells(n,s);e.getAttribute("text")?""==e.getAttribute("text")._dhx_trim()?r.setComboCValue("&nbsp;",""):r.setComboCValue(e.getAttribute("text")):r.cell.combo_value&&""!=r.cell.combo_value._dhx_trim()?r.setComboCValue(t.getOption(r.cell.combo_value)?t.getOption(r.cell.combo_value).text:r.cell.combo_value):r.setComboCValue("&nbsp;","")}}if(e.getAttribute("source"))if(e.getAttribute("auto")&&convertStringToBoolean(e.getAttribute("auto")))e.getAttribute("xmlcontent")?(r=this.cell?this:i.cells(n,s),e.getAttribute("text")&&r.setComboCValue(e.getAttribute("text"))):i.forEachRowA(function(t){var e=i.cells(t,s);if(!e.cell._brval&&!e.cell._cellType){var n=e.cell.combo_value.toString();if(-1!=n.indexOf("^")){var o=n.split("^");e.cell.combo_value=o[0],e.setComboCValue(o[1])}}}),t.enableFilteringMode(!0,e.getAttribute("source"),convertStringToBoolean(e.getAttribute("cache")||!0),convertStringToBoolean(e.getAttribute("sub")||!1));else{var a=arguments.length;t.loadXML(e.getAttribute("source"),function(){if(4==a)i.forEachRow(function(e){var n=i.cells(e,s);n.cell._brval||n.cell._cellType||(t.getOption(n.cell.combo_value)?n.setComboCValue(t.getOption(n.cell.combo_value).text):""==(n.cell.combo_value||"").toString()._dhx_trim()?(n.setComboCValue("&nbsp;",""),n.cell._clearCell=!0):n.setComboCValue(n.cell.combo_value))});else{var e=i.cells(n,s);e.setComboCValue(t.getOption(e.cell.combo_value)?t.getOption(e.cell.combo_value).text:e.cell.combo_value)}})}e.getAttribute("auto")&&convertStringToBoolean(e.getAttribute("auto"))||(e.getAttribute("editable")&&!convertStringToBoolean(e.getAttribute("editable"))&&t.readonly(!0),e.getAttribute("filter")&&convertStringToBoolean(e.getAttribute("filter"))&&t.enableFilteringMode(!0))},eXcell_combo.prototype.getCellCombo=function(){return this.cell._brval||(this.cell._brval=this.initCombo()),this.cell._brval},eXcell_combo.prototype.refreshCell=function(){this.setValue(this.getValue())},dhtmlXGridObject.prototype.getColumnCombo=function(t){return this._col_combos&&this._col_combos[t]||(this._col_combos||(this._col_combos=[]),this._col_combos[t]=eXcell_combo.prototype.initCombo.call({grid:this},t)),this._col_combos[t]},dhtmlXGridObject.prototype.refreshComboColumn=function(t){this.forEachRow(function(e){this.cells(e,t).refreshCell&&this.cells(e,t).refreshCell()})},dhtmlXGridObject.prototype.resetCounter=function(t){this._fake&&!this._realfake&&t<this._fake._cCount&&this._fake.resetCounter(t,this.currentPage);var e=t||0;for(this.currentPage&&(e=(this.currentPage-1)*this.rowsBufferOutSize),e=0;e<this.rowsBuffer.length;e++)this.rowsBuffer[e]&&"TR"==this.rowsBuffer[e].tagName&&this.rowsAr[this.rowsBuffer[e].idd]&&(this.rowsAr[this.rowsBuffer[e].idd].childNodes[t].innerHTML=e+1)},eXcell_cntr.prototype=new eXcell,eXcell_link.prototype=new eXcell,eXcell_link.prototype.getTitle=function(){var t=this.cell.firstChild;return t&&t.tagName?t.getAttribute("href"):""},eXcell_link.prototype.getContent=function(){var t=this.cell.firstChild;return t&&t.tagName?t.innerHTML:""},eXcell_clist.prototype=new eXcell,eXcell_clist.prototype.setValue=function(t){if("object"==typeof t){var e=this.grid.xmlLoader.doXPath("./option",t);e.length&&(this.cell._combo=[]);for(var i=0;i<e.length;i++)this.cell._combo.push(e[i].firstChild?e[i].firstChild.data:"");t=t.firstChild.data}""===t||t===this.undefined?(this.setCTxtValue(" ",t),this.cell._clearCell=!0):(this.setCTxtValue(t),this.cell._clearCell=!1)},dhtmlXGridObject.prototype.registerCList=function(t,e){this.clists||(this.clists=[]),"object"!=typeof e&&(e=e.split(",")),this.clists[t]=e},eXcell_ra_str.prototype=new eXcell_ch,eXcell_ra_str.prototype.setValue=function(t){if(this.cell.style.verticalAlign="middle",t&&(t=t.toString()._dhx_trim(),"false"==t||"0"==t)&&(t=""),t){if(this.grid.rowsAr[this.cell.parentNode.idd])for(var e=0;e<this.grid._cCount;e++)if(e!==this.cell._cellIndex){var i=this.grid.cells(this.cell.parentNode.idd,e);"ra_str"==(i.cell._cellType||this.grid.cellType[i.cell._cellIndex])&&i.getValue()&&i.setValue("0")}t="1",this.cell.chstate="1"}else t="0",this.cell.chstate="0";this.setCValue("<img src='"+this.grid.imgURL+"radio_chk"+t+".gif' onclick='new eXcell_ra_str(this.parentNode).changeState()'>",this.cell.chstate)},dhtmlXLayoutObject.prototype.unload=function(){this._isIPad?(document.removeEventListener("touchmove",this._doOnMouseMove,!1),document.removeEventListener("touchend",this._doOnMouseUp,!1)):"function"==typeof window.addEventListener?(document.body.removeEventListener("mousemove",this._doOnMouseMove,!1),document.body.removeEventListener("mouseup",this._doOnMouseUp,!1)):(document.body.detachEvent("onselectstart",this._doOnSelectStart),document.body.detachEvent("onmousemove",this._doOnMouseMove),document.body.detachEvent("onmouseup",this._doOnMouseUp)),this._doOnMouseUp=this._doOnMouseMove=this._doOnSelectStart=null;for(var t in this.polyObj){var e=this.polyObj[t];e._isCell=null,e.skin=null,e.getId=null,e.getIndex=null,e.showHeader=null,e.hideHeader=null,e.isHeaderVisible=null,e.setText=null,e.getText=null,e.expand=null,e.collapse=null,e.isCollapsed=null,e.dock=null,e.undock=null,e.setWidth=null,e.getWidth=null,e.setHeight=null,e.getHeight=null,e.fixSize=null,e.progressOn=null,e.progressOff=null,e._doOnAttachMenu=null,e._doOnAttachToolbar=null,e._doOnAttachStatusBar=null,e._collapsed=null,e._idd=null,e._ind=null,e._rowData=null,e._dir=null,e._initCPanel=null,e._minW=null,e._minH=null,e._resize=null,e._savedH=null,e._savedW=null,e.ondblclick=null;var i=e.childNodes[0].childNodes[0];i.className="",i._dockCell=null,i._resize=null,i._h=null,i.ondblclick=null,i.childNodes[4].onclick=null;for(var s=0;s<i.childNodes.length;s++)i.childNodes[s].onselectstart=null;for(;i.childNodes.length>0;)i.removeChild(i.childNodes[0]);i.parentNode.removeChild(i),i=null,e._dhxContDestruct(),e._dhxContDestruct=null,e.removeChild(e.childNodes[0]),e.parentNode.removeChild(e),e=null}for(t in this.polyObj)this.polyObj[t]=null;for(var n=0;n<this.items.length;n++)this.items[n]=null;this.items=this.polyObj=null;for(var o=this.tpl.childNodes[0];o.childNodes.length>0;){for(;o.childNodes[0].childNodes.length>0;){for(s=o.childNodes[0].childNodes[0],s._top=null,s._bottom=null,s._left=null,s._right=null,s._dblClick=null,s._isSep=null,s._dir=null,s._lastClick=null,s.ondblclick=null,s.onmousedown=null,s.onmouseup=null,s.onselectstart=null;s.childNodes.length>0;)s.removeChild(s.childNodes[0]);s.parentNode.removeChild(s),s=null}o.removeChild(o.childNodes[0])}o.parentNode.removeChild(o),o=null,this.tpl.parentNode.removeChild(this.tpl),this.tpl=null;for(t in this.sepHor)this.sepHor[t]=null;for(t in this.sepVer)this.sepVer[t]=null;if(this.sepVer=this.sepHor=null,this._ha){for(this.detachEvent(this._haEv),this._haEv=null;this._ha.childNodes.length>0;)this._ha.removeChild(this._ha.childNodes[0]);this._ha.parentNode.removeChild(this._ha),this._ha=null}if(this._fa){for(this.detachEvent(this._faEv),this._faEv=null;this._fa.childNodes.length>0;)this._fa.removeChild(this._fa.childNodes[0]);this._fa.parentNode.removeChild(this._fa),this._fa=null}this.attachFooter=this.attachHeader=null,this.detachAllEvents(),this._CPanelHeight=this._CPanelBtnsWidth=this.tplSizes=this.tplData=this.skinParams=this.skin=this.imagePath=this.h=this.w=this._xmlLoader=this._totalRows=this._totalCols=this._rowsRatio=this._colsRatio=this._resY=this._resX=this._resObj=this._resFunc=this._minHeight=this._minWidth=this._mTop=this._mBottom=this._layoutView=this._effects=this._dimension=this._availAutoSize=this._autoVer=this._autoHor=null,this.sizer.parentNode&&this.sizer.parentNode.removeChild(this.sizer),this._resYMaxHeightBottom=this._resYMaxHeightTop=this._resXMaxWidthRight=this._resXMaxWidthLeft=this._resYStart=this._resXStart=this._minHTAlter=this._minHBAlter=this._minWRAlter=this._minWLAlter=this._collapsedW=this._collapsedH=this._dblClickTM=this._doOnDoubleClick=this._autodetectSkin=this.dhx_SeverCatcherPath=this.i18n=this._isIPad=this._effect=this._autosize=this._cells=this.hideStatusBar=this.hideToolbar=this.hideMenu=this.showStatusBar=this.showToolbar=this.showMenu=this.detachStatusBar=this.detachToolbar=this.detachMenu=this.attachStatusBar=this.attachToolbar=this.attachMenu=this.setCollapsedText=this.updateNestedObjectsArray=this.unload=this.unDockWindow=this.showPanel=this.setText=this.setSkin=this.setSizes=this.setImagePath=this.setEffect=this.setAutoSize=this.progressOn=this.progressOff=this.listViews=this.listAutoSizes=this.isPanelVisible=this.hidePanel=this.getTextTooltip=this.getText=this.getIndexById=this.getIdByIndex=this.getEffect=this.forEachItem=this.eventCatcher=this.dockWindow=this.detachEvent=this.detachAllEvents=this.checkEvent=this.cells=this.callEvent=this.attachToolbar=this.attachStatusBar=this.attachMenu=this.attachEvent=this._xmlParser=this._showCovers=this._setWidth=this._setW=this._setHeight=this._setH=this._resAreaData=this._resizeVer=this._resizeStop=this._resizeHor=this._progressControlGlobal=this._progressControl=this._isResizable=this._isCollapsed=this._initWindows=this._init=this._hideCovers=this._getNearestParents=this._fixSplitters=this._fixSize=this._fixPositionInWin=this._fixIcons=this._findDockCellsVer=this._findDockCellsHor=this._expandEffect=this._expand=this._doExpand=this._doCollapse=this._defineWindowMinDimension=this._collectResAreaData=this._collapseEffect=this._collapse=this._checkAlterMinSize=this._changeCPanelText=this._buildSurface=this._attachSizer=this._alterSizes=this.sizer=null,this.obj&&(this.obj.parentNode.removeChild(this.obj),this.obj=null),this.base&&this.base!=document.body&&(this.base.parentNode.removeChild(this.base),this.base=null),this.cont&&(this.cont.obj._dhxContDestruct(),this.cont=null),this.dhxWins&&(this.dhxWins.unload(),this.dhxWinsIdPrefix=this.dhxWins=null),this._doOnResizeStart&&("function"==typeof window.addEventListener?window.removeEventListener("resize",this._doOnResizeStart,!1):window.detachEvent("onresize",this._doOnResizeStart),this._tmTime=this._doOnResizeEnd=this._doOnResizeStart=null),that=null},dhtmlXLayoutObject.prototype.tplData={"1C":'<layout><autosize hor="a" ver="a" rows="1" cols="1"/><table data="a"/><row><cell obj="a" wh="1,1" resize="ver" neighbors="a"/></row></layout>',"2E":'<layout><autosize hor="a;b" ver="b" rows="2" cols="1"/><table data="a;b"/><row><cell obj="a" wh="1,2" resize="ver" neighbors="a;b"/></row><row sep="true"><cell sep="hor" top="a" bottom="b" dblclick="a"/></row><row><cell obj="b" wh="1,2" resize="ver" neighbors="a;b"/></row></layout>',"2U":'<layout><autosize hor="b" ver="a;b" rows="1" cols="2"/><table data="a,b"/><row><cell obj="a" wh="2,1" resize="hor" neighbors="a;b"/><cell sep="ver" left="a" right="b" dblclick="a"/><cell obj="b" wh="2,1" resize="hor" neighbors="a;b"/></row></layout>',"3E":'<layout><autosize hor="a;b;c" ver="c" rows="3" cols="1"/><table data="a;b;c"/><row><cell obj="a" wh="1,3" resize="ver" neighbors="a;b;c"/></row><row sep="yes"><cell sep="hor" top="a" bottom="b;c" dblclick="a"/></row><row><cell obj="b" wh="1,3" resize="ver" neighbors="a;b;c"/></row><row sep="yes"><cell sep="hor" top="a;b" bottom="c" dblclick="b"/></row><row><cell obj="c" wh="1,3" resize="ver" neighbors="a;b;c"/></row></layout>',"3W":'<layout><autosize hor="c" ver="a;b;c" rows="1" cols="3"/><table data="a,b,c"/><row><cell obj="a" wh="3,1" resize="hor" neighbors="a;b;c"/><cell sep="ver" left="a" right="b;c" dblclick="a"/><cell obj="b" wh="3,1" resize="hor" neighbors="a;b;c"/><cell sep="ver" left="a;b" right="c" dblclick="b"/><cell obj="c" wh="3,1" resize="hor" neighbors="a;b;c"/></row></layout>',"3J":'<layout><autosize hor="b" ver="b;c" rows="2" cols="2"/><table data="a,b;c,b"/><row><cell obj="a" wh="2,2" resize="ver" neighbors="a;c"/><cell sep="ver" left="a,c" right="b" dblclick="b" rowspan="3"/><cell obj="b" wh="2,1" resize="hor" neighbors="a,c;b" rowspan="3"/></row><row sep="yes"><cell sep="hor" top="a" bottom="c" dblclick="a"/></row><row><cell obj="c" wh="2,2" resize="ver" neighbors="a;c"/></row></layout>',"3T":'<layout><autosize hor="a;c" ver="b;c" rows="2" cols="2"/><table data="a,a;b,c"/><row><cell obj="a" wh="1,2" resize="ver" neighbors="a;b,c" colspan="3"/></row><row sep="true"><cell sep="hor" top="a" bottom="b,c" dblclick="a" colspan="3"/></row><row><cell obj="b" wh="2,2" resize="hor" neighbors="b;c"/><cell sep="ver" left="b" right="c" dblclick="b"/><cell obj="c" wh="2,2" resize="hor" neighbors="b;c"/></row></layout>',"3L":'<layout><autosize hor="b;c" ver="a;c" rows="2" cols="2"/><table data="a,b;a,c"/><row><cell obj="a" wh="2,1" resize="hor" neighbors="a;b,c" rowspan="3"/><cell sep="ver" left="a" right="b,c" dblclick="a" rowspan="3"/><cell obj="b" wh="2,2" resize="ver" neighbors="b;c"/></row><row sep="true"><cell sep="hor" top="b" dblclick="b" bottom="c"/></row><row><cell obj="c" wh="b,2" resize="ver" neighbors="b;c"/></row></layout>',"3U":'<layout><autosize hor="b;c" ver="c" rows="2" cols="2"/><table data="a,b;c,c"/><row><cell obj="a" wh="2,2" resize="hor" neighbors="a;b"/><cell sep="ver" left="a" right="b" dblclick="a"/><cell obj="b" wh="2,2" resize="hor" neighbors="a;b"/></row><row sep="true"><cell sep="hor" top="a,b" bottom="c" dblclick="c" colspan="3"/></row><row><cell obj="c" wh="1,2" resize="ver" neighbors="a,b;c" colspan="3"/></row></layout>',"4H":'<layout><autosize hor="d" ver="a;c;d" rows="2" cols="3"/><table data="a,b,d;a,c,d"/><row><cell obj="a" wh="3,1" resize="hor" neighbors="a;b,c;d" rowspan="3"/><cell sep="ver" left="a" right="b,c;d" dblclick="a" rowspan="3"/><cell obj="b" wh="3,2" resize="ver" neighbors="b;c"/><cell sep="ver" left="a;b,c" right="d" dblclick="d" rowspan="3"/><cell obj="d" wh="3,1" resize="hor" neighbors="a;b,c;d" rowspan="3"/></row><row sep="true"><cell sep="hor" top="b" dblclick="b" bottom="c"/></row><row><cell obj="c" wh="3,2" resize="ver" neighbors="b;c"/></row></layout>',"4I":'<layout><autosize hor="a;c;d" ver="d" rows="3" cols="2"/><table data="a,a;b,c;d,d"/><row><cell obj="a" wh="1,3" resize="ver" neighbors="a;b,c;d" colspan="3"/></row><row sep="true"><cell sep="hor" top="a" bottom="b,c;d" dblclick="a" colspan="3"/></row><row><cell obj="b" wh="2,3" resize="hor" neighbors="b;c"/><cell sep="ver" left="b" dblclick="b" right="c"/><cell obj="c" wh="2,3" resize="hor" neighbors="b;c"/></row><row sep="true"><cell sep="hor" top="a;b,c" bottom="d" dblclick="d" colspan="3"/></row><row><cell obj="d" wh="1,3" resize="ver" neighbors="a;b,c;d" colspan="3"/></row></layout>',"4T":'<layout><autosize hor="a;d" ver="b;c;d" rows="2" cols="3"/><table data="a,a,a;b,c,d"/><row><cell obj="a" wh="1,2" resize="ver" neighbors="a;b,c,d" colspan="5"/></row><row sep="true"><cell sep="hor" top="a" bottom="b,c,d" dblclick="a" colspan="5"/></row><row><cell obj="b" wh="3,2" resize="hor" neighbors="b;c;d"/><cell sep="ver" left="b" right="c;d" dblclick="b"/><cell obj="c" wh="3,2" resize="hor" neighbors="b;c;d"/><cell sep="ver" left="b;c" right="d" dblclick="c"/><cell obj="d" wh="3,2" resize="hor" neighbors="b;c;d"/></row></layout>',"4U":'<layout><autosize hor="c;d" ver="d" rows="2" cols="3"/><table data="a,b,c;d,d,d"/><row><cell obj="a" wh="3,2" resize="hor" neighbors="a;b;c"/><cell sep="ver" left="a" right="b;c" dblclick="a"/><cell obj="b" wh="3,2" resize="hor" neighbors="a;b;c"/><cell sep="ver" left="a;b" right="c" dblclick="b"/><cell obj="c" wh="3,2" resize="hor" neighbors="a;b;c"/></row><row sep="true"><cell sep="hor" top="a,b,c" bottom="d" dblclick="d" colspan="5"/></row><row><cell obj="d" wh="1,2" resize="ver" neighbors="a,b,c;d" colspan="5"/></row></layout>',"5H":'<layout><autosize hor="b;c;d" ver="a;c;e" rows="3" cols="3"/><table data="a,b,e;a,c,e;a,d,e"/><row><cell obj="a" wh="3,1" resize="hor" neighbors="a;b,c,d" rowspan="5"/><cell sep="ver" left="a" right="b,c,d;e" dblclick="a" rowspan="5"/><cell obj="b" wh="3,3" resize="ver" neighbors="b;c;d"/><cell sep="ver" left="a;b,c,d" right="e" dblclick="e" rowspan="5"/><cell obj="e" wh="3,1" resize="hor" neighbors="b,c,d;e" rowspan="5"/></row><row sep="true"><cell sep="hor" top="b" dblclick="b" bottom="c;d"/></row><row><cell obj="c" wh="3,3" resize="ver" neighbors="b;c;d"/></row><row sep="true"><cell sep="hor" top="b;c" dblclick="c" bottom="d"/></row><row><cell obj="d" wh="3,3" resize="ver" neighbors="b;c;d"/></row></layout>',"5I":'<layout><autosize hor="a;d;e" ver="e" rows="3" cols="3"/><table data="a,a,a;b,c,d;e,e,e"/><row><cell obj="a" wh="1,3" resize="ver" neighbors="a;b,c,d;e" colspan="5"/></row><row sep="match"><cell sep="hor" top="a" bottom="b,c,d;e" dblclick="a" colspan="5"/></row><row><cell obj="b" wh="3,3" resize="hor" neighbors="b;c;d"/><cell sep="ver" left="b" right="c;d" dblclick="b"/><cell obj="c" wh="3,3" resize="hor" neighbors="b;c;d"/><cell sep="ver" left="b;c" right="d" dblclick="c"/><cell obj="d" wh="3,3" resize="hor" neighbors="b;c;d"/></row><row sep="match"><cell sep="hor" top="a;b,c,d" bottom="e" dblclick="e" colspan="5"/></row><row><cell obj="e" wh="1,3" resize="ver" neighbors="a;b,c,d;e" colspan="5"/></row></layout>',"6I":'<layout><autosize hor="a;e;f" ver="f" rows="3" cols="4"/><table data="a,a,a,a;b,c,d,e;f,f,f,f"/><row><cell obj="a" wh="1,3" resize="ver" neighbors="a;b,c,d,e;f" colspan="7"/></row><row sep="true"><cell sep="hor" top="a" bottom="b,c,d,e;f" dblclick="a" colspan="7"/></row><row><cell obj="b" wh="4,3" resize="hor" neighbors="b;c;d;e"/><cell sep="ver" left="b" right="c;d;e" dblclick="b"/><cell obj="c" wh="4,3" resize="hor" neighbors="b;c;d;e"/><cell sep="ver" left="b;c" right="d;e" dblclick="c"/><cell obj="d" wh="4,3" resize="hor" neighbors="b;c;d;e"/><cell sep="ver" left="b;c;d" right="e" dblclick="d"/><cell obj="e" wh="4,3" resize="hor" neighbors="b;c;d;e"/></row><row sep="true"><cell sep="hor" top="a;b,c,d,e" bottom="f" dblclick="f" colspan="7"/></row><row><cell obj="f" wh="1,3" resize="ver" neighbors="a;b,c,d,e;f" colspan="7"/></row></layout>'},dhtmlXLayoutObject.prototype._availAutoSize={"1C_hor":["a"],"1C_ver":["a"],"2E_hor":["a;b"],"2E_ver":["a","b"],"2U_hor":["a","b"],"2U_ver":["a;b"],"3E_hor":["a;b;c"],"3E_ver":["a","b","c"],"3W_hor":["a","b","c"],"3W_ver":["a;b;c"],"3J_hor":["a;c","b"],"3J_ver":["a;b","c;b"],"3T_hor":["a;b","a;c"],"3T_ver":["a","b;c"],"3L_hor":["a","b;c"],"3L_ver":["a;b","a;c"],"3U_hor":["a;c","b;c"],"3U_ver":["a;b","c"],"4H_hor":["a","b;c","d"],"4H_ver":["a;b;d","a;c;d"],"4I_hor":["a;b;d","a;c;d"],"4I_ver":["a","b;c","d"],"4T_hor":["a;b","a;c","a;d"],"4T_ver":["a","b;c;d"],"4U_hor":["a;d","b;d","c;d"],"4U_ver":["a;b;c","d"],"5H_hor":["a","b;c;d","e"],"5H_ver":["a;b;e","a;c;e","a;d;e"],"5I_hor":["a;b;e","a;c;e","a;d;e"],"5I_ver":["a","b;c;d","e"],"6I_hor":["a;b;f","a;c;f","a;d;f","a;e;f"],"6I_ver":["a","b;c;d;e","f"]},dhtmlXLayoutObject.prototype.setCollapsedText=function(t,e){if(this.polyObj[t]){var i=this.polyObj[t].childNodes[0].childNodes[0];if(i.childNodes[i.childNodes.length-1]._ct===!0)var s=i.childNodes[i.childNodes.length-1];else s=document.createElement("DIV"),s._ct=!0,s.className="dhtmlxInfoBarLabel_collapsed_"+this.polyObj[t]._resize,i.appendChild(s);s.innerHTML=e,this._fixCollapsedText(),i=null}},dhtmlXLayoutObject.prototype._fixCollapsedText=function(){for(var t in this.polyObj)if("hor"==this.polyObj[t]._resize){var e=this.polyObj[t].childNodes[0].childNodes[0];e.childNodes[e.childNodes.length-1]._ct===!0&&(e.childNodes[e.childNodes.length-1].style.width=Math.max(0,e.offsetHeight-e.childNodes[4].offsetTop-e.childNodes[4].offsetHeight-12)+"px",_isFF||_isOpera||_isChrome||navigator.userAgent.indexOf("MSIE 10.0")>=0)&&(e.childNodes[e.childNodes.length-1].style.bottom="-12px")}},dhtmlXLayoutObject.prototype.i18n={dhxcontalert:"dhtmlxcontainer.js is missed on the page",collapse:"Collapse",expand:"Expand",dock:"Dock",undock:"UnDock"},function(){dhtmlx.extend_api("dhtmlXLayoutObject",{_init:function(t){return[t.parent,t.pattern,t.skin]},image_path:"setImagePath",effect:"_effect",cells:"_cells",autosize:"_autosize"},{_cells:function(t){for(var e=0;e<t.length;e++){var i=t[e],s=this.cells(i.id);s&&(i.height&&s.setHeight(i.height),i.width&&s.setWidth(i.width),i.text&&s.setText(i.text),i.collapse&&s.collapse(),i.fix_size&&s.fixSize(i.fix_size[0],i.fix_size[1]),i.header===!1&&s.hideHeader())}},_autosize:function(t){this.setAutoSize(t[0],t[1])},_effect:function(t){t.collapse&&this.setEffect("collapse",t.collapse),t.resize&&this.setEffect("resize",t.resize),t.highlight&&this.setEffect("highlight",t.highlight)}})}(),dhtmlXLayoutObject.prototype.attachHeader=function(t){if(!this._ha&&this.cont.obj==document.body){"object"!=typeof t&&(t=document.getElementById(t));var e=2,i=-4,s=2;"dhx_web"==this.skin?(e=s=9,i=-18):"dhx_terrace"==this.skin&&(e=s=14,i=-28),null!=this._fa&&(i=this.cont.obj._offsetHeight),this.cont.obj._offsetTop=t.offsetHeight+2*e,this.cont.obj._offsetHeight=-t.offsetHeight+i-e,this.setSizes(),this._ha=document.createElement("DIV"),this._ha.style.position="absolute",this._ha.style.top=s+"px",this._ha.style.left=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.left,this._ha.style.width=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.width,this._ha.style.height=t.offsetHeight+"px",document.body.appendChild(this._ha),this._ha.appendChild(t),this._haEv=this.attachEvent("onResizeFinish",function(){this._ha.style.width=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.width})}},dhtmlXLayoutObject.prototype.detachHeader=function(){if(this._ha&&this.cont.obj==document.body){document.body.appendChild(this._ha.firstChild),this.detachEvent(this._haEv),this._ha.parentNode.removeChild(this._ha),this._ha=this._haEv=null;var t=2,e=-4;"dhx_web"==this.skin?(t=9,e=-18):"dhx_terrace"==this.skin&&(t=14,e=-28),null!=this._fa&&(e=this.cont.obj._offsetHeight+this.cont.obj._offsetTop-t),this.cont.obj._offsetTop=t,this.cont.obj._offsetHeight=e,this.setSizes()}},dhtmlXLayoutObject.prototype.attachFooter=function(t){if(!this._fa&&this.cont.obj==document.body){"object"!=typeof t&&(t=document.getElementById(t));var e=2,i=-4,s=2;"dhx_web"==this.skin?(e=s=9,i=-18):"dhx_terrace"==this.skin&&(e=s=14,i=-28),null!=this._ha&&(e=this.cont.obj._offsetTop),this.cont.obj._offsetHeight=-t.offsetHeight+i-e,this.setSizes(),this._fa=document.createElement("DIV"),this._fa.style.position="absolute",this._fa.style.bottom=s+"px",this._fa.style.left=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.left,this._fa.style.width=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.width,this._fa.style.height=t.offsetHeight+"px",document.body.appendChild(this._fa),this._fa.appendChild(t),this._faEv=this.attachEvent("onResizeFinish",function(){this._fa.style.width=this.cont.obj.vs[this.cont.obj.av].dhxcont.style.width})}},dhtmlXLayoutObject.prototype.detachFooter=function(){if(this._fa&&this.cont.obj==document.body){document.body.appendChild(this._fa.firstChild),this.detachEvent(this._faEv),this._fa.parentNode.removeChild(this._fa),this._fa=this._faEv=null;var t=2,e=-4;"dhx_web"==this.skin?(t=9,e=-18):"dhx_terrace"==this.skin&&(t=14,e=-28),null!=this._ha&&(e=-this.cont.obj._offsetTop-t,t=this.cont.obj._offsetTop),this.cont.obj._offsetTop=t,this.cont.obj._offsetHeight=e,this.setSizes()}},dhtmlXLayoutObject.prototype._fixToolbars=function(){if(_isIE)for(var t in this.polyObj)null!=this.polyObj[t].vs[this.polyObj[t].av].toolbar&&this.polyObj[t].vs[this.polyObj[t].av].toolbar._fixSpacer()},dhtmlXLayoutObject.prototype._hideBorders=function(){if("dhx_terrace"==this.skin){this._cpm_old=this.skinParams[this.skin].cell_pading_max,this.skinParams[this.skin].cell_pading_max=[1,0,0,0];for(var t in this.polyObj)this.polyObj[t]._setPadding(this.skinParams[this.skin].cell_pading_max,"dhxcont_layout_"+this.skin),this.polyObj[t].adjustContent(this.polyObj[t].childNodes[0],this.skinParams[this.skin].cpanel_height)}},dhtmlXMenuObject.prototype.init=function(){1!=this._isInited&&(this.dLoad?(this.callEvent("onXLS",[]),this._xmlLoader.loadXML(this.dLoadUrl+this.dLoadSign+"action=loadMenu&etc="+(new Date).getTime())):(this._initTopLevelMenu(),this._isInited=!0))},dhtmlXMenuObject.prototype._countVisiblePolygonItems=function(t){var e,i=0;
for(e in this.itemPull){var s=this.itemPull[e].parent,n=this.itemPull[e].type;null!=this.idPull[e]&&s==t&&("item"==n||"radio"==n||"checkbox"==n)&&"none"!=this.idPull[e].style.display&&i++}return i},dhtmlXMenuObject.prototype._redefineComplexState=function(t){if(this.idPrefix+this.topId!=t&&null!=this.idPull["polygon_"+t]&&null!=this.idPull[t]){var e=this._countVisiblePolygonItems(t);e>0&&!this.itemPull[t].complex&&this._updateItemComplexState(t,!0,!1),0==e&&this.itemPull[t].complex&&this._updateItemComplexState(t,!1,!1)}},dhtmlXMenuObject.prototype._updateItemComplexState=function(t,e){if(this.context||"TopLevel"!=this._getItemLevelType(t.replace(this.idPrefix,""))){if(null!=this.idPull[t]&&null!=this.itemPull[t]&&(this.itemPull[t].complex=e,t!=this.idPrefix+this.topId)){var i=null,s=this.idPull[t].childNodes[this._rtl?0:2];if(s.childNodes[0]&&0===String(s.childNodes[0].className).search("complex_arrow")&&(i=s.childNodes[0]),this.itemPull[t].complex){if(null==i){for(i=document.createElement("DIV"),i.className="complex_arrow",i.id="arrow_"+t;s.childNodes.length>0;)s.removeChild(s.childNodes[0]);s.appendChild(i)}this.dLoad&&"get"==this.itemPull[t].loaded&&this.loaderIcon?"complex_arrow_loading"!=i.className&&(i.className="complex_arrow_loading"):i.className="complex_arrow"}else!this.itemPull[t].complex&&null!=i&&(s.removeChild(i),null!=this.itemPull[t].hotkey_backup&&this.setHotKey&&this.setHotKey(t.replace(this.idPrefix,""),this.itemPull[t].hotkey_backup))}}else this.itemPull[t].complex=e},dhtmlXMenuObject.prototype._getItemLevelType=function(t){return this.itemPull[this.idPrefix+t].parent==this.idPrefix+this.topId?"TopLevel":"SubLevelArea"},dhtmlXMenuObject.prototype._redistribTopLevelSelection=function(t){var e=this._getSubItemToDeselectByPolygon("parent");this._removeSubItemFromSelected(-1,-1);for(var i=0;i<e.length;i++)e[i]!=t&&this._hidePolygon(e[i]),null!=this.idPull[e[i]]&&e[i]!=t&&(this.idPull[e[i]].className=this.idPull[e[i]].className.replace(/Selected/g,"Normal"));"enabled"==this.itemPull[this.idPrefix+t].state&&(this.idPull[this.idPrefix+t].className="dhtmlxMenu_"+this.skin+"_TopLevel_Item_Selected",this._addSubItemToSelected(this.idPrefix+t,"parent"),this.menuSelected="win"==this.menuMode?-1!=this.menuSelected?t:this.menuSelected:t,this.itemPull[this.idPrefix+t].complex&&-1!=this.menuSelected&&this._showPolygon(this.idPrefix+t,this.dirTopLevel))},dhtmlXMenuObject.prototype._initTopLevelMenu=function(){if(this.dirTopLevel="bottom",this.dirSubLevel=this._rtl?"left":"right",this.context)this.idPull[this.idPrefix+this.topId]=[0,0],this._addSubMenuPolygon(this.idPrefix+this.topId,this.idPrefix+this.topId);else for(var t=this._getMenuNodes(this.idPrefix+this.topId),e=0;e<t.length;e++)"item"==this.itemPull[t[e]].type&&this._renderToplevelItem(t[e],null),"separator"==this.itemPull[t[e]].type&&this._renderSeparator(t[e],null)},dhtmlXMenuObject.prototype._renderToplevelItem=function(t,e){var i=this,s=document.createElement("DIV");if(s.id=t,s.className="enabled"==this.itemPull[t].state&&null!=this.itemPull[t].cssNormal?this.itemPull[t].cssNormal:"dhtmlxMenu_"+this.skin+"_TopLevel_Item_"+("enabled"==this.itemPull[t].state?"Normal":"Disabled"),""!=this.itemPull[t].title){var n=document.createElement("DIV");n.className="top_level_text",n.innerHTML=this.itemPull[t].title,s.appendChild(n)}if(this.itemPull[t].tip.length>0&&(s.title=this.itemPull[t].tip),""!=this.itemPull[t].imgen||""!=this.itemPull[t].imgdis){var o=this.itemPull[t]["enabled"==this.itemPull[t].state?"imgen":"imgdis"];if(o){var l=document.createElement("IMG");l.border="0",l.id="image_"+t,l.src=this.imagePath+o,l.className="dhtmlxMenu_TopLevel_Item_Icon",s.childNodes.length>0&&!this._rtl?s.insertBefore(l,s.childNodes[0]):s.appendChild(l)}}s.onselectstart=function(t){return t=t||event,t.returnValue=!1},s.oncontextmenu=function(t){return t=t||event,t.returnValue=!1},this.cont||(this.cont=document.createElement("DIV"),this.cont.dir="ltr",this.cont.className="right"==this._align?"align_right":"align_left",this.base.appendChild(this.cont)),null!=e&&(e++,0>e&&(e=0),e>this.cont.childNodes.length-1&&(e=null)),null!=e?this.cont.insertBefore(s,this.cont.childNodes[e]):this.cont.appendChild(s),this.idPull[s.id]=s,this.itemPull[t].complex&&!this.dLoad&&this._addSubMenuPolygon(this.itemPull[t].id,this.itemPull[t].id),s.onmouseover=function(){"web"==i.menuMode&&window.clearTimeout(i.menuTimeoutHandler);var t=i._getSubItemToDeselectByPolygon("parent");i._removeSubItemFromSelected(-1,-1);for(var e=0;e<t.length;e++)t[e]!=this.id&&i._hidePolygon(t[e]),null!=i.idPull[t[e]]&&t[e]!=this.id&&(null!=i.itemPull[t[e]].cssNormal?i.idPull[t[e]].className=i.itemPull[t[e]].cssNormal:("sub_item_selected"==i.idPull[t[e]].className&&(i.idPull[t[e]].className="sub_item"),i.idPull[t[e]].className=i.idPull[t[e]].className.replace(/Selected/g,"Normal")));if("enabled"==i.itemPull[this.id].state){if(this.className="dhtmlxMenu_"+i.skin+"_TopLevel_Item_Selected",i._addSubItemToSelected(this.id,"parent"),i.menuSelected="win"==i.menuMode?-1!=i.menuSelected?this.id:i.menuSelected:this.id,i.dLoad&&"no"==i.itemPull[this.id].loaded){i.menuModeTopLevelTimeout&&"web"==i.menuMode&&!i.context&&(this._mouseOver=!0,this._dynLoadTM=(new Date).getTime());var s=new dtmlXMLLoaderObject(i._xmlParser,window);i.itemPull[this.id].loaded="get",i.callEvent("onXLS",[]),s.loadXML(i.dLoadUrl+i.dLoadSign+"action=loadMenu&parentId="+this.id.replace(i.idPrefix,"")+"&etc="+(new Date).getTime())}if((!i.dLoad||i.dLoad&&(!i.itemPull[this.id].loaded||"yes"==i.itemPull[this.id].loaded))&&i.itemPull[this.id].complex&&-1!=i.menuSelected)if(i.menuModeTopLevelTimeout&&"web"==i.menuMode&&!i.context){this._mouseOver=!0;var n=this.id;this._menuOpenTM=window.setTimeout(function(){i._showPolygon(n,i.dirTopLevel)},i.menuModeTopLevelTimeoutTime)}else i._showPolygon(this.id,i.dirTopLevel)}i._doOnTouchMenu(this.id.replace(i.idPrefix,""))},s.onmouseout=function(){i.itemPull[this.id].complex&&-1!=i.menuSelected||"enabled"!=i.itemPull[this.id].state||(s.className=null!=i.itemPull[this.id].cssNormal?i.itemPull[this.id].cssNormal:"dhtmlxMenu_"+i.skin+"_TopLevel_Item_Normal"),"web"==i.menuMode&&(window.clearTimeout(i.menuTimeoutHandler),i.menuTimeoutHandler=window.setTimeout(function(){i._clearAndHide()},i.menuTimeoutMsec,"JavaScript")),i.menuModeTopLevelTimeout&&"web"==i.menuMode&&!i.context&&(this._mouseOver=!1,window.clearTimeout(this._menuOpenTM))},s.onclick=function(t){if("web"==i.menuMode&&window.clearTimeout(i.menuTimeoutHandler),"web"==i.menuMode||"disabled"!=i.itemPull[this.id].state){if(t=t||event,t.cancelBubble=!0,t.returnValue=!1,"win"==i.menuMode&&i.itemPull[this.id].complex){if(i.menuSelected==this.id){i.menuSelected=-1;var e=!1}else i.menuSelected=this.id,e=!0;e?i._showPolygon(this.id,i.dirTopLevel):i._hidePolygon(this.id)}var s=i.itemPull[this.id].complex?"c":"-",n="enabled"!=i.itemPull[this.id].state?"d":"-",o={ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey};return i._doOnClick(this.id.replace(i.idPrefix,""),s+n+"t",o),!1}},"dhx_terrace"==this.skin&&this._improveTerraceSkin()},dhtmlXMenuObject.prototype.setImagePath=function(){},dhtmlXMenuObject.prototype.setIconsPath=function(t){this.imagePath=t},dhtmlXMenuObject.prototype.setIconPath=dhtmlXMenuObject.prototype.setIconsPath,dhtmlXMenuObject.prototype._updateItemImage=function(t){var t=this.idPrefix+t,e=this.itemPull[t].parent==this.idPrefix+this.topId&&!this.context,i=null;if(e)for(var s=0;s<this.idPull[t].childNodes.length;s++)try{"dhtmlxMenu_TopLevel_Item_Icon"==this.idPull[t].childNodes[s].className&&(i=this.idPull[t].childNodes[s])}catch(n){}else try{i=this.idPull[t].childNodes[this._rtl?2:0].childNodes[0]}catch(o){}var l="radio"==this.itemPull[t].type?this.itemPull[t]["enabled"==this.itemPull[t].state?"imgen":"imgdis"]:this.itemPull[t]["enabled"==this.itemPull[t].state?"imgen":"imgdis"];if(l.length>0)if(null!=i)i.src=this.imagePath+l;else if(e)i=document.createElement("IMG"),i.className="dhtmlxMenu_TopLevel_Item_Icon",i.src=this.imagePath+l,i.border="0",i.id="image_"+t,!this._rtl&&this.idPull[t].childNodes.length>0?this.idPull[t].insertBefore(i,this.idPull[t].childNodes[0]):this.idPull[t].appendChild(i);else{i=document.createElement("IMG"),i.className="sub_icon",i.src=this.imagePath+l,i.border="0",i.id="image_"+t;for(var h=this.idPull[t].childNodes[this._rtl?2:0];h.childNodes.length>0;)h.removeChild(h.childNodes[0]);h.appendChild(i)}else null!=i&&i.parentNode.removeChild(i)},dhtmlXMenuObject.prototype.removeItem=function(t,e,i){e||(t=this.idPrefix+t);var s=null;if(t!=this.idPrefix+this.topId){if(null==this.itemPull[t])return;this.idPull["polygon_"+t]&&this.idPull["polygon_"+t]._tmShow&&window.clearTimeout(this.idPull["polygon_"+t]._tmShow);var n=this.itemPull[t].type;if("separator"==n){var o=this.idPull["separator_"+t];this.itemPull[t].parent==this.idPrefix+this.topId?(o.onclick=null,o.onselectstart=null,o.id=null):(o.childNodes[0].childNodes[0].onclick=null,o.childNodes[0].childNodes[0].onselectstart=null,o.childNodes[0].childNodes[0].id=null,o.childNodes[0].removeChild(o.childNodes[0].childNodes[0]),o.removeChild(o.childNodes[0])),o.parentNode.removeChild(o),this.idPull["separator_"+t]=null,this.itemPull[t]=null,delete this.idPull["separator_"+t]}else{for(s=this.itemPull[t].parent,o=this.idPull[t],o.onclick=null,o.oncontextmenu=null,o.onmouseover=null,o.onmouseout=null,o.onselectstart=null,o.id=null;o.childNodes.length>0;)o.removeChild(o.childNodes[0]);o.parentNode.removeChild(o),this.idPull[t]=null,this.itemPull[t]=null,delete this.idPull[t]}delete this.itemPull[t],n=o=null}for(var l in this.itemPull)this.itemPull[l].parent==t&&this.removeItem(l,!0,!0);var h=Array(t);null!=s&&!i&&null!=this.idPull["polygon_"+s]&&0==this.idPull["polygon_"+s].tbd.childNodes.length&&(h.push(s),this._updateItemComplexState(s,!1,!1));for(var r=0;r<h.length;r++)if(this.idPull["polygon_"+h[r]]){var a=this.idPull["polygon_"+h[r]];if(a.onclick=null,a.oncontextmenu=null,a.tbl.removeChild(a.tbd),a.tbd=null,a.removeChild(a.tbl),a.tbl=null,a.id=null,a.parentNode.removeChild(a),a=null,this._isIE6){var d="polygon_"+h[r]+"_ie6cover";null!=this.idPull[d]&&(document.body.removeChild(this.idPull[d]),delete this.idPull[d])}null!=this.idPull["arrowup_"+t]&&this._removeArrow&&this._removeArrow("arrowup_"+t),null!=this.idPull["arrowdown_"+t]&&this._removeArrow&&this._removeArrow("arrowdown_"+t),this.idPull["polygon_"+h[r]]=null,delete this.idPull["polygon_"+h[r]]}h=null,"dhx_terrace"==this.skin&&1==arguments.length&&this._improveTerraceSkin()},dhtmlXMenuObject.prototype._getAllParents=function(t){var e,i=[];for(e in this.itemPull)if(this.itemPull[e].parent==t&&(i[i.length]=this.itemPull[e].id,this.itemPull[e].complex))for(var s=this._getAllParents(this.itemPull[e].id),n=0;n<s.length;n++)i[i.length]=s[n];return i},dhtmlXMenuObject.prototype.renderAsContextMenu=function(){this.context=!0,1==this.base._autoSkinUpdate&&(this.base.className=this.base.className.replace("dhtmlxMenu_"+this.skin+"_Middle",""),this.base._autoSkinUpdate=!1),null!=this.addBaseIdAsContextZone&&this.addContextZone(this.addBaseIdAsContextZone)},dhtmlXMenuObject.prototype.addContextZone=function(t){if(t==document.body)var t="document.body."+this.idPrefix,e=document.body;else e=document.getElementById(t);var i,s=!1;for(i in this.contextZones)s=s||i==t||this.contextZones[i]==e;if(1==s)return!1;this.contextZones[t]=e;var n=this;_isOpera?(this.operaContext=function(t){n._doOnContextMenuOpera(t,n)},e.addEventListener("mouseup",this.operaContext,!1)):(null==e.oncontextmenu||e._oldContextMenuHandler||(e._oldContextMenuHandler=e.oncontextmenu),e.oncontextmenu=function(t){for(var e in dhtmlxMenuObjectLiveInstances)e!=n._UID&&dhtmlxMenuObjectLiveInstances[e].context&&dhtmlxMenuObjectLiveInstances[e]._hideContextMenu();return t=t||event,t.cancelBubble=!0,t.returnValue=!1,n._doOnContextBeforeCall(t,this),!1})},dhtmlXMenuObject.prototype._doOnContextMenuOpera=function(t,e){for(var i in dhtmlxMenuObjectLiveInstances)i!=e._UID&&dhtmlxMenuObjectLiveInstances[i].context&&dhtmlxMenuObjectLiveInstances[i]._hideContextMenu();return t.cancelBubble=!0,t.returnValue=!1,0==t.button&&1==t.ctrlKey&&e._doOnContextBeforeCall(t,this),!1},dhtmlXMenuObject.prototype.removeContextZone=function(t){if(!this.isContextZone(t))return!1;t==document.body&&(t="document.body."+this.idPrefix);var e=this.contextZones[t];_isOpera?e.removeEventListener("mouseup",this.operaContext,!1):(e.oncontextmenu=null!=e._oldContextMenuHandler?e._oldContextMenuHandler:null,e._oldContextMenuHandler=null);try{this.contextZones[t]=null,delete this.contextZones[t]}catch(i){}return!0},dhtmlXMenuObject.prototype.isContextZone=function(t){if(t==document.body&&null!=this.contextZones["document.body."+this.idPrefix])return!0;var e=!1;return null!=this.contextZones[t]&&this.contextZones[t]==document.getElementById(t)&&(e=!0),e},dhtmlXMenuObject.prototype._isContextMenuVisible=function(){return null==this.idPull["polygon_"+this.idPrefix+this.topId]?!1:""==this.idPull["polygon_"+this.idPrefix+this.topId].style.display},dhtmlXMenuObject.prototype._showContextMenu=function(t,e,i){return this._clearAndHide(),null==this.idPull["polygon_"+this.idPrefix+this.topId]?!1:(window.clearTimeout(this.menuTimeoutHandler),this.idPull[this.idPrefix+this.topId]=[t,e],this._showPolygon(this.idPrefix+this.topId,"bottom"),void this.callEvent("onContextMenu",[i]))},dhtmlXMenuObject.prototype._hideContextMenu=function(){return null==this.idPull["polygon_"+this.idPrefix+this.topId]?!1:(this._clearAndHide(),this._hidePolygon(this.idPrefix+this.topId),void(this.zInd=this.zIndInit))},dhtmlXMenuObject.prototype._doOnContextBeforeCall=function(t,e){this.contextMenuZoneId=e.id,this._clearAndHide(),this._hideContextMenu();var i=t.srcElement||t.target,s=_isIE||_isOpera||_KHTMLrv?t.offsetX:t.layerX,n=_isIE||_isOpera||_KHTMLrv?t.offsetY:t.layerY,o=getAbsoluteLeft(i)+s,l=getAbsoluteTop(i)+n;this.checkEvent("onBeforeContextMenu")?this.callEvent("onBeforeContextMenu",[e.id,t])&&this.contextAutoShow&&(this._showContextMenu(o,l,e.id),this.callEvent("onAfterContextMenu",[e.id,t])):this.contextAutoShow&&(this._showContextMenu(o,l,e.id),this.callEvent("onAfterContextMenu",[e.id]))},dhtmlXMenuObject.prototype.showContextMenu=function(t,e){this._showContextMenu(t,e,!1)},dhtmlXMenuObject.prototype.hideContextMenu=function(){this._hideContextMenu()},dhtmlXMenuObject.prototype._autoDetectVisibleArea=function(){this._isVisibleArea||(this.menuX1=document.body.scrollLeft,this.menuX2=this.menuX1+(window.innerWidth||document.body.clientWidth),this.menuY1=Math.max((_isIE?document.documentElement:document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop),this.menuY2=this.menuY1+(_isIE?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0):window.innerHeight))},dhtmlXMenuObject.prototype.getItemPosition=function(t){var t=this.idPrefix+t,e=-1;if(null==this.itemPull[t])return e;for(var i=this.itemPull[t].parent,s=null!=this.idPull["polygon_"+i]?this.idPull["polygon_"+i].tbd:this.cont,n=0;n<s.childNodes.length;n++)(s.childNodes[n]==this.idPull["separator_"+t]||s.childNodes[n]==this.idPull[t])&&(e=n);return e},dhtmlXMenuObject.prototype.setItemPosition=function(t,e){if(t=this.idPrefix+t,null!=this.idPull[t]){var i=this.itemPull[t].parent==this.idPrefix+this.topId,s=this.idPull[t],n=this.getItemPosition(t.replace(this.idPrefix,"")),o=this.itemPull[t].parent,l=null!=this.idPull["polygon_"+o]?this.idPull["polygon_"+o].tbd:this.cont;l.removeChild(l.childNodes[n]),0>e&&(e=0),i&&1>e&&(e=1),e<l.childNodes.length?l.insertBefore(s,l.childNodes[e]):l.appendChild(s)}},dhtmlXMenuObject.prototype.getParentId=function(t){return t=this.idPrefix+t,null==this.itemPull[t]?null:(null!=this.itemPull[t].parent?this.itemPull[t].parent:this.topId).replace(this.idPrefix,"")},dhtmlXMenuObject.prototype.addNewSibling=function(t,e,i,s,n,o){var l=this.idPrefix+(null!=e?e:this._genStr(24)),h=this.idPrefix+(null!=t?this.getParentId(t):this.topId);this._addItemIntoGlobalStrorage(l,h,i,"item",s,n,o),h!=this.idPrefix+this.topId||this.context?this._renderSublevelItem(l,this.getItemPosition(t)):this._renderToplevelItem(l,this.getItemPosition(t))},dhtmlXMenuObject.prototype.addNewChild=function(t,e,i,s,n,o,l){if(null==t){if(!this.context)return this.addNewSibling(t,i,s,n,o,l),void(null!=e&&this.setItemPosition(i,e));t=this.topId}i=this.idPrefix+(null!=i?i:this._genStr(24)),this.setHotKey&&this.setHotKey(t,""),t=this.idPrefix+t,this._addItemIntoGlobalStrorage(i,t,s,"item",n,o,l),null==this.idPull["polygon_"+t]&&this._renderSublevelPolygon(t,t),this._renderSublevelItem(i,e-1),this._redefineComplexState(t)},dhtmlXMenuObject.prototype._addItemIntoGlobalStrorage=function(t,e,i,s,n,o,l){var h={id:t,title:i,imgen:null!=o?o:"",imgdis:null!=l?l:"",type:s,state:1==n?"disabled":"enabled",parent:e,complex:!1,hotkey:"",tip:""};this.itemPull[h.id]=h},dhtmlXMenuObject.prototype._addSubMenuPolygon=function(t,e){for(var i=(this._renderSublevelPolygon(t,e),this._getMenuNodes(e)),s=0;s<i.length;s++)"separator"==this.itemPull[i[s]].type?this._renderSeparator(i[s],null):this._renderSublevelItem(i[s],null);for(var s=0;s<i.length;s++)this.itemPull[i[s]].complex&&this._addSubMenuPolygon(t,this.itemPull[i[s]].id)},dhtmlXMenuObject.prototype._renderSublevelPolygon=function(t,e){var i=document.createElement("DIV");i.className="dhtmlxMenu_"+this.skin+"_SubLevelArea_Polygon "+(this._rtl?"dir_right":""),i.dir="ltr",i.oncontextmenu=function(t){return t=t||event,t.returnValue=!1,t.cancelBubble=!0,!1},i.id="polygon_"+e,i.onclick=function(t){t=t||event,t.cancelBubble=!0},i.style.display="none",document.body.insertBefore(i,document.body.firstChild);var s=document.createElement("TABLE");s.className="dhtmlxMebu_SubLevelArea_Tbl",s.cellSpacing=0,s.cellPadding=0,s.border=0;var n=document.createElement("TBODY");return s.appendChild(n),i.appendChild(s),i.tbl=s,i.tbd=n,this.idPull[i.id]=i,null!=this.sxDacProc&&(this.idPull["sxDac_"+e]=new this.sxDacProc(i,i.className),_isIE?(this.idPull["sxDac_"+e]._setSpeed(this.dacSpeedIE),this.idPull["sxDac_"+e]._setCustomCycle(this.dacCyclesIE)):(this.idPull["sxDac_"+e]._setSpeed(this.dacSpeed),this.idPull["sxDac_"+e]._setCustomCycle(this.dacCycles))),i},dhtmlXMenuObject.prototype._renderSublevelItem=function(t,e){var i=this,s=document.createElement("TR");s.className="enabled"==this.itemPull[t].state?"sub_item":"sub_item_dis";var n=document.createElement("TD");n.className="sub_item_icon";var o=this.itemPull[t]["enabled"==this.itemPull[t].state?"imgen":"imgdis"];if(""!=o){var l=this.itemPull[t].type;if("checkbox"==l||"radio"==l){var h=document.createElement("DIV");h.id="image_"+this.itemPull[t].id,h.className="sub_icon "+o,n.appendChild(h)}"checkbox"!=l&&"radio"!=l&&(h=document.createElement("IMG"),h.id="image_"+this.itemPull[t].id,h.className="sub_icon",h.src=this.imagePath+o,n.appendChild(h))}var r=document.createElement("TD");if(r.className="sub_item_text",""!=this.itemPull[t].title){var a=document.createElement("DIV");a.className="sub_item_text",a.innerHTML=this.itemPull[t].title,r.appendChild(a)}else r.innerHTML="&nbsp;";var d=document.createElement("TD");if(d.className="sub_item_hk",this.itemPull[t].complex){var c=document.createElement("DIV");c.className="complex_arrow",c.id="arrow_"+this.itemPull[t].id,d.appendChild(c)}else if(this.itemPull[t].hotkey.length>0&&!this.itemPull[t].complex){var u=document.createElement("DIV");u.className="sub_item_hk",u.innerHTML=this.itemPull[t].hotkey,d.appendChild(u)}else d.innerHTML="&nbsp;";s.appendChild(this._rtl?d:n),s.appendChild(r),s.appendChild(this._rtl?n:d),s.id=this.itemPull[t].id,s.parent=this.itemPull[t].parent,this.itemPull[t].tip.length>0&&(s.title=this.itemPull[t].tip),this._hideTMData||(this._hideTMData={}),s.onselectstart=function(t){return t=t||event,t.returnValue=!1},s.onmouseover=function(){i._hideTMData[this.id]&&window.clearTimeout(i._hideTMData[this.id]),"web"==i.menuMode&&window.clearTimeout(i.menuTimeoutHandler),this._visible||i._redistribSubLevelSelection(this.id,this.parent),this._visible=!0},s.onmouseout=function(){"web"==i.menuMode&&(i.menuTimeoutHandler&&window.clearTimeout(i.menuTimeoutHandler),i.menuTimeoutHandler=window.setTimeout(function(){i&&i._clearAndHide&&i._clearAndHide()},i.menuTimeoutMsec,"JavaScript"));var t=this;i._hideTMData[this.id]&&window.clearTimeout(i._hideTMData[this.id]),i._hideTMData[this.id]=window.setTimeout(function(){t._visible=!1},50)},s.onclick=function(t){if(i.checkEvent("onClick")||!i.itemPull[this.id].complex){t=t||event,t.cancelBubble=!0,t.returnValue=!1,tc=i.itemPull[this.id].complex?"c":"-",td="enabled"==i.itemPull[this.id].state?"-":"d";var e={ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey};switch(i.itemPull[this.id].type){case"checkbox":i._checkboxOnClickHandler(this.id.replace(i.idPrefix,""),tc+td+"n",e);break;case"radio":i._radioOnClickHandler(this.id.replace(i.idPrefix,""),tc+td+"n",e);break;case"item":i._doOnClick(this.id.replace(i.idPrefix,""),tc+td+"n",e)}return!1}};var _=this.idPull["polygon_"+this.itemPull[t].parent];null!=e&&(e++,0>e&&(e=0),e>_.tbd.childNodes.length-1&&(e=null)),null!=e&&null!=_.tbd.childNodes[e]?_.tbd.insertBefore(s,_.tbd.childNodes[e]):_.tbd.appendChild(s),this.idPull[s.id]=s},dhtmlXMenuObject.prototype._renderSeparator=function(t,e){var i=this.context?"SubLevelArea":this.itemPull[t].parent==this.idPrefix+this.topId?"TopLevel":"SubLevelArea";if("TopLevel"!=i||!this.context){var s=this;if("TopLevel"!=i){var n=document.createElement("TR");n.className="sub_sep";var o=document.createElement("TD");o.colSpan="3",n.appendChild(o)}var l=document.createElement("DIV");if(l.id="separator_"+t,l.className="TopLevel"==i?"top_sep":"sub_sep",l.onselectstart=function(t){t=t||event,t.returnValue=!1},l.onclick=function(t){t=t||event,t.cancelBubble=!0;var e={ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey};s._doOnClick(this.id.replace("separator_"+s.idPrefix,""),"--s",e)},"TopLevel"==i){if(null!=e)e++,0>e&&(e=0),null!=this.cont.childNodes[e]?this.cont.insertBefore(l,this.cont.childNodes[e]):this.cont.appendChild(l);else{var h=this.cont.childNodes[this.cont.childNodes.length-1];-1==String(h).search("TopLevel_Text")?this.cont.appendChild(l):this.cont.insertBefore(l,h)}this.idPull[l.id]=l}else{var r=this.idPull["polygon_"+this.itemPull[t].parent];null!=e&&(e++,0>e&&(e=0),e>r.tbd.childNodes.length-1&&(e=null)),null!=e&&null!=r.tbd.childNodes[e]?r.tbd.insertBefore(n,r.tbd.childNodes[e]):r.tbd.appendChild(n),o.appendChild(l),this.idPull[l.id]=n}}},dhtmlXMenuObject.prototype.addNewSeparator=function(t,e){var e=this.idPrefix+(null!=e?e:this._genStr(24)),i=this.idPrefix+this.getParentId(t);this._addItemIntoGlobalStrorage(e,i,"","separator",!1,"",""),this._renderSeparator(e,this.getItemPosition(t))},dhtmlXMenuObject.prototype.hide=function(){this._clearAndHide()},dhtmlXMenuObject.prototype.clearAll=function(){this.removeItem(this.idPrefix+this.topId,!0),this._isInited=!1,this.idPrefix=this._genStr(12),this.itemPull={}},dhtmlXMenuObject.prototype.unload=function(){if("function"==typeof window.addEventListener?(window.removeEventListener("click",this._bodyClick,!1),window.removeEventListener("contextmenu",this._bodyContext,!1)):(document.body.detachEvent("onclick",this._bodyClick),document.body.detachEvent("oncontextmenu",this._bodyContext)),this._bodyContext=this._bodyClick=null,this.removeItem(this.idPrefix+this.topId,!0),this.idPull=this.itemPull=null,this.context)for(var t in this.contextZones)this.removeContextZone(t);null!=this.cont&&(this.cont.className="",this.cont.parentNode.removeChild(this.cont),this.cont=null),null!=this.base&&(this.base.className="",this.context||(this.base.oncontextmenu=this.base._oldContextMenuHandler||null),this.base=this.base.onselectstart=null),this.setSkin=null,this.detachAllEvents(),this._xmlLoader&&(this._xmlLoader.destructor(),this._xmlLoader=null),this.extendedModule=this.serialize=this.addCheckbox=this.getCheckboxState=this.setCheckboxState=this.addRadioButton=this.setRadioChecked=this.getRadioChecked=this.userData=this.setOverflowHeight=this.contextZones=this.getCircuit=this.clearHref=this.setHref=this.setAlign=this.setRTL=this.setTopText=this.setItemSelected=this.getHotKey=this.setHotKey=this.getTooltip=this.setTooltip=this.setVisibleArea=this.getContextMenuHideAllMode=this.setContextMenuHideAllMode=this.setAutoHideMode=this.setAutoShowMode=this.clearItemImage=this.setItemImage=this.getItemImage=this.enableDynamicLoading=this.setWebModeTimeout=this.setOpenMode=this.getUserData=this.setUserData=this.isItemHidden=this.showItem=this.hideItem=this.loadFromHTML=this.setItemText=this.getItemText=this.isItemEnabled=this.setItemDisabled=this.setItemEnabled=this._removeArrow=this._checkboxOnClickHandler=this._updateCheckboxImage=this._readLevel=this._setCheckboxState=this._getCheckboxState=this._radioOnClickHandler=this._setRadioState=this._getRadioImgObj=this._countPolygonItems=this._doScrollDown=this._doScrollUp=this._isArrowExists=this._removeDownArrow=this._removeUpArrow=this._addDownArrow=this._addUpArrow=this._checkArrowsState=this._clearAllSelectedSubItemsInPolygon=this._updateLoaderIcon=this._changeItemVisible=this._changeItemState=this.hideContextMenu=this.showContextMenu=this.hide=this.detachAllEvents=this.radio=this.items=this.unload=this.dhx_Event=this.detachEvent=this.eventCatcher=this.checkEvent=this.callEvent=this.attachEvent=this.addNewSeparator=this.addNewChild=this.addNewSibling=this.getParentId=this.setItemPosition=this.getItemPosition=this.clearAll=this._hideContextMenu=this._renderSeparator=this._renderSublevelItem=this._renderSublevelPolygon=this._addSubMenuPolygon=this._addItemIntoGlobalStrorage=this._autoDetectVisibleArea=this._doOnContextBeforeCall=this._showContextMenu=this._isContextMenuVisible=this.isContextZone=this.removeContextZone=this.addContextZone=this.renderAsContextMenu=this._getAllParents=this.removeItem=this._updateItemImage=this.setIconPath=this.setIconsPath=this.setImagePath=this._renderToplevelItem=this._initTopLevelMenu=this._redistribTopLevelSelection=this._getItemLevelType=this._updateItemComplexState=this._redefineComplexState=this._countVisiblePolygonItems=this._hideSubLevelItem=this._showSubLevelItem=this._xmlParser=this._buildMenu=this.loadXMLString=this.loadXML=this.init=this.forEachItem=this.getItemType=this._doOnLoad=this._clearAndHide=this._genStr=this._getMenuNodes=this._searchMenuNode=this._doOnTouchMenu=this._doOnClick=this._redistribSubLevelSelection=this._showPolygon=this._hidePolygon=this._getSubItemToDeselectByPolygon=this._removeSubItemFromSelected=this._addSubItemToSelected=this._openedPolygons=this._selectedSubItems=this._enableDacSupport=this.zIndStep=this.zIndInit=this.zInd=this.dacSpeedIE=this.dacSpeed=this.dacCyclesIE=this.dacCycles=this.topId=this.skin=this.userDataTagName=this.itemTipTagName=this.itemTextTagName=this.itemTagName=this.itemHrefTagName=this.itemHotKeyTagName=this.isDhtmlxMenuObject=this.menuTouched=this.menuTimeoutMsec=this.menuTimeoutHandler=this.menuModeTopLevelTimeoutTime=this.menuModeTopLevelTimeout=this.menuMode=this.imagePath=this.idPrefix=this.menuLastClicked=this.menuSelected=this.limit=this.dirTopLevel=this.dirSubLevel=this.fixedPosition=this.loaderIcon=this.dLoadUrl=this.dLoadSign=this.dLoad=this.contextMenuZoneId=this.contextHideAllMode=this.contextAutoShow=this.contextAutoHide=this.context=this.addBaseIdAsContextZone=this._topLevelRightMargin=this._topLevelBottomMargin=this._topLevelOffsetLeft=this._topLevelBottomMargin=this._scrollUpTMTime=this._scrollUpTMStep=this._scrollDownTMTime=this._scrollDownTMStep=this._rtl=this._isInited=this._isIE6=this._arrowFFFix=this._align=null,dhtmlxMenuObjectLiveInstances[this._UID]=null;try{delete dhtmlxMenuObjectLiveInstances[this._UID]}catch(e){}this._UID=null};var dhtmlxMenuObjectLiveInstances={};dhtmlXMenuObject.prototype.i18n={dhxmenuextalert:"dhtmlxmenu_ext.js required"},function(){dhtmlx.extend_api("dhtmlXMenuObject",{_init:function(t){return[t.parent,t.skin]},align:"setAlign",top_text:"setTopText",context:"renderAsContextMenu",icon_path:"setIconsPath",open_mode:"setOpenMode",rtl:"setRTL",skin:"setSkin",dynamic:"enableDynamicLoading",xml:"loadXML",items:"items",overflow:"setOverflowHeight"},{items:function(t,e){for(var i=1e5,s=null,n=0;n<t.length;n++){var o=t[n];"separator"==o.type?(this.addNewSeparator(s,i,o.id),s=o.id):(this.addNewChild(e,i,o.id,o.text,o.disabled,o.img,o.img_disabled),s=o.id,o.items&&this.items(o.items,o.id))}}})}(),dhtmlXMenuObject.prototype._improveTerraceSkin=function(){for(var t in this.itemPull)if(this.itemPull[t].parent==this.idPrefix+this.topId&&null!=this.idPull[t]){var e=!1,i=!1;this.idPull[t].parentNode.firstChild==this.idPull[t]&&(e=!0),this.idPull[t].parentNode.lastChild==this.idPull[t]&&(i=!0);for(var s in this.itemPull)"separator"==this.itemPull[s].type&&this.itemPull[s].parent==this.idPrefix+this.topId&&(this.idPull[t].nextSibling==this.idPull["separator_"+s]&&(i=!0),this.idPull[t].previousSibling==this.idPull["separator_"+s]&&(e=!0));this.idPull[t].style.borderLeft=e?"1px solid #cecece":"0px solid white",this.idPull[t].style.borderTopLeftRadius=this.idPull[t].style.borderBottomLeftRadius=e?"5px":"0px",this.idPull[t].style.borderTopRightRadius=this.idPull[t].style.borderBottomRightRadius=i?"5px":"0px",this.idPull[t]._bl=e,this.idPull[t]._br=i}},dhtmlXMenuObject.prototype._improveTerraceButton=function(t,e){e?(this.idPull[t].style.borderBottomLeftRadius=this.idPull[t]._bl?"5px":"0px",this.idPull[t].style.borderBottomRightRadius=this.idPull[t]._br?"5px":"0px"):(this.idPull[t].style.borderBottomLeftRadius="0px",this.idPull[t].style.borderBottomRightRadius="0px")},dhtmlXMenuObject.prototype.extendedModule="DHXMENUEXT",dhtmlXMenuObject.prototype.setItemEnabled=function(t){this._changeItemState(t,"enabled",this._getItemLevelType(t))},dhtmlXMenuObject.prototype.setItemDisabled=function(t){this._changeItemState(t,"disabled",this._getItemLevelType(t))},dhtmlXMenuObject.prototype.isItemEnabled=function(t){return null!=this.itemPull[this.idPrefix+t]?"enabled"==this.itemPull[this.idPrefix+t].state:!1},dhtmlXMenuObject.prototype._changeItemState=function(t,e,i){var s=!1,n=this.idPrefix+t;return null!=this.itemPull[n]&&null!=this.idPull[n]&&this.itemPull[n].state!=e&&(this.itemPull[n].state=e,this.idPull[n].className=this.itemPull[n].parent!=this.idPrefix+this.topId||this.context?"sub_item"+("enabled"==this.itemPull[n].state?"":"_dis"):"dhtmlxMenu_"+this.skin+"_TopLevel_Item_"+("enabled"==this.itemPull[n].state?"Normal":"Disabled"),this._updateItemComplexState(this.idPrefix+t,this.itemPull[this.idPrefix+t].complex,!1),this._updateItemImage(t,i),this.idPrefix+this.menuLastClicked==n&&"TopLevel"!=i&&this._redistribSubLevelSelection(n,this.itemPull[n].parent)),s},dhtmlXMenuObject.prototype.getItemText=function(t){return null!=this.itemPull[this.idPrefix+t]?this.itemPull[this.idPrefix+t].title:""},dhtmlXMenuObject.prototype.setItemText=function(t,e){if(t=this.idPrefix+t,null!=this.itemPull[t]&&null!=this.idPull[t])if(this._clearAndHide(),this.itemPull[t].title=e,this.itemPull[t].parent!=this.idPrefix+this.topId||this.context){for(i=null,s=0;s<this.idPull[t].childNodes[1].childNodes.length;s++)"sub_item_text"==String(this.idPull[t].childNodes[1].childNodes[s].className||"")&&(i=this.idPull[t].childNodes[1].childNodes[s]);""==String(this.itemPull[t].title).length||null==this.itemPull[t].title?i&&(i.parentNode.removeChild(i),i=null,this.idPull[t].childNodes[1].innerHTML="&nbsp;"):(i||(i=document.createElement("DIV"),i.className="sub_item_text",this.idPull[t].childNodes[1].innerHTML="",this.idPull[t].childNodes[1].appendChild(i)),i.innerHTML=this.itemPull[t].title)}else{for(var i=null,s=0;s<this.idPull[t].childNodes.length;s++)try{"top_level_text"==this.idPull[t].childNodes[s].className&&(i=this.idPull[t].childNodes[s])}catch(n){}""==String(this.itemPull[t].title).length||null==this.itemPull[t].title?null!=i&&i.parentNode.removeChild(i):(i||(i=document.createElement("DIV"),i.className="top_level_text",this._rtl&&this.idPull[t].childNodes.length>0?this.idPull[t].insertBefore(i,this.idPull[t].childNodes[0]):this.idPull[t].appendChild(i)),i.innerHTML=this.itemPull[t].title)
}},dhtmlXMenuObject.prototype.loadFromHTML=function(t,e,i){this.itemTagName="DIV","string"==typeof t&&(t=document.getElementById(t)),this._buildMenu(t,null),this.init(),e&&t.parentNode.removeChild(t),null!=i&&i()},dhtmlXMenuObject.prototype.hideItem=function(t){this._changeItemVisible(t,!1)},dhtmlXMenuObject.prototype.showItem=function(t){this._changeItemVisible(t,!0)},dhtmlXMenuObject.prototype.isItemHidden=function(t){var e=null;return null!=this.idPull[this.idPrefix+t]&&(e="none"==this.idPull[this.idPrefix+t].style.display),e},dhtmlXMenuObject.prototype._changeItemVisible=function(t,e){var i=this.idPrefix+t;null!=this.itemPull[i]&&("separator"==this.itemPull[i].type&&(i="separator_"+i),null!=this.idPull[i])&&(this.idPull[i].style.display=e?"":"none",this._redefineComplexState(this.itemPull[this.idPrefix+t].parent))},dhtmlXMenuObject.prototype.setUserData=function(t,e,i){this.userData[this.idPrefix+t+"_"+e]=i},dhtmlXMenuObject.prototype.getUserData=function(t,e){return null!=this.userData[this.idPrefix+t+"_"+e]?this.userData[this.idPrefix+t+"_"+e]:null},dhtmlXMenuObject.prototype.setOpenMode=function(t){("win"==t||"web"==t)&&(this.menuMode=t)},dhtmlXMenuObject.prototype.setWebModeTimeout=function(t){this.menuTimeoutMsec=isNaN(t)?400:t},dhtmlXMenuObject.prototype.enableDynamicLoading=function(t,e){this.dLoad=!0,this.dLoadUrl=t,this.dLoadSign=-1==String(this.dLoadUrl).search(/\?/)?"?":"&",this.loaderIcon=e,this.init()},dhtmlXMenuObject.prototype._updateLoaderIcon=function(t,e){if(null!=this.idPull[t]&&!(String(this.idPull[t].className).search("TopLevel_Item")>=0)){var i=this._rtl?0:2;if(this.idPull[t].childNodes[i]&&this.idPull[t].childNodes[i].childNodes[0]){var s=this.idPull[t].childNodes[i].childNodes[0];0===String(s.className).search("complex_arrow")&&(s.className="complex_arrow"+(e?"_loading":""))}}},dhtmlXMenuObject.prototype.getItemImage=function(t){var e=[null,null],t=this.idPrefix+t;return"item"==this.itemPull[t].type&&(e[0]=this.itemPull[t].imgen,e[1]=this.itemPull[t].imgdis),e},dhtmlXMenuObject.prototype.setItemImage=function(t,e,i){"item"==this.itemPull[this.idPrefix+t].type&&(this.itemPull[this.idPrefix+t].imgen=e,this.itemPull[this.idPrefix+t].imgdis=i,this._updateItemImage(t,this._getItemLevelType(t)))},dhtmlXMenuObject.prototype.clearItemImage=function(t){this.setItemImage(t,"","")},dhtmlXMenuObject.prototype.setAutoShowMode=function(t){this.contextAutoShow=1==t?!0:!1},dhtmlXMenuObject.prototype.setAutoHideMode=function(t){this.contextAutoHide=1==t?!0:!1},dhtmlXMenuObject.prototype.setContextMenuHideAllMode=function(t){this.contextHideAllMode=1==t?!0:!1},dhtmlXMenuObject.prototype.getContextMenuHideAllMode=function(){return this.contextHideAllMode},dhtmlXMenuObject.prototype.setVisibleArea=function(t,e,i,s){this._isVisibleArea=!0,this.menuX1=t,this.menuX2=e,this.menuY1=i,this.menuY2=s},dhtmlXMenuObject.prototype.setTooltip=function(t,e){t=this.idPrefix+t,null!=this.itemPull[t]&&null!=this.idPull[t]&&(this.idPull[t].title=e.length>0?e:null,this.itemPull[t].tip=e)},dhtmlXMenuObject.prototype.getTooltip=function(t){return null==this.itemPull[this.idPrefix+t]?null:this.itemPull[this.idPrefix+t].tip},dhtmlXMenuObject.prototype.setHotKey=function(t,e){if(t=this.idPrefix+t,null!=this.itemPull[t]&&null!=this.idPull[t]&&(this.itemPull[t].parent!=this.idPrefix+this.topId||this.context)&&!this.itemPull[t].complex){var i=this.itemPull[t].type;if("item"==i||"checkbox"==i||"radio"==i){var s=null;try{"sub_item_hk"==this.idPull[t].childNodes[this._rtl?0:2].childNodes[0].className&&(s=this.idPull[t].childNodes[this._rtl?0:2].childNodes[0])}catch(n){}if(0==e.length)this.itemPull[t].hotkey_backup=this.itemPull[t].hotkey,this.itemPull[t].hotkey="",null!=s&&s.parentNode.removeChild(s);else{if(this.itemPull[t].hotkey=e,this.itemPull[t].hotkey_backup=null,null==s){s=document.createElement("DIV"),s.className="sub_item_hk";for(var o=this.idPull[t].childNodes[this._rtl?0:2];o.childNodes.length>0;)o.removeChild(o.childNodes[0]);o.appendChild(s)}s.innerHTML=e}}}},dhtmlXMenuObject.prototype.getHotKey=function(t){return null==this.itemPull[this.idPrefix+t]?null:this.itemPull[this.idPrefix+t].hotkey},dhtmlXMenuObject.prototype.setItemSelected=function(t){return null==this.itemPull[this.idPrefix+t]?null:void 0},dhtmlXMenuObject.prototype.setTopText=function(t){this.context||(null==this._topText&&(this._topText=document.createElement("DIV"),this._topText.className="dhtmlxMenu_TopLevel_Text_"+(this._rtl?"left":"left"==this._align?"right":"left"),this.base.appendChild(this._topText)),this._topText.innerHTML=t)},dhtmlXMenuObject.prototype.setAlign=function(t){this._align==t||"left"!=t&&"right"!=t||(this._align=t,this.cont&&(this.cont.className="right"==this._align?"align_right":"align_left"),null!=this._topText&&(this._topText.className="dhtmlxMenu_TopLevel_Text_"+("left"==this._align?"right":"left")))},dhtmlXMenuObject.prototype.setHref=function(t,e,i){null!=this.itemPull[this.idPrefix+t]&&(this.itemPull[this.idPrefix+t].href_link=e,null!=i&&(this.itemPull[this.idPrefix+t].href_target=i))},dhtmlXMenuObject.prototype.clearHref=function(t){null!=this.itemPull[this.idPrefix+t]&&(delete this.itemPull[this.idPrefix+t].href_link,delete this.itemPull[this.idPrefix+t].href_target)},dhtmlXMenuObject.prototype.getCircuit=function(t){for(var e=Array(t);this.getParentId(t)!=this.topId;)t=this.getParentId(t),e[e.length]=t;return e.reverse()},dhtmlXMenuObject.prototype._clearAllSelectedSubItemsInPolygon=function(t){for(var e=this._getSubItemToDeselectByPolygon(t),i=0;i<this._openedPolygons.length;i++)this._openedPolygons[i]!=t&&this._hidePolygon(this._openedPolygons[i]);for(i=0;i<e.length;i++)null!=this.idPull[e[i]]&&"enabled"==this.itemPull[e[i]].state&&(this.idPull[e[i]].className="dhtmlxMenu_"+this.skin+"_SubLevelArea_Item_Normal")},dhtmlXMenuObject.prototype._checkArrowsState=function(t){var e=this.idPull["polygon_"+t],i=this.idPull["arrowup_"+t],s=this.idPull["arrowdown_"+t];i.className=0==e.scrollTop?"dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowUp_Disabled":"dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowUp"+(i.over?"_Over":""),s.className=e.scrollTop+e.offsetHeight<e.scrollHeight?"dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowDown"+(s.over?"_Over":""):"dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowDown_Disabled"},dhtmlXMenuObject.prototype._addUpArrow=function(t){var e=this,i=document.createElement("DIV");i.pId=this.idPrefix+t,i.id="arrowup_"+this.idPrefix+t,i.className="dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowUp",i.innerHTML="<div class='dhtmlxMenu_"+this.skin+"_SubLevelArea_Arrow'><div class='dhtmlxMenu_SubLevelArea_Arrow_Icon'></div></div>",i.style.display="none",i.over=!1,i.onselectstart=function(t){return t=t||event,t.returnValue=!1},i.oncontextmenu=function(t){return t=t||event,t.returnValue=!1},i.onmouseover=function(){"web"==e.menuMode&&window.clearTimeout(e.menuTimeoutHandler),e._clearAllSelectedSubItemsInPolygon(this.pId),this.className!="dhtmlxMenu_"+e.skin+"_SubLevelArea_ArrowUp_Disabled"&&(this.className="dhtmlxMenu_"+e.skin+"_SubLevelArea_ArrowUp_Over",this.over=!0,e._canScrollUp=!0,e._doScrollUp(this.pId,!0))},i.onmouseout=function(){"web"==e.menuMode&&(window.clearTimeout(e.menuTimeoutHandler),e.menuTimeoutHandler=window.setTimeout(function(){e._clearAndHide()},e.menuTimeoutMsec,"JavaScript")),this.over=!1,e._canScrollUp=!1,this.className!="dhtmlxMenu_"+e.skin+"_SubLevelArea_ArrowUp_Disabled"&&(this.className="dhtmlxMenu_"+e.skin+"_SubLevelArea_ArrowUp",window.clearTimeout(e._scrollUpTM))},i.onclick=function(t){return t=t||event,t.returnValue=!1,t.cancelBubble=!0,!1},document.body.insertBefore(i,document.body.firstChild),this.idPull[i.id]=i},dhtmlXMenuObject.prototype._addDownArrow=function(t){var e=this,i=document.createElement("DIV");i.pId=this.idPrefix+t,i.id="arrowdown_"+this.idPrefix+t,i.className="dhtmlxMenu_"+this.skin+"_SubLevelArea_ArrowDown",i.innerHTML="<div class='dhtmlxMenu_"+this.skin+"_SubLevelArea_Arrow'><div class='dhtmlxMenu_SubLevelArea_Arrow_Icon'></div></div>",i.style.display="none",i.over=!1,i.onselectstart=function(t){return t=t||event,t.returnValue=!1},i.oncontextmenu=function(t){return t=t||event,t.returnValue=!1},i.onmouseover=function(){"web"==e.menuMode&&window.clearTimeout(e.menuTimeoutHandler),e._clearAllSelectedSubItemsInPolygon(this.pId),this.className!="dhtmlxMenu_"+e.skin+"_SubLevelArea_ArrowDown_Disabled"&&(this.className="dhtmlxMenu_"+e.skin+"_SubLevelArea_ArrowDown_Over",this.over=!0,e._canScrollDown=!0,e._doScrollDown(this.pId,!0))},i.onmouseout=function(){"web"==e.menuMode&&(window.clearTimeout(e.menuTimeoutHandler),e.menuTimeoutHandler=window.setTimeout(function(){e._clearAndHide()},e.menuTimeoutMsec,"JavaScript")),this.over=!1,e._canScrollDown=!1,this.className!="dhtmlxMenu_"+e.skin+"_SubLevelArea_ArrowDown_Disabled"&&(this.className="dhtmlxMenu_"+e.skin+"_SubLevelArea_ArrowDown",window.clearTimeout(e._scrollDownTM))},i.onclick=function(t){return t=t||event,t.returnValue=!1,t.cancelBubble=!0,!1},document.body.insertBefore(i,document.body.firstChild),this.idPull[i.id]=i},dhtmlXMenuObject.prototype._removeUpArrow=function(t){var e="arrowup_"+this.idPrefix+t;this._removeArrow(e)},dhtmlXMenuObject.prototype._removeDownArrow=function(t){var e="arrowdown_"+this.idPrefix+t;this._removeArrow(e)},dhtmlXMenuObject.prototype._removeArrow=function(t){var e=this.idPull[t];e.onselectstart=null,e.oncontextmenu=null,e.onmouseover=null,e.onmouseout=null,e.onclick=null,e.parentNode&&e.parentNode.removeChild(e),e=null,this.idPull[t]=null;try{delete this.idPull[t]}catch(i){}},dhtmlXMenuObject.prototype._isArrowExists=function(t){return null!=this.idPull["arrowup_"+t]&&null!=this.idPull["arrowdown_"+t]?!0:!1},dhtmlXMenuObject.prototype._doScrollUp=function(t,e){var i=this.idPull["polygon_"+t];if(this._canScrollUp&&i.scrollTop>0){var s=!1,n=i.scrollTop-this._scrollUpTMStep;if(0>n&&(s=!0,n=0),i.scrollTop=n,!s){var o=this;this._scrollUpTM=window.setTimeout(function(){o._doScrollUp(t,!1)},this._scrollUpTMTime)}}else this._canScrollUp=!1,this._checkArrowsState(t);e&&this._checkArrowsState(t)},dhtmlXMenuObject.prototype._doScrollDown=function(t,e){var i=this.idPull["polygon_"+t];if(this._canScrollDown&&i.scrollTop+i.offsetHeight<=i.scrollHeight){var s=!1,n=i.scrollTop+this._scrollDownTMStep;if(n+i.offsetHeight>i.scollHeight&&(s=!0,n=i.scollHeight-i.offsetHeight),i.scrollTop=n,!s){var o=this;this._scrollDownTM=window.setTimeout(function(){o._doScrollDown(t,!1)},this._scrollDownTMTime)}}else this._checkArrowsState(t);e&&this._checkArrowsState(t)},dhtmlXMenuObject.prototype._countPolygonItems=function(t){var e,i=0;for(e in this.itemPull){var s=this.itemPull[e].parent,n=this.itemPull[e].type;s==this.idPrefix+t&&("item"==n||"radio"==n||"checkbox"==n)&&i++}return i},dhtmlXMenuObject.prototype.setOverflowHeight=function(t){if("auto"===t)this.limit=0,this.autoOverflow=!0;else if(!(0==this.limit&&0>=t))if(this._clearAndHide(),this.limit>=0&&t>0)this.limit=t;else if(this.limit>0&&0>=t){for(var e in this.itemPull)if(this._isArrowExists(e)){var i=String(e).replace(this.idPrefix,"");this._removeUpArrow(i),this._removeDownArrow(i),this.idPull["polygon_"+e].style.height=""}this.limit=0}},dhtmlXMenuObject.prototype._getRadioImgObj=function(t){try{var e=this.idPull[this.idPrefix+t].childNodes[this._rtl?2:0].childNodes[0]}catch(i){e=null}return e},dhtmlXMenuObject.prototype._setRadioState=function(t,e){var i=this._getRadioImgObj(t);if(null!=i){var s=this.itemPull[this.idPrefix+t];s.checked=e,s.imgen="rdbt_"+(s.checked?"1":"0"),s.imgdis=s.imgen,i.className="sub_icon "+s.imgen}},dhtmlXMenuObject.prototype._radioOnClickHandler=function(t,e,i){if("d"!=e.charAt(1)&&null!=this.itemPull[this.idPrefix+t].group){var s=this.itemPull[this.idPrefix+t].group;this.checkEvent("onRadioClick")?this.callEvent("onRadioClick",[s,this.getRadioChecked(s),t,this.contextMenuZoneId,i])&&this.setRadioChecked(s,t):this.setRadioChecked(s,t),this.checkEvent("onClick")&&this.callEvent("onClick",[t])}},dhtmlXMenuObject.prototype.getRadioChecked=function(t){for(var e=null,i=0;i<this.radio[t].length;i++){var s=this.radio[t][i].replace(this.idPrefix,""),n=this._getRadioImgObj(s);if(null!=n){var o=n.className.match(/rdbt_1$/gi);null!=o&&(e=s)}}return e},dhtmlXMenuObject.prototype.setRadioChecked=function(t,e){if(null!=this.radio[t])for(var i=0;i<this.radio[t].length;i++){var s=this.radio[t][i].replace(this.idPrefix,"");this._setRadioState(s,s==e)}},dhtmlXMenuObject.prototype.addRadioButton=function(t,e,i,s,n,o,l,h){if(!this.context||e!=this.topId){if(null==this.itemPull[this.idPrefix+e])return;if("child"==t&&"item"!=this.itemPull[this.idPrefix+e].type)return}var r=this.idPrefix+(null!=s?s:this._genStr(24)),a="rdbt_"+(l?"1":"0"),d=a;if("sibling"==t){var c=this.idPrefix+this.getParentId(e);this._addItemIntoGlobalStrorage(r,c,n,"radio",h,a,d),this._renderSublevelItem(r,this.getItemPosition(e))}else c=this.idPrefix+e,this._addItemIntoGlobalStrorage(r,c,n,"radio",h,a,d),null==this.idPull["polygon_"+c]&&this._renderSublevelPolygon(c,c),this._renderSublevelItem(r,i-1),this._redefineComplexState(c);var u=null!=o?o:this._genStr(24);this.itemPull[r].group=u,null==this.radio[u]&&(this.radio[u]=[]),this.radio[u][this.radio[u].length]=r,1==l&&this.setRadioChecked(u,String(r).replace(this.idPrefix,""))},dhtmlXMenuObject.prototype._getCheckboxState=function(t){return null==this.itemPull[this.idPrefix+t]?null:this.itemPull[this.idPrefix+t].checked},dhtmlXMenuObject.prototype._setCheckboxState=function(t,e){null!=this.itemPull[this.idPrefix+t]&&(this.itemPull[this.idPrefix+t].checked=e)},dhtmlXMenuObject.prototype._updateCheckboxImage=function(t){if(null!=this.idPull[this.idPrefix+t]){this.itemPull[this.idPrefix+t].imgen="chbx_"+(this._getCheckboxState(t)?"1":"0"),this.itemPull[this.idPrefix+t].imgdis=this.itemPull[this.idPrefix+t].imgen;try{this.idPull[this.idPrefix+t].childNodes[this._rtl?2:0].childNodes[0].className="sub_icon "+this.itemPull[this.idPrefix+t].imgen}catch(e){}}},dhtmlXMenuObject.prototype._checkboxOnClickHandler=function(t,e,i){if("d"!=e.charAt(1)&&null!=this.itemPull[this.idPrefix+t]){var s=this._getCheckboxState(t);this.checkEvent("onCheckboxClick")?this.callEvent("onCheckboxClick",[t,s,this.contextMenuZoneId,i])&&this.setCheckboxState(t,!s):this.setCheckboxState(t,!s),this.checkEvent("onClick")&&this.callEvent("onClick",[t])}},dhtmlXMenuObject.prototype.setCheckboxState=function(t,e){this._setCheckboxState(t,e),this._updateCheckboxImage(t)},dhtmlXMenuObject.prototype.getCheckboxState=function(t){return this._getCheckboxState(t)},dhtmlXMenuObject.prototype.addCheckbox=function(t,e,i,s,n,o,l){if(!this.context||e!=this.topId){if(null==this.itemPull[this.idPrefix+e])return;if("child"==t&&"item"!=this.itemPull[this.idPrefix+e].type)return}var h="chbx_"+(o?"1":"0"),r=h;if("sibling"==t){var a=this.idPrefix+(null!=s?s:this._genStr(24)),d=this.idPrefix+this.getParentId(e);this._addItemIntoGlobalStrorage(a,d,n,"checkbox",l,h,r),this.itemPull[a].checked=o,this._renderSublevelItem(a,this.getItemPosition(e))}else a=this.idPrefix+(null!=s?s:this._genStr(24)),d=this.idPrefix+e,this._addItemIntoGlobalStrorage(a,d,n,"checkbox",l,h,r),this.itemPull[a].checked=o,null==this.idPull["polygon_"+d]&&this._renderSublevelPolygon(d,d),this._renderSublevelItem(a,i-1),this._redefineComplexState(d)},dhtmlXMenuObject.prototype._readLevel=function(t){var e,i="";for(e in this.itemPull)if(this.itemPull[e].parent==t){var s="",n="",o="",l=String(this.itemPull[e].id).replace(this.idPrefix,""),h="",r=""!=this.itemPull[e].title?' text="'+this.itemPull[e].title+'"':"",a="";"item"==this.itemPull[e].type&&(""!=this.itemPull[e].imgen&&(s=' img="'+this.itemPull[e].imgen+'"'),""!=this.itemPull[e].imgdis&&(n=' imgdis="'+this.itemPull[e].imgdis+'"'),""!=this.itemPull[e].hotkey&&(o="<hotkey>"+this.itemPull[e].hotkey+"</hotkey>")),"separator"==this.itemPull[e].type?h=' type="separator"':"disabled"==this.itemPull[e].state&&(a=' enabled="false"'),"checkbox"==this.itemPull[e].type&&(h=' type="checkbox"'+(this.itemPull[e].checked?' checked="true"':"")),"radio"==this.itemPull[e].type&&(h=' type="radio" group="'+this.itemPull[e].group+'" '+(this.itemPull[e].checked?' checked="true"':"")),i+="<item id='"+l+"'"+r+h+s+n+a+">",i+=o,this.itemPull[e].complex&&(i+=this._readLevel(e)),i+="</item>"}return i},dhtmlXMenuObject.prototype.serialize=function(){var t="<menu>"+this._readLevel(this.idPrefix+this.topId)+"</menu>";return t},dhtmlxSlider.prototype.createStructure=function(){if(this.con&&(this.con.parentNode.removeChild(this.con),this.con=null),this.vMode){this._sW="height",this._sH="width",this._sL="top",this._sT="left";var t=this.imgURL+"skins/"+this.skin+"/vertical/"}else this._sW="width",this._sH="height",this._sL="left",this._sT="top",t=this.imgURL+"skins/"+this.skin+"/";this.con=document.createElement("DIV"),this.con.onselectstart=function(){return!1},this.con._etype="slider",this.con.className="dhtmlxSlider"+("default"!=this.skin?"_"+this.skin:""),this._skinsImgs[this.skin].bg&&(this.con.style.backgroundImage="url("+t+"bg.gif)"),this.drag=document.createElement("DIV"),this.drag._etype="drag",this.drag.className="selector",this.drag.style.backgroundImage="url("+t+"selector.gif)";var e=document.createElement("DIV");e.className="leftSide",this._skinsImgs[this.skin].ls&&(e.style.background="url("+t+"leftside_bg.gif)"),this.leftZone=document.createElement("DIV"),this.leftZone.className="leftZone",this._skinsImgs[this.skin].lz&&(this.leftZone.style.background="url("+t+"leftzone_bg.gif)");var i=document.createElement("DIV");if(i.className="rightSide",this._skinsImgs[this.skin].rs&&(i.style.background="url("+t+"rightside_bg.gif)"),this.rightZone=document.createElement("DIV"),this.rightZone.className="rightZone",this._skinsImgs[this.skin].rz&&(this.rightZone.style.background="url("+t+"rightzone_bg.gif)"),this.con.appendChild(e),this.con.appendChild(this.leftZone),this.con.appendChild(this.rightZone),this.con.appendChild(i),this.con.appendChild(this.drag),this.parent.appendChild(this.con),(!this.parent.parentNode||!this.parent.parentNode.tagName)&&document.body.appendChild(this.parent),this.vMode){this._sW="height",this._sH="width",this._sL="top",this._sT="left",this.con.style.width=this.con.offsetHeight+"px";for(var s=0;s<this.con.childNodes.length;s++){this.con.childNodes[s].style.fontSize="0";var n=this.con.childNodes[s].offsetWidth;this.con.childNodes[s].style.width=this.con.childNodes[s].offsetHeight+"px",this.con.childNodes[s].style.height=n+"px",n=this.con.childNodes[s].offsetLeft,this.con.childNodes[s].style.left=this.con.childNodes[s].offsetTop+"px",this.con.childNodes[s].style.top=n+"px"}i.style.top=this.size-i.offsetHeight+"px",this.zoneSize=this.size-i.offsetHeight,this.dragLeft=this.drag.offsetTop,this.dragWidth=this.drag.offsetHeight,this.rightZone.style.height=this.zoneSize+"px"}else this.zoneSize=this.size-i.offsetWidth,this.dragLeft=this.drag.offsetLeft,this.dragWidth=this.drag.offsetWidth,this.rightZone.style.width=this.zoneSize+"px";this.con.style[this._sW]=this.size+"px",this.con.onmousedown=this._onMouseDown,this.con.onmouseup=this.con.onmouseout=function(){clearInterval(this.that._int)},this.con.that=this,this._aCalc(this._def)},dhtmlxSlider.prototype._aCalc=function(t){return this.isInit?(this.shift=t[0],this.limit=t[1]-this.shift,this._mod=(t[4]-2*this.dragLeft-this.dragWidth)/this.limit,this._step=t[2],this.step=this._step*this._mod,this._xlimit=t[4]-2*this.dragLeft-this.dragWidth,this.posX||(this.posX=this._xlimit*(t[3]-this.shift)/this.limit),this._applyPos(!0),this):void 0},dhtmlxSlider.prototype.setMin=function(t){this._def[0]=t-0,this._aCalc(this._def)},dhtmlxSlider.prototype.setMax=function(t){this._def[1]=t-0,this._aCalc(this._def)},dhtmlxSlider.prototype.setStep=function(t){this._def[2]=t-0,this._aCalc(this._def)},dhtmlxSlider.prototype._applyPos=function(t){if(this.isInit){1!=this.step&&this.step&&(this.posX=Math.round(this.posX/this.step)*this.step),this.posX<0&&(this.posX=0),this.value<(this._def[0]||0)&&(this.value=this._def[0]||0),this.value>this._def[1]&&(this.value=this._def[1]),this.posX>this._xlimit&&(this.posX=this._xlimit);var e=this.drag.style[this._sL];this.drag.style[this._sL]=this.posX+1*this.dragLeft+"px",this.leftZone.style[this._sW]=this.posX+1*this.dragLeft+"px",this.rightZone.style[this._sL]=this.posX+1*this.dragLeft+1+"px",this.rightZone.style[this._sW]=this.zoneSize-(this.posX+1*this.dragLeft)+"px";var i=this.getValue();this._link&&(this._linkBoth?this._link.value=i:this._link.innerHTML=i),!t&&e!=this.drag.style[this._sL]&&this.callEvent("onChange",[i,this]),this.value=this.getValue(),this._dttp||this._setTooltip(i)}},dhtmlxSlider.prototype._setTooltip=function(t){this.con.title=t},dhtmlxSlider.prototype.setSkin=function(t){this.skin=t||"default",this.isInit&&this.createStructure()},dhtmlxSlider.prototype.startDrag=function(t){if(!this._busy&&(0===t.button||1===t.button)){this.drag_mx=t.clientX,this.drag_my=t.clientY,this.drag_cx=this.posX,this.d_b_move=document.body.onmousemove,this.d_b_up=document.body.onmouseup;var e=this;document.body.onmouseup=function(t){e.stopDrag(t||event),e=null},document.body.onmousemove=function(t){e.onDrag(t||event)},this._busy=!0}},dhtmlxSlider.prototype.onDrag=function(t){this._busy&&(this.posX=this.vMode?this.drag_cx+t.clientY-this.drag_my:this.drag_cx+t.clientX-this.drag_mx,this._applyPos())},dhtmlxSlider.prototype.stopDrag=function(){document.body.onmousemove=this.d_b_move?this.d_b_move:null,document.body.onmouseup=this.d_b_up?this.d_b_up:null,this.d_b_move=this.d_b_up=null,this._busy=!1,this.callEvent("onSlideEnd",[this.getValue()])},dhtmlxSlider.prototype.getValue=function(){return!this._busy&&this.inputPriority?(Math.round(this.value/this._step)*this._step).toFixed(6)-0:Math.round(1e4*(Math.round(this.posX/this._mod/this._step)*this._step+1*this.shift))/1e4},dhtmlxSlider.prototype.setValue=function(t,e){isNaN(t)||(this._def[3]=this.value=t-0,this.posX=Math.round(((t||0)-this.shift)*this._mod),this._applyPos(null==e?!0:e))},dhtmlxSlider.prototype._getActionElement=function(t){return t._etype?t:t.parentNode?this._getActionElement(t.parentNode):null},dhtmlxSlider.prototype._onMouseDown=function(t){if(!this.that.disabled){var t=t||event,e=this.that,i=e._getActionElement(_isIE?t.srcElement:t.target);switch(i._etype){case"slider":var s=e.vMode?t.clientY-(getAbsoluteTop(e.con)-document.body.scrollTop):t.clientX-(getAbsoluteLeft(e.con)-document.body.scrollLeft),n=e.posX;e.posX=s-e.dragLeft-e.dragWidth/2,e.direction=e.posX>n?1:-1,e.stepping?(clearInterval(e._int),e.setValue(e.value+e._step*e.direction,!1),e._int=setInterval(function(){e.setValue(e.value+e._step*e.direction,!1)},600)):(e._busy=!0,e._applyPos(),e._busy=!1);break;case"drag":e.startDrag(t||event)}return!1}},dhtmlxSlider.prototype.setOnChangeHandler=function(t){this.attachEvent("onChange",t)},dhtmlxSlider.prototype._linkFrom=function(){this.disabled||this.setValue(parseFloat(this._link.value),!1)},dhtmlxSlider.prototype.linkTo=function(t){this._link=t="object"!=typeof t?document.getElementById(t):t;var e=t.tagName.toString().toLowerCase();if(this._linkBoth="input"==e||"select"==e||"textarea"==e?1:0){var i=this,s=function(){this._nextSlider&&window.clearTimeout(this._nextSlider),this._nextSlider=window.setTimeout(function(){i._linkFrom()},500)};t.onblur=t.onkeypress=t.onchange=s}this._applyPos()},dhtmlxSlider.prototype.enableTooltip=function(t){this._dttp=!convertStringToBoolean(t),this._setTooltip(this._dttp?"":this.getValue())},dhtmlxSlider.prototype.setImagePath=function(t){this.imgURL=t},dhtmlxSlider.prototype.init=function(){this.isInit=!0,this.createStructure()},dhtmlxSlider.prototype.setInputPriority=function(t){this.inputPriority=t},dhtmlxSlider.prototype.setSteppingMode=function(t){this.stepping=t},dhtmlxSlider.prototype.disable=function(t){this.disabled=t},function(){dhtmlx.extend_api("dhtmlxSlider",{_init:function(t){return[t.parent,t.size,t.skin,t.vertical,t.min,t.max,t.value,t.step]},link:"linkTo"},{})}(),dhtmlXTabBar.prototype={_get_size:function(t,e){var i=this.entBox.getAttribute(t)||this.entBox.style[t]||(window.getComputedStyle?window.getComputedStyle(this.entBox,null)[t]:this.entBox.currentStyle?this.entBox.currentStyle[t]:0);return-1!=(i||"").indexOf("%")&&this.enableAutoReSize(!0,!0),i&&-1==i.indexOf("%")&&"auto"!=i||(i=e+"px"),i},setStyle:function(t){this.setSkin(t)},_getSkin:function(){return this._a},setSkin:function(t){t=t.toLowerCase(),this._styles[t]||(t="default"),this._a=this._styles[t],this.skin=t,this._tabAll&&(this._tabAll.className="dhx_tabbar_zone dhx_tabbar_zone_"+this.skin);var e=0==t.indexOf("dhx_sky"),i=0==t.indexOf("dhx_web"),s=0==t.indexOf("dhx_terrace");if(s&&!this._custom_height&&(this._s.line_height=37,this._setRowSizes()),e&&(this._s.skin_line=0),i&&(this._s.line_height=29,this._s.ext_border=-1,this._s.expand=!0),e){this._s.line_height=26,this._setRowSizes(),this._s.expand&&(this._s.tab_margin=-1),this._s.skin_line_x=!0,this._s.skin_line=-3;var n=this._s._rendered;if(n)for(var o=0;o<n.length;o++)n[o].parentNode.removeChild(n[o]);var l=document.createElement("DIV");l.className="dhx_tabbar_lineA",this._tabAll.appendChild(l);var h=document.createElement("DIV");h.className="dhx_tabbar_lineB",this._tabAll.appendChild(h);var r=document.createElement("DIV");r.className="dhx_tabbar_lineC",this._tabAll.appendChild(r);var a=document.createElement("DIV");a.className="dhx_tabbar_lineD",this._tabAll.appendChild(a),this._getCoverLine(),this._s._rendered=[l,h,r,a],this._s.expand&&(this._conZone.style.borderWidth="0px 0px 0px 0px",this._tabZone.firstChild.style.borderWidth="0px 0px 0px 0px",r.style.borderWidth="0px 0px 0px 0px",a.style.left="0px",r.style.right="0px",l.style.borderWidth="0px 0px 0px 0px","top"==this._s.mode&&(this._lineA.style.borderWidth="1px 0px 0px 0px"),h.style.left="1px",this._s.ext_border=0);var d=function(){this._lineA.style[this._dx]="1px";var t=_isIE&&"BackCompat"==document.compatMode,e=this._tabAll[this._s._vMode?"offsetHeight":"offsetWidth"]+(t?2:0);this._lastActive&&(e=Math.max(e,this._lastActive.parentNode[this._s._vMode?"scrollHeight":"scrollWidth"])),6>e||(l.style[this._py]=parseInt(this._conZone.style[this._py])-3+"px",l.style[this._dx]=e-2+"px",h.style[this._py]=parseInt(this._conZone.style[this._py])-3+"px",h.style[this._dx]=e-(t?6:4)+(this._s.expand?2:0)+"px",r.style[this._dy]=parseInt(this._tabZone.style[this._dy])-3+"px",this._lineA.style[this._dx]=e-2+"px")};d.call(this);var c=this._checkScroll;this._checkScroll=function(){d.apply(this,arguments),c.apply(this,arguments)};var u=this._scrollTo;this._scrollTo=function(){u.apply(this,arguments),d.apply(this,arguments)}}this._a.data_color&&this._conZone&&(this._conZone.style.backgroundColor=this._a.data_color),this.__skin=!0},enableAutoReSize:function(){var t=this;dhtmlxEvent(window,"resize",function(){window.setTimeout(function(){t&&t._setSizes&&t._setSizes()},1)})},_createSelf:function(){this._tabAll=document.createElement("DIV"),this._tabZone=document.createElement("DIV"),this._conZone=document.createElement("DIV"),this.entBox.appendChild(this._tabAll),this._tabAll.appendChild(this._tabZone),this._tabAll.appendChild(this._conZone),this._tabAll.className="dhx_tabbar_zone dhx_tabbar_zone_"+this.skin,this._s._vMode&&(this._tabAll.className+="V"),this._s._bMode&&(this._tabAll.className+="B"),this._tabZone.className="dhx_tablist_zone",this._conZone.className="dhx_tabcontent_zone",this.entBox._hideBorders&&(this._conZone.style.borderLeft=this._conZone.style.borderRight=this._conZone.style.borderBottom="0px solid white"),this._a.data_color&&(this._conZone.style.backgroundColor=this._a.data_color),this._tabZone.onselectstart=function(){return!1},this._tabZone.onclick=this._onClickHandler,this._tabZone.onmouseover=this._onMouseOverHandler,this._tabZone[_isFF?"onmouseout":"onmouseleave"]=this._onMouseOutHandler,this._tabZone.tabbar=this,this._createRow()},_createRow:function(){var t=document.createElement("DIV");t.className="dhx_tabbar_row",t.tabCount=0,this._tabZone.appendChild(t),this._rows[this._rows.length]=t,this._setRowSizes()},_removeRow:function(t){t.parentNode.removeChild(t);for(var e=[],i=0;i<this._rows.length;i++)this._rows[i]!=t&&(e[e.length]=this._rows[i]);this._rows=e},_setSizes:function(t,e){var i=["clientHeight","clientWidth"];"width"!=this._dx&&i.reverse();var s=_isIE&&"BackCompat"==document.compatMode,n=this._conZone.offsetWidth-this._conZone.clientWidth,o=e||this.entBox[i[0]]+(s?n:0),s=t||this.entBox[i[1]]+(s?n:0),l=this._rows.length*(this._s.line_height-(this._s.skin_line_x?4:2))+(this._s.skin_line_x?2:0);this._tabZone.style[this._dy]=l+"px",this._conZone.style[this._dy]=Math.max(0,o-this._s.ext_border-l-(this._s.skin_line_x?3:0)-this._s.tab_margin)+"px",this._conZone.style[this._dx]=Math.max(0,s-(this._s.expand?0:2))+"px",this._tabZone.style[this._py]=this._s.tab_margin+"px",this._conZone.style[this._py]=l+this._s.tab_margin-this._s.skin_line+"px",this._checkScroll();var h=this.getActiveTab();h&&this.cells(h).activate()},_checkScroll:function(){if(this._lineA){this._lineA.style[this._dx]="1px";var t=_isIE&&"BackCompat"==document.compatMode,e=this._tabAll[this._s._vMode?"offsetHeight":"offsetWidth"]+(t?2:0);this._lastActive&&(e=Math.max(e,this._lastActive.parentNode[this._s._vMode?"scrollHeight":"scrollWidth"])),e>2&&(this._lineA.style[this._dx]=e-2+"px")}if(!this._s._vMode&&this._s.scrolls)for(var i=0;i<this._rows.length;i++)this._rows[i].scrollWidth-this._rows[i].offsetWidth>2?this._showScroll(i):this._hideScroll(i)},_showScroll:function(t){if(!this._rows[t]._scroll){this.callEvent("onBeforeShowScroll",[t]);var e=this._rows[t]._scroll=[],i=Math.max(0,this._s.line_height-23);e[0]=document.createElement("DIV"),e[0].style.cssText="background-image:url("+this.imgUrl+this.skin+"/"+this.skin+"_scroll_left.gif); width:20px; height:21px;position:absolute;left:0px;z-index:990;top:"+i+"px;",e[0].className="dhx_tab_scroll_left",this._rows[t].appendChild(e[0]),e[1]=document.createElement("DIV"),e[1].style.cssText="background-image:url("+this.imgUrl+this.skin+"/"+this.skin+"_scroll_right.gif); width:20px; height:21px;position:absolute;right:0px;z-index:990;top:"+i+"px;",e[1].className="dhx_tab_scroll_right",this._rows[t].appendChild(e[1])}},_hideScroll:function(t){this._rows[t]._scroll&&this.callEvent("onBeforeHideScroll",[t]),this._rows[t]._scroll&&(this._rows[t].removeChild(this._rows[t]._scroll[0]),this._rows[t].removeChild(this._rows[t]._scroll[1]),this._rows[t]._scroll=null)},_setRowSizes:function(){for(var t=0;t<this._rows.length;t++)this._rows[t].style[this._dy]=this._s.line_height+"px",this._rows[t].style[this._py]=t*(this._s.line_height-(this._s.skin_line_x?4:2))-(_isIE&&!window.postMessage&&this._s._bMode?0:0)+"px",this._rows[t].style.zIndex=10+t;this._setSizes()},_setTabSizes:function(t){for(var e=this._a.offset,i=this._s.align?this._pxc:this._px,s=0;s<t.tabCount;s++){var n=t.childNodes[s];"none"!=n.style.display&&(n.style[i]=e-(this._lastActive==n?this._a.select_shift:0)+"px",e+=n._size+this._a.margin)}},addTab:function(t,e,i,s,n){!this.__skin&&dhtmlx.skin&&this.setSkin(dhtmlx.skin);for(var n=n||0,o=this._rows.length;n>=o;o++)this._createRow();var l=this._rows[n].tabCount;!s&&0!==s&&(s=l);var h=this._createTab(t,e,"*"==i?10:i||this._s._tabSize);this._addTab(this._rows[n],h,i,s),this._tabs[t]=h,this.cells(t).hide(),this._checkScroll()},getIndex:function(t){var e=this._tabs[t];if(e)for(var i=e.parentNode,s=0;s<i.childNodes.length;s++)if(i.childNodes[s]==e)return s;return-1},moveTab:function(t,e){var i=this._tabs[t];if(i){var s=this.getIndex(t),n=i.parentNode,e=Math.min(e,n.tabCount-1);s!=e&&(e>s&&e++,i.parentNode.childNodes[e]?i.parentNode.insertBefore(i,i.parentNode.childNodes[e]):i.parentNode.appendChild(i),this._setTabSizes(i.parentNode))}},removeTab:function(t,e){var i=this._tabs[t];if(i){this.cells(t)._dhxContDestruct(),this._content[t]&&this._content[t].parentNode&&this._content[t].parentNode.removeChild(this._content[t]),this._content[t]=null,this._goToAny(i,e);
var s=i.parentNode;i.innerHTML="",s.removeChild(i),s.tabCount--,0==s.tabCount&&this._rows.length>1?this._removeRow(s):this._setTabSizes(s),delete this._tabs[t],this._lastActive==i&&(this._lastActive=null),this._setRowSizes()}},_goToAny:function(t,e){this._lastActive==t&&(e&&this.goToNextTab()==t&&this.goToPrevTab(),this._lastActive==t)&&(this._lastActive=null)},_createTab:function(t,e,i){var s=document.createElement("DIV");s.className="dhx_tab_element dhx_tab_element_inactive";var n="<span>"+e+"</span><div></div><div></div><div></div>";if(this._close&&(n+="<IMG style='"+this._pxc+":4px; "+this._py+("dhx_web"==this.skin?":7":":4")+"px; position:absolute;z-index:11;' src='"+this.imgUrl+this.skin+"/close.png' >"),s.innerHTML=n,s.setAttribute("tab_id",t),s._size=parseInt(i),s.style[this._dx]=parseInt(i)+"px",s.style[this._dy]=this._s.line_height+"px",s.style[this._py]=this._a.select_top+"px",s.skin=this.skin,this._a.tab_color&&(s.style.backgroundColor=this._a.tab_color),this._c[t]&&(s.childNodes[0].style.cssText=this._c[t].color),this._img_all(s),this._close){var o=this;s.childNodes[4].onclick=function(t){var e=this.parentNode.getAttribute("tab_id");o.callEvent("onTabClose",[e])&&o.removeTab(e,!0),(t||event).cancelBubble=!0}}return s},_img_all:function(t){var e=this._getSkin(t),i=t._active?1:4;this._img(t.childNodes[1],i,this._px,e.left),this._img(t.childNodes[2],i+2,this._pxc,e.right),this._img(t.childNodes[3],i+1,this._px,parseInt(t.style[this._dx])-(e.left+e.right),e.left)},_get_img_pos:function(t){return this._s._bMode&&7>t&&(t=Math.abs(t-6)),t=-5-t*(1==this._s._vMode&&"dhx_terrace"==this.skin?245:45),this._s._vMode?t+"px 0px":"0px "+t+"px"},_img:function(t,e,i,s,n){"undefined"!=typeof t&&(t.style.backgroundImage="url("+this.imgUrl+this.skin+"/"+this.skin+"_"+this._s.mode+".gif)",t.style.backgroundPosition=this._get_img_pos(e),1==this._s._vMode&&"dhx_terrace"==this.skin&&(t.style.width="240px"),t.style[this._py]="0px",i&&(t.style[this._dx]=Math.max(s,0)+"px",t.style[i]=(n||0)+"px"))},_addTab:function(t,e,i,s){var n=this._a.offset;if(t.tabCount)var o=t.childNodes[t.tabCount-1],n=parseInt(o.style[this._s.align?this._pxc:this._px])+parseInt(o._size)+this._a.margin;var l=t.childNodes[s];l?t.insertBefore(e,l):t.appendChild(e),t.tabCount++,"*"==i&&(e.style.whiteSpace="nowrap",this.adjustTabSize(e)),e.style[this._s.align?this._pxc:this._px]=n+"px",s!=t.tabCount-1&&this._setTabSizes(t)},adjustTabSize:function(t,e){var i=this._getSkin(i);e||(t.style.fontWeight="bold",t.childNodes[3].style[this._dx]=t.style[this._dx]="10px",e=t[this._s._vMode?"scrollHeight":"scrollWidth"]+10+(this._close?20:0),t.style.fontWeight=""),t.style[this._dx]=e+"px",t._size=e,this._img_all(t)},_onMouseOverHandler:function(t){var e=this.tabbar._getTabTarget(t?t.target:event.srcElement);this.tabbar._showHover(e)},_onMouseOutHandler:function(){this.tabbar._showHover()},_showHover:function(t){if(t!=this._lastHower){if(this._lastHower&&this._lastHower!=this._lastActive){var e=this._getSkin(this._lastHower);this._lastHower.className=this._lastHower.className.replace(/[ ]*dhx_tab_hover/gi,""),e.hover?this._img_all(this._lastHower):this._img(this._lastHower.childNodes[3],5,this._px,parseInt(this._lastHower.style[this._dx])-(e.left+e.right),e.left),this._lastHower=null}(!t||t!=this._lastActive&&!t._disabled)&&(this._lastHower=t)&&(e=this._getSkin(t),t.className+=" dhx_tab_hover",e.hover&&(this._img(t.childNodes[1],7,this._px,e.left),this._img(t.childNodes[2],8,this._pxc,e.right)),this._img(t.childNodes[3],0,this._px,parseInt(t.style[this._dx])-(e.left+e.right),e.left))}},_getTabTarget:function(t){if(!t)return null;for(;!t.className||-1==t.className.indexOf("dhx_tab_element");){if(t.className&&-1!=t.className.indexOf("dhx_tabbar_zone"))return null;if(t=t.parentNode,!t)return null}return t},_onClickHandler:function(t){var e=t?t.target:event.srcElement,i=this.tabbar._getTabTarget(e);if(i&&!i._disabled)this.tabbar._setTabActive(i);else{var s=null;if("dhx_tab_scroll_left"==e.className?(e.parentNode.scrollLeft=Math.max(0,e.parentNode.scrollLeft-e.parentNode.offsetWidth/2),s=e,this.tabbar._setTabTop(this.tabbar._lastActive)):"dhx_tab_scroll_right"==e.className&&(e.parentNode.scrollLeft+=e.parentNode.offsetWidth/2,s=e.previousSibling,this.tabbar._setTabTop(this.tabbar._lastActive)),s&&s.parentNode&&s.parentNode.tagName)return s.style.left=s.parentNode.scrollLeft+"px",(!_isIE||window.XMLHttpRequest)&&(s.nextSibling.style.right=-1*s.parentNode.scrollLeft+"px"),!1}},_deactivateTab:function(){this._setTabInActive(this._lastActive),this._lastActive=null},_setTabInActive:function(t){if(!t||t!=this._lastActive)return!0;var e=this._getSkin(t),i=t.getAttribute("tab_id"),s=this._s.align?this._pxc:this._px;t.className=t.className.replace("_active","_inactive"),t.style[this._py]=e.select_top+"px",t.style[s]=parseInt(t.style[s])+e.select_shift+"px",t.style[this._dx]=t._size+"px",t._active=!1,e.tab_color&&(t.style.backgroundColor=e.tab_color),this._c[i]&&(t.childNodes[0].style.cssText=this._c[i].color),this._img_all(t),this.cells(i).hide()},_setTabActive:function(t,e){if(!t)return!0;var i=t.getAttribute("tab_id"),s=this._lastActive?this._lastActive.getAttribute("tab_id"):null,n=this._getSkin(t);if(e||this.callEvent("onTabClick",[i,s]),t==this._lastActive)return!0;if(e||this.callEvent("onSelect",[i,s])){var o=this._s.align?this._pxc:this._px;return this._setTabInActive(this._lastActive),t.className=t.className.replace("_inactive","_active"),t.style[this._py]="0px",t.style[o]=parseInt(t.style[o])-n.select_shift+"px",t.style[this._dx]=t._size+2*n.select_shift+"px",t._active=!0,n.data_color&&(t.style.backgroundColor=n.data_color),this._c[i]&&(t.childNodes[0].style.cssText=this._c[i].scolor),this._img_all(t),this._setTabTop(t),this._lastActive=t,this.cells(i).show(),this._scrollTo(t),!0}},_scrollTo:function(t){if(this._s.scrolls&&(t.offsetLeft<t.parentNode.scrollLeft||t.offsetLeft+t.offsetWidth>t.parentNode.scrollLeft+t.parentNode.offsetWidth)){t.parentNode.scrollLeft=t.offsetLeft;var e=t.parentNode._scroll;e&&e[0]&&(e[0].style.left=e[0].parentNode.scrollLeft+"px",!_isIE||window.XMLHttpRequest)&&(e[1].style.right=-1*e[1].parentNode.scrollLeft+"px")}},_setTabTop:function(t){if(!t)return!1;for(var e=this._rows.length-1,i=0;i<this._rows.length;i++)if(this._rows[i]==t.parentNode){var s=this._rows[i];i!=e&&(this._rows[i]=this._rows[e],this._rows[e]=s);var n=this._getCoverLine();s.appendChild(n),n.style[this._dx]="1px";var o=this._s._vMode?Math.max(this._tabZone.offsetHeight,s.scrollHeight):Math.max(this._tabZone.offsetWidth,s.scrollWidth);o>0&&(n.style[this._dx]=o+"px"),t.style.zIndex=n._index++;break}this._setRowSizes()},_getCoverLine:function(){return this._lineA||(this._lineA=document.createElement("div"),this._lineA.className="dhx_tablist_line",this._lineA.style[this._py]=this._s.line_height-3-(this._s.skin_line_x?1:0)+"px",this._lineA.style[this._dx]="100%",this._lineA._index=1),this._lineA.style.zIndex=this._lineA._index++,this._lineA},cells:function(t){if(!this._tabs[t])return null;if(!this._content[t]){var e=document.createElement("DIV");e.style.cssText="width:100%;height:100%;visibility:hidden;overflow:hidden;position:absolute;top:0px; left:0px;",e.setAttribute("tab_id",t),e.skin=this.skin,this._conZone.appendChild(e),new dhtmlXContainer(e).setContent(e),"dhx_web"==this.skin&&e._setPadding&&e._setPadding(1,"dhxcont_tabbar_dhx_web"),e._isTabbarCell=!0,this._content[t]=e;var i=this;e.show=function(){i._s.hide&&(this.style.display=""),this.style.visibility="",this.style.zIndex="1",this.autoSize(),this._activate()},e.hide=function(){i._s.hide?(this.style.visibility="",this.style.display="none"):this.style.visibility="hidden",this.style.zIndex=-1,"iframe"==i._hrfmode&&this.attachURL("javascript:false")},e.autoSize=function(){if(i._awdj||i._ahdj){var t=this.vs?this.vs[this.av].dhxcont.mainCont[this.av]:this.mainCont;t.offsetWidth||(t.style.width=Math.max(0,i.entBox.offsetWidth-2)+"px"),i._ahdj&&(t.style.height="1px");var e=this._getContentDim();i._awdj&&(i.entBox.style.width=e[0]+2+"px",t.style.width=e[0]+"px"),i._ahdj&&(i._tabAll.style.height=i.entBox.style.height=e[1]+i._rows.length*(i._s.line_height-2)+(i._s.expand?0:2)+2+"px",t.style.height=e[1]+"px"),i._setSizes(),i._setTabTop(i._lastActive)}},e._activate=function(){this._delay&&this._attachContent.apply(this,this._delay),this.activate(),"iframe"!=i._hrfmode&&(this._delay=null)},e._doOnResize=function(){this.activate()},e.activate=function(){this.adjustContent(this.parentNode,0,0,!1,0),e.updateNestedObjects()},e._doOnAttachStatusBar=e.activate,e._doOnAttachMenu=e.activate,e._doOnAttachToolbar=e.activate,e._getContentDim=function(){var t=this.vs?this.vs[this.av].dhxcont.mainCont[this.av]:this.mainCont;return[t.scrollWidth,t.scrollHeight]},e._doOnFrameContentLoaded=function(){(i._awdj||i._ahdj)&&i.cells(t).autoSize(),i.callEvent("onXLE",[]),i.callEvent("onTabContentLoaded",[this.getAttribute("tab_id")])},e._doOnBeforeAttachURL=function(){i.callEvent("onXLS",[])},e.adjustContent(e.parentNode,0,0,!1,0)}return this._content[t]},forceLoad:function(t,e){this.setContentHref(t,e||this._hrefs[t]),this.cells(t)._activate()},enableAutoSize:function(t,e){this._ahdj=convertStringToBoolean(e),this._awdj=convertStringToBoolean(t)},clearAll:function(){for(var t in this._tabs)this.removeTab(t,!1);if(this._lineA){var e=this._getCoverLine();e.parentNode&&e.parentNode.removeChild(e)}},enableTabCloseButton:function(t){this._close=convertStringToBoolean(t)},preventIECashing:function(t){this.no_cashe=convertStringToBoolean(t),this.XMLLoader&&(this.XMLLoader.rSeed=this.no_cashe)},setTabActive:function(t,e){this._setTabActive(this._tabs[t],e===!1)},setTabInActive:function(){var t=this._lastActive;t&&(this._deactivateTab(),this._setTabTop(t),this._getCoverLine())},loadXMLString:function(t,e){this.XMLLoader=new dtmlXMLLoaderObject(this._parseXML,this,!0,this.no_cashe),this.XMLLoader.waitCall=e||0,this.XMLLoader.loadXMLString(t)},loadXML:function(t,e){this.callEvent("onXLS",[]),this.XMLLoader=new dtmlXMLLoaderObject(this._parseXML,this,!0,this.no_cashe),this.XMLLoader.waitCall=e||0,this.XMLLoader.loadXML(t)},_parseXML:function(t,e,i,s,n){t.clearAll();var o="";n||(n=t.XMLLoader);var l=n.getXMLTopNode("tabbar"),h=n.doXPath("//row",l),r=l.getAttribute("tabstyle");r&&t.setStyle(r),t._hrfmode=l.getAttribute("hrefmode")||t._hrfmode,t._a.margin=parseInt(l.getAttribute("margin")||t._a.margin,10),(r=l.getAttribute("align"))&&(t._s.align="right"==r||"bottom"==r),t._a.offset=parseInt(l.getAttribute("offset")||t._a.offset,10),(r=l.getAttribute("skinColors"))&&t.setSkinColors(r.split(",")[0],r.split(",")[1]);for(var a=0;a<h.length;a++)for(var d=n.doXPath("./tab",h[a]),c=0;c<d.length;c++){var u=d[c].getAttribute("width"),_=t._getXMLContent(d[c]),p=d[c].getAttribute("id");if(t.addTab(p,_,u,"",a),d[c].getAttribute("selected")&&(o=p),t._hrfmode)t.setContentHref(p,d[c].getAttribute("href"));else for(var f=0;f<d[c].childNodes.length;f++){var m=d[c].childNodes[f];"content"==m.tagName&&(m.getAttribute("id")?t.setContent(p,m.getAttribute("id")):t.setContentHTML(p,t._getXMLContent(m)))}}o&&t.setTabActive(o),t.callEvent("onXLE",[])},adjustOuterSize:function(){this._setSizes()},_getXMLContent:function(t){for(var e="",i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];e+=null===s.nodeValue?"":s.nodeValue}return e},enableContentZone:function(t){this._conZone.style.display=convertStringToBoolean(t)?"":"none",this._setSizes()},enableForceHiding:function(t){this._s.hide=convertStringToBoolean(t)},setSize:function(t,e){this.entBox.style.width=t+"px",this.entBox.style.height=e+"px",this._setSizes()},setSkinColors:function(t,e,i){t&&(this._a.data_color=t),e&&(this._a.tab_color=e);var s=document.createElement("style");s.setAttribute("type","text/css"),s.setAttribute("media","screen"),document.getElementsByTagName("head")[0].appendChild(s);var n=document.styleSheets[document.styleSheets.length-1];n.addRule?n.addRule("#"+this.entBox.id+" .dhx_tabcontent_zone > div","background-color: "+(i||t)+";",0):n.insertRule("#"+this.entBox.id+" .dhx_tabcontent_zone > div{ background-color: "+(i||t)+";}",0),this._conZone.style.backgroundColor=i||t},setCustomStyle:function(t,e,i,s){this._c[t]={color:";"+(e?"color:"+e+";":"")+(s||""),scolor:";"+(i?"color:"+i+";":"")+(s||"")},this._tabs[t]&&(this._tabs[t].childNodes[0].style.cssText=this._tabs[t]==this._lastActive?this._c[t].scolor:this._c[t].color)},setImagePath:function(t){this.imgUrl=t},getNext:function(t,e){var e=e||"nextSibling",i=t[e];return i&&-1==i.className.indexOf("dhx_tab_element")&&(i=null),!i&&t.parentNode[e]&&(i=t.parentNode[e].childNodes[0]),i||t},getAllTabs:function(){var t,e=[];for(t in this._tabs)e.push(t);return e},goToNextTab:function(t){do t=this.getNext(t||this._lastActive);while(!this._setTabActive(t));return t},goToPrevTab:function(t){do t=this.getNext(t||this._lastActive,"previousSibling");while(!this._setTabActive(t));return t},disableTab:function(t){this._tabs[t]._disabled=!0,this._tabs[t].className+=" dhx_tab_element_disabled",this._tabs[t].style.color="silver"},enableTab:function(t){this._tabs[t]._disabled=!1,this._tabs[t].className&&(this._tabs[t].className=this._tabs[t].className.replace(/dhx_tab_element_disabled/g,"")),this._tabs[t].style.color=""},showTab:function(t){var e=this._tabs[t];e.style.display="",this._setTabSizes(e.parentNode)},hideTab:function(t,e){var i=this._tabs[t];i.style.display="none",i==this._lastActive&&e!==!1&&this.goToNextTab(),this._setTabSizes(i.parentNode)},getActiveTab:function(){return this._lastActive?this._lastActive.getAttribute("tab_id"):null},setLabel:function(t,e,i){this.getActiveTab();this._tabs[t].firstChild.innerHTML=e,this.adjustTabSize(this._tabs[t],i),this._setTabSizes(this._tabs[t].parentNode),this._checkScroll()},getLabel:function(t){return this._tabs[t].firstChild.innerHTML},setOffset:function(t){this._a.offset=1*t},enableScroll:function(t){this._s.scrolls=convertStringToBoolean(t)},setMargin:function(t){this._a.margin=1*t},setAlign:function(t){this._s.align="bottom"==t||"right"==t},tabWindow:function(t){var e=null;if(this._content[t])var i=this.cells(t),e=(i.vs?i.vs[i.av]:this._content[t])._frame.contentWindow;return e},setContentHTML:function(t,e){this.cells(t).attachHTMLString(e)},setContent:function(t,e){this.cells(t).attachObject(e),this.cells(t).activate()},setHrefMode:function(t){this._hrfmode=t},setContentHref:function(t,e){switch(this._hrefs[t]=e,this._hrfmode){case"iframes":this.cells(t).attachURL(e);break;case"iframe":case"iframes-on-demand":this.cells(t)._delay=["url",e,!1];break;case"ajax":var i=this.cells(t),s=this;i._delay=["urlajax",e,!0],i.attachHTMLStringA||(i.attachHTMLStringA=i.attachHTMLString,i.attachHTMLString=function(t,e){return e&&(t=s._getXMLContent(e.doXPath("//content")[0])),this.attachHTMLStringA(t)});break;case"ajax-html":this.cells(t)._delay=["urlajax",e,!0]}this._tabs[t]==this._lastActive&&this.cells(t).show(!0)},normalize:function(t,e){function i(t,e){s[e]._size+=1/0!=a?a-r:0,t.adjustTabSize(s[e],s[e]._size)}for(var t=t||this._tabZone.offsetWidth,s=[],n=0;n<this._rows.length;n++)for(var o=0;o<this._rows[n].tabCount;o++)s.push(this._rows[n].removeChild(this._rows[n].childNodes[0]));this._tabZone.innerHTML="",this._rows=[];var l=this._lastActive;this._lastActive=null,this._createRow();for(var h=0,r=this._a.offset,a=1/0,o=0;o<s.length;o++)r+s[o]._size+this._a.margin<t?(this._rows[h].appendChild(s[o]),this._rows[h].tabCount++,r+=s[o]._size+this._a.margin):(e&&a>r&&i(this,o-1),this._createRow(),o--,h++,a=r,r=this._a.offset);for(e&&a>r&&1/0!=a&&i(this,o-1),n=0;n<this._rows.length;n++)this._setTabSizes(this._rows[n]);this._setSizes(),(this._lastActive=l)&&this._setTabTop(this._lastActive)},showInnerScroll:function(){for(var t in this._tabs){var e=dhtmlx.$customScroll;if(this.cells(t).vs){var i=this.cells(t).av;e?dhtmlx.CustomScroll.enable(this.cells(t).vs[i].dhxcont.mainCont[i]):this.cells(t).vs[i].dhxcont.mainCont[i].style.overflow="auto"}else e?dhtmlx.CustomScroll.enable(this.cells(t).dhxcont.mainCont):this.cells(t).dhxcont.mainCont.style.overflow="auto"}},getNumberOfTabs:function(){for(var t=0,e=0;e<this._rows.length;e++)t+=this._rows[e].tabCount;return t},destructor:function(){}},window.dhtmlXContainer||(window.dhtmlXContainer=function(t){var e=this;this.obj=t,this.dhxcont=null,this.setContent=function(t){this.dhxcont=t,this.dhxcont.innerHTML="<div id='dhxMainCont' class='dhxcont_main_content'></div><div id='dhxContBlocker' class='dhxcont_content_blocker' style='display: none;'></div>",this.dhxcont.mainCont=this.dhxcont.childNodes[0],this.obj.dhxcont=this.dhxcont},this.obj._genStr=function(t){for(var e="",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s=0;t>s;s++)e+=i.charAt(Math.round(Math.random()*i.length));return e},this.obj.setMinContentSize=function(t,e){this._minDataSizeW=t,this._minDataSizeH=e},this.obj.moveContentTo=function(t){t.updateNestedObjects()},this.obj.adjustContent=function(t,e,i,s,n){this.dhxcont.style.top=e+"px",this.dhxcont.style.left="0px",1!=s&&(this.dhxcont.style.width=t.clientWidth+"px");var o=t.clientHeight-e;0>o&&(o=0),this.dhxcont.style.height=o+(null!=i?i:0)+"px",1!=s&&this.dhxcont.offsetWidth>t.clientWidth&&(this.dhxcont.style.width=Math.max(0,2*t.clientWidth-this.dhxcont.offsetWidth)+"px"),this.dhxcont.offsetHeight>t.clientHeight-e&&(o=2*(t.clientHeight-e)-this.dhxcont.offsetHeight,0>o&&(o=0),this.dhxcont.style.height=o+"px"),n&&!isNaN(n)&&(this.dhxcont.style.height=parseInt(this.dhxcont.style.height)-n+"px"),null!=this._minDataSizeH&&parseInt(this.dhxcont.style.height)<this._minDataSizeH&&(this.dhxcont.style.height=this._minDataSizeH+"px"),null!=this._minDataSizeW&&parseInt(this.dhxcont.style.width)<this._minDataSizeW&&(this.dhxcont.style.width=this._minDataSizeW+"px"),1!=s&&(this.dhxcont.mainCont.style.width=this.dhxcont.clientWidth+"px");var l=null!=this.menu?this.menuHidden?0:this.menuHeight:0,h=null!=this.toolbar?this.toolbarHidden?0:this.toolbarHeight:0,r=null!=this.sb?this.sbHidden?0:this.sbHeight:0;this.dhxcont.mainCont.style.height=this.dhxcont.clientHeight-l-h-r+"px"},this.obj.updateNestedObjects=function(){},this.obj.attachObject=function(t,e){if("string"==typeof t&&(t=document.getElementById(t)),e){t.style.visibility="hidden",t.style.display="";var i=t.offsetWidth,s=t.offsetHeight}this._attachContent("obj",t),e&&this._isWindow&&(t.style.visibility="",this._adjustToContent(i,s))},this.obj.appendObject=function(t){"string"==typeof t&&(t=document.getElementById(t)),this._attachContent("obj",t,!0)},this.obj.attachHTMLString=function(t){this._attachContent("str",t);for(var e=t.match(/<script[^>]*>[^\f]*?<\/script>/g)||[],i=0;i<e.length;i++){var s=e[i].replace(/<([\/]{0,1})script[^>]*>/g,"");if(window.execScript){var n=e[i].match(/<script[^>]*src\s*=\s*("|')([^"']+)("|')/);n&&(s=dhtmlxAjax.getSync(n[2]).xmlDoc.responseText),s&&window.execScript(s)}else window.eval(s)}},this.obj.attachURL=function(t,e){this._attachContent(1==e?"urlajax":"url",t,!1)},this.obj._attachContent=function(t,i,s){if(s!==!0)for(;e.dhxcont.mainCont.childNodes.length>0;)e.dhxcont.mainCont.removeChild(e.dhxcont.mainCont.childNodes[0]);if("url"==t){var n=document.createElement("IFRAME");n.frameBorder=0,n.border=0,n.style.width="100%",n.style.height="100%",e.dhxcont.mainCont.appendChild(n),n.src=i,this._frame=n,this._doOnFrameContentLoaded&&this._doOnFrameContentLoaded(!0)}else if("urlajax"==t){var o=this,l=function(){o.attachHTMLString(this.xmlDoc.responseText,this),o._doOnFrameContentLoaded&&o._doOnFrameContentLoaded(!1),this.destructor()},h=new dtmlXMLLoaderObject(l,window);h.loadXML(i),o._doOnBeforeAttachURL&&o._doOnBeforeAttachURL(!1)}else"obj"==t?(e.dhxcont._frame=null,e.dhxcont.mainCont.appendChild(i),e.dhxcont.mainCont.style.overflow=s===!0?"auto":"hidden",i.style.display=""):"str"==t&&(e.dhxcont._frame=null,e.dhxcont.mainCont.innerHTML=i)},this.obj._dhxContDestruct=function(){}}),function(){dhtmlx.extend_api("dhtmlXTabBar",{_init:function(t){return[t.parent,t.mode,t.height]},tabs:"tabs",skin:"setSkin",offset:"setOffset",margin:"setMargin",image_path:"setImagePath",href_mode:"setHrefMode",align:"setAlign",xml:"loadXML",close_button:"enableTabCloseButton",scroll:"enableScroll",forced:"enableForceHiding",content_zone:"enableContentZone",size_by_content:"enableAutoSize",auto_size:"enableAutoReSize"},{tabs:function(t){for(var e=0;e<t.length;e++){var i=t[e];this.addTab(i.id,i.label,i.width,i.index,i.row),i.active&&this.setTabActive(i.id)}}})}(),dhtmlxEvent(window,"load",dhx_init_tabbars),dhtmlXToolbarObject.prototype.addSpacer=function(t){var e=this.idPrefix+t;if(null!=this._spacer){if(this._spacer.idd==t)return;if(this._spacer==this.objPull[e].obj.parentNode){for(var i=!0;i;){var s=this._spacer.childNodes[0].idd;this.base.appendChild(this._spacer.childNodes[0]),(s==t||0==this._spacer.childNodes.length)&&(null!=this.objPull[e].arw&&this.base.appendChild(this.objPull[e].arw),i=!1)}return this._spacer.idd=t,void this._fixSpacer()}if(this.base==this.objPull[e].obj.parentNode){for(var i=!0,n=null!=this.objPull[e].arw;i;){var o=this.base.childNodes.length-1;1==n&&this.base.childNodes[o]==this.objPull[e].arw&&(i=!1),this.base.childNodes[o].idd==t&&(i=!1),i&&(this._spacer.childNodes.length>0?this._spacer.insertBefore(this.base.childNodes[o],this._spacer.childNodes[0]):this._spacer.appendChild(this.base.childNodes[o]))}return this._spacer.idd=t,void this._fixSpacer()}}else{for(var l=null,o=0;o<this.base.childNodes.length;o++)this.base.childNodes[o]==this.objPull[this.idPrefix+t].obj&&(l=o,null!=this.objPull[this.idPrefix+t].arw&&(l=o+1));if(null!=l){for(this._spacer=document.createElement("DIV"),this._spacer.className="dhxtoolbar_spacer "+("right"==this.align?" float_left":" float_right"),this._spacer.dir="ltr",this._spacer.idd=t;this.base.childNodes.length>l+1;)this._spacer.appendChild(this.base.childNodes[l+1]);this.cont.appendChild(this._spacer),this._fixSpacer()}}"dhx_terrace"==this.skin&&this._improveTerraceSkin()},dhtmlXToolbarObject.prototype.removeSpacer=function(){if(this._spacer){for(;this._spacer.childNodes.length>0;)this.base.appendChild(this._spacer.childNodes[0]);this._spacer.parentNode.removeChild(this._spacer),this._spacer=null,"dhx_terrace"==this.skin&&this._improveTerraceSkin()}},dhtmlXToolbarObject.prototype._fixSpacer=function(){if(_isIE&&null!=this._spacer){this._spacer.style.borderLeft="1px solid #a4bed4";var t=this._spacer;window.setTimeout(function(){t.style.borderLeft="0px solid #a4bed4",t=null},1)}},dhtmlXToolbarObject.prototype.getType=function(t){var e=this.getParentId(t);if(null!=e){var i=null,s=this.objPull[this.idPrefix+e]._listOptions[t];return null!=s&&(i=null!=s.sep?"buttonSelectSeparator":"buttonSelectButton"),i}return null==this.objPull[this.idPrefix+t]?null:this.objPull[this.idPrefix+t].type},dhtmlXToolbarObject.prototype.getTypeExt=function(t){var e=this.getType(t);return"buttonSelectButton"==e||"buttonSelectSeparator"==e?e="buttonSelectButton"==e?"button":"separator":null},dhtmlXToolbarObject.prototype.inArray=function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},dhtmlXToolbarObject.prototype.getParentId=function(t){var e,i=null;for(e in this.objPull)if(this.objPull[e]._listOptions)for(var s in this.objPull[e]._listOptions)s==t&&(i=String(e).replace(this.idPrefix,""));return i},dhtmlXToolbarObject.prototype._addItem=function(t,e){this._addItemToStorage(t,e),"dhx_terrace"==this.skin&&this._improveTerraceSkin()},dhtmlXToolbarObject.prototype.addButton=function(t,e,i,s,n){this._addItem({id:t,type:"button",text:i,img:s,imgdis:n},e)},dhtmlXToolbarObject.prototype.addText=function(t,e,i){this._addItem({id:t,type:"text",text:i},e)},dhtmlXToolbarObject.prototype.addButtonSelect=function(t,e,i,s,n,o,l,h,r,a){for(var d=[],c=0;c<s.length;c++){var u={};s[c]instanceof Array?(u.id=s[c][0],u.type="obj"==s[c][1]?"button":"separator",u.text=s[c][2]||null,u.img=s[c][3]||null):s[c]instanceof Object&&null!=s[c]&&"undefined"!=typeof s[c].id&&"undefined"!=typeof s[c].type&&(u.id=s[c].id,u.type="obj"==s[c].type?"button":"separator",u.text=s[c].text,u.img=s[c].img),d[d.length]=u}this._addItem({id:t,type:"buttonSelect",text:i,img:n,imgdis:o,renderSelect:l,openAll:h,items:d,maxOpen:r,mode:a},e)},dhtmlXToolbarObject.prototype.addButtonTwoState=function(t,e,i,s,n){this._addItem({id:t,type:"buttonTwoState",img:s,imgdis:n,text:i},e)},dhtmlXToolbarObject.prototype.addSeparator=function(t,e){this._addItem({id:t,type:"separator"},e)},dhtmlXToolbarObject.prototype.addSlider=function(t,e,i,s,n,o,l,h,r){this._addItem({id:t,type:"slider",length:i,valueMin:s,valueMax:n,valueNow:o,textMin:l,textMax:h,toolTip:r},e)},dhtmlXToolbarObject.prototype.addInput=function(t,e,i,s){this._addItem({id:t,type:"buttonInput",value:i,width:s},e)},dhtmlXToolbarObject.prototype.forEachItem=function(t){for(var e in this.objPull)this.inArray(this.rootTypes,this.objPull[e].type)&&t(this.objPull[e].id.replace(this.idPrefix,""))},function(){for(var t="isVisible,enableItem,disableItem,isEnabled,setItemText,getItemText,setItemToolTip,getItemToolTip,getInput,setItemImage,setItemImageDis,clearItemImage,clearItemImageDis,setItemState,getItemState,setItemToolTipTemplate,getItemToolTipTemplate,setValue,getValue,setMinValue,getMinValue,setMaxValue,getMaxValue,setWidth,getWidth,setMaxOpen".split(","),e=[!1,"","",!1,"","","","","","","","","",!1,"","","",null,"",[null,null],"",[null,null],"",null],i=function(t,e){return function(i,s,n){return i=this.idPrefix+i,null!=this.objPull[i][t]?this.objPull[i][t].call(this.objPull[i],s,n):e}},s=0;s<t.length;s++){var n=t[s],o=e[s];dhtmlXToolbarObject.prototype[n]=i(n,o)}}(),dhtmlXToolbarObject.prototype.showItem=function(t){t=this.idPrefix+t,null!=this.objPull[t]&&null!=this.objPull[t].showItem&&(this.objPull[t].showItem(),"dhx_terrace"==this.skin&&this._improveTerraceSkin())},dhtmlXToolbarObject.prototype.hideItem=function(t){t=this.idPrefix+t,null!=this.objPull[t]&&null!=this.objPull[t].hideItem&&(this.objPull[t].hideItem(),"dhx_terrace"==this.skin&&this._improveTerraceSkin())},dhtmlXToolbarObject.prototype.getPosition=function(t){return this._getPosition(t)},dhtmlXToolbarObject.prototype._getPosition=function(t){if(null==this.objPull[this.idPrefix+t])return null;for(var e=null,i=0,s=0;s<this.base.childNodes.length;s++)null!=this.base.childNodes[s].idd&&(this.base.childNodes[s].idd==t&&(e=i),i++);if(!e&&null!=this._spacer)for(s=0;s<this._spacer.childNodes.length;s++)null!=this._spacer.childNodes[s].idd&&(this._spacer.childNodes[s].idd==t&&(e=i),i++);return e},dhtmlXToolbarObject.prototype.setPosition=function(t,e){this._setPosition(t,e)},dhtmlXToolbarObject.prototype._setPosition=function(t,e){if(null!=this.objPull[this.idPrefix+t]){isNaN(e)&&(e=this.base.childNodes.length),0>e&&(e=0);var i=null;this._spacer&&(i=this._spacer.idd,this.removeSpacer());var s=this.objPull[this.idPrefix+t];this.base.removeChild(s.obj),s.arw&&this.base.removeChild(s.arw);var n=this._getIdByPosition(e,!0);null==n[0]?(this.base.appendChild(s.obj),s.arw&&this.base.appendChild(s.arw)):(this.base.insertBefore(s.obj,this.base.childNodes[n[1]]),s.arw&&this.base.insertBefore(s.arw,this.base.childNodes[n[1]+1])),null!=i&&this.addSpacer(i)}},dhtmlXToolbarObject.prototype._getIdByPosition=function(t,e){for(var i=null,s=0,n=0,o=0;o<this.base.childNodes.length;o++)null!=this.base.childNodes[o].idd&&null==i&&s++==t&&(i=this.base.childNodes[o].idd),null==i&&n++;return n=null==i?null:n,1==e?[i,n]:i},dhtmlXToolbarObject.prototype.removeItem=function(t){this._removeItem(t),"dhx_terrace"==this.skin&&this._improveTerraceSkin()},dhtmlXToolbarObject.prototype._removeItem=function(t){var e=this.getType(t),t=this.idPrefix+t,i=this.objPull[t];if("button"==e&&(i.obj._doOnMouseOver=null,i.obj._doOnMouseOut=null,i.obj._doOnMouseUp=null,i.obj._doOnMouseUpOnceAnywhere=null,i.obj.onclick=null,i.obj.onmouseover=null,i.obj.onmouseout=null,i.obj.onmouseup=null,i.obj.onmousedown=null,i.obj.onselectstart=null,i.obj.renderAs=null,i.obj.idd=null,i.obj.parentNode.removeChild(i.obj),i.obj=null,i.id=null,i.state=null,i.img=null,i.imgEn=null,i.imgDis=null,i.type=null,i.enableItem=null,i.disableItem=null,i.isEnabled=null,i.showItem=null,i.hideItem=null,i.isVisible=null,i.setItemText=null,i.getItemText=null,i.setItemImage=null,i.clearItemImage=null,i.setItemImageDis=null,i.clearItemImageDis=null,i.setItemToolTip=null,i.getItemToolTip=null),"buttonTwoState"==e&&(i.obj._doOnMouseOver=null,i.obj._doOnMouseOut=null,i.obj.onmouseover=null,i.obj.onmouseout=null,i.obj.onmousedown=null,i.obj.onselectstart=null,i.obj.renderAs=null,i.obj.idd=null,i.obj.parentNode.removeChild(i.obj),i.obj=null,i.id=null,i.state=null,i.img=null,i.imgEn=null,i.imgDis=null,i.type=null,i.enableItem=null,i.disableItem=null,i.isEnabled=null,i.showItem=null,i.hideItem=null,i.isVisible=null,i.setItemText=null,i.getItemText=null,i.setItemImage=null,i.clearItemImage=null,i.setItemImageDis=null,i.clearItemImageDis=null,i.setItemToolTip=null,i.getItemToolTip=null,i.setItemState=null,i.getItemState=null),"buttonSelect"==e){for(var s in i._listOptions)this.removeListOption(t,s);i._listOptions=null,i.polygon._ie6cover&&(document.body.removeChild(i.polygon._ie6cover),i.polygon._ie6cover=null),i.p_tbl.removeChild(i.p_tbody),i.polygon.removeChild(i.p_tbl),i.polygon.onselectstart=null,document.body.removeChild(i.polygon),i.p_tbody=null,i.p_tbl=null,i.polygon=null,i.obj.onclick=null,i.obj.onmouseover=null,i.obj.onmouseout=null,i.obj.onmouseup=null,i.obj.onmousedown=null,i.obj.onselectstart=null,i.obj.idd=null,i.obj.iddPrefix=null,i.obj.parentNode.removeChild(i.obj),i.obj=null,i.arw.onclick=null,i.arw.onmouseover=null,i.arw.onmouseout=null,i.arw.onmouseup=null,i.arw.onmousedown=null,i.arw.onselectstart=null,i.arw.parentNode.removeChild(i.arw),i.arw=null,i.renderSelect=null,i.state=null,i.type=null,i.id=null,i.img=null,i.imgEn=null,i.imgDis=null,i.openAll=null,i._isListButton=null,i._separatorButtonSelectObject=null,i._buttonButtonSelectObject=null,i.setWidth=null,i.enableItem=null,i.disableItem=null,i.isEnabled=null,i.showItem=null,i.hideItem=null,i.isVisible=null,i.setItemText=null,i.getItemText=null,i.setItemImage=null,i.clearItemImage=null,i.setItemImageDis=null,i.clearItemImageDis=null,i.setItemToolTip=null,i.getItemToolTip=null,i.addListOption=null,i.removeListOption=null,i.showListOption=null,i.hideListOption=null,i.isListOptionVisible=null,i.enableListOption=null,i.disableListOption=null,i.isListOptionEnabled=null,i.setListOptionPosition=null,i.getListOptionPosition=null,i.setListOptionImage=null,i.getListOptionImage=null,i.clearListOptionImage=null,i.setListOptionText=null,i.getListOptionText=null,i.setListOptionToolTip=null,i.getListOptionToolTip=null,i.forEachListOption=null,i.getAllListOptions=null,i.setListOptionSelected=null,i.getListOptionSelected=null}if("buttonInput"==e&&(i.obj.childNodes[0].onkeydown=null,i.obj.removeChild(i.obj.childNodes[0]),i.obj.w=null,i.obj.idd=null,i.obj.parentNode.removeChild(i.obj),i.obj=null,i.id=null,i.type=null,i.enableItem=null,i.disableItem=null,i.isEnabled=null,i.showItem=null,i.hideItem=null,i.isVisible=null,i.setItemToolTip=null,i.getItemToolTip=null,i.setWidth=null,i.getWidth=null,i.setValue=null,i.getValue=null,i.setItemText=null,i.getItemText=null),"slider"==e){for(this._isIPad?(document.removeEventListener("touchmove",pen._doOnMouseMoveStart,!1),document.removeEventListener("touchend",pen._doOnMouseMoveEnd,!1)):"function"==typeof window.addEventListener?(window.removeEventListener("mousemove",i.pen._doOnMouseMoveStart,!1),window.removeEventListener("mouseup",i.pen._doOnMouseMoveEnd,!1)):(document.body.detachEvent("onmousemove",i.pen._doOnMouseMoveStart),document.body.detachEvent("onmouseup",i.pen._doOnMouseMoveEnd)),i.pen.allowMove=null,i.pen.initXY=null,i.pen.maxX=null,i.pen.minX=null,i.pen.nowX=null,i.pen.newNowX=null,i.pen.valueMax=null,i.pen.valueMin=null,i.pen.valueNow=null,i.pen._definePos=null,i.pen._detectLimits=null,i.pen._doOnMouseMoveStart=null,i.pen._doOnMouseMoveEnd=null,i.pen.onmousedown=null,i.obj.removeChild(i.pen),i.pen=null,i.label.tip=null,document.body.removeChild(i.label),i.label=null,i.obj.onselectstart=null,i.obj.idd=null;i.obj.childNodes.length>0;)i.obj.removeChild(i.obj.childNodes[0]);
i.obj.parentNode.removeChild(i.obj),i.obj=null,i.id=null,i.type=null,i.state=null,i.enableItem=null,i.disableItem=null,i.isEnabled=null,i.setItemToolTipTemplate=null,i.getItemToolTipTemplate=null,i.setMaxValue=null,i.setMinValue=null,i.getMaxValue=null,i.getMinValue=null,i.setValue=null,i.getValue=null,i.showItem=null,i.hideItem=null,i.isVisible=null}"separator"==e&&(i.obj.onselectstart=null,i.obj.idd=null,i.obj.parentNode.removeChild(i.obj),i.obj=null,i.id=null,i.type=null,i.showItem=null,i.hideItem=null,i.isVisible=null),"text"==e&&(i.obj.onselectstart=null,i.obj.idd=null,i.obj.parentNode.removeChild(i.obj),i.obj=null,i.id=null,i.type=null,i.showItem=null,i.hideItem=null,i.isVisible=null,i.setWidth=null,i.setItemText=null,i.getItemText=null),i=e=null,this.objPull[this.idPrefix+t]=null,delete this.objPull[this.idPrefix+t]},function(){for(var t="addListOption,removeListOption,showListOption,hideListOption,isListOptionVisible,enableListOption,disableListOption,isListOptionEnabled,setListOptionPosition,getListOptionPosition,setListOptionText,getListOptionText,setListOptionToolTip,getListOptionToolTip,setListOptionImage,getListOptionImage,clearListOptionImage,forEachListOption,getAllListOptions,setListOptionSelected,getListOptionSelected".split(","),e=function(t){return function(e,i,s,n,o,l){return e=this.idPrefix+e,null!=this.objPull[e]?"buttonSelect"!=this.objPull[e].type?void 0:this.objPull[e][t].call(this.objPull[e],i,s,n,o,l):void 0}},i=0;i<t.length;i++){var s=t[i];dhtmlXToolbarObject.prototype[s]=e(s)}}(),dhtmlXToolbarObject.prototype._rtlParseBtn=function(t,e){return t+e},dhtmlXToolbarObject.prototype._separatorObject=function(t,e,i){return this.id=t.idPrefix+e,this.obj=document.createElement("DIV"),this.obj.className="dhx_toolbar_sep",this.obj.style.display=null!=i.hidden?"none":"",this.obj.idd=String(e),this.obj.title=i.title||"",this.obj.onselectstart=function(t){t=t||event,t.returnValue=!1},t._isIPad&&(this.obj.ontouchstart=function(t){return t=t||event,t.returnValue=!1,t.cancelBubble=!0,!1}),t.base.appendChild(this.obj),this.showItem=function(){this.obj.style.display=""},this.hideItem=function(){this.obj.style.display="none"},this.isVisible=function(){return""==this.obj.style.display},this},dhtmlXToolbarObject.prototype._textObject=function(t,e,i){return this.id=t.idPrefix+e,this.obj=document.createElement("DIV"),this.obj.className="dhx_toolbar_text",this.obj.style.display=null!=i.hidden?"none":"",this.obj.idd=String(e),this.obj.title=i.title||"",this.obj.onselectstart=function(t){t=t||event,t.returnValue=!1},t._isIPad&&(this.obj.ontouchstart=function(t){return t=t||event,t.returnValue=!1,t.cancelBubble=!0,!1}),this.obj.innerHTML=i.text||"",t.base.appendChild(this.obj),this.showItem=function(){this.obj.style.display=""},this.hideItem=function(){this.obj.style.display="none"},this.isVisible=function(){return""==this.obj.style.display},this.setItemText=function(t){this.obj.innerHTML=t},this.getItemText=function(){return this.obj.innerHTML},this.setWidth=function(t){this.obj.style.width=t+"px"},this.setItemToolTip=function(t){this.obj.title=t},this.getItemToolTip=function(){return this.obj.title},this},dhtmlXToolbarObject.prototype._buttonObject=function(t,e,i){this.id=t.idPrefix+e,this.state=null!=i.enabled?!1:!0,this.imgEn=i.img||"",this.imgDis=i.imgdis||"",this.img=this.state?""!=this.imgEn?this.imgEn:"":""!=this.imgDis?this.imgDis:"",this.obj=document.createElement("DIV"),this.obj.className="dhx_toolbar_btn "+(this.state?"def":"dis"),this.obj.style.display=null!=i.hidden?"none":"",this.obj.allowClick=!1,this.obj.extAction=i.action||null,this.obj.renderAs=this.obj.className,this.obj.idd=String(e),this.obj.title=i.title||"",this.obj.pressed=!1,this.obj.innerHTML=t._rtlParseBtn(""!=this.img?"<img src='"+t.imagePath+this.img+"'>":"",null!=i.text?"<div>"+i.text+"</div>":"");var s=this;return this.obj.onselectstart=function(t){t=t||event,t.returnValue=!1},this.obj.onmouseover=function(){this._doOnMouseOver()},this.obj.onmouseout=function(){this._doOnMouseOut()},this.obj._doOnMouseOver=function(){this.allowClick=!0,0!=s.state&&"none"==t.anyUsed&&(this.renderAs=this.className="dhx_toolbar_btn over")},this.obj._doOnMouseOut=function(){this.allowClick=!1,0!=s.state&&"none"==t.anyUsed&&(this.className="dhx_toolbar_btn def",this.renderAs=this.renderAs)},this.obj.onclick=function(e){if(0!=s.state&&0!=this.allowClick){var i=this.idd.replace(t.idPrefix,"");if(this.extAction)try{window[this.extAction](i)}catch(n){}t&&t.callEvent&&t.callEvent("onClick",[i])}},this.obj[t._isIPad?"ontouchstart":"onmousedown"]=function(e){return 0==s.state?(e=e||event,e.returnValue=!1,e.cancelBubble=!0,!1):"none"==t.anyUsed?(t.anyUsed=this.idd,this.className="dhx_toolbar_btn pres",this.pressed=!0,this.onmouseover=function(){this._doOnMouseOver()},this.onmouseout=function(){t.anyUsed="none",this._doOnMouseOut()},!1):void 0},this.obj[t._isIPad?"ontouchend":"onmouseup"]=function(){if(0!=s.state&&("none"==t.anyUsed||t.anyUsed==this.idd)){var e=t.anyUsed;this._doOnMouseUp(),t._isIPad&&"none"!=e&&t.callEvent("onClick",[this.idd.replace(t.idPrefix,"")])}},t._isIPad&&(this.obj.ontouchmove=function(){this._doOnMouseUp()}),this.obj._doOnMouseUp=function(){t.anyUsed="none",this.className=this.renderAs,this.pressed=!1},this.obj._doOnMouseUpOnceAnywhere=function(){this._doOnMouseUp(),this.onmouseover=function(){this._doOnMouseOver()},this.onmouseout=function(){this._doOnMouseOut()}},t.base.appendChild(this.obj),this.enableItem=function(){t._enableItem(this)},this.disableItem=function(){t._disableItem(this)},this.isEnabled=function(){return this.state},this.showItem=function(){this.obj.style.display=""},this.hideItem=function(){this.obj.style.display="none"},this.isVisible=function(){return""==this.obj.style.display},this.setItemText=function(e){t._setItemText(this,e)},this.getItemText=function(){return t._getItemText(this)},this.setItemImage=function(e){t._setItemImage(this,e,!0)},this.clearItemImage=function(){t._clearItemImage(this,!0)},this.setItemImageDis=function(e){t._setItemImage(this,e,!1)},this.clearItemImageDis=function(){t._clearItemImage(this,!1)},this.setItemToolTip=function(t){this.obj.title=t},this.getItemToolTip=function(){return this.obj.title},this},dhtmlXToolbarObject.prototype._buttonSelectObject=function(t,e,i){this.id=t.idPrefix+e,this.state=null!=i.enabled?"true"==i.enabled?!0:!1:!0,this.imgEn=i.img||"",this.imgDis=i.imgdis||"",this.img=this.state?""!=this.imgEn?this.imgEn:"":""!=this.imgDis?this.imgDis:"",this.mode=i.mode||"button","select"==this.mode?(this.openAll=!0,this.renderSelect=!1,i.text&&0!=i.text.length||(i.text="&nbsp;")):(this.openAll="true"==i.openAll||1==i.openAll||1==i.openAll||"1"==i.openAll||"yes"==i.openAll||"on"==i.openAll,this.renderSelect=null!=i.renderSelect&&("false"==i.renderSelect||"disabled"==i.renderSelect)?!1:!0),this.maxOpen=isNaN(i.maxOpen?i.maxOpen:"")?null:i.maxOpen,this._maxOpenTest=function(){if(!isNaN(this.maxOpen)&&!t._sbw){var e=document.createElement("DIV");e.className="dhxtoolbar_maxopen_test",document.body.appendChild(e);var i=document.createElement("DIV");i.className="dhxtoolbar_maxopen_test2",e.appendChild(i),t._sbw=e.offsetWidth-i.offsetWidth,e.removeChild(i),i=null,document.body.removeChild(e),e=null}},this._maxOpenTest(),this.obj=document.createElement("DIV"),this.obj.allowClick=!1,this.obj.extAction=i.action||null,this.obj.className="dhx_toolbar_btn "+(this.state?"def":"dis"),this.obj.style.display=null!=i.hidden?"none":"",this.obj.renderAs=this.obj.className,this.obj.onselectstart=function(t){t=t||event,t.returnValue=!1},this.obj.idd=String(e),this.obj.title=i.title||"",this.callEvent=this.obj.pressed=!1,this.obj.innerHTML=t._rtlParseBtn(""!=this.img?"<img src='"+t.imagePath+this.img+"'>":"",null!=i.text?"<div>"+i.text+"</div>":""),t.base.appendChild(this.obj),this.arw=document.createElement("DIV"),this.arw.className="dhx_toolbar_arw "+(this.state?"def":"dis"),this.arw.style.display=this.obj.style.display,this.arw.innerHTML="<div class='arwimg'>&nbsp;</div>",this.arw.title=this.obj.title,this.arw.onselectstart=function(t){t=t||event,t.returnValue=!1},t.base.appendChild(this.arw);var s=this;if(this.obj.onmouseover=function(e){e=e||event,"none"==t.anyUsed&&s.state&&(s.obj.renderAs="dhx_toolbar_btn over",s.obj.className=s.obj.renderAs,s.arw.className=String(s.obj.renderAs).replace("btn","arw"))},this.obj.onmouseout=function(){s.obj.allowClick=!1,"none"==t.anyUsed&&s.state&&(s.obj.renderAs="dhx_toolbar_btn def",s.obj.className=s.obj.renderAs,s.arw.className=String(s.obj.renderAs).replace("btn","arw"),s.callEvent=!1)},this.arw.onmouseover=this.obj.onmouseover,this.arw.onmouseout=this.obj.onmouseout,1!=this.openAll&&(this.obj.onclick=function(e){if(e=e||event,s.obj.allowClick&&s.state&&"none"==t.anyUsed){var i=s.obj.idd.replace(t.idPrefix,"");if(s.obj.extAction)try{window[s.obj.extAction](i)}catch(n){}t.callEvent("onClick",[i])}},this.obj[t._isIPad?"ontouchstart":"onmousedown"]=function(e){e=e||event,"none"==t.anyUsed&&s.state&&(s.obj.allowClick=!0,s.obj.className="dhx_toolbar_btn pres",s.arw.className="dhx_toolbar_arw pres",s.callEvent=!0)},this.obj[t._isIPad?"ontouchend":"onmouseup"]=function(e){if(e=e||event,e.cancelBubble=!0,"none"==t.anyUsed&&s.state&&(s.obj.className=s.obj.renderAs,s.arw.className=String(s.obj.renderAs).replace("btn","arw"),t._isIPad&&s.callEvent)){var i=s.obj.idd.replace(t.idPrefix,"");t.callEvent("onClick",[i])}}),t._isIPad&&(this.obj.ontouchmove=this.obj.onmouseout),this.arw[t._isIPad?"ontouchstart":"onmousedown"]=function(e){var e=e||event,i=0===this.className.indexOf("dhx_toolbar_arw")?this:this.nextSibling;if(i._skip?(e=e||event,e.cancelBubble=!0):i._skip=!0,i=null,s.state){if(t.anyUsed==s.obj.idd)s.obj.className=s.obj.renderAs,s.arw.className=String(s.obj.renderAs).replace("btn","arw"),t.anyUsed="none",s.polygon.style.display="none",s.polygon._ie6cover&&(s.polygon._ie6cover.style.display="none"),"dhx_terrace"==t.skin&&t._improveTerraceButtonSelect(s.id,!0);else{if("none"!=t.anyUsed&&"buttonSelect"==t.objPull[t.idPrefix+t.anyUsed].type){var n=t.objPull[t.idPrefix+t.anyUsed];"none"!=n.polygon.style.display&&(n.obj.renderAs="dhx_toolbar_btn def",n.obj.className=n.obj.renderAs,n.arw.className=String(s.obj.renderAs).replace("btn","arw"),n.polygon.style.display="none",n.polygon._ie6cover&&(n.polygon._ie6cover.style.display="none"),"dhx_terrace"==t.skin&&t._improveTerraceButtonSelect(n.id,!0))}s.obj.className="dhx_toolbar_btn over",s.arw.className="dhx_toolbar_arw pres",t.anyUsed=s.obj.idd,s.polygon.style.top="0px",s.polygon.style.visibility="hidden",s.polygon.style.display="","dhx_terrace"==t.skin&&t._improveTerraceButtonSelect(s.id,!1),s._fixMaxOpenHeight(s.maxOpen||null),t._autoDetectVisibleArea();var o=getAbsoluteTop(s.obj)+s.obj.offsetHeight+t.selectPolygonOffsetTop,l=s.polygon.offsetHeight;if(o+l>t.tY2){var h=null!=s.maxOpen?Math.floor((t.tY2-o)/22):0;h>=1?s._fixMaxOpenHeight(h):(o=getAbsoluteTop(s.obj)-l-t.selectPolygonOffsetTop,0>o&&(o=0))}if(s.polygon.style.top=o+"px",t.rtl)s.polygon.style.left=getAbsoluteLeft(s.obj)+s.obj.offsetWidth-s.polygon.offsetWidth+t.selectPolygonOffsetLeft+"px";else{var r=document.body.scrollLeft,a=r+(window.innerWidth||document.body.clientWidth),d=getAbsoluteLeft(s.obj)+t.selectPolygonOffsetLeft;d+s.polygon.offsetWidth>a&&(d=getAbsoluteLeft(s.arw)+s.arw.offsetWidth-s.polygon.offsetWidth),s.polygon.style.left=d+"px"}s.polygon.style.visibility="visible",s.polygon._ie6cover&&(s.polygon._ie6cover.style.left=s.polygon.style.left,s.polygon._ie6cover.style.top=s.polygon.style.top,s.polygon._ie6cover.style.width=s.polygon.offsetWidth+"px",s.polygon._ie6cover.style.height=s.polygon.offsetHeight+"px",s.polygon._ie6cover.style.display="")}return!1}},this.arw.onclick=function(t){t=t||event,t.cancelBubble=!0},this.arw[t._isIPad?"ontouchend":"onmouseup"]=function(t){t=t||event,t.cancelBubble=!0},this.openAll===!0&&(this.obj.onclick=this.arw.onclick,this.obj.onmousedown=this.arw.onmousedown,this.obj.onmouseup=this.arw.onmouseup,t._isIPad)&&(this.obj.ontouchstart=this.arw.ontouchstart,this.obj.ontouchend=this.arw.ontouchend),this.obj.iddPrefix=t.idPrefix,this._listOptions={},this._fixMaxOpenHeight=function(e){var i="auto",n=!1;if(null!==e){var o,l=0;for(o in this._listOptions)l++;l>e?(this._ph=22*e,i=this._ph+"px"):n=!0}this.polygon.style.width="auto",this.polygon.style.height="auto",n||null==s.maxOpen||(this.polygon.style.width=this.p_tbl.offsetWidth+t._sbw+"px",this.polygon.style.height=i)},this._separatorButtonSelectObject=function(t,e,i){return this.obj={},this.obj.tr=document.createElement("TR"),this.obj.tr.className="tr_sep",this.obj.tr.onselectstart=function(t){return t=t||event,t.returnValue=!1},this.obj.td=document.createElement("TD"),this.obj.td.colSpan="2",this.obj.td.className="td_btn_sep",this.obj.td.onselectstart=function(t){return t=t||event,t.returnValue=!1},isNaN(i)?i=s.p_tbody.childNodes.length+1:1>i&&(i=1),i>s.p_tbody.childNodes.length?s.p_tbody.appendChild(this.obj.tr):s.p_tbody.insertBefore(this.obj.tr,s.p_tbody.childNodes[i-1]),this.obj.tr.appendChild(this.obj.td),this.obj.sep=document.createElement("DIV"),this.obj.sep.className="btn_sep",this.obj.sep.onselectstart=function(t){return t=t||event,t.returnValue=!1},this.obj.td.appendChild(this.obj.sep),s._listOptions[t]=this.obj,this},this._buttonButtonSelectObject=function(e,i,n){this.obj={},this.obj.tr=document.createElement("TR"),this.obj.tr.en="false"==i.enabled?!1:"true"==i.disabled?!1:!0,this.obj.tr.extAction=i.action||null,this.obj.tr._selected=null!=i.selected,this.obj.tr.className="tr_btn"+(this.obj.tr.en?this.obj.tr._selected&&s.renderSelect?" tr_btn_selected":"":" tr_btn_disabled"),this.obj.tr.onselectstart=function(t){return t=t||event,t.returnValue=!1},this.obj.tr.idd=String(e),i.userdata&&(this.obj.userData=i.userdata),isNaN(n)?n=s.p_tbody.childNodes.length+1:1>n&&(n=1),n>s.p_tbody.childNodes.length?s.p_tbody.appendChild(this.obj.tr):s.p_tbody.insertBefore(this.obj.tr,s.p_tbody.childNodes[n-1]),this.obj.td_a=document.createElement("TD"),this.obj.td_a.className="td_btn_img",this.obj.td_a.onselectstart=function(t){return t=t||event,t.returnValue=!1},this.obj.td_b=document.createElement("TD"),this.obj.td_b.className="td_btn_txt",this.obj.td_b.onselectstart=function(t){return t=t||event,t.returnValue=!1},t.rtl?(this.obj.tr.appendChild(this.obj.td_b),this.obj.tr.appendChild(this.obj.td_a)):(this.obj.tr.appendChild(this.obj.td_a),this.obj.tr.appendChild(this.obj.td_b)),null!=i.img&&(this.obj.td_a.innerHTML="<img class='btn_sel_img' src='"+t.imagePath+i.img+"' border='0'>",this.obj.tr._img=i.img);var o=null!=i.text?i.text:i.itemText||"";return this.obj.td_b.innerHTML="<div class='btn_sel_text'>"+o+"</div>",this.obj.tr[t._isIPad?"ontouchstart":"onmouseover"]=function(){!this.en||this._selected&&s.renderSelect||(this.className="tr_btn tr_btn_over")},this.obj.tr.onmouseout=function(){this.en&&(this._selected&&s.renderSelect?-1==String(this.className).search("tr_btn_selected")&&(this.className="tr_btn tr_btn_selected"):this.className="tr_btn")},this.obj.tr[t._isIPad?"ontouchend":"onclick"]=function(e){if(e=e||event,e.cancelBubble=!0,this.en){s.setListOptionSelected(this.idd.replace(t.idPrefix,"")),s.obj.renderAs="dhx_toolbar_btn def",s.obj.className=s.obj.renderAs,s.arw.className=String(s.obj.renderAs).replace("btn","arw"),s.polygon.style.display="none",s.polygon._ie6cover&&(s.polygon._ie6cover.style.display="none"),"dhx_terrace"==t.skin&&t._improveTerraceButtonSelect(s.id,!0),t.anyUsed="none";var i=this.idd.replace(t.idPrefix,"");if(this.extAction)try{window[this.extAction](i)}catch(n){}t.callEvent("onClick",[i])}},s._listOptions[e]=this.obj,this},this.polygon=document.createElement("DIV"),this.polygon.dir="ltr",this.polygon.style.display="none",this.polygon.style.zIndex=101,this.polygon.className="dhx_toolbar_poly_"+t.iconSize+"_"+t.skin+(t.rtl?" rtl":""),this.polygon.onselectstart=function(t){t=t||event,t.returnValue=!1},this.polygon.onmousedown=function(t){t=t||event,t.cancelBubble=!0},this.polygon.style.overflowY="auto",t._isIPad&&(this.polygon.ontouchstart=function(t){return t=t||event,t.returnValue=!1,t.cancelBubble=!0,!1}),this.p_tbl=document.createElement("TABLE"),this.p_tbl.className="buttons_cont",this.p_tbl.cellSpacing="0",this.p_tbl.cellPadding="0",this.p_tbl.border="0",this.polygon.appendChild(this.p_tbl),this.p_tbody=document.createElement("TBODY"),this.p_tbl.appendChild(this.p_tbody),i.items)for(var n=0;n<i.items.length;n++){var o="_"+(i.items[n].type||"")+"ButtonSelectObject";"function"==typeof this[o]&&new this[o](i.items[n].id||t._genStr(24),i.items[n])}return document.body.appendChild(this.polygon),t._isIE6&&(this.polygon._ie6cover=document.createElement("IFRAME"),this.polygon._ie6cover.frameBorder=0,this.polygon._ie6cover.style.position="absolute",this.polygon._ie6cover.style.border="none",this.polygon._ie6cover.style.backgroundColor="#000000",this.polygon._ie6cover.style.filter="alpha(opacity=100)",this.polygon._ie6cover.style.display="none",this.polygon._ie6cover.setAttribute("src","javascript:false;"),document.body.appendChild(this.polygon._ie6cover)),this.setWidth=function(t){this.obj.style.width=t-this.arw.offsetWidth+"px",this.polygon.style.width=this.obj.offsetWidth+this.arw.offsetWidth-2+"px",this.p_tbl.style.width=this.polygon.style.width},this.enableItem=function(){t._enableItem(this)},this.disableItem=function(){t._disableItem(this)},this.isEnabled=function(){return this.state},this.showItem=function(){this.obj.style.display="",this.arw.style.display=""},this.hideItem=function(){this.obj.style.display="none",this.arw.style.display="none"},this.isVisible=function(){return""==this.obj.style.display},this.setItemText=function(e){t._setItemText(this,e)},this.getItemText=function(){return t._getItemText(this)},this.setItemImage=function(e){t._setItemImage(this,e,!0)},this.clearItemImage=function(){t._clearItemImage(this,!0)},this.setItemImageDis=function(e){t._setItemImage(this,e,!1)},this.clearItemImageDis=function(){t._clearItemImage(this,!1)},this.setItemToolTip=function(t){this.obj.title=t,this.arw.title=t},this.getItemToolTip=function(){return this.obj.title},this.addListOption=function(t,e,i,s,n){if("button"==i||"separator"==i){var o={id:t,type:i,text:s,img:n};new this["_"+i+"ButtonSelectObject"](t,o,e)}},this.removeListOption=function(t){if(this._isListButton(t,!0)){var e=this._listOptions[t];if(null!=e.td_a&&null!=e.td_b){for(e.td_a.onselectstart=null,e.td_b.onselectstart=null;e.td_a.childNodes.length>0;)e.td_a.removeChild(e.td_a.childNodes[0]);for(;e.td_b.childNodes.length>0;)e.td_b.removeChild(e.td_b.childNodes[0]);for(e.tr.onselectstart=null,e.tr.onmouseover=null,e.tr.onmouseout=null,e.tr.onclick=null;e.tr.childNodes.length>0;)e.tr.removeChild(e.tr.childNodes[0]);e.tr.parentNode.removeChild(e.tr),e.td_a=null,e.td_b=null}else{for(e.sep.onselectstart=null,e.td.onselectstart=null,e.tr.onselectstart=null;e.td.childNodes.length>0;)e.td.removeChild(e.td.childNodes[0]);for(;e.tr.childNodes.length>0;)e.tr.removeChild(e.tr.childNodes[0]);e.tr.parentNode.removeChild(e.tr),e.sep=null,e.td=null}e=e.tr=null,this._listOptions[t]=null;try{delete this._listOptions[t]}catch(i){}}},this.showListOption=function(t){this._isListButton(t,!0)&&(this._listOptions[t].tr.style.display="")},this.hideListOption=function(t){this._isListButton(t,!0)&&(this._listOptions[t].tr.style.display="none")},this.isListOptionVisible=function(t){return this._isListButton(t,!0)?"none"!=this._listOptions[t].tr.style.display:void 0},this.enableListOption=function(e){this._isListButton(e)&&(this._listOptions[e].tr.en=!0,this._listOptions[e].tr.className="tr_btn"+(this._listOptions[e].tr._selected&&t.renderSelect?" tr_btn_selected":""))},this.disableListOption=function(t){this._isListButton(t)&&(this._listOptions[t].tr.en=!1,this._listOptions[t].tr.className="tr_btn tr_btn_disabled")},this.isListOptionEnabled=function(t){return this._isListButton(t)?this._listOptions[t].tr.en:void 0},this.setListOptionPosition=function(t,e){if(this._listOptions[t]&&this.getListOptionPosition(t)!=e&&!isNaN(e)){1>e&&(e=1);var i=this._listOptions[t].tr;this.p_tbody.removeChild(i),e>this.p_tbody.childNodes.length?this.p_tbody.appendChild(i):this.p_tbody.insertBefore(i,this.p_tbody.childNodes[e-1]),i=null}},this.getListOptionPosition=function(t){var e=-1;if(!this._listOptions[t])return e;for(var i=0;i<this.p_tbody.childNodes.length;i++)this.p_tbody.childNodes[i]==this._listOptions[t].tr&&(e=i+1);return e},this.setListOptionImage=function(e,i){if(this._isListButton(e)){var s=this._listOptions[e].tr.childNodes[t.rtl?1:0];if(s.childNodes.length>0)s.childNodes[0].src=t.imagePath+i;else{var n=document.createElement("IMG");n.className="btn_sel_img",n.src=t.imagePath+i,s.appendChild(n)}s=null}},this.getListOptionImage=function(e){if(this._isListButton(e)){var i=this._listOptions[e].tr.childNodes[t.rtl?1:0],s=null;return i.childNodes.length>0&&(s=i.childNodes[0].src),i=null,s}},this.clearListOptionImage=function(e){if(this._isListButton(e)){for(var i=this._listOptions[e].tr.childNodes[t.rtl?1:0];i.childNodes.length>0;)i.removeChild(i.childNodes[0]);i=null}},this.setListOptionText=function(e,i){this._isListButton(e)&&(this._listOptions[e].tr.childNodes[t.rtl?0:1].childNodes[0].innerHTML=i)},this.getListOptionText=function(e){return this._isListButton(e)?this._listOptions[e].tr.childNodes[t.rtl?0:1].childNodes[0].innerHTML:void 0},this.setListOptionToolTip=function(t,e){this._isListButton(t)&&(this._listOptions[t].tr.title=e)},this.getListOptionToolTip=function(t){return this._isListButton(t)?this._listOptions[t].tr.title:void 0},this.forEachListOption=function(t){for(var e in this._listOptions)t(e)},this.getAllListOptions=function(){var t,e=[];for(t in this._listOptions)e[e.length]=t;return e},this.setListOptionSelected=function(t){for(var e in this._listOptions){var i=this._listOptions[e];null!=i.td_a&&null!=i.td_b&&i.tr.en&&(e==t?(i.tr._selected=!0,i.tr.className="tr_btn"+(this.renderSelect?" tr_btn_selected":""),"select"==this.mode&&(i.tr._img?this.setItemImage(i.tr._img):this.clearItemImage(),this.setItemText(this.getListOptionText(t)))):(i.tr._selected=!1,i.tr.className="tr_btn")),i=null}},this.getListOptionSelected=function(){var t,e=null;for(t in this._listOptions)1==this._listOptions[t].tr._selected&&(e=t);return e},this._isListButton=function(t,e){return null==this._listOptions[t]?!1:e||"tr_sep"!=this._listOptions[t].tr.className?!0:!1},this.setMaxOpen=function(t){this._ph=null,"number"==typeof t?(this.maxOpen=t,this._maxOpenTest()):this.maxOpen=null},i.width&&this.setWidth(i.width),"select"==this.mode&&"undefined"!=typeof i.selected&&this.setListOptionSelected(i.selected),this},dhtmlXToolbarObject.prototype._buttonInputObject=function(t,e,i){this.id=t.idPrefix+e,this.obj=document.createElement("DIV"),this.obj.className="dhx_toolbar_btn def",this.obj.style.display=null!=i.hidden?"none":"",this.obj.idd=String(e),this.obj.w=null!=i.width?i.width:100,this.obj.title=null!=i.title?i.title:"",this.obj.innerHTML="<input class='inp' type='text' style='-moz-user-select:text;width:"+this.obj.w+"px;'"+(null!=i.value?" value='"+i.value+"'":"")+">";var s=t,n=this;return this.obj.childNodes[0].onkeydown=function(t){t=t||event,13==t.keyCode&&s.callEvent("onEnter",[n.obj.idd,this.value])},t.base.appendChild(this.obj),this.enableItem=function(){this.obj.childNodes[0].disabled=!1},this.disableItem=function(){this.obj.childNodes[0].disabled=!0},this.isEnabled=function(){return!this.obj.childNodes[0].disabled},this.showItem=function(){this.obj.style.display=""},this.hideItem=function(){this.obj.style.display="none"},this.isVisible=function(){return"none"!=this.obj.style.display},this.setValue=function(t){this.obj.childNodes[0].value=t},this.getValue=function(){return this.obj.childNodes[0].value},this.setWidth=function(t){this.obj.w=t,this.obj.childNodes[0].style.width=this.obj.w+"px"},this.getWidth=function(){return this.obj.w},this.setItemToolTip=function(t){this.obj.title=t},this.getItemToolTip=function(){return this.obj.title},this.getInput=function(){return this.obj.firstChild},this},dhtmlXToolbarObject.prototype._buttonTwoStateObject=function(t,e,i){this.id=t.idPrefix+e,this.state=null!=i.enabled?!1:!0,this.imgEn=null!=i.img?i.img:"",this.imgDis=null!=i.imgdis?i.imgdis:"",this.img=this.state?""!=this.imgEn?this.imgEn:"":""!=this.imgDis?this.imgDis:"",this.obj=document.createElement("DIV"),this.obj.pressed=null!=i.selected,this.obj.extAction=i.action||null,this.obj.className="dhx_toolbar_btn "+(this.obj.pressed?"pres"+(this.state?"":"_dis"):this.state?"def":"dis"),this.obj.style.display=null!=i.hidden?"none":"",this.obj.renderAs=this.obj.className,this.obj.idd=String(e),this.obj.title=i.title||"",this.obj.pressed&&(this.obj.renderAs="dhx_toolbar_btn over"),this.obj.innerHTML=t._rtlParseBtn(""!=this.img?"<img src='"+t.imagePath+this.img+"'>":"",null!=i.text?"<div>"+i.text+"</div>":""),t.base.appendChild(this.obj);var s=this;return this.obj.onselectstart=function(t){t=t||event,t.returnValue=!1},this.obj.onmouseover=function(){this._doOnMouseOver()},this.obj.onmouseout=function(){this._doOnMouseOut()},this.obj._doOnMouseOver=function(){0!=s.state&&"none"==t.anyUsed&&(this.renderAs=this.pressed?"dhx_toolbar_btn over":this.className="dhx_toolbar_btn over")},this.obj._doOnMouseOut=function(){0!=s.state&&"none"==t.anyUsed&&(this.renderAs=this.pressed?"dhx_toolbar_btn def":this.className="dhx_toolbar_btn def")},this.obj[t._isIPad?"ontouchstart":"onmousedown"]=function(){if((!t.checkEvent("onBeforeStateChange")||t.callEvent("onBeforeStateChange",[this.idd.replace(t.idPrefix,""),this.pressed]))&&0!=s.state&&"none"==t.anyUsed){this.className=(this.pressed=!this.pressed)?"dhx_toolbar_btn pres":this.renderAs;var e=this.idd.replace(t.idPrefix,"");if(this.extAction)try{window[this.extAction](e,this.pressed)}catch(i){}return t.callEvent("onStateChange",[e,this.pressed]),!1}},this.setItemState=function(e,i){if(this.obj.pressed!=e&&(1==e?(this.obj.pressed=!0,this.obj.className="dhx_toolbar_btn pres"+(this.state?"":"_dis"),this.obj.renderAs="dhx_toolbar_btn over"):(this.obj.pressed=!1,this.obj.className="dhx_toolbar_btn "+(this.state?"def":"dis"),this.obj.renderAs=this.obj.className),1==i)){var s=this.obj.idd.replace(t.idPrefix,"");if(this.obj.extAction)try{window[this.obj.extAction](s,this.obj.pressed)}catch(n){}t.callEvent("onStateChange",[s,this.obj.pressed])}},this.getItemState=function(){return this.obj.pressed},this.enableItem=function(){t._enableItem(this)},this.disableItem=function(){t._disableItem(this)},this.isEnabled=function(){return this.state},this.showItem=function(){this.obj.style.display=""},this.hideItem=function(){this.obj.style.display="none"},this.isVisible=function(){return""==this.obj.style.display},this.setItemText=function(e){t._setItemText(this,e)},this.getItemText=function(){return t._getItemText(this)},this.setItemImage=function(e){t._setItemImage(this,e,!0)},this.clearItemImage=function(){t._clearItemImage(this,!0)},this.setItemImageDis=function(e){t._setItemImage(this,e,!1)},this.clearItemImageDis=function(){t._clearItemImage(this,!1)},this.setItemToolTip=function(t){this.obj.title=t},this.getItemToolTip=function(){return this.obj.title},this},dhtmlXToolbarObject.prototype._sliderObject=function(t,e,i){this.id=t.idPrefix+e,this.state=null!=i.enabled?"true"==i.enabled?!0:!1:!0,this.obj=document.createElement("DIV"),this.obj.className="dhx_toolbar_btn "+(this.state?"def":"dis"),this.obj.style.display=null!=i.hidden?"none":"",this.obj.onselectstart=function(t){t=t||event,t.returnValue=!1},this.obj.idd=String(e),this.obj.len=null!=i.length?Number(i.length):50,this.obj.innerHTML="<div>"+(i.textMin||"")+"</div><div class='sl_bg_l'></div><div class='sl_bg_m' style='width:"+this.obj.len+"px;'></div><div class='sl_bg_r'></div><div>"+(i.textMax||"")+"</div>",t.base.appendChild(this.obj);var s=this;this.pen=document.createElement("DIV"),this.pen.className="sl_pen",this.obj.appendChild(this.pen);var n=this.pen;this.label=document.createElement("DIV"),this.label.dir="ltr",this.label.className="dhx_toolbar_slider_label_"+t.skin+(t.rtl?"_rtl":""),this.label.style.display="none",this.label.tip=i.toolTip||"%v",document.body.appendChild(this.label);var o=this.label;return this.pen.valueMin=null!=i.valueMin?Number(i.valueMin):0,this.pen.valueMax=null!=i.valueMax?Number(i.valueMax):100,this.pen.valueMin>this.pen.valueMax&&(this.pen.valueMin=this.pen.valueMax),this.pen.valueNow=null!=i.valueNow?Number(i.valueNow):this.pen.valueMax,this.pen.valueNow>this.pen.valueMax&&(this.pen.valueNow=this.pen.valueMax),this.pen.valueNow<this.pen.valueMin&&(this.pen.valueNow=this.pen.valueMin),this.pen._detectLimits=function(){this.minX=s.obj.childNodes[1].offsetLeft-4,this.maxX=s.obj.childNodes[3].offsetLeft-this.offsetWidth+1},this.pen._detectLimits(),this.pen._definePos=function(){this.nowX=Math.round((this.valueNow-this.valueMin)*(this.maxX-this.minX)/(this.valueMax-this.valueMin)+this.minX),this.style.left=this.nowX+"px",this.newNowX=this.nowX},this.pen._definePos(),this.pen.initXY=0,this.pen.allowMove=!1,this.pen[t._isIPad?"ontouchstart":"onmousedown"]=function(e){0!=s.state&&(e=e||event,this.initXY=t._isIPad?e.touches[0].clientX:e.clientX,this.newValueNow=this.valueNow,this.allowMove=!0,this.className="sl_pen over",""!=o.tip)&&(o.style.visibility="hidden",o.style.display="",o.innerHTML=o.tip.replace("%v",this.valueNow),o.style.left=Math.round(getAbsoluteLeft(this)+this.offsetWidth/2-o.offsetWidth/2)+"px",o.style.top=getAbsoluteTop(this)-o.offsetHeight-3+"px",o.style.visibility="")},this.pen._doOnMouseMoveStart=function(e){if(e=e||event,n.allowMove){var i=t._isIPad?e.touches[0].clientX:e.clientX,s=i-n.initXY;if(!(i<getAbsoluteLeft(n)+Math.round(n.offsetWidth/2)&&n.nowX==n.minX||i>getAbsoluteLeft(n)+Math.round(n.offsetWidth/2)&&n.nowX==n.maxX))return n.newNowX=n.nowX+s,n.newNowX<n.minX&&(n.newNowX=n.minX),n.newNowX>n.maxX&&(n.newNowX=n.maxX),n.nowX=n.newNowX,n.style.left=n.nowX+"px",n.initXY=i,n.newValueNow=Math.round((n.valueMax-n.valueMin)*(n.newNowX-n.minX)/(n.maxX-n.minX)+n.valueMin),""!=o.tip&&(o.innerHTML=o.tip.replace(/%v/gi,n.newValueNow),o.style.left=Math.round(getAbsoluteLeft(n)+n.offsetWidth/2-o.offsetWidth/2)+"px",o.style.top=getAbsoluteTop(n)-o.offsetHeight-3+"px"),e.cancelBubble=!0,e.returnValue=!1}},this.pen._doOnMouseMoveEnd=function(){n.allowMove&&(n.className="sl_pen",n.allowMove=!1,n.nowX=n.newNowX,n.valueNow=n.newValueNow,""!=o.tip&&(o.style.display="none"),t.callEvent("onValueChange",[s.obj.idd.replace(t.idPrefix,""),n.valueNow]))},t._isIPad?(document.addEventListener("touchmove",n._doOnMouseMoveStart,!1),document.addEventListener("touchend",n._doOnMouseMoveEnd,!1)):"undefined"!=typeof window.addEventListener?(window.addEventListener("mousemove",n._doOnMouseMoveStart,!1),window.addEventListener("mouseup",n._doOnMouseMoveEnd,!1)):(document.body.attachEvent("onmousemove",n._doOnMouseMoveStart),document.body.attachEvent("onmouseup",n._doOnMouseMoveEnd)),this.enableItem=function(){this.state||(this.state=!0,this.obj.className="dhx_toolbar_btn def")},this.disableItem=function(){this.state&&(this.state=!1,this.obj.className="dhx_toolbar_btn dis")},this.isEnabled=function(){return this.state},this.showItem=function(){this.obj.style.display=""},this.hideItem=function(){this.obj.style.display="none"},this.isVisible=function(){return""==this.obj.style.display},this.setValue=function(e,i){e=Number(e),e<this.pen.valueMin&&(e=this.pen.valueMin),e>this.pen.valueMax&&(e=this.pen.valueMax),this.pen.valueNow=e,this.pen._definePos(),1==i&&t.callEvent("onValueChange",[this.obj.idd.replace(t.idPrefix,""),this.pen.valueNow])},this.getValue=function(){return this.pen.valueNow},this.setMinValue=function(t,e){t=Number(t),t>this.pen.valueMax||(this.obj.childNodes[0].innerHTML=e,this.obj.childNodes[0].style.display=e.length>0?"":"none",this.pen.valueMin=t,this.pen.valueNow<this.pen.valueMin&&(this.pen.valueNow=this.pen.valueMin),this.pen._detectLimits(),this.pen._definePos())
},this.setMaxValue=function(t,e){t=Number(t),t<this.pen.valueMin||(this.obj.childNodes[4].innerHTML=e,this.obj.childNodes[4].style.display=e.length>0?"":"none",this.pen.valueMax=t,this.pen.valueNow>this.pen.valueMax&&(this.pen.valueNow=this.pen.valueMax),this.pen._detectLimits(),this.pen._definePos())},this.getMinValue=function(){var t=this.obj.childNodes[0].innerHTML,e=this.pen.valueMin;return[e,t]},this.getMaxValue=function(){var t=this.obj.childNodes[4].innerHTML,e=this.pen.valueMax;return[e,t]},this.setItemToolTipTemplate=function(t){this.label.tip=t},this.getItemToolTipTemplate=function(){return this.label.tip},this},dhtmlXToolbarObject.prototype.unload=function(){for(this._isIPad?document.removeEventListener("touchstart",this._doOnClick,!1):"function"==typeof window.addEventListener?window.removeEventListener("mousedown",this._doOnClick,!1):document.body.detachEvent("onmousedown",this._doOnClick),this._doOnClick=null,this.clearAll(),this.objPull=null,this._xmlLoader&&(this._xmlLoader.destructor(),this._xmlLoader=null);this.base.childNodes.length>0;)this.base.removeChild(this.base.childNodes[0]);for(this.cont.removeChild(this.base),this.base=null;this.cont.childNodes.length>0;)this.cont.removeChild(this.cont.childNodes[0]);this.cont.className="",this.cont=null,this.detachAllEvents(),this.items=this.setMaxOpen=this.getUserData=this.setUserData=this.unload=this.getListOptionSelected=this.setListOptionSelected=this.getAllListOptions=this.forEachListOption=this.clearListOptionImage=this.getListOptionImage=this.setListOptionImage=this.getListOptionToolTip=this.setListOptionToolTip=this.getListOptionText=this.setListOptionText=this.getListOptionPosition=this.setListOptionPosition=this.isListOptionEnabled=this.disableListOption=this.enableListOption=this.isListOptionVisible=this.hideListOption=this.showListOption=this.removeListOption=this.addListOption=this.removeItem=this.setPosition=this.getPosition=this.getWidth=this.setWidth=this.getMaxValue=this.setMaxValue=this.getMinValue=this.setMinValue=this.getValue=this.setValue=this.getItemToolTipTemplate=this.setItemToolTipTemplate=this.getItemState=this.setItemState=this.clearItemImageDis=this.clearItemImage=this.setItemImageDis=this.setItemImage=this.getItemToolTip=this.setItemToolTip=this.getItemText=this.setItemText=this.isEnabled=this.disableItem=this.enableItem=this.isVisible=this.hideItem=this.showItem=this.forEachItem=this.addInput=this.addSlider=this.addSeparator=this.addButtonTwoState=this.addButtonSelect=this.addText=this.addButton=this.getParentId=this.inArray=this.getTypeExt=this.getType=this.removeSpacer=this.addSpacer=this.clearAll=this.detachAllEvents=this.detachEvent=this.eventCatcher=this.checkEvent=this.callEvent=this.attachEvent=this.loadXMLString=this.loadXML=this.setIconPath=this.setIconsPath=this.setSkin=this.setAlign=this._removeItem=this._autoDetectVisibleArea=this._sliderObject=this._buttonTwoStateObject=this._buttonInputObject=this._buttonSelectObject=this._buttonObject=this._textObject=this._separatorObject=this._getIdByPosition=this._setPosition=this._getPosition=this._addItem=this._genStr=this._addItemToStorage=this._doOnLoad=this._xmlParser=this._disableItem=this._enableItem=this._getItemText=this._setItemText=this._clearItemImage=this._setItemImage=this._addImgObj=this._getObj=this._sbw=this.setRTL=this._rtlParseBtn=this._rtl=this.skin=this.selectPolygonOffsetTop=this.selectPolygonOffsetLeft=this.rootTypes=this.imagePath=this.idPrefix=this.anyUsed=this.align=this._isWebToolbar=this._isIE6=this.tY2=this.tY1=this.tX2=this.tX1=null},dhtmlXToolbarObject.prototype._autoDetectVisibleArea=function(){this.tX1=document.body.scrollLeft,this.tX2=this.tX1+(window.innerWidth||document.body.clientWidth),this.tY1=Math.max((_isIE?document.documentElement:document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop),this.tY2=this.tY1+(_isIE?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0):window.innerHeight)},dhtmlXToolbarObject.prototype.setUserData=function(t,e,i){if(null!=this.objPull[this.idPrefix+t]){var s=this.objPull[this.idPrefix+t];null==s.userData&&(s.userData={}),s.userData[e]=i}},dhtmlXToolbarObject.prototype.getUserData=function(t,e){return null==this.objPull[this.idPrefix+t]?null:null==this.objPull[this.idPrefix+t].userData?null:null==this.objPull[this.idPrefix+t].userData[e]?null:this.objPull[this.idPrefix+t].userData[e]},dhtmlXToolbarObject.prototype._isListOptionExists=function(t,e){if(null==this.objPull[this.idPrefix+t])return!1;var i=this.objPull[this.idPrefix+t];return"buttonSelect"!=i.type?!1:null==i._listOptions[e]?!1:!0},dhtmlXToolbarObject.prototype.setListOptionUserData=function(t,e,i,s){if(this._isListOptionExists(t,e)){var n=this.objPull[this.idPrefix+t]._listOptions[e];null==n.userData&&(n.userData={}),n.userData[i]=s}},dhtmlXToolbarObject.prototype.getListOptionUserData=function(t,e,i){if(!this._isListOptionExists(t,e))return null;var s=this.objPull[this.idPrefix+t]._listOptions[e];return s.userData&&s.userData[i]?s.userData[i]:null},function(){dhtmlx.extend_api("dhtmlXToolbarObject",{_init:function(t){return[t.parent,t.skin]},icon_path:"setIconsPath",xml:"loadXML",items:"items",align:"setAlign",rtl:"setRTL",skin:"setSkin"},{items:function(t){for(var e=0;e<t.length;e++){var i=t[e];"button"==i.type&&this.addButton(i.id,null,i.text,i.img,i.img_disabled),"separator"==i.type&&this.addSeparator(i.id,null),"text"==i.type&&this.addText(i.id,null,i.text),"buttonSelect"==i.type&&this.addButtonSelect(i.id,null,i.text,i.options,i.img,i.img_disabled,i.renderSelect,i.openAll,i.maxOpen),"buttonTwoState"==i.type&&this.addButtonTwoState(i.id,null,i.text,i.img,i.img_disabled),"buttonInput"==i.type&&this.addInput(i.id,null,i.text),"slider"==i.type&&this.addSlider(i.id,null,i.length,i.value_min,i.value_max,i.value_now,i.text_min,i.text_max,i.tip_template),i.width&&this.setWidth(i.id,i.width),i.disabled&&this.disableItem(i.id),i.tooltip&&this.setItemToolTip(i.id,i.tooltip),i.pressed===!0&&this.setItemState(i.id,!0)}}})}(),xmlPointer.prototype={text:function(){if(!_isFF)return this.d.xml;var t=new XMLSerializer;return t.serializeToString(this.d)},get:function(t){return this.d.getAttribute(t)},exists:function(){return!!this.d},content:function(){return this.d.firstChild?this.d.firstChild.data:""},each:function(t,e,i,s){var n=this.d.childNodes,o=new xmlPointer;if(n.length)for(s=s||0;s<n.length&&(n[s].tagName!=t||(o.d=n[s],-1!=e.apply(i,[o,s])));s++);},get_all:function(){for(var t={},e=this.d.attributes,i=0;i<e.length;i++)t[e[i].name]=e[i].value;return t},sub:function(t){var e=this.d.childNodes,i=new xmlPointer;if(e.length)for(var s=0;s<e.length;s++)if(e[s].tagName==t)return i.d=e[s],i},up:function(){return new xmlPointer(this.d.parentNode)},set:function(t,e){this.d.setAttribute(t,e)},clone:function(){return new xmlPointer(this.d)},sub_exists:function(t){var e=this.d.childNodes;if(e.length)for(var i=0;i<e.length;i++)if(e[i].tagName==t)return!0;return!1},through:function(t,e,i,s,n){var o=this.d.childNodes;if(o.length)for(var l=0;l<o.length;l++){if(o[l].tagName==t&&null!=o[l].getAttribute(e)&&""!=o[l].getAttribute(e)&&(!i||o[l].getAttribute(e)==i)){var h=new xmlPointer(o[l]);s.apply(n,[h,l])}var r=this.d;this.d=o[l],this.through(t,e,i,s,n),this.d=r}}},dhtmlXTreeObject.prototype.setDataMode=function(t){this._datamode=t},dhtmlXTreeObject.prototype._doContClick=function(t,e){if(!e&&2!=t.button)return this._acMenu&&(this._acMenu.hideContextMenu?this._acMenu.hideContextMenu():this.cMenu._contextEnd()),!0;for(var i=_isIE?t.srcElement:t.target;i&&"BODY"!=i.tagName&&!i.parentObject;)i=i.parentNode;if(!i||!i.parentObject)return!0;var s=i.parentObject;if(this.callEvent("onRightClick",[s.id,t])||((t.srcElement||t.target).oncontextmenu=function(t){return(t||event).cancelBubble=!0,!1}),this._acMenu=s.cMenu||this.cMenu){if(!this.callEvent("onBeforeContextMenu",[s.id]))return!0;if(_isMacOS||((t.srcElement||t.target).oncontextmenu=function(t){return(t||event).cancelBubble=!0,!1}),this._acMenu.showContextMenu){var n=window.document.documentElement,o=window.document.body,l=[n.scrollLeft||o.scrollLeft,n.scrollTop||o.scrollTop];if(_isIE)var h=t.clientX+l[0],r=t.clientY+l[1];else h=t.pageX,r=t.pageY;this._acMenu.showContextMenu(h-1,r-1),this.contextID=s.id,t.cancelBubble=!0,this._acMenu._skip_hide=!0}else i.contextMenuId=s.id,i.contextMenu=this._acMenu,i.a=this._acMenu._contextStart,i.a(i,t),i.a=null;return!1}return!0},dhtmlXTreeObject.prototype.enableIEImageFix=function(t){t?(this._getImg=function(){var t=document.createElement("DIV");return t.innerHTML="&nbsp;",t.className="dhx_bg_img_fix",t},this._setSrc=function(t,e){t.style.backgroundImage="url("+e+")"},this._getSrc=function(t){var e=t.style.backgroundImage;return e.substr(4,e.length-5).replace(/(^")|("$)/g,"")}):(this._getImg=function(t){return document.createElement(t==this.rootId?"div":"img")},this._setSrc=function(t,e){t.src=e},this._getSrc=function(t){return t.src})},dhtmlXTreeObject.prototype.destructor=function(){for(var t in this._idpull){var e=this._idpull[t];e&&(e.parentObject=null,e.treeNod=null,e.childNodes=null,e.span=null,e.tr.nodem=null,e.tr=null,e.htmlNode.objBelong=null,e.htmlNode=null,this._idpull[t]=null)}this.parentObject.innerHTML="",this.XMLLoader&&this.XMLLoader.destructor(),this.allTree.onselectstart=null,this.allTree.oncontextmenu=null,this.allTree.onmousedown=null;for(t in this)this[t]=null},cObject.prototype={},cObject.prototype.clone=function(){function t(){}return t.prototype=this,new t},dhtmlXTreeObject.prototype._globalIdStorageAdd=function(t,e){return this._globalIdStorageFind(t,1,1)?(t=t+"_"+(new Date).valueOf(),this._globalIdStorageAdd(t,e)):(this._idpull[t]=e,this._pullSize++,t)},dhtmlXTreeObject.prototype._globalIdStorageSub=function(t){this._idpull[t]&&(this._unselectItem(this._idpull[t]),this._idpull[t]=null,this._pullSize--),this._locker&&this._locker[t]&&(this._locker[t]=!1)},dhtmlXTreeObject.prototype._globalIdStorageFind=function(t,e,i,s){var n=this._idpull[t];if(n){if(n.unParsed&&!i&&this.reParse(n,0),this._srnd&&!n.htmlNode&&this._buildSRND(n,i),s&&this._edsbpsA)for(var o=0;o<this._edsbpsA.length;o++)if(this._edsbpsA[o][2]==t)return dhtmlxError.throwError("getItem","Requested item still in parsing process.",t),null;return n}return this.slowParse&&0!=t&&!e?this.preParse(t):null},dhtmlXTreeObject.prototype._getSubItemsXML=function(t){var e=[];return t.each("item",function(t){e.push(t.get("id"))},this),e.join(this.dlmtr)},dhtmlXTreeObject.prototype.enableSmartXMLParsing=function(t){this.slowParse=convertStringToBoolean(t)},dhtmlXTreeObject.prototype.findXML=function(){},dhtmlXTreeObject.prototype._getAllCheckedXML=function(t,e,i){var s=[];return 2==i&&t.through("item","checked",-1,function(t){s.push(t.get("id"))},this),1==i&&t.through("item","id",null,function(t){t.get("checked")&&-1!=t.get("checked")&&s.push(t.get("id"))},this),0==i&&t.through("item","id",null,function(t){(!t.get("checked")||0==t.get("checked"))&&s.push(t.get("id"))},this),s.length?e+(e?this.dlmtr:"")+s.join(this.dlmtr):e?e:""},dhtmlXTreeObject.prototype._setSubCheckedXML=function(t,e){var i=t?"1":"";e.through("item","id",null,function(t){(!t.get("disabled")||0==t.get("disabled"))&&t.set("checked",i)},this)},dhtmlXTreeObject.prototype._getAllScraggyItemsXML=function(t){var e=[],i=function(t){t.sub_exists("item")?t.each("item",i,this):e.push(t.get("id"))};return i(t),e.join(",")},dhtmlXTreeObject.prototype._getAllFatItemsXML=function(t){var e=[],i=function(t){t.sub_exists("item")&&(e.push(t.get("id")),t.each("item",i,this))};return i(t),e.join(",")},dhtmlXTreeObject.prototype._getAllSubItemsXML=function(t,e,i){return e=[],i.through("item","id",null,function(t){e.push(t.get("id"))},this),e.join(",")},dhtmlXTreeObject.prototype.reParse=function(t){var e=this;this.parsCount||e.callEvent("onXLS",[e,t.id]),this.xmlstate=1;var i=t.unParsed;t.unParsed=0,this.XMLloadingWarning=1;var s=this.parsingOn,n=this.waitUpdateXML,o=this.parsedArray;this.parsedArray=[],this.waitUpdateXML=!1,this.parsingOn=t.id,this.parsedArray=[],this.setCheckList="",this._parse(i,t.id,2);for(var l=this.setCheckList.split(this.dlmtr),h=0;h<this.parsedArray.length;h++)t.htmlNode.childNodes[0].appendChild(this.parsedArray[h]);i.get("order")&&"none"!=i.get("order")&&this._reorderBranch(t,i.get("order"),!0),this.oldsmcheck=this.smcheck,this.smcheck=!1;for(var r=0;r<l.length;r++)l[r]&&this.setCheck(l[r],1);return this.smcheck=this.oldsmcheck,this.parsingOn=s,this.waitUpdateXML=n,this.parsedArray=o,this.XMLloadingWarning=0,this._redrawFrom(this,t),this._srnd&&!t._sready&&this.prepareSR(t.id),this.xmlstate=0,!0},dhtmlXTreeObject.prototype.preParse=function(t){if(!t||!this._p)return null;var e=!1;if(this._p.clone().through("item","id",t,function(t){return this._globalIdStorageFind(t.up().get("id")),e=!0},this),e){var i=this._globalIdStorageFind(t,!0,!1);i||dhtmlxError.throwError("getItem","The item "+t+" not operable. Seems you have non-unique|incorrect IDs in tree's XML.",t)}return i},dhtmlXTreeObject.prototype._escape=function(t){switch(this.utfesc){case"none":return t;case"utf8":return encodeURIComponent(t);default:return escape(t)}},dhtmlXTreeObject.prototype._drawNewTr=function(t){var e=document.createElement("tr"),i=document.createElement("td"),s=document.createElement("td");return i.appendChild(document.createTextNode(" ")),s.colSpan=3,s.appendChild(t),e.appendChild(i),e.appendChild(s),e},dhtmlXTreeObject.prototype.loadXMLString=function(t,e){var i=this;this.parsCount||this.callEvent("onXLS",[i,null]),this.xmlstate=1,e&&(this.XMLLoader.waitCall=e),this.XMLLoader.loadXMLString(t)},dhtmlXTreeObject.prototype.loadXML=function(t,e){if(this._datamode&&"xml"!=this._datamode)return this["load"+this._datamode.toUpperCase()](t,e);var i=this;this.parsCount||this.callEvent("onXLS",[i,this._ld_id]),this._ld_id=null,this.xmlstate=1,this.XMLLoader=new dtmlXMLLoaderObject(this._parseXMLTree,this,!0,this.no_cashe),e&&(this.XMLLoader.waitCall=e),this.XMLLoader.loadXML(t)},dhtmlXTreeObject.prototype._attachChildNode=function(t,e,i,s,n,o,l,h,r,a,d){a&&a.parentObject&&(t=a.parentObject),0==t.XMLload&&this.XMLsource&&!this.XMLloadingWarning&&(t.XMLload=1,this._loadDynXML(t.id));var c=t.childsCount,u=t.childNodes;if(d&&d.tr.previousSibling&&(d.tr.previousSibling.previousSibling?a=d.tr.previousSibling.nodem:h=h.replace("TOP","")+",TOP"),a){var _,p;for(_=0;c>_;_++)if(u[_]==a){for(p=c;p!=_;p--)u[1+p]=u[p];break}_++,c=_}if(h)for(var f=h.split(","),m=0;m<f.length;m++)switch(f[m]){case"TOP":for(t.childsCount>0&&(a={},a.tr=t.childNodes[0].tr.previousSibling),t._has_top=!0,_=c;_>0;_--)u[_]=u[_-1];c=0}var g;(g=this._idpull[e])&&-1==g.span||(g=u[c]=new dhtmlXTreeItemObject(e,i,t,this,s,1),e=u[c].id,t.childsCount++),g.htmlNode||(g.label=i,g.htmlNode=this._createItem(this.checkBoxOff?1:0,g),g.htmlNode.objBelong=g),n&&(g.images[0]=n),o&&(g.images[1]=o),l&&(g.images[2]=l);var b=this._drawNewTr(g.htmlNode);if((this.XMLloadingWarning||this._hAdI)&&(g.htmlNode.parentNode.parentNode.style.display="none"),a&&a.tr&&a.tr.nextSibling?t.htmlNode.childNodes[0].insertBefore(b,a.tr.nextSibling):this.parsingOn==t.id?this.parsedArray[this.parsedArray.length]=b:t.htmlNode.childNodes[0].appendChild(b),a&&!a.span&&(a=null),this.XMLsource&&(g.XMLload=r&&0!=r?0:1),g.tr=b,b.nodem=g,0==t.itemId&&(b.childNodes[0].className="hiddenRow"),(t._r_logic||this._frbtr)&&this._setSrc(g.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0],this.imPath+this.radioArray[0]),h)for(f=h.split(","),m=0;m<f.length;m++)switch(f[m]){case"SELECT":this.selectItem(e,!1);break;case"CALL":this.selectItem(e,!0);break;case"CHILD":g.XMLload=0;break;case"CHECKED":this.XMLloadingWarning?this.setCheckList+=this.dlmtr+e:this.setCheck(e,1);break;case"HCHECKED":this._setCheck(g,"unsure");break;case"OPEN":g.openMe=1}if(!this.XMLloadingWarning&&(this._getOpenState(t)<0&&!this._hAdI&&this.openItem(t.id),a&&(this._correctPlus(a),this._correctLine(a)),this._correctPlus(t),this._correctLine(t),this._correctPlus(g),t.childsCount>=2&&(this._correctPlus(u[t.childsCount-2]),this._correctLine(u[t.childsCount-2])),2!=t.childsCount&&this._correctPlus(u[0]),this.tscheck&&this._correctCheckStates(t),this._onradh))if(1==this.xmlstate){var v=this.onXLE;this.onXLE=function(t){this._onradh(e),v&&v(t)}}else this._onradh(e);return g},dhtmlXTreeObject.prototype.enableContextMenu=function(t){t&&(this.cMenu=t)},dhtmlXTreeObject.prototype.setItemContextMenu=function(t,e){for(var i=t.toString().split(this.dlmtr),s=0;s<i.length;s++){var n=this._globalIdStorageFind(i[s]);n&&(n.cMenu=e)}},dhtmlXTreeObject.prototype.insertNewItem=function(t,e,i,s,n,o,l,h,r){var a=this._globalIdStorageFind(t);if(!a)return-1;var d=this._attachChildNode(a,e,i,s,n,o,l,h,r);return this._idpull[this.rootId].XMLload||(this._idpull[this.rootId].XMLload=1),!this.XMLloadingWarning&&this.childCalc&&this._fixChildCountLabel(a),d},dhtmlXTreeObject.prototype.insertNewChild=function(t,e,i,s,n,o,l,h,r){return this.insertNewItem(t,e,i,s,n,o,l,h,r)},dhtmlXTreeObject.prototype._parseXMLTree=function(t,e,i,s,n){var o=new xmlPointer(n.getXMLTopNode("tree"));t._parse(o),t._p=o},dhtmlXTreeObject.prototype._parseItem=function(t,e,i,s){var n;if(!this._srnd||this._idpull[n=t.get("id")]&&this._idpull[n].span){var o=t.get_all();if("object"!=typeof this.waitUpdateXML||this.waitUpdateXML[o.id]){(null===o.text||"undefined"==typeof o.text)&&(o.text=t.sub("itemtext"),o.text&&(o.text=o.text.content()));var l=[];if(o.select&&l.push("SELECT"),o.top&&l.push("TOP"),o.call&&(this.nodeAskingCall=o.id),-1==o.checked?l.push("HCHECKED"):o.checked&&l.push("CHECKED"),o.open&&l.push("OPEN"),this.waitUpdateXML)if(this._globalIdStorageFind(o.id))var h=this.updateItem(o.id,o.text,o.im0,o.im1,o.im2,o.checked,o.child);else 0==this.npl?l.push("TOP"):i=e.childNodes[this.npl],h=this._attachChildNode(e,o.id,o.text,0,o.im0,o.im1,o.im2,l.join(","),o.child,0,i),o.id=h.id,i=null;else h=this._attachChildNode(e,o.id,o.text,0,o.im0,o.im1,o.im2,l.join(","),o.child,s||0,i);if(o.tooltip&&(h.span.parentNode.parentNode.title=o.tooltip),o.style&&(h.span.style.cssText?h.span.style.cssText+=";"+o.style:h.span.setAttribute("style",h.span.getAttribute("style")+"; "+o.style)),o.radio&&(h._r_logic=!0),o.nocheckbox){var r=h.span.parentNode.previousSibling.previousSibling;r.style.display="none",h.nocheckbox=!0}o.disabled&&(null!=o.checked&&this._setCheck(h,o.checked),this.disableCheckbox(h,1)),h._acc=o.child||0,this.parserExtension&&this.parserExtension._parseExtension.call(this,t,o,e?e.id:0),this.setItemColor(h,o.aCol,o.sCol),"1"==o.locked&&this.lockItem(h.id,!0,!0),(o.imwidth||o.imheight)&&this.setIconSize(o.imwidth,o.imheight,h),("0"==o.closeable||"1"==o.closeable)&&this.setItemCloseable(h,o.closeable);var a="";o.topoffset&&this.setItemTopOffset(h,o.topoffset),this.slowParse&&"object"!=typeof this.waitUpdateXML?(!h.childsCount&&t.sub_exists("item")&&(h.unParsed=t.clone()),t.each("userdata",function(t){this.setUserData(o.id,t.get("name"),t.content())},this)):t.sub_exists("item")&&(a=this._parse(t,o.id,1)),""!=a&&(this.nodeAskingCall=a),t.each("userdata",function(e){this.setUserData(t.get("id"),e.get("name"),e.content())},this)}else this._parse(t,o.id,1)}else this._addItemSRND(e.id,n,t)},dhtmlXTreeObject.prototype._parse=function(t,e,i,s){if(this._srnd&&!this.parentObject.offsetHeight){var n=this;return window.setTimeout(function(){n._parse(t,e,i,s)},100)}if(t.exists()){if(this.skipLock=!0,!e){var e=t.get("id"),o=t.get("dhx_security");o&&(dhtmlx.security_key=o),t.get("radio")&&(this.htmlNode._r_logic=!0),this.parsingOn=e,this.parsedArray=[],this.nodeAskingCall=this.setCheckList=""}var l=this._globalIdStorageFind(e);if(!l)return dhtmlxError.throwError("DataStructure","XML refers to not existing parent");this.parsCount=this.parsCount?this.parsCount+1:1,this.XMLloadingWarning=1;var h=!l.childsCount||s||this._edsbps||l._has_top?0:0;if(this.npl=0,t.each("item",function(s,n){return l.XMLload=1,this._parseItem(s,l,0,h),this._edsbps&&this.npl==this._edsbpsC?(this._distributedStart(t,n+1,e,i,l.childsCount),-1):void this.npl++},this,s),!i){if(t.each("userdata",function(e){this.setUserData(t.get("id"),e.get("name"),e.content())},this),l.XMLload=1,this.waitUpdateXML){this.waitUpdateXML=!1;for(var r=l.childsCount-1;r>=0;r--)l.childNodes[r]._dmark&&this.deleteItem(l.childNodes[r].id)}for(var r=(this._globalIdStorageFind(this.parsingOn),0);r<this.parsedArray.length;r++)l.htmlNode.childNodes[0].appendChild(this.parsedArray[r]);this.parsedArray=[],this.lastLoadedXMLId=e,this.XMLloadingWarning=0;for(var a=this.setCheckList.split(this.dlmtr),d=0;d<a.length;d++)a[d]&&this.setCheck(a[d],1);this.XMLsource&&this.tscheck&&this.smcheck&&l.id!=this.rootId&&(0===l.checkstate?this._setSubChecked(0,l):1===l.checkstate&&this._setSubChecked(1,l)),this._redrawFrom(this,null,s),t.get("order")&&"none"!=t.get("order")&&this._reorderBranch(l,t.get("order"),!0),""!=this.nodeAskingCall&&this.callEvent("onClick",[this.nodeAskingCall,this.getSelectedItemId()]),this._branchUpdate&&this._branchUpdateNext(t)}if(1==this.parsCount){if(this.parsingOn=null,this._srnd&&l.id!=this.rootId&&(this.prepareSR(l.id),this.XMLsource&&this.openItem(l.id)),t.through("item","open",null,function(t){this.openItem(t.get("id"))},this),!this._edsbps||!this._edsbpsA.length){var c=this;window.setTimeout(function(){c.callEvent("onXLE",[c,e])},1),this.xmlstate=0}this.skipLock=!1}return this.parsCount--,c=this,this._edsbps&&window.setTimeout(function(){c._distributedStep(e)},this._edsbpsD),!i&&this.onXLE&&this.onXLE(this,e),this.nodeAskingCall}},dhtmlXTreeObject.prototype._branchUpdateNext=function(t){t.each("item",function(t){var e=t.get("id");(!this._idpull[e]||this._idpull[e].XMLload)&&(this._branchUpdate++,this.smartRefreshItem(t.get("id"),t))},this),this._branchUpdate--},dhtmlXTreeObject.prototype.checkUserData=function(t,e){if(1==t.nodeType&&"userdata"==t.tagName){var i=t.getAttribute("name");i&&t.childNodes[0]&&this.setUserData(e,i,t.childNodes[0].data)}},dhtmlXTreeObject.prototype._redrawFrom=function(t,e,i,s){if(e)n=e;else{var n=t._globalIdStorageFind(t.lastLoadedXMLId);if(t.lastLoadedXMLId=-1,!n)return 0}for(var o=0,l=i?i-1:0;l<n.childsCount;l++)if(this._branchUpdate&&1!=this._getOpenState(n)||e&&1!=s||(n.childNodes[l].htmlNode.parentNode.parentNode.style.display=""),1==n.childNodes[l].openMe&&(this._openItem(n.childNodes[l]),n.childNodes[l].openMe=0),t._redrawFrom(t,n.childNodes[l]),null!=this.childCalc){if((n.childNodes[l].unParsed||!n.childNodes[l].XMLload&&this.XMLsource)&&(n.childNodes[l].span.innerHTML=n.childNodes[l]._acc?n.childNodes[l].label+this.htmlcA+n.childNodes[l]._acc+this.htmlcB:n.childNodes[l].label),n.childNodes[l].childNodes.length&&this.childCalc){if(1==this.childCalc&&(n.childNodes[l].span.innerHTML=n.childNodes[l].label+this.htmlcA+n.childNodes[l].childsCount+this.htmlcB),2==this.childCalc){var h=n.childNodes[l].childsCount-(n.childNodes[l].pureChilds||0);h&&(n.childNodes[l].span.innerHTML=n.childNodes[l].label+this.htmlcA+h+this.htmlcB),n.pureChilds?n.pureChilds++:n.pureChilds=1}3==this.childCalc&&(n.childNodes[l].span.innerHTML=n.childNodes[l].label+this.htmlcA+n.childNodes[l]._acc+this.htmlcB),4==this.childCalc&&(h=n.childNodes[l]._acc)&&(n.childNodes[l].span.innerHTML=n.childNodes[l].label+this.htmlcA+h+this.htmlcB)}else 4==this.childCalc&&o++;o+=n.childNodes[l]._acc,3==this.childCalc&&o++}n.unParsed||!n.XMLload&&this.XMLsource||(n._acc=o),t._correctLine(n),t._correctPlus(n),this.childCalc&&!e&&t._fixChildCountLabel(n)},dhtmlXTreeObject.prototype._createSelf=function(){var t=document.createElement("div");return t.className="containerTableStyle",t.style.width=this.width,t.style.height=this.height,this.parentObject.appendChild(t),t},dhtmlXTreeObject.prototype._xcloseAll=function(t){if(!t.unParsed){if(this.rootId!=t.id){if(!t.htmlNode)return;for(var e=t.htmlNode.childNodes[0].childNodes,i=e.length,s=1;i>s;s++)e[s].style.display="none";this._correctPlus(t)}for(s=0;s<t.childsCount;s++)t.childNodes[s].childsCount&&this._xcloseAll(t.childNodes[s])}},dhtmlXTreeObject.prototype._xopenAll=function(t){this._HideShow(t,2);for(var e=0;e<t.childsCount;e++)this._xopenAll(t.childNodes[e])},dhtmlXTreeObject.prototype._correctPlus=function(t){if(t.htmlNode){var e=t.htmlNode.childNodes[0].childNodes[0].childNodes[0].lastChild,i=t.htmlNode.childNodes[0].childNodes[0].childNodes[2].childNodes[0],s=this.lineArray;if(this.XMLsource&&!t.XMLload){if(s=this.plusArray,this._setSrc(i,this.iconURL+t.images[2]),this._txtimg)return e.innerHTML="[+]"}else if(t.childsCount||t.unParsed){if(t.htmlNode.childNodes[0].childNodes[1]&&"none"!=t.htmlNode.childNodes[0].childNodes[1].style.display){if(t.wsign||(s=this.minusArray),this._setSrc(i,this.iconURL+t.images[1]),this._txtimg)return e.innerHTML="[-]"}else if(t.wsign||(s=this.plusArray),this._setSrc(i,this.iconURL+t.images[2]),this._txtimg)return e.innerHTML="[+]"}else this._setSrc(i,this.iconURL+t.images[0]);var n=2;t.treeNod.treeLinesOn?(t.parentObject&&(n=this._getCountStatus(t.id,t.parentObject)),this._setSrc(e,this.imPath+s[n])):this._setSrc(e,this.imPath+s[3])}},dhtmlXTreeObject.prototype._correctLine=function(t){if(t.htmlNode){var e=t.parentObject;if(e)if(0!=this._getLineStatus(t.id,e)&&this.treeLinesOn)for(i=1;i<=t.childsCount&&t.htmlNode.childNodes[0].childNodes[i];i++)t.htmlNode.childNodes[0].childNodes[i].childNodes[0].style.backgroundImage="url("+this.imPath+this.lineArray[5]+")",t.htmlNode.childNodes[0].childNodes[i].childNodes[0].style.backgroundRepeat="repeat-y";else for(var i=1;i<=t.childsCount&&t.htmlNode.childNodes[0].childNodes[i];i++)t.htmlNode.childNodes[0].childNodes[i].childNodes[0].style.backgroundImage="",t.htmlNode.childNodes[0].childNodes[i].childNodes[0].style.backgroundRepeat=""}},dhtmlXTreeObject.prototype._getCountStatus=function(t,e){return e.childsCount<=1?e.id==this.rootId?4:0:e.childNodes[0].id==t?e.id==this.rootId?2:1:e.childNodes[e.childsCount-1].id==t?0:1},dhtmlXTreeObject.prototype._getLineStatus=function(t,e){return e.childNodes[e.childsCount-1].id==t?0:1},dhtmlXTreeObject.prototype._HideShow=function(t,e){if(this.XMLsource&&!t.XMLload)1!=e&&(t.XMLload=1,this._loadDynXML(t.id));else{t.unParsed&&this.reParse(t);var i=t.htmlNode.childNodes[0].childNodes,s=i.length;if(s>1){"none"==i[1].style.display&&1!=e||2==e?nodestyle="":(this.allTree.childNodes[0].border="1",this.allTree.childNodes[0].border="0",nodestyle="none");for(var n=1;s>n;n++)i[n].style.display=nodestyle}this._correctPlus(t)}},dhtmlXTreeObject.prototype._getOpenState=function(t){if(!t.htmlNode)return 0;var e=t.htmlNode.childNodes[0].childNodes;return e.length<=1?0:"none"!=e[1].style.display?1:-1},dhtmlXTreeObject.prototype.onRowClick2=function(){var t=this.parentObject.treeNod;return t.callEvent("onDblClick",[this.parentObject.id,t])?(this.parentObject.closeble&&"0"!=this.parentObject.closeble?t._HideShow(this.parentObject):t._HideShow(this.parentObject,2),t.checkEvent("onOpenEnd")&&(t.xmlstate?(t._oie_onXLE.push(t.onXLE),t.onXLE=t._epnFHe):t.callEvent("onOpenEnd",[this.parentObject.id,t._getOpenState(this.parentObject)])),!1):!1},dhtmlXTreeObject.prototype.onRowClick=function(){var t=this.parentObject.treeNod;return t.callEvent("onOpenStart",[this.parentObject.id,t._getOpenState(this.parentObject)])?(this.parentObject.closeble&&"0"!=this.parentObject.closeble?t._HideShow(this.parentObject):t._HideShow(this.parentObject,2),void(t.checkEvent("onOpenEnd")&&(t.xmlstate?(t._oie_onXLE.push(t.onXLE),t.onXLE=t._epnFHe):t.callEvent("onOpenEnd",[this.parentObject.id,t._getOpenState(this.parentObject)])))):0},dhtmlXTreeObject.prototype._epnFHe=function(t,e,i){e!=this.rootId&&this.callEvent("onOpenEnd",[e,t.getOpenState(e)]),t.onXLE=t._oie_onXLE.pop(),i||t._oie_onXLE.length||!t.onXLE||t.onXLE(t,e)},dhtmlXTreeObject.prototype.onRowClickDown=function(t){var t=t||window.event,e=this.parentObject.treeNod;e._selectItem(this.parentObject,t)},dhtmlXTreeObject.prototype.getSelectedItemId=function(){for(var t=[],e=0;e<this._selected.length;e++)t[e]=this._selected[e].id;return t.join(this.dlmtr)},dhtmlXTreeObject.prototype._selectItem=function(t,e){if(this.checkEvent("onSelect")&&(this._onSSCFold=this.getSelectedItemId()),!(this._amsel&&e&&(e.ctrlKey||e.metaKey||e.shiftKey)||!this._unselectItems()),t.i_sel&&this._amsel&&e&&(e.ctrlKey||e.metaKey))this._unselectItem(t);else if(!(t.i_sel||this._amselS&&0!=this._selected.length&&this._selected[0].parentObject!=t.parentObject))if(this._amsel&&e&&e.shiftKey&&0!=this._selected.length&&this._selected[this._selected.length-1].parentObject==t.parentObject){var i=this._getIndex(this._selected[this._selected.length-1]),s=this._getIndex(t);if(i>s)var n=i,i=s,s=n;for(var o=i;s>=o;o++)t.parentObject.childNodes[o].i_sel||this._markItem(t.parentObject.childNodes[o])}else this._markItem(t);if(this.checkEvent("onSelect")){var l=this.getSelectedItemId();l!=this._onSSCFold&&this.callEvent("onSelect",[l])}},dhtmlXTreeObject.prototype._markItem=function(t){t.scolor&&(t.span.style.color=t.scolor),t.span.className="selectedTreeRow",t.i_sel=!0,this._selected[this._selected.length]=t},dhtmlXTreeObject.prototype.getIndexById=function(t){var e=this._globalIdStorageFind(t);return e?this._getIndex(e):null},dhtmlXTreeObject.prototype._getIndex=function(t){for(var e=t.parentObject,i=0;i<e.childsCount;i++)if(e.childNodes[i]==t)return i},dhtmlXTreeObject.prototype._unselectItem=function(t){if(t&&t.i_sel){t.span.className="standartTreeRow",t.acolor&&(t.span.style.color=t.acolor),t.i_sel=!1;for(var e=0;e<this._selected.length;e++)if(!this._selected[e].i_sel){this._selected.splice(e,1);break}}},dhtmlXTreeObject.prototype._unselectItems=function(){for(var t=0;t<this._selected.length;t++){var e=this._selected[t];e.span.className="standartTreeRow",e.acolor&&(e.span.style.color=e.acolor),e.i_sel=!1}this._selected=[]},dhtmlXTreeObject.prototype.onRowSelect=function(t,e,i){var t=t||window.event,s=this.parentObject;e&&(s=e.parentObject);var n=s.treeNod,o=n.getSelectedItemId();(!t||!t.skipUnSel)&&n._selectItem(s,t),i||(s.actionHandler?s.actionHandler(s.id,o):n.callEvent("onClick",[s.id,o]))},dhtmlXTreeObject.prototype._correctCheckStates=function(t){if(this.tscheck&&t&&t.id!=this.rootId){var e=t.childNodes,i=0,s=0;if(0!=t.childsCount){for(var n=0;n<t.childsCount;n++)if(!e[n].dscheck)if(0==e[n].checkstate)i=1;else{if(1!=e[n].checkstate){s=i=1;break}s=1}i&&s?this._setCheck(t,"unsure"):i?this._setCheck(t,!1):this._setCheck(t,!0),this._correctCheckStates(t.parentObject)}}},dhtmlXTreeObject.prototype.onCheckBoxClick=function(){return this.treeNod.callEvent("onBeforeCheck",[this.parentObject.id,this.parentObject.checkstate])?this.parentObject.dscheck?!0:(this.treeNod.tscheck?1==this.parentObject.checkstate?this.treeNod._setSubChecked(!1,this.parentObject):this.treeNod._setSubChecked(!0,this.parentObject):1==this.parentObject.checkstate?this.treeNod._setCheck(this.parentObject,!1):this.treeNod._setCheck(this.parentObject,!0),this.treeNod._correctCheckStates(this.parentObject.parentObject),this.treeNod.callEvent("onCheck",[this.parentObject.id,this.parentObject.checkstate])):void 0},dhtmlXTreeObject.prototype._createItem=function(t,e,i){var s=document.createElement("table");s.cellSpacing=0,s.cellPadding=0,s.border=0,this.hfMode&&(s.style.tableLayout="fixed"),s.style.margin=0,s.style.padding=0;var n=document.createElement("tbody"),o=document.createElement("tr"),l=document.createElement("td");if(l.className="standartTreeImage",this._txtimg){var h=document.createElement("div");l.appendChild(h),h.className="dhx_tree_textSign"}else h=this._getImg(e.id),h.border="0","IMG"==h.tagName&&(h.align="absmiddle"),l.appendChild(h),h.style.padding=0,h.style.margin=0,h.style.width=this.def_line_img_x,h.style.height=this.def_line_img_y;var r=document.createElement("td"),a=this._getImg(this.cBROf?this.rootId:e.id);a.checked=0,this._setSrc(a,this.imPath+this.checkArray[0]),a.style.width="16px",a.style.height="16px",t||(r.style.display="none"),r.appendChild(a),this.cBROf||"IMG"!=a.tagName||(a.align="absmiddle"),a.onclick=this.onCheckBoxClick,a.treeNod=this,a.parentObject=e,r.width=window._KHTMLrv?"16px":"20px";
var d=document.createElement("td");d.className="standartTreeImage";var c=this._getImg(this.timgen?e.id:this.rootId);c.onmousedown=this._preventNsDrag,c.ondragstart=this._preventNsDrag,c.border="0",this._aimgs&&(c.parentObject=e,"IMG"==c.tagName&&(c.align="absmiddle"),c.onclick=this.onRowSelect),i||this._setSrc(c,this.iconURL+this.imageArray[0]),d.appendChild(c),c.style.padding=0,c.style.margin=0,this.timgen?(d.style.width=c.style.width=this.def_img_x,c.style.height=this.def_img_y):(c.style.width="0px",c.style.height="0px",(_isOpera||window._KHTMLrv)&&(d.style.display="none"));var u=document.createElement("td");return u.className="standartTreeRow",e.span=document.createElement("span"),e.span.className="standartTreeRow",this.mlitems?(e.span.style.width=this.mlitems,e.span.style.display="block"):u.noWrap=!0,_isIE&&_isIE>7?u.style.width="999999px":window._KHTMLrv||(u.style.width="100%"),e.span.innerHTML=e.label,u.appendChild(e.span),u.parentObject=e,l.parentObject=e,u.onclick=this.onRowSelect,l.onclick=this.onRowClick,u.ondblclick=this.onRowClick2,this.ettip&&(o.title=e.label),this.dragAndDropOff&&(this._aimgs&&(this.dragger.addDraggableItem(d,this),d.parentObject=e),this.dragger.addDraggableItem(u,this)),e.span.style.paddingLeft="5px",e.span.style.paddingRight="5px",u.style.verticalAlign="",u.style.fontSize="10pt",u.style.cursor=this.style_pointer,o.appendChild(l),o.appendChild(r),o.appendChild(d),o.appendChild(u),n.appendChild(o),s.appendChild(n),(this.ehlt||this.checkEvent("onMouseIn")||this.checkEvent("onMouseOut"))&&(o.onmousemove=this._itemMouseIn,o[_isIE?"onmouseleave":"onmouseout"]=this._itemMouseOut),s},dhtmlXTreeObject.prototype.setImagePath=function(t){this.iconURL=this.imPath=t},dhtmlXTreeObject.prototype.setIconPath=function(t){this.iconURL=t},dhtmlXTreeObject.prototype._getLeafCount=function(t){for(var e=0,i=0;i<t.childsCount;i++)0==t.childNodes[i].childsCount&&e++;return e},dhtmlXTreeObject.prototype._getChildCounterValue=function(t){var e=this._globalIdStorageFind(t);if(!e)return 0;if(e.unParsed||!e.XMLload&&this.XMLsource)return e._acc;switch(this.childCalc){case 1:return e.childsCount;case 2:return this._getLeafCount(e);case 3:return e._acc;case 4:return e._acc}},dhtmlXTreeObject.prototype._fixChildCountLabel=function(t){if(null!=this.childCalc)if(t.unParsed||!t.XMLload&&this.XMLsource)t.span.innerHTML=t._acc?t.label+this.htmlcA+t._acc+this.htmlcB:t.label;else switch(this.childCalc){case 1:t.span.innerHTML=0!=t.childsCount?t.label+this.htmlcA+t.childsCount+this.htmlcB:t.label;break;case 2:var e=this._getLeafCount(t);t.span.innerHTML=0!=e?t.label+this.htmlcA+e+this.htmlcB:t.label;break;case 3:if(0!=t.childsCount){for(var i=0,s=0;s<t.childsCount;s++)t.childNodes[s]._acc||(t.childNodes[s]._acc=0),i+=1*t.childNodes[s]._acc;i+=1*t.childsCount,t.span.innerHTML=t.label+this.htmlcA+i+this.htmlcB,t._acc=i}else t.span.innerHTML=t.label,t._acc=0;t.parentObject&&t.parentObject!=this.htmlNode&&this._fixChildCountLabel(t.parentObject);break;case 4:if(0!=t.childsCount){for(s=i=0;s<t.childsCount;s++)t.childNodes[s]._acc||(t.childNodes[s]._acc=1),i+=1*t.childNodes[s]._acc;t.span.innerHTML=t.label+this.htmlcA+i+this.htmlcB,t._acc=i}else t.span.innerHTML=t.label,t._acc=1;t.parentObject&&t.parentObject!=this.htmlNode&&this._fixChildCountLabel(t.parentObject)}},dhtmlXTreeObject.prototype.setChildCalcMode=function(t){switch(t){case"child":this.childCalc=1;break;case"leafs":this.childCalc=2;break;case"childrec":this.childCalc=3;break;case"leafsrec":this.childCalc=4;break;case"disabled":this.childCalc=null;break;default:this.childCalc=4}},dhtmlXTreeObject.prototype.setChildCalcHTML=function(t,e){this.htmlcA=t,this.htmlcB=e},dhtmlXTreeObject.prototype.setOnRightClickHandler=function(t){this.attachEvent("onRightClick",t)},dhtmlXTreeObject.prototype.setOnClickHandler=function(t){this.attachEvent("onClick",t)},dhtmlXTreeObject.prototype.setOnSelectStateChange=function(t){this.attachEvent("onSelect",t)},dhtmlXTreeObject.prototype.setXMLAutoLoading=function(t){this.XMLsource=t},dhtmlXTreeObject.prototype.setOnCheckHandler=function(t){this.attachEvent("onCheck",t)},dhtmlXTreeObject.prototype.setOnOpenHandler=function(t){this.attachEvent("onOpenStart",t)},dhtmlXTreeObject.prototype.setOnOpenStartHandler=function(t){this.attachEvent("onOpenStart",t)},dhtmlXTreeObject.prototype.setOnOpenEndHandler=function(t){this.attachEvent("onOpenEnd",t)},dhtmlXTreeObject.prototype.setOnDblClickHandler=function(t){this.attachEvent("onDblClick",t)},dhtmlXTreeObject.prototype.openAllItems=function(t){var e=this._globalIdStorageFind(t);return e?void this._xopenAll(e):0},dhtmlXTreeObject.prototype.getOpenState=function(t){var e=this._globalIdStorageFind(t);return e?this._getOpenState(e):""},dhtmlXTreeObject.prototype.closeAllItems=function(t){t===window.undefined&&(t=this.rootId);var e=this._globalIdStorageFind(t);return e?(this._xcloseAll(e),this.allTree.childNodes[0].border="1",void(this.allTree.childNodes[0].border="0")):0},dhtmlXTreeObject.prototype.setUserData=function(t,e,i){var s=this._globalIdStorageFind(t,0,!0);s&&("hint"==e&&(s.htmlNode.childNodes[0].childNodes[0].title=i),"undefined"==typeof s.userData["t_"+e]&&(s._userdatalist?s._userdatalist+=","+e:s._userdatalist=e),s.userData["t_"+e]=i)},dhtmlXTreeObject.prototype.getUserData=function(t,e){var i=this._globalIdStorageFind(t,0,!0);return i?i.userData["t_"+e]:void 0},dhtmlXTreeObject.prototype.getItemColor=function(t){var e=this._globalIdStorageFind(t);if(!e)return 0;var i={};return e.acolor&&(i.acolor=e.acolor),e.scolor&&(i.scolor=e.scolor),i},dhtmlXTreeObject.prototype.setItemColor=function(t,e,i){var s=t&&t.span?t:this._globalIdStorageFind(t);return s?(s.i_sel?i&&(s.span.style.color=i):e&&(s.span.style.color=e),i&&(s.scolor=i),e&&(s.acolor=e),void 0):0},dhtmlXTreeObject.prototype.getItemText=function(t){var e=this._globalIdStorageFind(t);return e?e.htmlNode.childNodes[0].childNodes[0].childNodes[3].childNodes[0].innerHTML:0},dhtmlXTreeObject.prototype.getParentId=function(t){var e=this._globalIdStorageFind(t);return e&&e.parentObject?e.parentObject.id:""},dhtmlXTreeObject.prototype.changeItemId=function(t,e){if(t!=e){var i=this._globalIdStorageFind(t);if(!i)return 0;i.id=e,i.span.contextMenuId=e,this._idpull[e]=this._idpull[t],delete this._idpull[t]}},dhtmlXTreeObject.prototype.doCut=function(){this.nodeCut&&this.clearCut(),this.nodeCut=[].concat(this._selected);for(var t=0;t<this.nodeCut.length;t++){var e=this.nodeCut[t];e._cimgs=[],e._cimgs[0]=e.images[0],e._cimgs[1]=e.images[1],e._cimgs[2]=e.images[2],e.images[0]=e.images[1]=e.images[2]=this.cutImage,this._correctPlus(e)}},dhtmlXTreeObject.prototype.doPaste=function(t){var e=this._globalIdStorageFind(t);if(!e)return 0;for(var i=0;i<this.nodeCut.length;i++)this._checkPNodes(e,this.nodeCut[i])||this._moveNode(this.nodeCut[i],e);this.clearCut()},dhtmlXTreeObject.prototype.clearCut=function(){for(var t=0;t<this.nodeCut.length;t++){var e=this.nodeCut[t];e.images[0]=e._cimgs[0],e.images[1]=e._cimgs[1],e.images[2]=e._cimgs[2],this._correctPlus(e)}this.nodeCut=[]},dhtmlXTreeObject.prototype._moveNode=function(t,e){var i=this.dadmodec;if(1==i){var s=e;if(this.dadmodefix<0){for(;;){if(s=this._getPrevNode(s),-1==s){s=this.htmlNode;break}if(0==s.tr||""==s.tr.style.display||!s.parentObject)break}var n=s,o=e}else s.tr&&s.tr.nextSibling&&s.tr.nextSibling.nodem&&!this._getOpenState(s)?s=s.tr.nextSibling.nodem:(s=this._getNextNode(s),-1==s&&(s=this.htmlNode)),o=s,n=e;return this._getNodeLevel(n,0)>this._getNodeLevel(o,0)?this.dropLower?o.id!=this.rootId?this._moveNodeTo(t,o.parentObject,o):this._moveNodeTo(t,this.htmlNode,null):this._moveNodeTo(t,n.parentObject):this._moveNodeTo(t,o.parentObject,o)}return this._moveNodeTo(t,e)},dhtmlXTreeObject.prototype._fixNodesCollection=function(t,e){var i=0,s=t.childNodes,n=t.childsCount-1;if(e!=s[n]){for(var o=0;n>o;o++)s[o]==s[n]&&(s[o]=s[o+1],s[o+1]=s[n]);for(o=0;n+1>o;o++)if(i){var l=s[o];s[o]=i,i=l}else s[o]==e&&(i=s[o],s[o]=s[n])}},dhtmlXTreeObject.prototype._recreateBranch=function(t,e,i,s){var n,o="";if(i){for(n=0;n<e.childsCount&&e.childNodes[n]!=i;n++);0!=n?i=e.childNodes[n-1]:(o="TOP",i="")}var l=this._onradh;this._onradh=null;var h=this._attachChildNode(e,t.id,t.label,0,t.images[0],t.images[1],t.images[2],o,0,i);if(h._userdatalist=t._userdatalist,h.userData=t.userData.clone(),t._attrs){h._attrs={};for(var r in t._attrs)h._attrs[r]=t._attrs[r]}for(h.XMLload=t.XMLload,l&&(this._onradh=l,this._onradh(h.id)),t.treeNod.dpcpy?t.treeNod._globalIdStorageFind(t.id):h.unParsed=t.unParsed,this._correctPlus(h),n=0;n<t.childsCount;n++)this._recreateBranch(t.childNodes[n],h,0,1);return!s&&this.childCalc&&this._redrawFrom(this,e),h},dhtmlXTreeObject.prototype._moveNodeTo=function(t,e,i){if(t.treeNod._nonTrivialNode)return t.treeNod._nonTrivialNode(this,e,i,t);if(this._checkPNodes(e,t))return!1;var s=e.mytype?t.treeNod.lWin!=e.lWin:t.treeNod.lWin!=e.treeNod.lWin;if(!this.callEvent("onDrag",[t.id,e.id,i?i.id:null,t.treeNod,e.treeNod]))return!1;0==e.XMLload&&this.XMLsource&&(e.XMLload=1,this._loadDynXML(e.id)),this.openItem(e.id);var n=t.treeNod,o=t.parentObject.childsCount,l=t.parentObject;if(s||n.dpcpy){var h=t.id,t=this._recreateBranch(t,e,i);n.dpcpy||n.deleteItem(h)}else{var r=e.childsCount,a=e.childNodes;0==r&&(e._open=!0),n._unselectItem(t),a[r]=t,t.treeNod=e.treeNod,e.childsCount++;var d=this._drawNewTr(a[r].htmlNode);i?(e.htmlNode.childNodes[0].insertBefore(d,i.tr),this._fixNodesCollection(e,i),a=e.childNodes):(e.htmlNode.childNodes[0].appendChild(d),1==this.dadmode&&this._fixNodesCollection(e,i))}if(!n.dpcpy&&!s){var c=t.tr;if(document.all&&-1!=navigator.appVersion.search(/MSIE\ 5\.0/gi)?window.setTimeout(function(){c.parentNode.removeChild(c)},250):t.parentObject.htmlNode.childNodes[0].removeChild(t.tr),i&&e==t.parentObject)l.childNodes[l.childsCount-1]=0;else for(var u=0;u<l.childsCount;u++)if(l.childNodes[u].id==t.id){l.childNodes[u]=0;break}n._compressChildList(l.childsCount,l.childNodes),l.childsCount--}if(!s&&!n.dpcpy){if(t.tr=d,d.nodem=t,t.parentObject=e,n!=e.treeNod){if(t.treeNod._registerBranch(t,n))return;this._clearStyles(t),this._redrawFrom(this,t.parentObject),this._onradh&&this._onradh(t.id)}this._correctPlus(e),this._correctLine(e),this._correctLine(t),this._correctPlus(t),i?this._correctPlus(i):e.childsCount>=2&&(this._correctPlus(a[e.childsCount-2]),this._correctLine(a[e.childsCount-2])),this._correctPlus(a[e.childsCount-1]),this.tscheck&&this._correctCheckStates(e),n.tscheck&&n._correctCheckStates(l)}return o>1&&(n._correctPlus(l.childNodes[o-2]),n._correctLine(l.childNodes[o-2])),n._correctPlus(l),n._correctLine(l),this._fixChildCountLabel(e),n._fixChildCountLabel(l),this.callEvent("onDrop",[t.id,e.id,i?i.id:null,n,e.treeNod]),t.id},dhtmlXTreeObject.prototype._clearStyles=function(t){if(t.htmlNode){var e=t.htmlNode.childNodes[0].childNodes[0].childNodes[1],i=e.nextSibling.nextSibling;t.span.innerHTML=t.label,t.i_sel=!1,t._aimgs&&this.dragger.removeDraggableItem(e.nextSibling),this.checkBoxOff?(e.childNodes[0].style.display="",e.childNodes[0].onclick=this.onCheckBoxClick,this._setSrc(e.childNodes[0],this.imPath+this.checkArray[t.checkstate])):e.childNodes[0].style.display="none",e.childNodes[0].treeNod=this,this.dragger.removeDraggableItem(i),this.dragAndDropOff&&this.dragger.addDraggableItem(i,this),this._aimgs&&this.dragger.addDraggableItem(e.nextSibling,this),i.childNodes[0].className="standartTreeRow",i.onclick=this.onRowSelect,i.ondblclick=this.onRowClick2,e.previousSibling.onclick=this.onRowClick,this._correctLine(t),this._correctPlus(t);for(var s=0;s<t.childsCount;s++)this._clearStyles(t.childNodes[s])}},dhtmlXTreeObject.prototype._registerBranch=function(t,e){e&&e._globalIdStorageSub(t.id),t.id=this._globalIdStorageAdd(t.id,t),t.treeNod=this;for(var i=0;i<t.childsCount;i++)this._registerBranch(t.childNodes[i],e);return 0},dhtmlXTreeObject.prototype.enableThreeStateCheckboxes=function(t){this.tscheck=convertStringToBoolean(t)},dhtmlXTreeObject.prototype.setOnMouseInHandler=function(t){this.ehlt=!0,this.attachEvent("onMouseIn",t)},dhtmlXTreeObject.prototype.setOnMouseOutHandler=function(t){this.ehlt=!0,this.attachEvent("onMouseOut",t)},dhtmlXTreeObject.prototype.enableMercyDrag=function(t){this.dpcpy=convertStringToBoolean(t)},dhtmlXTreeObject.prototype.enableTreeImages=function(t){this.timgen=convertStringToBoolean(t)},dhtmlXTreeObject.prototype.enableFixedMode=function(t){this.hfMode=convertStringToBoolean(t)},dhtmlXTreeObject.prototype.enableCheckBoxes=function(t,e){this.checkBoxOff=convertStringToBoolean(t),this.cBROf=!(this.checkBoxOff||convertStringToBoolean(e))},dhtmlXTreeObject.prototype.setStdImages=function(t,e,i){this.imageArray[0]=t,this.imageArray[1]=e,this.imageArray[2]=i},dhtmlXTreeObject.prototype.enableTreeLines=function(t){this.treeLinesOn=convertStringToBoolean(t)},dhtmlXTreeObject.prototype.setImageArrays=function(t,e,i,s,n,o){switch(t){case"plus":this.plusArray[0]=e,this.plusArray[1]=i,this.plusArray[2]=s,this.plusArray[3]=n,this.plusArray[4]=o;break;case"minus":this.minusArray[0]=e,this.minusArray[1]=i,this.minusArray[2]=s,this.minusArray[3]=n,this.minusArray[4]=o}},dhtmlXTreeObject.prototype.openItem=function(t){this.skipLock=!0;var e=this._globalIdStorageFind(t);return e?this._openItem(e):0},dhtmlXTreeObject.prototype._openItem=function(t){var e=this._getOpenState(t);if(0>e||this.XMLsource&&!t.XMLload){if(!this.callEvent("onOpenStart",[t.id,e]))return 0;this._HideShow(t,2),this.checkEvent("onOpenEnd")&&(this.onXLE==this._epnFHe&&this._epnFHe(this,t.id,!0),this.xmlstate&&this.XMLsource?(this._oie_onXLE.push(this.onXLE),this.onXLE=this._epnFHe):this.callEvent("onOpenEnd",[t.id,this._getOpenState(t)]))}else this._srnd&&this._HideShow(t,2);t.parentObject&&!this._skip_open_parent&&this._openItem(t.parentObject)},dhtmlXTreeObject.prototype.closeItem=function(t){if(this.rootId==t)return 0;this.skipLock=!0;var e=this._globalIdStorageFind(t);return e?(e.closeble&&this._HideShow(e,1),void(this.skipLock=!1)):0},dhtmlXTreeObject.prototype.getLevel=function(t){var e=this._globalIdStorageFind(t);return e?this._getNodeLevel(e,0):0},dhtmlXTreeObject.prototype.setItemCloseable=function(t,e){var e=convertStringToBoolean(e),i=t&&t.span?t:this._globalIdStorageFind(t);return i?void(i.closeble=e):0},dhtmlXTreeObject.prototype._getNodeLevel=function(t,e){return t.parentObject?this._getNodeLevel(t.parentObject,e+1):e},dhtmlXTreeObject.prototype.hasChildren=function(t){var e=this._globalIdStorageFind(t);return e?this.XMLsource&&!e.XMLload?!0:e.childsCount:0},dhtmlXTreeObject.prototype._getLeafCount=function(t){for(var e=0,i=0;i<t.childsCount;i++)0==t.childNodes[i].childsCount&&e++;return e},dhtmlXTreeObject.prototype.setItemText=function(t,e,i){var s=this._globalIdStorageFind(t);return s?(s.label=e,s.span.innerHTML=e,this.childCalc&&this._fixChildCountLabel(s),void(s.span.parentNode.parentNode.title=i||"")):0},dhtmlXTreeObject.prototype.getItemTooltip=function(t){var e=this._globalIdStorageFind(t);return e?e.span.parentNode.parentNode._dhx_title||e.span.parentNode.parentNode.title||"":""},dhtmlXTreeObject.prototype.refreshItem=function(t){t||(t=this.rootId);this._globalIdStorageFind(t);this.deleteChildItems(t),this._loadDynXML(t)},dhtmlXTreeObject.prototype.setItemImage2=function(t,e,i,s){var n=this._globalIdStorageFind(t);return n?(n.images[1]=i,n.images[2]=s,n.images[0]=e,void this._correctPlus(n)):0},dhtmlXTreeObject.prototype.setItemImage=function(t,e,i){var s=this._globalIdStorageFind(t);return s?(i?(s.images[1]=e,s.images[2]=i):s.images[0]=e,void this._correctPlus(s)):0},dhtmlXTreeObject.prototype.getSubItems=function(t){var e=this._globalIdStorageFind(t,0,1);if(!e)return 0;if(e.unParsed)return this._getSubItemsXML(e.unParsed);var s="";for(i=0;i<e.childsCount;i++)s?s+=this.dlmtr+e.childNodes[i].id:s=""+e.childNodes[i].id;return s},dhtmlXTreeObject.prototype._getAllScraggyItems=function(t){for(var e="",i=0;i<t.childsCount;i++)if(t.childNodes[i].unParsed||t.childNodes[i].childsCount>0){var s=t.childNodes[i].unParsed?this._getAllScraggyItemsXML(t.childNodes[i].unParsed,1):this._getAllScraggyItems(t.childNodes[i]);s&&(e?e+=this.dlmtr+s:e=s)}else e?e+=this.dlmtr+t.childNodes[i].id:e=""+t.childNodes[i].id;return e},dhtmlXTreeObject.prototype._getAllFatItems=function(t){for(var e="",i=0;i<t.childsCount;i++)if(t.childNodes[i].unParsed||t.childNodes[i].childsCount>0){e?e+=this.dlmtr+t.childNodes[i].id:e=""+t.childNodes[i].id;var s=t.childNodes[i].unParsed?this._getAllFatItemsXML(t.childNodes[i].unParsed,1):this._getAllFatItems(t.childNodes[i]);s&&(e+=this.dlmtr+s)}return e},dhtmlXTreeObject.prototype._getAllSubItems=function(t,e,i){var s=i?i:this._globalIdStorageFind(t);if(!s)return 0;for(var e="",n=0;n<s.childsCount;n++){e?e+=this.dlmtr+s.childNodes[n].id:e=""+s.childNodes[n].id;var o=this._getAllSubItems(0,e,s.childNodes[n]);o&&(e+=this.dlmtr+o)}return s.unParsed&&(e=this._getAllSubItemsXML(t,e,s.unParsed)),e},dhtmlXTreeObject.prototype.selectItem=function(t,e,i){var e=convertStringToBoolean(e),s=this._globalIdStorageFind(t);if(!s||!s.parentObject)return 0;this.XMLloadingWarning?s.parentObject.openMe=1:this._openItem(s.parentObject);var n=null;i&&(n={ctrlKey:!0},s.i_sel)&&(n.skipUnSel=!0),e?this.onRowSelect(n,s.htmlNode.childNodes[0].childNodes[0].childNodes[3],!1):this.onRowSelect(n,s.htmlNode.childNodes[0].childNodes[0].childNodes[3],!0)},dhtmlXTreeObject.prototype.getSelectedItemText=function(){for(var t=[],e=0;e<this._selected.length;e++)t[e]=this._selected[e].span.innerHTML;return t.join(this.dlmtr)},dhtmlXTreeObject.prototype._compressChildList=function(t,e){t--;for(var i=0;t>i;i++)0==e[i]&&(e[i]=e[i+1],e[i+1]=0)},dhtmlXTreeObject.prototype._deleteNode=function(t,e,i){if(!e||!e.parentObject)return 0;var s=0,n=0;e.tr.nextSibling&&(s=e.tr.nextSibling.nodem),e.tr.previousSibling&&(n=e.tr.previousSibling.nodem);for(var o=e.parentObject,l=o.childsCount,h=o.childNodes,r=0;l>r;r++)if(h[r].id==t){i||o.htmlNode.childNodes[0].removeChild(h[r].tr),h[r]=0;break}this._compressChildList(l,h),i||o.childsCount--,s&&(this._correctPlus(s),this._correctLine(s)),n&&(this._correctPlus(n),this._correctLine(n)),this.tscheck&&this._correctCheckStates(o),i||this._globalIdStorageRecSub(e)},dhtmlXTreeObject.prototype.setCheck=function(t,e){var i=this._globalIdStorageFind(t,0,1);i&&("unsure"===e?this._setCheck(i,e):(e=convertStringToBoolean(e),this.tscheck&&this.smcheck?this._setSubChecked(e,i):this._setCheck(i,e)),this.smcheck&&this._correctCheckStates(i.parentObject))},dhtmlXTreeObject.prototype._setCheck=function(t,e){if(t){if((t.parentObject._r_logic||this._frbtr)&&e)if(this._frbtrs)this._frbtrL&&this.setCheck(this._frbtrL.id,0),this._frbtrL=t;else for(var i=0;i<t.parentObject.childsCount;i++)this._setCheck(t.parentObject.childNodes[i],0);var s=t.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];t.checkstate="unsure"==e?2:e?1:0,t.dscheck&&(t.checkstate=t.dscheck),this._setSrc(s,this.imPath+(t.parentObject._r_logic||this._frbtr?this.radioArray:this.checkArray)[t.checkstate])}},dhtmlXTreeObject.prototype.setSubChecked=function(t,e){var i=this._globalIdStorageFind(t);this._setSubChecked(e,i),this._correctCheckStates(i.parentObject)},dhtmlXTreeObject.prototype._setSubChecked=function(t,e){if(t=convertStringToBoolean(t),e){if((e.parentObject._r_logic||this._frbtr)&&t)for(var i=0;i<e.parentObject.childsCount;i++)this._setSubChecked(0,e.parentObject.childNodes[i]);if(e.unParsed&&this._setSubCheckedXML(t,e.unParsed),e._r_logic||this._frbtr)this._setSubChecked(t,e.childNodes[0]);else for(i=0;i<e.childsCount;i++)this._setSubChecked(t,e.childNodes[i]);var s=e.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0];e.checkstate=t?1:0,e.dscheck&&(e.checkstate=e.dscheck),this._setSrc(s,this.imPath+(e.parentObject._r_logic||this._frbtr?this.radioArray:this.checkArray)[e.checkstate])}},dhtmlXTreeObject.prototype.isItemChecked=function(t){var e=this._globalIdStorageFind(t);return e?e.checkstate:void 0},dhtmlXTreeObject.prototype.deleteChildItems=function(t){var e=this._globalIdStorageFind(t);if(e)for(var i=e.childsCount,s=0;i>s;s++)this._deleteNode(e.childNodes[0].id,e.childNodes[0])},dhtmlXTreeObject.prototype.deleteItem=function(t,e){if(!this._onrdlh||this._onrdlh(t)){var i=this._deleteItem(t,e);i&&this._fixChildCountLabel(i)}this.allTree.childNodes[0].border="1",this.allTree.childNodes[0].border="0"},dhtmlXTreeObject.prototype._deleteItem=function(t,e,i){var e=convertStringToBoolean(e),s=this._globalIdStorageFind(t);if(s){var n=this.getParentId(t),o=s.parentObject;return this._deleteNode(t,s,i),this._editCell&&this._editCell.id==t&&(this._editCell=null),this._correctPlus(o),this._correctLine(o),e&&n!=this.rootId&&this.selectItem(n,1),o}},dhtmlXTreeObject.prototype._globalIdStorageRecSub=function(t){for(var e=0;e<t.childsCount;e++)this._globalIdStorageRecSub(t.childNodes[e]),this._globalIdStorageSub(t.childNodes[e].id);this._globalIdStorageSub(t.id);var i=t;i.span=null,i.tr.nodem=null,i.tr=null,i.htmlNode=null},dhtmlXTreeObject.prototype.insertNewNext=function(t,e,i,s,n,o,l,h,r){var a=this._globalIdStorageFind(t);if(!a||!a.parentObject)return 0;var d=this._attachChildNode(0,e,i,s,n,o,l,h,r,a);return!this.XMLloadingWarning&&this.childCalc&&this._fixChildCountLabel(a.parentObject),d},dhtmlXTreeObject.prototype.getItemIdByIndex=function(t,e){var i=this._globalIdStorageFind(t);return!i||e>=i.childsCount?null:i.childNodes[e].id},dhtmlXTreeObject.prototype.getChildItemIdByIndex=function(t,e){var i=this._globalIdStorageFind(t);return!i||e>=i.childsCount?null:i.childNodes[e].id},dhtmlXTreeObject.prototype.setDragHandler=function(t){this.attachEvent("onDrag",t)},dhtmlXTreeObject.prototype._clearMove=function(){this._lastMark&&(this._lastMark.className=this._lastMark.className.replace(/dragAndDropRow/g,""),this._lastMark=null),this.selectionBar.style.display="none",this.allTree.className=this.allTree.className.replace(" selectionBox","")},dhtmlXTreeObject.prototype.enableDragAndDrop=function(t,e){"temporary_disabled"==t?(this.dADTempOff=!1,t=!0):this.dADTempOff=!0,(this.dragAndDropOff=convertStringToBoolean(t))&&this.dragger.addDragLanding(this.allTree,this),arguments.length>1&&(this._ddronr=!convertStringToBoolean(e))},dhtmlXTreeObject.prototype._setMove=function(t,e,i){if(t.parentObject.span){var s=getAbsoluteTop(t),n=getAbsoluteTop(this.allTree)-this.allTree.scrollTop;if(this.dadmodec=this.dadmode,this.dadmodefix=0,2==this.dadmode){var o=i-s+(document.body.scrollTop||document.documentElement.scrollTop)-2-t.offsetHeight/2;Math.abs(o)-t.offsetHeight/6>0?(this.dadmodec=1,0>o&&(this.dadmodefix=0-t.offsetHeight)):this.dadmodec=0}if(0==this.dadmodec){var l=t.parentObject.span;l.className+=" dragAndDropRow",this._lastMark=l}else this._clearMove(),this.selectionBar.style.top=s-n+((parseInt(t.parentObject.span.parentNode.previousSibling.childNodes[0].style.height)||18)-1)+this.dadmodefix+"px",this.selectionBar.style.left="5px",this.allTree.offsetWidth>20&&(this.selectionBar.style.width=this.allTree.offsetWidth-(_isFF?30:25)+"px"),this.selectionBar.style.display="";this._autoScroll(null,s,n)}},dhtmlXTreeObject.prototype._autoScroll=function(t,e,i){this.autoScroll&&(t&&(e=getAbsoluteTop(t),i=getAbsoluteTop(this.allTree)-this.allTree.scrollTop),e-i-parseInt(this.allTree.scrollTop)>parseInt(this.allTree.offsetHeight)-50&&(this.allTree.scrollTop=parseInt(this.allTree.scrollTop)+20),e-i<parseInt(this.allTree.scrollTop)+30&&(this.allTree.scrollTop=parseInt(this.allTree.scrollTop)-20))},dhtmlXTreeObject.prototype._createDragNode=function(t,e){if(!this.dADTempOff)return null;var i=t.parentObject;if(!this.callEvent("onBeforeDrag",[i.id,e]))return null;i.i_sel||this._selectItem(i,e),this._checkMSelectionLogic();var s=document.createElement("div"),n=[];if(this._itim_dg)for(var o=0;o<this._selected.length;o++)n[o]="<table cellspacing='0' cellpadding='0'><tr><td><img width='18px' height='18px' src='"+this._getSrc(this._selected[o].span.parentNode.previousSibling.childNodes[0])+"'></td><td>"+this._selected[o].span.innerHTML+"</td></tr></table>";else n=this.getSelectedItemText().split(this.dlmtr);return s.innerHTML=n.join(""),s.style.position="absolute",s.className="dragSpanDiv",this._dragged=[].concat(this._selected),s},dhtmlXTreeObject.prototype._focusNode=function(t){var e=getAbsoluteTop(t.htmlNode)-getAbsoluteTop(this.allTree);(e>this.allTree.offsetHeight-30||0>e)&&(this.allTree.scrollTop=e+this.allTree.scrollTop)},dhtmlXTreeObject.prototype._preventNsDrag=function(t){return t&&t.preventDefault&&t.preventDefault(),!1},dhtmlXTreeObject.prototype._drag=function(t,e,i){this._autoOpenTimer&&clearTimeout(this._autoOpenTimer),i.parentObject||(i=this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[1].childNodes[0],this.dadmodec=0),this._clearMove();var s=t.parentObject.treeNod;if(s&&s._clearMove&&s._clearMove(""),!this.dragMove||this.dragMove())for(var n=s&&s._clearMove&&s._dragged?s._dragged:Array(t.parentObject),o=i.parentObject,l=0;l<n.length;l++){var h=this._moveNode(n[l],o);this.dadmodec&&h!==!1&&(o=this._globalIdStorageFind(h,!0,!0)),h&&!this._sADnD&&this.selectItem(h,0,1)}s&&(s._dragged=[])},dhtmlXTreeObject.prototype._dragIn=function(t,e,i,s){if(!this.dADTempOff)return 0;var n=e.parentObject,o=t.parentObject;if(o||!this._ddronr){if(!this.callEvent("onDragIn",[n.id,o?o.id:null,n.treeNod,this]))return o&&this._autoScroll(t),0;if(o){if(null==n.childNodes)return this._setMove(t,i,s),t;for(var l=n.treeNod,h=0;h<l._dragged.length;h++)if(this._checkPNodes(o,l._dragged[h]))return this._autoScroll(t),0;this.selectionBar.parentNode.removeChild(this.selectionBar),o.span.parentNode.appendChild(this.selectionBar),this._setMove(t,i,s),this._getOpenState(o)<=0&&(this._autoOpenId=o.id,this._autoOpenTimer=window.setTimeout(new callerFunction(this._autoOpenItem,this),1e3))}else this.allTree.className+=" selectionBox";return t}},dhtmlXTreeObject.prototype._autoOpenItem=function(t,e){e.openItem(e._autoOpenId)},dhtmlXTreeObject.prototype._dragOut=function(){this._clearMove(),this._autoOpenTimer&&clearTimeout(this._autoOpenTimer)},dhtmlXTreeObject.prototype._getNextNode=function(t,e){return!e&&t.childsCount?t.childNodes[0]:t==this.htmlNode?-1:t.tr&&t.tr.nextSibling&&t.tr.nextSibling.nodem?t.tr.nextSibling.nodem:this._getNextNode(t.parentObject,!0)},dhtmlXTreeObject.prototype._lastChild=function(t){return t.childsCount?this._lastChild(t.childNodes[t.childsCount-1]):t},dhtmlXTreeObject.prototype._getPrevNode=function(t){return t.tr&&t.tr.previousSibling&&t.tr.previousSibling.nodem?this._lastChild(t.tr.previousSibling.nodem):t.parentObject?t.parentObject:-1},dhtmlXTreeObject.prototype.findItem=function(t,e,i){var s=this._findNodeByLabel(t,e,i?this.htmlNode:null);return s?(this.selectItem(s.id,!0),this._focusNode(s),s.id):null},dhtmlXTreeObject.prototype.findItemIdByLabel=function(t,e,i){var s=this._findNodeByLabel(t,e,i?this.htmlNode:null);return s?s.id:null},dhtmlXTreeObject.prototype.findStrInXML=function(t,e,i){if(!t.childNodes&&t.item)return this.findStrInJSON(t,e,i);if(!t.childNodes)return!1;for(var s=0;s<t.childNodes.length;s++)if(1==t.childNodes[s].nodeType){var n=t.childNodes[s].getAttribute(e);if(n||"itemtext"!=t.childNodes[s].tagName||(n=t.childNodes[s].firstChild.data),n&&-1!=n.toLowerCase().search(i))return!0;if(this.findStrInXML(t.childNodes[s],e,i))return!0}return!1},dhtmlXTreeObject.prototype.findStrInJSON=function(t,e,i){for(var s=0;s<t.item.length;s++){var n=t.item[s].text;if(n&&-1!=n.toLowerCase().search(i))return!0;if(t.item[s].item&&this.findStrInJSON(t.item[s],e,i))return!0}return!1},dhtmlXTreeObject.prototype._findNodeByLabel=function(t,e,i){t=t.replace(/^( )+/,"").replace(/( )+$/,""),t=RegExp(t.replace(/([\?\*\+\\\[\]\(\)]{1})/gi,"\\$1").replace(/ /gi,".*"),"gi"),i||(i=this._selected[0])||(i=this.htmlNode);var s=i;if(e){var n=this._getPrevNode(s);-1==n&&(n=this._lastChild(this.htmlNode)),n.unParsed&&this.findStrInXML(n.unParsed.d,"text",t)?(this.reParse(n),i=this._getPrevNode(s)):i=n,-1==i&&(i=this._lastChild(this.htmlNode))}else i.unParsed&&this.findStrInXML(i.unParsed.d,"text",t)&&this.reParse(i),i=this._getNextNode(s),-1==i&&(i=this.htmlNode.childNodes[0]);for(;i&&i!=s;){if(i.label&&-1!=i.label.search(t))return i;if(e)n=this._getPrevNode(i),-1==n&&(n=this._lastChild(this.htmlNode)),n.unParsed&&this.findStrInXML(n.unParsed.d,"text",t)?(this.reParse(n),i=this._getPrevNode(i)):i=n,-1==i&&(i=this._lastChild(this.htmlNode));else{if(-1==i){if(s==this.htmlNode)break;i=this.htmlNode.childNodes[0]}i.unParsed&&this.findStrInXML(i.unParsed.d,"text",t)&&this.reParse(i),i=this._getNextNode(i),-1==i&&(i=this.htmlNode)}}return null},dhtmlXTreeObject.prototype.moveItem=function(t,e,i,s){var n=this._globalIdStorageFind(t);if(!n)return 0;var o=null;switch(e){case"right":alert("Not supported yet");break;case"item_child":var l=(s||this)._globalIdStorageFind(i);if(!l)return 0;o=(s||this)._moveNodeTo(n,l,0);break;case"item_sibling":if(l=(s||this)._globalIdStorageFind(i),!l)return 0;o=(s||this)._moveNodeTo(n,l.parentObject,l);break;case"item_sibling_next":if(l=(s||this)._globalIdStorageFind(i),!l)return 0;o=l.tr&&l.tr.nextSibling&&l.tr.nextSibling.nodem?(s||this)._moveNodeTo(n,l.parentObject,l.tr.nextSibling.nodem):(s||this)._moveNodeTo(n,l.parentObject);break;case"left":n.parentObject.parentObject&&(o=this._moveNodeTo(n,n.parentObject.parentObject,n.parentObject));break;case"up":var h=this._getPrevNode(n);if(-1==h||!h.parentObject)return null;o=this._moveNodeTo(n,h.parentObject,h);break;case"up_strict":h=this._getIndex(n),0!=h&&(o=this._moveNodeTo(n,n.parentObject,n.parentObject.childNodes[h-1]));break;case"down_strict":var h=this._getIndex(n),r=n.parentObject.childsCount-2;h==r?o=this._moveNodeTo(n,n.parentObject):r>h&&(o=this._moveNodeTo(n,n.parentObject,n.parentObject.childNodes[h+2]));break;case"down":if(h=this._getNextNode(this._lastChild(n)),-1==h||!h.parentObject)return;if(h.parentObject==n.parentObject&&(h=this._getNextNode(h)),-1==h)o=this._moveNodeTo(n,n.parentObject);else{if(-1==h||!h.parentObject)return;o=this._moveNodeTo(n,h.parentObject,h)}}return _isIE&&8>_isIE&&(this.allTree.childNodes[0].border="1",this.allTree.childNodes[0].border="0"),o},dhtmlXTreeObject.prototype.setDragBehavior=function(t,e){switch(this._sADnD=!convertStringToBoolean(e),t){case"child":this.dadmode=0;break;case"sibling":this.dadmode=1;break;case"complex":this.dadmode=2}},dhtmlXTreeObject.prototype._loadDynXML=function(t,e){var e=e||this.XMLsource,i=(new Date).valueOf();this._ld_id=t,"function"==this.xmlalb?e&&e(this._escape(t)):this.loadXML("name"==this.xmlalb?e+this._escape(t):"xmlname"==this.xmlalb?e+this._escape(t)+".xml?uid="+i:e+getUrlSymbol(e)+"uid="+i+"&id="+this._escape(t))},dhtmlXTreeObject.prototype.enableMultiselection=function(t,e){this._amsel=convertStringToBoolean(t),this._amselS=convertStringToBoolean(e)},dhtmlXTreeObject.prototype._checkMSelectionLogic=function(){for(var t=[],e=0;e<this._selected.length;e++)for(var i=0;i<this._selected.length;i++)e!=i&&this._checkPNodes(this._selected[i],this._selected[e])&&(t[t.length]=this._selected[i]);for(e=0;e<t.length;e++)this._unselectItem(t[e])},dhtmlXTreeObject.prototype._checkPNodes=function(t,e){return this._dcheckf?!1:e==t?1:t.parentObject?this._checkPNodes(t.parentObject,e):0},dhtmlXTreeObject.prototype.disableDropCheck=function(t){this._dcheckf=convertStringToBoolean(t)},dhtmlXTreeObject.prototype.enableDistributedParsing=function(t,e,i){this._edsbps=convertStringToBoolean(t),this._edsbpsA=[],this._edsbpsC=e||10,this._edsbpsD=i||250},dhtmlXTreeObject.prototype.getDistributedParsingState=function(){return!(!this._edsbpsA||!this._edsbpsA.length)},dhtmlXTreeObject.prototype.getItemParsingState=function(t){var e=this._globalIdStorageFind(t,!0,!0);if(!e)return 0;if(this._edsbpsA)for(var i=0;i<this._edsbpsA.length;i++)if(this._edsbpsA[i][2]==t)return-1;return 1},dhtmlXTreeObject.prototype._distributedStart=function(t,e,i,s,n){this._edsbpsA||(this._edsbpsA=[]),this._edsbpsA[this._edsbpsA.length]=[t,e,i,s,n]
},dhtmlXTreeObject.prototype._distributedStep=function(t){var e=this;if(this._edsbpsA&&this._edsbpsA.length){var i=this._edsbpsA[0];this.parsedArray=[],this._parse(i[0],i[2],i[3],i[1]);var s=this._globalIdStorageFind(i[2]);this._redrawFrom(this,s,i[4],this._getOpenState(s));for(var n=this.setCheckList.split(this.dlmtr),o=0;o<n.length;o++)n[o]&&this.setCheck(n[o],1);this._edsbpsA=[].concat(this._edsbpsA.slice(1)),this._edsbpsA.length||(window.setTimeout(function(){e.onXLE&&e.onXLE(e,t),e.callEvent("onXLE",[e,t])},1),e.xmlstate=0)}else e.XMLloadingWarning=0},dhtmlXTreeObject.prototype.enableTextSigns=function(t){this._txtimg=convertStringToBoolean(t)},dhtmlXTreeObject.prototype.preventIECaching=function(t){this.no_cashe=convertStringToBoolean(t),this.XMLLoader.rSeed=this.no_cashe},dhtmlXTreeObject.prototype.preventIECashing=dhtmlXTreeObject.prototype.preventIECaching,dhtmlXTreeObject.prototype.disableCheckbox=function(t,e){var i="object"!=typeof t?this._globalIdStorageFind(t,0,1):t;i&&(i.dscheck=convertStringToBoolean(e)?(i.checkstate||0)%3+3:i.checkstate>2?i.checkstate-3:i.checkstate,this._setCheck(i),i.dscheck<3)&&(i.dscheck=!1)},dhtmlXTreeObject.prototype.smartRefreshBranch=function(t,e){this._branchUpdate=1,this.smartRefreshItem(t,e)},dhtmlXTreeObject.prototype.smartRefreshItem=function(t,e){for(var i=this._globalIdStorageFind(t),s=0;s<i.childsCount;s++)i.childNodes[s]._dmark=!0;this.waitUpdateXML=!0,e&&e.exists?this._parse(e,t):this._loadDynXML(t,e)},dhtmlXTreeObject.prototype.refreshItems=function(t,e){var i=t.toString().split(this.dlmtr);this.waitUpdateXML=[];for(var s=0;s<i.length;s++)this.waitUpdateXML[i[s]]=!0;this.loadXML((e||this.XMLsource)+getUrlSymbol(e||this.XMLsource)+"ids="+this._escape(t))},dhtmlXTreeObject.prototype.updateItem=function(t,e,i,s,n,o,l){var h=this._globalIdStorageFind(t);return h.userData=new cObject,e&&(h.label=e),h.images=[i||this.imageArray[0],s||this.imageArray[1],n||this.imageArray[2]],this.setItemText(t,e),o&&this._setCheck(h,!0),"1"!=l||this.hasChildren(t)||(h.XMLload=0),this._correctPlus(h),h._dmark=!1,h},dhtmlXTreeObject.prototype.setDropHandler=function(t){this.attachEvent("onDrop",t)},dhtmlXTreeObject.prototype.setOnLoadingStart=function(t){this.attachEvent("onXLS",t)},dhtmlXTreeObject.prototype.setOnLoadingEnd=function(t){this.attachEvent("onXLE",t)},dhtmlXTreeObject.prototype.setXMLAutoLoadingBehaviour=function(t){this.xmlalb=t},dhtmlXTreeObject.prototype.enableSmartCheckboxes=function(t){this.smcheck=convertStringToBoolean(t)},dhtmlXTreeObject.prototype.getXMLState=function(){return 1==this.xmlstate},dhtmlXTreeObject.prototype.setItemTopOffset=function(t,e){var i;i="object"!=typeof t?this._globalIdStorageFind(t):t;var s=i.span.parentNode.parentNode;i.span.style.paddingBottom="1px";for(var n=0;n<s.childNodes.length;n++){if(0!=n)_isIE?(s.childNodes[n].style.height="18px",s.childNodes[n].style.paddingTop=parseInt(e)+"px"):s.childNodes[n].style.height=18+parseInt(e)+"px";else{var o=s.childNodes[n].firstChild;"DIV"!=s.childNodes[n].firstChild.tagName&&(o=document.createElement("DIV"),s.childNodes[n].insertBefore(o,s.childNodes[n].firstChild)),o.style.height=parseInt(e)+"px",i.parentObject.id==this.rootId&&i.parentObject.childNodes[0]==i||!this.treeLinesOn||(o.style.backgroundImage="url("+this.imPath+this.lineArray[5]+")"),o.innerHTML="&nbsp;",o.style.overflow="hidden",0==parseInt(e)&&s.childNodes[n].removeChild(o)}_isIE||(s.childNodes[n].style.verticalAlign="bottom"),_isIE&&(this.allTree.childNodes[0].border="1",this.allTree.childNodes[0].border="0")}},dhtmlXTreeObject.prototype.setIconSize=function(t,e,i){if(i){var s=i&&i.span?i:this._globalIdStorageFind(i);if(!s)return 0;var n=s.span.parentNode.previousSibling.childNodes[0];t&&(n.style.width=t,window._KHTMLrv)&&(n.parentNode.style.width=t),e&&(n.style.height=e,window._KHTMLrv)&&(n.parentNode.style.height=e)}else this.def_img_x=t,this.def_img_y=e},dhtmlXTreeObject.prototype.getItemImage=function(t,e,i){var s=this._globalIdStorageFind(t);if(!s)return"";var n=s.images[e||0];return i&&(n=this.iconURL+n),n},dhtmlXTreeObject.prototype.enableRadioButtons=function(t,e){if(1==arguments.length)this._frbtr=convertStringToBoolean(t),this.checkBoxOff=this.checkBoxOff||this._frbtr;else{var i=this._globalIdStorageFind(t);if(!i)return"";if((e=convertStringToBoolean(e))&&!i._r_logic){i._r_logic=!0;for(var s=0;s<i.childsCount;s++)this._setCheck(i.childNodes[s],i.childNodes[s].checkstate)}if(!e&&i._r_logic)for(i._r_logic=!1,s=0;s<i.childsCount;s++)this._setCheck(i.childNodes[s],i.childNodes[s].checkstate)}},dhtmlXTreeObject.prototype.enableSingleRadioMode=function(t){this._frbtrs=convertStringToBoolean(t)},dhtmlXTreeObject.prototype.openOnItemAdded=function(t){this._hAdI=!convertStringToBoolean(t)},dhtmlXTreeObject.prototype.openOnItemAdding=function(t){this._hAdI=!convertStringToBoolean(t)},dhtmlXTreeObject.prototype.enableMultiLineItems=function(t){this.mlitems=t===!0?"100%":t},dhtmlXTreeObject.prototype.enableAutoTooltips=function(t){this.ettip=convertStringToBoolean(t)},dhtmlXTreeObject.prototype.clearSelection=function(t){t?this._unselectItem(this._globalIdStorageFind(t)):this._unselectItems()},dhtmlXTreeObject.prototype.showItemSign=function(t,e){var i=this._globalIdStorageFind(t);if(!i)return 0;i.span.parentNode.previousSibling.previousSibling.previousSibling;convertStringToBoolean(e)?(i.closeble=!0,i.wsign=!1):(this._openItem(i),i.closeble=!1,i.wsign=!0),this._correctPlus(i)},dhtmlXTreeObject.prototype.showItemCheckbox=function(t,e){if(!t)for(var i in this._idpull)this.showItemCheckbox(this._idpull[i],e);if("object"!=typeof t&&(t=this._globalIdStorageFind(t,0,0)),!t)return 0;t.nocheckbox=!convertStringToBoolean(e);var s=t.span.parentNode.previousSibling.previousSibling.childNodes[0];s.parentNode.style.display=t.nocheckbox?"none":""},dhtmlXTreeObject.prototype.setListDelimeter=function(t){this.dlmtr=t},dhtmlXTreeObject.prototype.setEscapingMode=function(t){this.utfesc=t},dhtmlXTreeObject.prototype.enableHighlighting=function(t){this.ehlt=!0,this.ehlta=convertStringToBoolean(t)},dhtmlXTreeObject.prototype._itemMouseOut=function(){var t=this.childNodes[3].parentObject,e=t.treeNod;e.callEvent("onMouseOut",[t.id]),t.id==e._l_onMSI&&(e._l_onMSI=null),e.ehlta&&(t.span.className=t.span.className.replace("_lor",""))},dhtmlXTreeObject.prototype._itemMouseIn=function(){var t=this.childNodes[3].parentObject,e=t.treeNod;e._l_onMSI!=t.id&&e.callEvent("onMouseIn",[t.id]),e._l_onMSI=t.id,e.ehlta&&(t.span.className=t.span.className.replace("_lor",""),t.span.className=t.span.className.replace(/((standart|selected)TreeRow)/,"$1_lor"))},dhtmlXTreeObject.prototype.enableActiveImages=function(t){this._aimgs=convertStringToBoolean(t)},dhtmlXTreeObject.prototype.focusItem=function(t){var e=this._globalIdStorageFind(t);return e?void this._focusNode(e):0},dhtmlXTreeObject.prototype.getAllSubItems=function(t){return this._getAllSubItems(t)},dhtmlXTreeObject.prototype.getAllChildless=function(){return this._getAllScraggyItems(this.htmlNode)},dhtmlXTreeObject.prototype.getAllLeafs=dhtmlXTreeObject.prototype.getAllChildless,dhtmlXTreeObject.prototype._getAllScraggyItems=function(t){for(var e="",i=0;i<t.childsCount;i++)if(t.childNodes[i].unParsed||t.childNodes[i].childsCount>0){var s=t.childNodes[i].unParsed?this._getAllScraggyItemsXML(t.childNodes[i].unParsed,1):this._getAllScraggyItems(t.childNodes[i]);s&&(e?e+=this.dlmtr+s:e=s)}else e?e+=this.dlmtr+t.childNodes[i].id:e=""+t.childNodes[i].id;return e},dhtmlXTreeObject.prototype._getAllFatItems=function(t){for(var e="",i=0;i<t.childsCount;i++)if(t.childNodes[i].unParsed||t.childNodes[i].childsCount>0){e?e+=this.dlmtr+t.childNodes[i].id:e=""+t.childNodes[i].id;var s=t.childNodes[i].unParsed?this._getAllFatItemsXML(t.childNodes[i].unParsed,1):this._getAllFatItems(t.childNodes[i]);s&&(e+=this.dlmtr+s)}return e},dhtmlXTreeObject.prototype.getAllItemsWithKids=function(){return this._getAllFatItems(this.htmlNode)},dhtmlXTreeObject.prototype.getAllFatItems=dhtmlXTreeObject.prototype.getAllItemsWithKids,dhtmlXTreeObject.prototype.getAllChecked=function(){return this._getAllChecked("","",1)},dhtmlXTreeObject.prototype.getAllUnchecked=function(t){return t&&(t=this._globalIdStorageFind(t)),this._getAllChecked(t,"",0)},dhtmlXTreeObject.prototype.getAllPartiallyChecked=function(){return this._getAllChecked("","",2)},dhtmlXTreeObject.prototype.getAllCheckedBranches=function(){var t=[this._getAllChecked("","",1)],e=this._getAllChecked("","",2);return e&&t.push(e),t.join(this.dlmtr)},dhtmlXTreeObject.prototype._getAllChecked=function(t,e,i){t||(t=this.htmlNode),t.checkstate==i&&(t.nocheckbox||(e?e+=this.dlmtr+t.id:e=""+t.id));for(var s=t.childsCount,n=0;s>n;n++)e=this._getAllChecked(t.childNodes[n],e,i);return t.unParsed&&(e=this._getAllCheckedXML(t.unParsed,e,i)),e?e:""},dhtmlXTreeObject.prototype.setItemStyle=function(t,e,i){var i=i||!1,s=this._globalIdStorageFind(t);return s?void(s.span.style.cssText?s.span.style.cssText=i?e:s.span.style.cssText+";"+e:s.span.setAttribute("style",s.span.getAttribute("style")+"; "+e)):0},dhtmlXTreeObject.prototype.enableImageDrag=function(t){this._itim_dg=convertStringToBoolean(t)},dhtmlXTreeObject.prototype.setOnDragIn=function(t){this.attachEvent("onDragIn",t)},dhtmlXTreeObject.prototype.enableDragAndDropScrolling=function(t){this.autoScroll=convertStringToBoolean(t)},dhtmlXTreeObject.prototype.setSkin=function(t){var e=this.parentObject.className.replace(/dhxtree_[^ ]*/gi,"");this.parentObject.className=e+" dhxtree_"+t,"dhx_terrace"==t&&this.enableTreeLines(!1)},function(){dhtmlx.extend_api("dhtmlXTreeObject",{_init:function(t){return[t.parent,t.width||"100%",t.height||"100%",t.root_id||0]},auto_save_selection:"enableAutoSavingSelected",auto_tooltip:"enableAutoTooltips",checkbox:"enableCheckBoxes",checkbox_3_state:"enableThreeStateCheckboxes",checkbox_smart:"enableSmartCheckboxes",context_menu:"enableContextMenu",distributed_parsing:"enableDistributedParsing",drag:"enableDragAndDrop",drag_copy:"enableMercyDrag",drag_image:"enableImageDrag",drag_scroll:"enableDragAndDropScrolling",editor:"enableItemEditor",hover:"enableHighlighting",images:"enableTreeImages",image_fix:"enableIEImageFix",image_path:"setImagePath",lines:"enableTreeLines",loading_item:"enableLoadingItem",multiline:"enableMultiLineItems",multiselect:"enableMultiselection",navigation:"enableKeyboardNavigation",radio:"enableRadioButtons",radio_single:"enableSingleRadioMode",rtl:"enableRTL",search:"enableKeySearch",smart_parsing:"enableSmartXMLParsing",smart_rendering:"enableSmartRendering",text_icons:"enableTextSigns",xml:"loadXML",skin:"setSkin"},{})}(),dhtmlXTreeObject.prototype._dp_init=function(t){t.attachEvent("insertCallback",function(t,e,i){var s=this._loader.doXPath(".//item",t),n=s[0].getAttribute("text");this.obj.insertNewItem(i,e,n,0,0,0,0,"CHILD")}),t.attachEvent("updateCallback",function(t,e,i){var s=this._loader.doXPath(".//item",t),n=s[0].getAttribute("text");this.obj.setItemText(e,n),this.obj.getParentId(e)!=i&&this.obj.moveItem(e,"item_child",i),this.setUpdated(e,!0,"updated")}),t.attachEvent("deleteCallback",function(t,e){this.obj.setUserData(e,this.action_param,"true_deleted"),this.obj.deleteItem(e,!1)}),t._methods=["setItemStyle","","changeItemId","deleteItem"],this.attachEvent("onEdit",function(e,i){return 3==e&&t.setUpdated(i,!0),!0}),this.attachEvent("onDrop",function(e,i,s,n,o){n==o&&t.setUpdated(e,!0)}),this._onrdlh=function(e){var i=t.getState(e);return"inserted"==i?(t.set_invalid(e,!1),t.setUpdated(e,!1),!0):"true_deleted"==i?(t.setUpdated(e,!1),!0):(t.setUpdated(e,!0,"deleted"),!1)},this._onradh=function(e){t.setUpdated(e,!0,"inserted")},t._getRowData=function(t){for(var e={},i=this.obj._globalIdStorageFind(t),s=i.parentObject,n=0,n=0;n<s.childsCount&&s.childNodes[n]!=i;n++);for(e.tr_id=i.id,e.tr_pid=s.id,e.tr_order=n,e.tr_text=i.span.innerHTML,s=(i._userdatalist||"").split(","),n=0;n<s.length;n++)e[s[n]]=i.userData["t_"+s[n]];return e}},dhtmlXTreeObject.prototype.parserExtension={_parseExtension:function(t,e){this._idpull[e.id]._attrs=e}},dhtmlXTreeObject.prototype.getAttribute=function(t,e){this._globalIdStorageFind(t);var i=this._idpull[t]._attrs;return i?i[e]:window.undefined},dhtmlXTreeObject.prototype.setAttribute=function(t,e,i){this._globalIdStorageFind(t);var s=this._idpull[t]._attrs||{};s[e]=i,this._idpull[t]._attrs=s},dhtmlXTreeObject.prototype.makeDraggable=function(t,e){"object"!=typeof t&&(t=document.getElementById(t)),dragger=new dhtmlDragAndDropObject,dropper=new dhx_dragSomethingInTree,dragger.addDraggableItem(t,dropper),t.dragLanding=null,t.ondragstart=dropper._preventNsDrag,t.onselectstart=new Function("return false;"),t.parentObject={},t.parentObject.img=t,t.parentObject.treeNod=dropper,dropper._customDrop=e},dhtmlXTreeObject.prototype.makeDragable=dhtmlXTreeObject.prototype.makeDraggable,dhtmlXTreeObject.prototype.makeAllDraggable=function(t){for(var e=document.getElementsByTagName("div"),i=0;i<e.length;i++)e[i].getAttribute("dragInDhtmlXTree")&&this.makeDragable(e[i],t)},dhtmlXTreeObject.prototype.enableItemEditor=function(t){this._eItEd=convertStringToBoolean(t),this._eItEdFlag||(this._edn_dblclick=this._edn_click_IE=!0,this._ie_aFunc=this.aFunc,this._ie_dblclickFuncHandler=this.dblclickFuncHandler,this.setOnDblClickHandler(function(t,e){return this._edn_dblclick&&this._editItem(t,e),!0}),this.setOnClickHandler(function(t,e){return this._stopEditItem(t,e),this.ed_hist_clcik==t&&this._edn_click_IE&&this._editItem(t,e),this.ed_hist_clcik=t,!0}),this._eItEdFlag=!0)},dhtmlXTreeObject.prototype.setOnEditHandler=function(t){this.attachEvent("onEdit",t)},dhtmlXTreeObject.prototype.setEditStartAction=function(t,e){this._edn_click_IE=convertStringToBoolean(t),this._edn_dblclick=convertStringToBoolean(e)},dhtmlXTreeObject.prototype._stopEdit=function(t,e){if(this._editCell&&(this.dADTempOff=this.dADTempOffEd,this._editCell.id!=t)){var i=!0;e?(i=!1,this.callEvent("onEditCancel",[this._editCell.id,this._editCell._oldValue])):i=this.callEvent("onEdit",[2,this._editCell.id,this,this._editCell.span.childNodes[0].value]),i===!0?i=this._editCell.span.childNodes[0].value:i===!1&&(i=this._editCell._oldValue);var s=i!=this._editCell._oldValue;this._editCell.span.innerHTML=i,this._editCell.label=this._editCell.span.innerHTML;var n=this._editCell.i_sel?"selectedTreeRow":"standartTreeRow";this._editCell.span.className=n,this._editCell.span.parentNode.className="standartTreeRow",this._editCell.span.style.paddingRight=this._editCell.span.style.paddingLeft="5px",this._editCell.span.onclick=this._editCell.span.ondblclick=function(){};var o=this._editCell.id;this.childCalc&&this._fixChildCountLabel(this._editCell),this._editCell=null,e||this.callEvent("onEdit",[3,o,this,s]),this._enblkbrd&&(this.parentObject.lastChild.focus(),this.parentObject.lastChild.focus())}},dhtmlXTreeObject.prototype._stopEditItem=function(t){this._stopEdit(t)},dhtmlXTreeObject.prototype.stopEdit=function(t){this._editCell&&this._stopEdit(this._editCell.id+"_non",t)},dhtmlXTreeObject.prototype.editItem=function(t){this._editItem(t,this)},dhtmlXTreeObject.prototype._editItem=function(t){if(this._eItEd){this._stopEdit();var e=this._globalIdStorageFind(t);if(e){var i=this.callEvent("onEdit",[0,t,this,e.span.innerHTML]);if(i===!0)i="undefined"!=typeof e.span.innerText?e.span.innerText:e.span.textContent;else if(i===!1)return;this.dADTempOffEd=this.dADTempOff,this.dADTempOff=!1,this._editCell=e,e._oldValue=i,e.span.innerHTML="<input type='text' class='intreeeditRow' />",e.span.style.paddingRight=e.span.style.paddingLeft="0px",e.span.onclick=e.span.ondblclick=function(t){(t||event).cancelBubble=!0},e.span.childNodes[0].value=i,e.span.childNodes[0].onselectstart=function(t){return(t||event).cancelBubble=!0},e.span.childNodes[0].onmousedown=function(t){return(t||event).cancelBubble=!0},e.span.childNodes[0].focus(),e.span.childNodes[0].focus(),e.span.onclick=function(t){return(t||event).cancelBubble=!0,!1},e.span.className="",e.span.parentNode.className="";var s=this;e.span.childNodes[0].onkeydown=function(t){t||(t=window.event),13==t.keyCode?(t.cancelBubble=!0,s._stopEdit(window.undefined)):27==t.keyCode&&s._stopEdit(window.undefined,!0),(t||event).cancelBubble=!0},this.callEvent("onEdit",[1,t,this])}}},jsonPointer.prototype={text:function(){var t=function(t){for(var i=[],s=0;s<t.length;s++)i.push("{"+e(t[s])+"}");return i.join(",")},e=function(i){var s,n=[];for(s in i)n.push("object"==typeof i[s]?s.length?'"'+s+'":['+t(i[s])+"]":'"'+s+'":{'+e(i[s])+"}":'"'+s+'":"'+i[s]+'"');return n.join(",")};return"{"+e(this.d)+"}"},get:function(t){return this.d[t]},exists:function(){return!!this.d},content:function(){return this.d.content},each:function(t,e,i){var s=this.d[t],n=new jsonPointer;if(s)for(var o=0;o<s.length;o++)n.d=s[o],e.apply(i,[n,o])},get_all:function(){return this.d},sub:function(t){return new jsonPointer(this.d[t],this.d)},sub_exists:function(t){return!!this.d[t]},each_x:function(t,e,i,s,n){var o=this.d[t],l=new jsonPointer(0,this.d);if(o)for(n=n||0;n<o.length&&(!o[n][e]||(l.d=o[n],-1!=i.apply(s,[l,n])));n++);},up:function(){return new jsonPointer(this.dp,this.d)},set:function(t,e){this.d[t]=e},clone:function(){return new jsonPointer(this.d,this.dp)},through:function(t,e,i,s,n){var o=this.d[t];if(o.length)for(var l=0;l<o.length;l++){if(null!=o[l][e]&&""!=o[l][e]&&(!i||o[l][e]==i)){var h=new jsonPointer(o[l],this.d);s.apply(n,[h,l])}var r=this.d;this.d=o[l],this.sub_exists(t)&&this.through(t,e,i,s,n),this.d=r}}},dhtmlXTreeObject.prototype.loadJSArrayFile=function(a,b){this.parsCount||this.callEvent("onXLS",[this,this._ld_id]),this._ld_id=null,this.xmlstate=1;var c=this;this.XMLLoader=new dtmlXMLLoaderObject(function(a,b,f,g,h){eval("var z="+h.xmlDoc.responseText),c.loadJSArray(z)},this,!0,this.no_cashe),b&&(this.XMLLoader.waitCall=b),this.XMLLoader.loadXML(a)},dhtmlXTreeObject.prototype.loadCSV=function(t,e){this.parsCount||this.callEvent("onXLS",[this,this._ld_id]),this._ld_id=null,this.xmlstate=1;var i=this;this.XMLLoader=new dtmlXMLLoaderObject(function(t,e,s,n,o){i.loadCSVString(o.xmlDoc.responseText)},this,!0,this.no_cashe),e&&(this.XMLLoader.waitCall=e),this.XMLLoader.loadXML(t)},dhtmlXTreeObject.prototype.loadJSArray=function(t,e){for(var i=[],s=0;s<t.length;s++)i[t[s][1]]||(i[t[s][1]]=[]),i[t[s][1]].push({id:t[s][0],text:t[s][2]});var n={id:this.rootId},o=function(t,e){if(i[t.id]){t.item=i[t.id];for(var s=0;s<t.item.length;s++)e(t.item[s],e)}};o(n,o),this.loadJSONObject(n,e)},dhtmlXTreeObject.prototype.loadCSVString=function(t,e){for(var i=[],s=t.split("\n"),n=0;n<s.length;n++){var o=s[n].split(",");i[o[1]]||(i[o[1]]=[]),i[o[1]].push({id:o[0],text:o[2]})}var l={id:this.rootId},h=function(t,e){if(i[t.id]){t.item=i[t.id];for(var s=0;s<t.item.length;s++)e(t.item[s],e)}};h(l,h),this.loadJSONObject(l,e)},dhtmlXTreeObject.prototype.loadJSONObject=function(t,e){this.parsCount||this.callEvent("onXLS",[this,null]),this.xmlstate=1;var i=new jsonPointer(t);this._parse(i),this._p=i,e&&e()},dhtmlXTreeObject.prototype.loadJSON=function(a,b){this.parsCount||this.callEvent("onXLS",[this,this._ld_id]),this._ld_id=null,this.xmlstate=1;var c=this;this.XMLLoader=new dtmlXMLLoaderObject(function(a,b,f,g,h){try{eval("var t="+h.xmlDoc.responseText)}catch(i){return void dhtmlxError.throwError("LoadXML","Incorrect JSON",[h.xmlDoc,this])}var j=new jsonPointer(t);c._parse(j),c._p=j},this,!0,this.no_cashe),b&&(this.XMLLoader.waitCall=b),this.XMLLoader.loadXML(a)},dhtmlXTreeObject.prototype.serializeTreeToJSON=function(){for(var t=['{"id":"'+this.rootId+'", "item":['],e=[],i=0;i<this.htmlNode.childsCount;i++)e.push(this._serializeItemJSON(this.htmlNode.childNodes[i]));return t.push(e.join(",")),t.push("]}"),t.join("")},dhtmlXTreeObject.prototype._serializeItemJSON=function(t){var e=[];if(t.unParsed)return t.unParsed.text();var i=this._selected.length?this._selected[0].id:"",s=t.span.innerHTML,s=s.replace(/\"/g,'\\"',s);if(e.push(this._xfullXML?'{ "id":"'+t.id+'", '+(1==this._getOpenState(t)?' "open":"1", ':"")+(i==t.id?' "select":"1",':"")+' "text":"'+s+'", "im0":"'+t.images[0]+'", "im1":"'+t.images[1]+'", "im2":"'+t.images[2]+'" '+(t.acolor?', "aCol":"'+t.acolor+'" ':"")+(t.scolor?', "sCol":"'+t.scolor+'" ':"")+(1==t.checkstate?', "checked":"1" ':2==t.checkstate?', "checked":"-1"':"")+(t.closeable?', "closeable":"1" ':"")+(this.XMLsource&&0==t.XMLload?', "child":"1" ':""):'{ "id":"'+t.id+'", '+(1==this._getOpenState(t)?' "open":"1", ':"")+(i==t.id?' "select":"1",':"")+' "text":"'+s+'"'+(this.XMLsource&&0==t.XMLload?', "child":"1" ':"")),this._xuserData&&t._userdatalist){e.push(', "userdata":[');for(var n=t._userdatalist.split(","),o=[],l=0;l<n.length;l++)o.push('{ "name":"'+n[l]+'" , "content":"'+t.userData["t_"+n[l]]+'" }');e.push(o.join(",")),e.push("]")}if(t.childsCount){for(e.push(', "item":['),o=[],l=0;l<t.childsCount;l++)o.push(this._serializeItemJSON(t.childNodes[l]));e.push(o.join(",")),e.push("]\n")}return e.push("}\n"),e.join("")},dhtmlXTreeObject.prototype.enableKeyboardNavigation=function(t){if(this._enblkbrd=convertStringToBoolean(t)){if(_isFF){var e=window.getComputedStyle(this.parentObject,null).position;"absolute"!=e&&"relative"!=e&&(this.parentObject.style.position="relative")}this._navKeys=[["up",38],["down",40],["open",39],["close",37],["call",13],["edit",113]];var i=this,e=document.createElement("INPUT");e.className="a_dhx_hidden_input",e.autocomplete="off",window._KHTMLrv&&(e.style.color="white"),this.parentObject.appendChild(e),this.parentObject[_isOpera?"onkeypress":"onkeydown"]=function(t){return i.callEvent("onKeyPress",[(t||window.event).keyCode,t||window.event])?i._onKeyDown(t||window.event):void 0},this.parentObject.onclick=function(){(_isFF||_isIE)&&e.select(),(window._KHTMLrv||_isOpera)&&e.focus()}}else this.parentObject.onkeydown=null},dhtmlXTreeObject.prototype._onKeyDown=function(t){if(window.globalActiveDHTMLGridObject&&globalActiveDHTMLGridObject.isActive)return!0;for(var e=0;e<this._navKeys.length;e++)if(this._navKeys[e][1]==t.keyCode)return this["_onkey_"+this._navKeys[e][0]].apply(this,[this.getSelectedItemId()]),t.preventDefault&&t.preventDefault(),(t||event).cancelBubble=!0,!1;return this._textSearch?this._searchItemByKey(t):!0},dhtmlXTreeObject.prototype._onkey_up=function(t){var e=this._globalIdStorageFind(t);if(e){var i=this._getPrevVisibleNode(e);i.id!=this.rootId&&(this.focusItem(i.id),this.selectItem(i.id,!1))}},dhtmlXTreeObject.prototype._onkey_down=function(t){var e=this._globalIdStorageFind(t);if(e){var i=this._getNextVisibleNode(e);i.id!=this.rootId&&(this.focusItem(i.id),this.selectItem(i.id,!1))}},dhtmlXTreeObject.prototype._onkey_open=function(t){this.openItem(t)},dhtmlXTreeObject.prototype._onkey_close=function(t){this.closeItem(t)},dhtmlXTreeObject.prototype._onkey_call=function(t){this.stopEdit?(this.stopEdit(),this.parentObject.lastChild.focus(),this.parentObject.lastChild.focus(),this.selectItem(t,!0)):this.selectItem(this.getSelectedItemId(),!0)},dhtmlXTreeObject.prototype._onkey_edit=function(t){this.editItem&&this.editItem(t)},dhtmlXTreeObject.prototype._getNextVisibleNode=function(t,e){return!e&&this._getOpenState(t)>0?t.childNodes[0]:t.tr&&t.tr.nextSibling&&t.tr.nextSibling.nodem?t.tr.nextSibling.nodem:t.parentObject?this._getNextVisibleNode(t.parentObject,1):t},dhtmlXTreeObject.prototype._getPrevVisibleNode=function(t){return t.tr&&t.tr.previousSibling&&t.tr.previousSibling.nodem?this._lastVisibleChild(t.tr.previousSibling.nodem):t.parentObject?t.parentObject:t},dhtmlXTreeObject.prototype._lastVisibleChild=function(t){return this._getOpenState(t)>0?this._lastVisibleChild(t.childNodes[t.childsCount-1]):t},dhtmlXTreeObject.prototype._searchItemByKey=function(t){if(8==t.keyCode)return this._textSearchString="",!0;var e=String.fromCharCode(t.keyCode).toUpperCase();return e.match(/[A-Z,a-z,0-9\ ]/)?(this._textSearchString+=e,this._textSearchInProgress=!0,(this.getSelectedItemText()||"").match(RegExp("^"+this._textSearchString,"i"))||this.findItem("^"+this._textSearchString,0),this._textSearchInProgress=!1,t.preventDefault&&t.preventDefault(),(t||event).cancelBubble=!0,!1):!0},dhtmlXTreeObject.prototype.assignKeys=function(t){this._navKeys=t},dhtmlXTreeObject.prototype.enableKeySearch=function(t){if(this._textSearch=convertStringToBoolean(t)){this._textSearchString="";var e=this;this._markItem2=this._markItem,this._markItem=function(t){e._textSearchInProgress||(e._textSearchString=""),e._markItem2(t)}}},dhtmlXTreeObject.prototype.enableLoadingItem=function(t){this.attachEvent("onXLS",this._showFakeItem),this.attachEvent("onXLE",this._hideFakeItem),this._tfi_text=t||"Loading..."},dhtmlXTreeObject.prototype._showFakeItem=function(t,e){if(null!==e&&!this._globalIdStorageFind("fake_load_xml_"+e)){var i=this.XMLsource;this.XMLsource=null,this.insertNewItem(e,"fake_load_xml_"+e,this._tfi_text),this.XMLsource=i}},dhtmlXTreeObject.prototype._hideFakeItem=function(t,e){null!==e&&this.deleteItem("fake_load_xml_"+e)},dhtmlXTreeObject.prototype.isLocked=function(t){return this._locker||this._init_lock(),1==this._locker[t]},dhtmlXTreeObject.prototype._lockItem=function(t,e,i){if(this._locker||this._init_lock(),e){if(1==this._locker[t.id])return;this._locker[t.id]=!0,t.bIm0=t.images[0],t.bIm1=t.images[1],t.bIm2=t.images[2],t.images[0]=this.lico0,t.images[1]=this.lico1,t.images[2]=this.lico2;var s=t.span.parentNode,n=s.previousSibling;this.dragger.removeDraggableItem(s),this.dragger.removeDraggableItem(n)}else{if(1!=this._locker[t.id])return;this._locker[t.id]=!1,t.images[0]=t.bIm0,t.images[1]=t.bIm1,t.images[2]=t.bIm2,s=t.span.parentNode,n=s.previousSibling,this.dragger.addDraggableItem(s,this),this.dragger.addDraggableItem(n,this)}i||this._correctPlus(t)},dhtmlXTreeObject.prototype.lockItem=function(t,e){this._locker||this._init_lock(),this._lockOn=!1;var i=this._globalIdStorageFind(t);this._lockOn=!0,this._lockItem(i,convertStringToBoolean(e))},dhtmlXTreeObject.prototype.setLockedIcons=function(t,e,i){this._locker||this._init_lock(),this.lico0=t,this.lico1=e,this.lico2=i},dhtmlXTreeObject.prototype._init_lock=function(){this._locker=[],this._locker_count="0",this._lockOn=!0,this._globalIdStorageFindA=this._globalIdStorageFind,this._globalIdStorageFind=this._lockIdFind,this._serializeItem&&(this._serializeItemA=this._serializeItem,this._serializeItem=this._serializeLockItem,this._serializeTreeA=this.serializeTree,this.serializeTree=this._serializeLockTree),this.setLockedIcons(this.imageArray[0],this.imageArray[1],this.imageArray[2])},dhtmlXTreeObject.prototype._lockIdFind=function(t,e,i){return this.skipLock||i||1!=this._lockOn||1!=this._locker[t]?this._globalIdStorageFindA(t,e,i):null},dhtmlXTreeObject.prototype._serializeLockItem=function(t){return 1==this._locker[t.id]?"":this._serializeItemA(t)},dhtmlXTreeObject.prototype._serializeLockTree=function(){var t=this._serializeTreeA();return t.replace(/<item[^>]+locked\=\"1\"[^>]+\/>/g,"")},dhtmlXTreeObject.prototype._moveNodeToA=dhtmlXTreeObject.prototype._moveNodeTo,dhtmlXTreeObject.prototype._moveNodeTo=function(t,e,i){return e.treeNod.isLocked&&e.treeNod.isLocked(e.id)?!1:this._moveNodeToA(t,e,i)},dhtmlXTreeObject.prototype.lockTree=function(t){convertStringToBoolean(t)?this._initTreeLocker():this._TreeLocker&&(this._TreeLocker.parentNode.removeChild(this._TreeLocker),this._TreeLocker=null)},dhtmlXTreeObject.prototype._initTreeLocker=function(){if(!this._TreeLocker){this.parentObject.style.overflow="hidden","absolute"!=this.parentObject.style.position&&(this.parentObject.style.position="relative");var t=document.createElement("div");t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.className="dhx_tree_opacity",t.style.width=this.allTree.offsetWidth+"px",t.style.backgroundColor="#FFFFFF",t.style.height=this.allTree.offsetHeight+"px",this._TreeLocker=t,this.parentObject.appendChild(this._TreeLocker)}},dhtmlXTreeObject.prototype.enableRTL=function(t){var e=convertStringToBoolean(t);(e&&!this.rtlMode||!e&&this.rtlMode)&&(this.rtlMode=e,this._switchToRTL(this.rtlMode))},dhtmlXTreeObject.prototype._switchToRTL=function(t){t?(this.allTree.className=this._ltr_line=this.lineArray,this._ltr_min=this.minusArray,this._ltr_plus=this.plusArray,this.lineArray="line2_rtl.gif,line3_rtl.gif,line4_rtl.gif,blank.gif,blank.gif,line1_rtl.gif".split(","),this.minusArray=["minus2_rtl.gif","minus3_rtl.gif","minus4_rtl.gif","minus.gif","minus5_rtl.gif"],this.plusArray=["plus2_rtl.gif","plus3_rtl.gif","plus4_rtl.gif","plus.gif","plus5_rtl.gif"],this.allTree.className="containerTableStyleRTL"):(this.allTree.className="containerTableStyle",this.lineArray=this._ltr_line,this.minusArray=this._ltr_min,this.plusArray=this._ltr_plus),this.htmlNode.childsCount&&this._redrawFrom(this,this.htmlNode)},dhtmlXTreeObject.prototype.sortTree=function(t,e,i){var s=this._globalIdStorageFind(t);return s?void this._reorderBranch(s,"asc"==e.toString().toLowerCase(),convertStringToBoolean(i)):!1},dhtmlXTreeObject.prototype.setCustomSortFunction=function(t){this._csfunca=t},dhtmlXTreeObject.prototype._reorderBranch=function(t,e,i){var s=[],n=t.childsCount;if(n){for(var o=t.childNodes[0].tr.parentNode,l=0;n>l;l++)s[l]=t.childNodes[l],o.removeChild(s[l].tr);var h=this;for(s.sort(1==e?this._csfunca?function(t,e){return h._csfunca(t.id,e.id)}:function(t,e){return t.span.innerHTML.toUpperCase()>e.span.innerHTML.toUpperCase()?1:t.span.innerHTML.toUpperCase()==e.span.innerHTML.toUpperCase()?0:-1}:this._csfunca?function(t,e){return h._csfunca(e.id,t.id)}:function(t,e){return t.span.innerHTML.toUpperCase()<e.span.innerHTML.toUpperCase()?1:t.span.innerHTML.toUpperCase()==e.span.innerHTML.toUpperCase()?0:-1}),l=0;n>l;l++)o.appendChild(s[l].tr),t.childNodes[l]=s[l],i&&s[l].unParsed?s[l].unParsed.set("order",e?1:-1):i&&s[l].childsCount&&this._reorderBranch(s[l],e,i);for(l=0;n>l;l++)this._correctPlus(s[l]),this._correctLine(s[l])}},dhtmlXTreeObject.prototype._reorderXMLBranch=function(t){var e=t.getAttribute("order");if("none"!=e){var i=1==e,s=t.childNodes.length;if(s){for(var n=[],o=0,l=0;s>l;l++)1==t.childNodes[l].nodeType&&(n[o]=t.childNodes[l],o++);for(l=s-1;0!=l;l--)t.removeChild(t.childNodes[l]);for(n.sort(i?function(t,e){return t.getAttribute("text")>e.getAttribute("text")?1:t.getAttribute("text")==e.getAttribute("text")?0:-1}:function(t,e){return t.getAttribute("text")<e.getAttribute("text")?1:t.getAttribute("text")==e.getAttribute("text")?0:-1}),l=0;o>l;l++)n[l].setAttribute("order",e),t.appendChild(n[l]);t.setAttribute("order","none")}}},dhtmlXTreeObject.prototype.enableSmartRendering=function(){this.enableSmartXMLParsing(!0),this._srnd=!0,this.itemHeight=18;var t=this;this.allTree.onscroll=function(){t._srndT||(t._srndT=window.setTimeout(function(){t._srndT=null,t._renderState()},300))},this.attachEvent("onXLE",function(){t._renderState()}),this._singleTimeSRND()},dhtmlXTreeObject.prototype._renderState=function(){this._idpull[this.rootId]._sready||this.prepareSR(this.rootId,!0);var t=this.allTree.scrollTop,e=(Math.floor(t/this.itemHeight),Math.ceil(this.allTree.offsetHeight/this.itemHeight));this._group_render=!0,this._getItemByPos(t,this.itemHeight,e,null,!1,this._renderItemSRND),this._group_render=!1},dhtmlXTreeObject.prototype._renderItemSRND=function(t,e){if(!t.span){t.span=-1;for(var i=t.parentObject.htmlNode.childNodes[0].childNodes,s=e*this.itemHeight,n=null,o=1;o<i.length;o++){var n=i[o],l=n.nodem?this.itemHeight:n.offsetHeight||parseInt(n.childNodes[1].firstChild.style.height);if(s-=l,0>s){if(-1!=s){var h=n.childNodes[1].firstChild;if(h.style.height=parseInt(h.style.height)-(l-Math.abs(s)+this.itemHeight)+"px",Math.abs(s)!=l){var r=this._drawNewHolder(s+l,!0);n.parentNode.insertBefore(r,n)}n.tr={nextSibling:n};break}s++}}if(h&&"0px"!=h.style.height&&!n.offsetHeight){var a=this._hAdI;this._hAdI=!0}this._parseItem(t._sxml,t.parentObject,null,n),h&&"0px"!=h.style.height&&!n.offsetHeight&&(this._hAdI=a),t.unParsed&&this._correctPlus(t),h&&"0px"==h.style.height&&n.parentNode.removeChild(n)
}},dhtmlXTreeObject.prototype._buildSRND=function(t,e){t.parentObject&&this._globalIdStorageFind(t.parentObject.id),this._idpull[this.rootId]._sready||this.prepareSR(this.rootId,!0),this._renderItemSRND(t,this._getIndex(t)),t.unParsed&&!e&&this.reParse(t,0),t.prepareSR||this.prepareSR(t.id)},dhtmlXTreeObject.prototype._getIndex=function(t){for(var e=0;e<t.parentObject.childsCount;e++)if(t.parentObject.childNodes[e]==t)return e},dhtmlXTreeObject.prototype.prepareSR=function(t,e){if(t=this._idpull[t],!t._sready){var i=this._drawNewHolder(this.itemHeight*t.childsCount,e);t.htmlNode.childNodes[0].appendChild(i),t._sready=!0}},dhtmlXTreeObject.prototype._drawNewHolder=function(t,e){var i=document.createElement("TR"),s=document.createElement("TD"),n=document.createElement("TD"),o=document.createElement("DIV");return o.innerHTML="&nbsp;",s.appendChild(o),i.appendChild(n),i.appendChild(s),e||(i.style.display="none"),o.style.height=t+"px",i},dhtmlXTreeObject.prototype._getNextNodeSR=function(t,e){return!e&&t.childsCount?t.childNodes[0]:t==this.htmlNode?-1:t.tr&&t.tr.nextSibling&&t.tr.nextSibling.nodem?t.tr.nextSibling.nodem:this._getNextNode(t.parentObject,!0)},dhtmlXTreeObject.prototype._getItemByPos=function(t,e,i,s,n,o){s||(this._pos_c=t,s=this._idpull[this.rootId]);for(var l=0;l<s.childsCount&&(this._pos_c-=e,this._pos_c<=0&&(n=!0),n&&(o.apply(this,[s.childNodes[l],l]),i--),!(0>i))&&!(s.childNodes[l]._open&&(i=this._getItemByPos(null,e,i,s.childNodes[l],n,o),0>i));l++);return i},dhtmlXTreeObject.prototype._addItemSRND=function(t,e,i){var s=this._idpull[t],n=s.childsCount,o=s.childNodes;o[n]=new dhtmlXTreeItemObject(e,"",s,this,null,1),itemId=o[n].id,o[n]._sxml=i.clone(),s.childsCount++},dhtmlXTreeObject.prototype._singleTimeSRND=function(){this._redrawFrom=function(){};var t=dhtmlXTreeItemObject;this._singleTimeSRND=function(){},window.dhtmlXTreeItemObject=function(e,i,s,n,o,l){return n._srnd?(this.scolor=this.acolor=this.htmlNode="",this.span=this.dragMove=this.dragSpan=this.tempDOMU=this.tempDOMM=this.childsCount=this.tr=0,this.closeble=1,this.childNodes=[],this.userData=new cObject,this.checkstate=0,this.treeNod=n,this.label=i,this.parentObject=s,this.actionHandler=o,this.images=[n.imageArray[0],n.imageArray[1],n.imageArray[2]],this.id=n._globalIdStorageAdd(e,this),e==n.rootId&&(this.htmlNode=this.treeNod.checkBoxOff?this.treeNod._createItem(1,this,l):this.treeNod._createItem(0,this,l),this.htmlNode.objBelong=this),this):t.call(this,e,i,s,n,o,l)},this.setCheckSR=this.setCheck,this.setCheck=function(t,e){return this._globalIdStorageFind(t),this.setCheckSR(t,e)},this._get_srnd_p=function(t){for(var e=[];t!=this.rootId;){for(var i=this.getParentId(t),s=0;s<this._idpull[i].childsCount;s++)if(this._idpull[i].childNodes[s].id==t){e.push([i,s]);break}t=i}return e.reverse(),e},this._get_srnd_p_last=function(t,e,i){for(var e=e||[],s=0;;){var n=this._idpull[t];if(n._sxml&&this.findStrInXML(n._sxml.d,"text",i)&&this._globalIdStorageFind(n.id),s=n.childsCount,!s)break;e.push([t,s-1]),t=n.childNodes[s-1].id}return e},this._get_prev_srnd=function(t,e){var i;if(!t.length)return t.push.apply(t,this._get_srnd_p_last(this.rootId,null,e)),i=t[t.length-1],this._idpull[i[0]].childNodes[i[1]];if(i=t[t.length-1],i[1]){i[1]--;var s=this._idpull[i[0]].childNodes[i[1]];this._get_srnd_p_last(s.id,t,e)}else if(t.pop(),!t.length)return this._get_prev_srnd(t,e);return i=t[t.length-1],this._idpull[i[0]].childNodes[i[1]]},this._get_next_srnd=function(t,e){if(!t.length)return t.push([this.rootId,0]),this._idpull[this.rootId].childNodes[0];var i=t[t.length-1],s=this._idpull[i[0]].childNodes[i[1]];return s.childsCount&&!e?(t.push([s.id,0]),s.childNodes[0]):(i[1]++,(s=this._idpull[i[0]].childNodes[i[1]])?s:(t.pop(),t.length?this._get_next_srnd(t,!0):this.htmlNode))},this._findNodeByLabel=function(t,e,i){t=t.replace(/^( )+/,"").replace(/( )+$/,""),t=RegExp(t.replace(/([\*\+\\\[\]\(\)]{1})/gi,"\\$1").replace(/ /gi,".*"),"gi"),i||(i=this._selected[0])||(i=this.htmlNode);for(var s=i,n=this._get_srnd_p(s.id);i=e?this._get_prev_srnd(n,t):this._get_next_srnd(n);){if(i.label){if(-1!=i.label.search(t))return i}else if(i._sxml){if(-1!=i._sxml.get("text").search(t))return i;this.findStrInXML(i._sxml.d,"text",t)&&this._globalIdStorageFind(i.id)}if(i.unParsed&&this.findStrInXML(i.unParsed.d,"text",t)&&this.reParse(i),s.id==i.id)break;if(e&&1==n.length&&0==n[0][1])break}return null},this.deleteChildItems=function(t){this.rootId==t&&(this._selected=[],this._idpull={},this._p=this._pos_c=this._pullSize=null,this.allTree.removeChild(this.htmlNode.htmlNode),this.htmlNode=new dhtmlXTreeItemObject(this.rootId,"",0,this),this.htmlNode.htmlNode.childNodes[0].childNodes[0].style.display="none",this.htmlNode.htmlNode.childNodes[0].childNodes[0].childNodes[0].className="hiddenRow",this.allTree.insertBefore(this.htmlNode.htmlNode,this.selectionBar),_isFF)&&(this.allTree.childNodes[0].width="100%",this.allTree.childNodes[0].style.overflow="hidden")},this._HideShow=function(t,e){if(this.XMLsource&&!t.XMLload)1!=e&&(t.XMLload=1,this._loadDynXML(t.id));else if(t.span||this._buildSRND(t),t.unParsed&&(this.reParse(t),this.prepareSR(t.id)),0!=t.childsCount){var i=t.htmlNode.childNodes[0].childNodes,s=i.length;if(s>1){if("none"==i[1].style.display&&1!=e||2==e)n="",t._open=!0;else{this.allTree.childNodes[0].border="1",this.allTree.childNodes[0].border="0";var n="none";t._open=!1}for(var o=1;s>o;o++)i[o].style.display=n;this._renderState()}this._correctPlus(t)}}},window.addEventListener?window.addEventListener("load",dhx_init_trees,!1):window.attachEvent&&window.attachEvent("onload",dhx_init_trees),dhtmlXTreeObject.prototype._serEnts=[["&","&amp;"],["<","&lt;"],[">","&gt;"]],dhtmlXTreeObject.prototype.registerXMLEntity=function(t,e){this._serEnts[this._serEnts.length]=[t,e,RegExp(t,"g")]},dhtmlXTreeObject.prototype.setSerializationLevel=function(t,e,i,s,n){this._xuserData=convertStringToBoolean(t),this._xfullXML=convertStringToBoolean(e),this._dtd=n,this._xescapeEntities=convertStringToBoolean(i),convertStringToBoolean(s)&&(this._apreUC="<![CDATA[",this._apstUC="]]>");for(var o=0;o<this._serEnts.length;o++)this._serEnts[o][2]=RegExp(this._serEnts[o][0],"g")},dhtmlXTreeObject.prototype.serializeTree=function(){this.stopEdit&&this.stopEdit(),this._apreUC=this._apreUC||"",this._apstUC=this._apstUC||"";var t='<?xml version="1.0"?>';if(this._dtd&&(t+='<!DOCTYPE tree SYSTEM "'+this._dtd+'">'),t+='<tree id="'+this.rootId+'">',this._xuserData&&this._idpull[this.rootId]._userdatalist)for(var e=this._idpull[this.rootId]._userdatalist.split(","),i=0;i<e.length;i++)t+='<userdata name="'+e[i]+'">'+this._apreUC+this._idpull[this.rootId].userData["t_"+e[i]]+this._apstUC+"</userdata>";for(i=0;i<this.htmlNode.childsCount;i++)t+=this._serializeItem(this.htmlNode.childNodes[i]);return t+="</tree>"},dhtmlXTreeObject.prototype._serializeItem=function(t){if(t.unParsed){if(document.all)return t.unParsed.d.xml;var e=new XMLSerializer;return e.serializeToString(t.unParsed.d)}var i="",s=this._selected.length?this._selected[0].id:'"',n=t.span.innerHTML;if(this._xescapeEntities)for(var o=0;o<this._serEnts.length;o++)n=n.replace(this._serEnts[o][2],this._serEnts[o][1]);if(i=this._xfullXML?'<item id="'+t.id+'" '+(1==this._getOpenState(t)?' open="1" ':"")+(s==t.id?' select="1"':"")+' text="'+n+'" im0="'+t.images[0]+'" im1="'+t.images[1]+'" im2="'+t.images[2]+'" '+(t.acolor?'aCol="'+t.acolor+'" ':"")+(t.scolor?'sCol="'+t.scolor+'" ':"")+(1==t.checkstate?'checked="1" ':2==t.checkstate?'checked="-1"':"")+(t.closeable?'closeable="1" ':"")+(this.XMLsource&&0==t.XMLload?' child="1" ':"")+">":'<item id="'+t.id+'" '+(1==this._getOpenState(t)?' open="1" ':"")+(s==t.id?' select="1"':"")+' text="'+n+'"'+(this.XMLsource&&0==t.XMLload?' child="1" ':"")+">",this._xuserData&&t._userdatalist)for(var l=t._userdatalist.split(","),o=0;o<l.length;o++)i+='<userdata name="'+l[o]+'">'+this._apreUC+t.userData["t_"+l[o]]+this._apstUC+"</userdata>";for(o=0;o<t.childsCount;o++)i+=this._serializeItem(t.childNodes[o]);return i+="</item>"},dhtmlXTreeObject.prototype.saveSelectedItem=function(t,e){t=t||"",this.setCookie("treeStateSelected"+t,this.getSelectedItemId(),e)},dhtmlXTreeObject.prototype.restoreSelectedItem=function(t){var t=t||"",e=this.getCookie("treeStateSelected"+t);this.selectItem(e,!1)},dhtmlXTreeObject.prototype.enableAutoSavingSelected=function(t,e){(this.assMode=convertStringToBoolean(t))&&!this.oldOnSelect&&(this.oldOnSelect=this.onRowSelect,this.onRowSelect=function(t,e,i){e||(e=this),e.parentObject.treeNod.oldOnSelect(t,e,i),e.parentObject.treeNod.assMode&&e.parentObject.treeNod.saveSelectedItem(e.parentObject.treeNod.assCookieName)}),this.assCookieName=e},dhtmlXTreeObject.prototype.saveState=function(t,e){var i=this._escape(this.serializeTree()),s=4e3;if(i.length>s){if(-1!=navigator.appName.indexOf("Microsoft"))return!1;this.setCookie("treeStatex"+t,Math.ceil(i.length/s));for(var n=0;n<Math.ceil(i.length/s);n++)this.setCookie("treeStatex"+t+"x"+n,i.substr(n*s,s),e)}else this.setCookie("treeStatex"+t,i,e);return i=this.getCookie("treeStatex"+t),i?!0:(this.setCookie("treeStatex"+t,"",e),!1)},dhtmlXTreeObject.prototype.loadState=function(t){var e=this.getCookie("treeStatex"+t);if(!e)return!1;if(e.length){if(e.toString().length<4){for(var i="",s=0;e>s;s++)i+=this.getCookie("treeStatex"+t+"x"+s);e=i}this.loadXMLString("utf8"==this.utfesc?decodeURI(e):unescape(e))}return!0},dhtmlXTreeObject.prototype.setCookie=function(t,e,i){var s=t+"="+e+(i?"; "+i:"");document.cookie=s},dhtmlXTreeObject.prototype.getCookie=function(t){var e=t+"=";if(document.cookie.length>0){var i=document.cookie.indexOf(e);if(-1!=i){i+=e.length;var s=document.cookie.indexOf(";",i);return-1==s&&(s=document.cookie.length),document.cookie.substring(i,s)}}},dhtmlXTreeObject.prototype.saveOpenStates=function(t,e){for(var i=[],s=0;s<this.htmlNode.childsCount;s++)i=i.concat(this._collectOpenStates(this.htmlNode.childNodes[s]));i=i.join(this.dlmtr),this.setCookie("treeOpenStatex"+t,i,e)},dhtmlXTreeObject.prototype.loadOpenStates=function(t){for(var e=0;e<this.htmlNode.childsCount;e++)this._xcloseAll(this.htmlNode.childNodes[e]);this.allTree.childNodes[0].border="1",this.allTree.childNodes[0].border="0";var i=getCookie("treeOpenStatex"+t);if(i)for(var s=i.split(this.dlmtr),e=0;e<s.length;e++){var n=this._globalIdStorageFind(s[e]);if(n){if(this.XMLsource&&!n.XMLload&&n.id!=this.rootId)return void this._delayedLoad(n,"loadOpenStates('"+t+"')");this.openItem(s[e])}}this.callEvent("onAllOpenDynamic",[])},dhtmlXTreeObject.prototype._delayedLoad=function(t,e){this.afterLoadMethod=e,this.onLoadReserve=this.onXLE,this.onXLE=this._delayedLoadStep2,this._loadDynXML(t.id)},dhtmlXTreeObject.prototype._delayedLoadStep2=function(a){a.onXLE=a.onLoadReserve,window.setTimeout(function(){dhtmlx.temp=a,eval("dhtmlx.temp."+a.afterLoadMethod)},100),a.onXLE&&a.onXLE(a),a.callEvent("onXLE",[a])},dhtmlXTreeObject.prototype._collectOpenStates=function(t){var e=[];if(1==this._getOpenState(t)){e.push(t.id);for(var i=0;i<t.childsCount;i++)e=e.concat(this._collectOpenStates(t.childNodes[i]))}return e},dhtmlXTreeObject.prototype.openAllItemsDynamic=function(t){this.ClosedElem=[],this.G_node=null;var e=this._globalIdStorageFind(t||this.rootId);e.id!=this.rootId&&0!=this.getOpenState(e.id)&&this.openItem(t),this._openAllNodeChilds(e,0),this.ClosedElem.length>0&&(this.onLoadReserve=this.onXLE,this.onXLE=this._loadAndOpen,this._loadAndOpen(this))},dhtmlXTreeObject.prototype._openAllNodeChilds=function(t){(0==t.XMLload||t.unParsed)&&this.ClosedElem.push(t);for(var e=0;e<t.childsCount;e++)this._getOpenState(t.childNodes[e])<0&&this._HideShow(t.childNodes[e],2),t.childNodes[e].childsCount>0&&this._openAllNodeChilds(t.childNodes[e]),(0==t.childNodes[e].XMLload||t.childNodes[e].unParsed)&&this.ClosedElem.push(t.childNodes[e])},dhtmlXTreeObject.prototype._loadAndOpen=function(t){t.G_node&&(t._openItem(t.G_node),t._openAllNodeChilds(t.G_node),t.G_node=null),t.ClosedElem.length>0&&(t.G_node=t.ClosedElem.shift()),t.G_node?t.G_node.unParsed?t.reParse(t.G_node):window.setTimeout(function(){t._loadDynXML(t.G_node.id)},100):(t.onXLE=t.onLoadReserve,t.onXLE&&t.onXLE(t),t.callEvent("onAllOpenDynamic",[t]))},dhtmlXTreeObject.prototype.openItemsDynamic=function(t,e){this.onXLE!=this._stepOpen&&(this._opnItmsDnmcFlg=convertStringToBoolean(e),this.onLoadReserve=this.onXLE,this.onXLE=this._stepOpen,this.ClosedElem=t.split(",").reverse(),this._stepOpen(this))},dhtmlXTreeObject.prototype._stepOpen=function(t){if(t.ClosedElem.length){t.G_node=t.ClosedElem.pop(),t.skipLock=!0;var e=t._globalIdStorageFind(t.G_node);e&&(0===e.XMLload?t.openItem(t.G_node):(t.openItem(t.G_node),t._stepOpen(t))),t.skipLock=!1}else t.onXLE=t.onLoadReserve,t._opnItmsDnmcFlg&&t.selectItem(t.G_node,!0),t.onXLE&&arguments[1]&&t.onXLE.apply(t,arguments),t.callEvent("onOpenDynamicEnd",[])},dhtmlXGridObject.prototype._updateTGRState=function(t){t.update&&0!=t.id&&(this.rowsAr[t.id].imgTag&&(this.rowsAr[t.id].imgTag.src=this.imgURL+t.state+".gif"),t.update=!1)},dhtmlXGridObject.prototype.doExpand=function(t){this.editStop();var e=t.parentNode.parentNode.parentNode,i=this._h2.get[e.idd];this.callEvent("onOpen",[e.idd,"plus"==i.state?-1:1])&&("plus"==i.state?this.expandKids(e):"minus"==i.state&&!i._closeable&&this.collapseKids(e))},dhtmlXGridObject.prototype._getOpenLenght=function(t,e){var i=this._h2.get[t].childs;e+=i.length;for(var s=0;s<i.length;s++)i[s].childs.length&&"minus"==i[s].state&&(e+=this._getOpenLenght(i[s].id,0));return e},dhtmlXGridObject.prototype.collapseKids=function(t){var e=this._h2.get[t.idd];if("minus"==e.state&&this.callEvent("onOpenStart",[t.idd,1])){var i=t.rowIndex;if(0>i&&(i=this.rowsCol._dhx_find(t)+1),this._h2.change(e.id,"state","plus"),this._updateTGRState(e),this._srnd||this.pagingOn)this._h2_to_buff(),this._renderSort();else{for(var s=this._getOpenLenght(this.rowsCol[i-1].idd,0),n=0;s>n;n++)this.rowsCol[i+n].parentNode.removeChild(this.rowsCol[i+n]);this.rowsCol.splice(i,s)}this.callEvent("onGridReconstructed",[]),this.setSizes(),this._h2_to_buff(),this.callEvent("onOpenEnd",[t.idd,-1])}},dhtmlXGridObject.prototype._massInsert=function(t,e,i){var s=[],n=_isKHTML?this.obj:this.obj.rows[0].parentNode;if(this._h2_to_buff(),this._srnd||this.pagingOn)return this._renderSort();for(var o=this._getOpenLenght(t.id,0),l=0;o>l;l++){var h=this.render_row(i+l);e?e.parentNode.insertBefore(h,e):n.appendChild(h),s.push(h)}return this.rowsCol=dhtmlxArray(this.rowsCol.slice(0,i).concat(s).concat(this.rowsCol.slice(i))),t.childs.length+s.length},dhtmlXGridObject.prototype.expandKids=function(t,e){var i=this._h2.get[t.idd];if((i.childs.length||i._xml_await)&&"plus"==i.state&&(i._loading||e||this.callEvent("onOpenStart",[i.id,-1]))){var s=this.getRowIndex(i.id)+1;if(i.childs.length){i._loading=!1,this._h2.change(i.id,"state","minus"),this._updateTGRState(i);{this._massInsert(i,this.rowsCol[s],s)}this.callEvent("onGridReconstructed",[])}else i._xml_await&&(i._loading=!0,this.callEvent("onDynXLS",[i.id])&&this.load(this.kidsXmlFile+""+(-1!=this.kidsXmlFile.indexOf("?")?"&":"?")+"id="+i.id,this._data_type));this.setSizes(),i._loading||this.callEvent("onOpenEnd",[i.id,1]),this._fixAlterCss()}},dhtmlXGridObject.prototype.kidsXmlFile="",dhtmlXGridObject.prototype.sortTreeRows=function(t,e,i){var s="getValue";this.cells5({parentNode:{grid:this}},this.getColType(t)).getDate&&(s="getDate",e="str"),this.forEachRow(function(i){var n=this._h2.get[i];if(n){var o=this._get_cell_value(n.buff,t,s);"int"==e?(n._sort=parseFloat(o),n._sort=isNaN(n._sort)?-99999999999999:n._sort):n._sort=o}});var n=this,o=1,l=-1;"des"==i&&(o=-1,l=1);var h=null;"cus"==e&&(h=function(e,s){return n._customSorts[t](e._sort,s._sort,i,e.id,s.id)}),"str"==e&&(h=function(t,e){return t._sort<e._sort?l:t._sort==e._sort?0:o}),"int"==e&&(h=function(t,e){return t._sort<e._sort?l:t._sort==e._sort?0:o}),"date"==e&&(h=function(t,e){return(Date.parse(new Date(t._sort||"01/01/1900"))-Date.parse(new Date(e._sort||"01/01/1900")))*o}),this._sortTreeRows(h,0),this._renderSort(0,!0),this.callEvent("onGridReconstructed",[])},dhtmlXGridObject.prototype._sortTreeRows=function(t,e){var i=this._h2.get[e].childs;this.rowsCol.stablesort?this.rowsCol.stablesort.call(i,t):i.sort(t);for(var s=0;s<i.length;s++)i[s].childs.length&&this._sortTreeRows(t,i[s].id),i[s].index=s},dhtmlXGridObject.prototype._renderSort=function(){this._h2_to_buff();var t=this.objBox.scrollTop;this._reset_view(),this.objBox.scrollTop=t},dhtmlXGridObject.prototype._fixAlterCssTGR=function(){this._realfake||this._h2.forEachChild(0,function(t){if("TR"==t.buff.tagName){var e=(this._cssSP?t.level%2:t.index%2)?this._cssUnEven:this._cssEven;this.rowsAr[t.id].className=e+(this._cssSU?" "+e+"_"+t.level:"")+" "+(this.rowsAr[t.id]._css||"")+(-1!=this.rowsAr[t.id].className.indexOf("rowselected")?" rowselected":"")}},this)},dhtmlXGridObject.prototype.moveRowUDTG=function(t,e){var i=this._h2.get[t],s=i.parent.childs[i.index+e];if(s&&s.parent==i.parent){var n=[i.state,s.state];this.collapseKids(this.rowsAr[i.id]),this.collapseKids(this.rowsAr[s.id]);var o=this.rowsCol._dhx_find(this.rowsAr[t]),l=this.rowsBuffer._dhx_find(this.rowsAr[t]),h=this.obj.rows[0].parentNode.removeChild(this.rowsCol[o]),r=this.rowsCol[o+(1==e?2:e)];r?r.parentNode.insertBefore(h,r):this.obj.rows[0].parentNode.appendChild(h),this.rowsCol._dhx_swapItems(o,o+e),this.rowsBuffer._dhx_swapItems(l,l+e),this._h2.swap(s,i),"minus"==n[0]&&this.expandKids(this.rowsAr[i.id]),"minus"==n[1]&&this.expandKids(this.rowsAr[s.id]),this._fixAlterCss(Math.min(o,o+e))}},eXcell_tree.prototype=new eXcell,eXcell_tree.prototype.setValueA=function(t){this.cell.parentNode.valTag.innerHTML=t,this.grid.callEvent("onCellChanged",[this.cell.parentNode.idd,this.cell._cellIndex,t])},eXcell_tree.prototype.setValue=function(t){if(this.cell.parentNode.imgTag)return this.setLabel(t);if(null==this.grid._tgc.imgURL||this.grid._tgc.imgURL!=this.grid.imgURL){var e={};e.spacer="<img src='"+this.grid.imgURL+"blank.gif'  align='absmiddle' class='space'>",e.imst="<img src='"+this.grid.imgURL,e.imsti="<img src='"+(this.grid.iconURL||this.grid.imgURL),e.imact="' align='absmiddle'  onclick='this."+(_isKHTML?"":"parentNode.")+"parentNode.parentNode.parentNode.parentNode.grid.doExpand(this);event.cancelBubble=true;'>",e.plus=e.imst+"plus.gif"+e.imact,e.minus=e.imst+"minus.gif"+e.imact,e.blank=e.imst+"blank.gif"+e.imact,e.start="<div class='treegrid_cell' style='overflow:hidden; white-space : nowrap; height:"+(_isIE?20:18)+"px;'>",e.itemim="' align='absmiddle' "+(this.grid._img_height?' height="'+this.grid._img_height+'"':"")+(this.grid._img_width?' width="'+this.grid._img_width+'"':"")+" ><span "+(_isFF||_isOpera?"style='position:relative; top:2px;'":"")+"id='nodeval'>",e.close="</span></div>",this.grid._tgc=e}var e=this.grid._tgc,i=this.cell.parentNode.idd,s=this.grid._h2.get[i];(this.grid.kidsXmlFile||this.grid._slowParse)&&(s.has_kids=s.has_kids||this.cell.parentNode._attrs.xmlkids&&"minus"!=s.state,s._xml_await=!!s.has_kids),s.image=s.image||this.cell._attrs.image||"leaf.gif",s.label=t;for(var n=[e.start],o=0;o<s.level;o++)n.push(e.spacer);s.has_kids?(n.push(e.plus),s.state="plus"):n.push(e.imst+s.state+".gif"+e.imact),n.push(e.imsti),n.push(s.image),n.push(e.itemim),n.push(s.label),n.push(e.close),this.cell.innerHTML=n.join(""),this.cell._treeCell=!0,this.cell.parentNode.imgTag=this.cell.childNodes[0].childNodes[s.level],this.cell.parentNode.valTag=this.cell.childNodes[0].childNodes[s.level+2],_isKHTML&&(this.cell.vAlign="top"),0!=s.parent.id&&"plus"==s.parent.state&&(this.grid._updateTGRState(s.parent,!1),this.cell.parentNode._skipInsert=!0),this.grid.callEvent("onCellChanged",[i,this.cell._cellIndex,t])},dhtmlXGridObject.prototype._process_tree_xml=function(t,e,i){this._parsing=!0;var s=!1;e||(this.render_row=this.render_row_tree,s=!0,e=t.getXMLTopNode(this.xml.top),i=e.getAttribute("parent")||0,"0"==i&&(i=0),this._h2||(this._h2=new dhtmlxHierarchy),this._fake&&(this._fake._h2=this._h2));var n=t.doXPath(this.xml.row,e);this._open=this._open||[];for(var o=0;o<n.length;o++){var l=n[o].getAttribute("id");l||(l=this.uid(),n[o].setAttribute("id",l));var h=this._h2.add(l,i);h.buff={idd:l,data:n[o],_parser:this._process_xml_row,_locator:this._get_xml_data},n[o].getAttribute("open")&&(h.state="minus",this._open.push(l)),this.rowsAr[l]=h.buff,this._process_tree_xml(t,n[o],l)}if(s){for(n.length?0!=i&&!this._srnd&&this._h2.change(i,"state","minus"):this._h2.change(i,"state",dhtmlXGridObject._emptyLineImg),o=0;o<this._open.length;o++){var r=this._h2.get[this._open[o]];r.childs.length||(r.state=dhtmlXGridObject._emptyLineImg)}if(this._updateTGRState(this._h2.get[i]),this._h2_to_buff(),0!=i&&this._srnd?this.openItem(i):this.pagingOn?this._renderSort():this.render_dataset(),this.kidsXmlFile)for(o=0;o<this._open.length;o++)r=this._h2.get[this._open[o]],r._xml_await&&this.expandKids({idd:r.id});this._open=[],this._slowParse===!1&&this.forEachRow(function(t){this.render_row_tree(0,t)}),this._parsing=!1,0!=i&&!this._srnd&&this.callEvent("onOpenEnd",[i,1])}return t.xmlDoc.responseXML?t.xmlDoc.responseXML:t.xmlDoc},dhtmlXGridObject.prototype._h2_to_buff=function(t){t||(t=this._h2.get[0],this.rowsBuffer=new dhtmlxArray,!this._fake||this._realfake)||(this._fake.rowsBuffer=this.rowsBuffer);for(var e=0;e<t.childs.length;e++)this.rowsBuffer.push(t.childs[e].buff),"minus"==t.childs[e].state&&this._h2_to_buff(t.childs[e])},dhtmlXGridObject.prototype.render_row_tree=function(t,e){if(e)var i=this._h2.get[e],i=i?i.buff:i;else i=this.rowsBuffer[t];if(!i)return-1;if(i._parser){if(this.rowsAr[i.idd]&&"TR"==this.rowsAr[i.idd].tagName)return this._h2.get[i.idd].buff=this.rowsBuffer[t]=this.rowsAr[i.idd];var s=this._prepareRow(i.idd);return this.rowsAr[i.idd]=s,e||(this.rowsBuffer[t]=s),this._h2.get[i.idd].buff=s,i._parser.call(this,s,i.data),this._postRowProcessing(s),s}return i},dhtmlXGridObject.prototype._removeTrGrRow=function(t,e){if(e)this._h2.forEachChild(e.id,function(t){this._removeTrGrRow(null,t),delete this.rowsAr[t.id]},this);else{var i=this.getRowIndex(t.idd),e=this._h2.get[t.idd];if(-1!=i&&i!==this.undefined){var s=1;e&&"minus"==e.state&&(s+=this._getOpenLenght(e.id,0));for(var n=0;s>n;n++)this.rowsCol[n+i]&&this.rowsCol[n+i].parentNode.removeChild(this.rowsCol[n+i]);if(this._fake){for(n=0;s>n;n++)this._fake.rowsCol[n+i]&&this._fake.rowsCol[n+i].parentNode.removeChild(this._fake.rowsCol[n+i]);s>1&&this._fake.rowsCol.splice(i+1,s-1)}this.rowsCol.splice(i,s),this.rowsBuffer.splice(i,s)}e&&(this._removeTrGrRow(null,e),delete this.rowsAr[e.id],1==e.parent.childs.length&&(this._h2.change(e.parent.id,"state",dhtmlXGridObject._emptyLineImg),this._updateTGRState(e.parent)),this._h2.remove(e.id))}},dhtmlXGridObject.prototype.openItem=function(t){var e=this._h2.get[t||0],i=this.getRowById(t||0);i&&(e.parent&&0!=e.parent.id&&this.openItem(e.parent.id),this.expandKids(i))},dhtmlXGridObject.prototype._addRowClassic=dhtmlXGridObject.prototype.addRow,dhtmlXGridObject.prototype.addRow=function(t,e,i,s,n,o){if(!this._h2)return this._addRowClassic(t,e,i);{var s=s||0;this.cellType._dhx_find("tree")}"string"==typeof e&&(e=e.split(this.delim));var l=this._h2.get[t];return l||(0==s?i=this.rowsBuffer.length:(i=this.getRowIndex(s)+1,"minus"==this._h2.get[s].state?i+=this._getOpenLenght(s,0):this._skipInsert=!0)),l=l||this._h2.add(t,s),l.image=n,l.has_kids=o,l.buff=this._addRowClassic(t,e,i)},dhtmlXGridObject.prototype.addRowBefore=function(t,e,i,s,n){var o=this.rowsAr[i];if(o){if(!this._h2)return this.addRow(t,e,this.getRowIndex(i));var l=this._h2.get[i].parent.id,h=this.getRowIndex(i);return-1==h&&(this._skipInsert=!0),this._h2.addBefore(t,l,i),this.addRow(t,e,h,this._h2.get[i].parent.id,s,n)}},dhtmlXGridObject.prototype.addRowAfter=function(t,e,i,s,n){var o=this.rowsAr[i];if(o){if(!this._h2)return this.addRow(t,e,this.getRowIndex(i)+1);var l=this._h2.get[i].parent.id,h=this.getRowIndex(i);return-1==h&&(this._skipInsert=!0),"minus"==this._h2.get[i].state?h+=this._getOpenLenght(i,0)+1:h++,this._h2.addAfter(t,l,i),this.addRow(t,e,h,l,s,n)}},dhtmlXGridObject.prototype.enableSmartXMLParsing=function(t){this._slowParse=convertStringToBoolean(t)},dhtmlXGridObject.prototype._copyTreeGridRowContent=function(t,e,s){var n=this.cellType._dhx_find("tree");for(i=0;i<t.cells.length;i++)i!=n?this.cells(s,i).setValue(this.cells(e,i).getValue()):this.cells(s,i).setValueA(this.cells(e,i).getValue())},dhtmlXGridObject.prototype.closeItem=function(t){var e=this.getRowById(t);e&&this.collapseKids(e)},dhtmlXGridObject.prototype.deleteChildItems=function(t){var e=this._h2.get[t];if(e)for(;e.childs.length;)this.deleteRow(e.childs[0].id)},dhtmlXGridObject.prototype.getAllSubItems=function(t){var e=[],i=this._h2.get[t||0];if(i)for(var s=0;s<i.childs.length;s++)e.push(i.childs[s].id),i.childs[s].childs.length&&(e=e.concat(this.getAllSubItems(i.childs[s].id).split(this.delim)));return e.join(this.delim)},dhtmlXGridObject.prototype.getChildItemIdByIndex=function(t,e){var i=this._h2.get[t||0];return i&&i.childs[e]?i.childs[e].id:null},dhtmlXGridObject.prototype.getItemText=function(t){return this.cells(t,this.cellType._dhx_find("tree")).getLabel()},dhtmlXGridObject.prototype.getOpenState=function(t){var e=this._h2.get[t||0];return e?"minus"==e.state?!0:!1:void 0},dhtmlXGridObject.prototype.getParentId=function(t){var e=this._h2.get[t||0];return e&&e.parent?e.parent.id:null},dhtmlXGridObject.prototype.getSubItems=function(t){var e=[],i=this._h2.get[t||0];if(i)for(var s=0;s<i.childs.length;s++)e.push(i.childs[s].id);return e.join(this.delim)},dhtmlXGridObject.prototype.expandAll=function(t){this._renderAllExpand(t||0),this._h2_to_buff(),this._reset_view(),this.setSizes(),this.callEvent("onGridReconstructed",[]),this._redrawLines&&this._redrawLines()},dhtmlXGridObject.prototype._renderAllExpand=function(t){for(var e=this._h2.get[t].childs,i=0;i<e.length;i++)e[i].childs.length&&(this._h2.change(e[i].id,"state","minus"),this._updateTGRState(e[i]),this._renderAllExpand(e[i].id))},dhtmlXGridObject.prototype.collapseAll=function(t){this._h2.forEachChild(t||0,function(t){t&&"minus"==t.state&&(t.state="plus",t.update=!0,this._updateTGRState(t))},this),this._h2_to_buff(),this._reset_view(),this.setSizes(),this.callEvent("onGridReconstructed",[]),this._redrawLines&&this._redrawLines()},dhtmlXGridObject.prototype.hasChildren=function(t){var e=this._h2.get[t];return e&&e.childs.length?e.childs.length:e._xml_await?-1:0},dhtmlXGridObject.prototype.setItemCloseable=function(t,e){var i=this._h2.get[t];i&&(i._closeable=!convertStringToBoolean(e))},dhtmlXGridObject.prototype.setItemText=function(t,e){return this.cells(t,this.cellType._dhx_find("tree")).setLabel(e)},dhtmlXGridObject.prototype.setItemImage=function(t,e){this._h2.get[t].image=e,this.rowsAr[t].imgTag.nextSibling.src=(this.iconURL||"")+e},dhtmlXGridObject.prototype.getItemImage=function(t){return this.getRowById(t),this._h2.get[t].image},dhtmlXGridObject.prototype.setImageSize=function(t,e){this._img_width=t,this._img_height=e},dhtmlXGridObject.prototype._getRowImage=function(t){return this._h2.get[t.idd].image},dhtmlXGridObject.prototype.setOnOpenStartHandler=function(t){this.attachEvent("onOpenStart",t)},dhtmlXGridObject.prototype.setOnOpenEndHandler=function(t){this.attachEvent("onOpenEnd",t)},dhtmlXGridObject.prototype.enableTreeCellEdit=function(t){this._edtc=!convertStringToBoolean(t)},dhtmlXGridObject.prototype.getLevel=function(t){var e=this._h2.get[t||0];return e?e.level:-1},dhtmlXGridObject.prototype._fixHiddenRowsAllTG=function(t,e){for(i in this.rowsAr)this.rowsAr[i]&&this.rowsAr[i].childNodes&&(this.rowsAr[i].childNodes[t].style.display=e)},dhtmlXGridObject._emptyLineImg="blank",dhtmlXGridObject.prototype._updateLine=function(t,e){if(e=e||this.rowsAr[t.id]){var i=e.imgTag;if(i){if("blank"==t.state)return i.src=this.imgURL+"blank.gif";var s=1,s=0==t.index&&0==t.level?t.parent.childs.length-1>t.index?3:1:t.parent.childs.length-1>t.index?3:2;i.src=this.imgURL+t.state+s+".gif"}}},dhtmlXGridObject.prototype._updateParentLine=function(t,e){if(e=e||this.rowsAr[t.id]){var i=e.imgTag;if(i)for(var s=t.level;s>0&&0!=t.id;s--)i=i.previousSibling,t=t.parent,i.src=t.parent.childs.length-1>t.index?this.imgURL+"line1.gif":this.imgURL+"blank.gif"}},dhtmlXGridObject.prototype._renderSortA=dhtmlXGridObject.prototype._renderSort,dhtmlXGridObject.prototype._renderSort=function(){this._renderSortA.apply(this,arguments),this._redrawLines(0)},dhtmlXGridObject.prototype._redrawLines=function(t){this._tgle&&this._h2.forEachChild(t||0,function(t){this._updateLine(t),this._updateParentLine(t)},this)},dhtmlXGridObject.prototype.enableTreeGridLines=function(){dhtmlXGridObject._emptyLineImg="line",this._updateTGRState=function(t,e){!e&&t.update&&0!=t.id&&(this._tgle&&this._updateLine(t,this.rowsAr[t.id]),t.update=!1)},this._tgle=!0,this.attachEvent("onXLE",function(t,e,i){this._redrawLines(i)}),this.attachEvent("onOpenEnd",function(t){this._redrawLines(t)}),this.attachEvent("onRowAdded",function(t){var e=this._h2.get[t];this._updateLine(e),this._updateParentLine(e),e.index<e.parent.childs.length-1?(e=e.parent.childs[e.index+1],this._updateLine(e),this._updateParentLine(e)):0!=e.index&&(e=e.parent.childs[e.index-1],this._updateLine(e),this._updateParentLine(e),e.childs.length&&this._h2.forEachChild(e.id,function(t){this._updateParentLine(t)},this))}),this.attachEvent("onOpen",function(t,e){if(e)for(var i=this._h2.get[t],s=0;s<i.childs.length;s++)this._updateParentLine(i.childs[s]);return!0}),this.attachEvent("onBeforeRowDeleted",function(t){var e=this,i=this._h2.get[t],s=null;return 0!=i.index&&(s=i.parent.childs[i.index-1]),i=i.parent,window.setTimeout(function(){(i=e._h2.get[i.id])&&(e._updateLine(i),e._updateParentLine(i),s&&(e._updateLine(s),"minus"==s.state&&e._h2.forEachChild(s.id,function(t){e._updateParentLine(t)},e)))},1),!0})},dhtmlXGridObject.prototype.setFiltrationLevel=function(t,e,i){this._tr_strfltr=t,this._tr_fltr_c=e,this._tr_fltr_d=i,this.refreshFilters()},dhtmlXGridObject.prototype.filterTreeBy=function(t,e,i){var s=this._h2;"undefined"==typeof this._tr_strfltr&&(this._tr_strfltr=-1),this._f_rowsBuffer?!i&&(this._h2=this._f_rowsBuffer,this._fake)&&(this._fake._h2=this._h2):this._f_rowsBuffer=this._h2;if(this.dma(!0),this._fbf={},"object"==typeof t)for(var n=0;n<e.length;n++)this._filterTreeA(t[n],e[n]);else this._filterTreeA(t,e);this._fbf=null,this.dma(!1),this._fix_filtered_images(this._h2,s),this._renderSort(),this.callEvent("onGridReconstructed",[])},dhtmlXGridObject.prototype._filterTreeA=function(t,e){if(""!=e){var i=!0;"function"==typeof e?i=!1:e=(e||"").toString().toLowerCase();var s,n=function(t,e,i){var s=i.get[t.parent.id];return s||(s=n(t.parent,e,i)),i=l.get[t.id],i||(i={id:t.id,childs:[],level:t.level,parent:s,index:s.childs.length,image:t.image,state:t.state,buff:t.buff,has_kids:t.has_kids,_xml_await:t._xml_await},s.childs.push(i),l.get[i.id]=i),i},o=this._fbf,l=new dhtmlxHierarchy,h=this._tr_strfltr,r=this,a=function(t){for(var e=0;e<t.childs.length;e++)r.temp(t.childs[e])};switch(h.toString()){case"-2":s=function(t){return o[t.id]?!1:(a(t),!0)};break;case"-1":s=function(t){return!t.childs.length};break;default:s=function(t){return h==t.level}}this.temp=function(r){return 0!=r.id&&s(r)?(i?-1!=this._get_cell_value(r.buff,t).toString().toLowerCase().indexOf(e):e(this._get_cell_value(r.buff,t),r.id))?(n(r,this._h2,l),r.childs&&-2!=h&&this._h2.forEachChild(r.id,function(t){n(t,this._h2,l)},this),!0):(o[r.id]=!0,this._tr_fltr_c&&n(r.parent,this._h2,l),!1):(this._tr_fltr_d&&this._tr_strfltr>r.level&&0!=r.id&&n(r,this._h2,l),void a(r))},this.temp(this._h2.get[0]),this._h2=l,this._fake&&(this._fake._h2=this._h2)}},dhtmlXGridObject.prototype._fix_filtered_images=function(t,e){t.forEachChild(0,function(t){if(t.childs.length||t.has_kids){if("TR"==t.buff.tagName){var i=e.get[t.id];i&&i.state!=dhtmlXGridObject._emptyLineImg&&(t.state=i.state),t.update=!0,this._updateTGRState(t)
}}else t.state!=dhtmlXGridObject._emptyLineImg&&(t.state=dhtmlXGridObject._emptyLineImg,t.update=!0,this._updateTGRState(t))},this)},dhtmlXGridObject.prototype.collectTreeValues=function(t){"undefined"==typeof this._tr_strfltr&&(this._tr_strfltr=-1),this.dma(!0),this._build_m_order();var t=this._m_order?this._m_order[t]:t,e={},i=[],s=this._f_rowsBuffer||this._h2;s.forEachChild(0,function(i){if(-2==this._tr_strfltr||-1==this._tr_strfltr&&!i.childs.length||this._tr_strfltr==i.level){var s=this._get_cell_value(i.buff,t);s&&(e[s]=!0)}},this),this.dma(!1);var n,o=this.combos[t];for(n in e)e[n]===!0&&i.push(o?o.get(n)||n:n);return i.sort()},dhtmlXGridObject.prototype._in_header_stat_tree_total=function(t,e,i){var s=function(){var t=0;this._build_m_order();var i=this._m_order?this._m_order[e]:e;return this._h2.forEachChild(0,function(e){var s=parseFloat(this._get_cell_value(e.buff||this.rowsAr[e.id],i));t+=isNaN(s)?0:s},this),this._maskArr[e]?this._aplNF(t,e):Math.round(100*t)/100};this._stat_in_header(t,s,e,i,i)},dhtmlXGridObject.prototype._in_header_stat_tree_total_leaf=function(t,e,i){var s=function(){var t=0;this._build_m_order();var i=this._m_order?this._m_order[e]:e;return this._h2.forEachChild(0,function(e){if(!e.childs.length){var s=parseFloat(this._get_cell_value(e.buff||this.rowsAr[e.id],i));t+=isNaN(s)?0:s}},this),this._maskArr[e]?this._aplNF(t,e):Math.round(100*t)/100};this._stat_in_header(t,s,e,i,i)},dhtmlXGridObject.prototype._in_header_stat_tree_multi_total=function(t,e,i){var s=i[1].split(":");i[1]="";var n=function(){var t=0;return this._h2.forEachChild(0,function(e){var i=parseFloat(this._get_cell_value(e.buff||this.rowsAr[e.id],s[0]))*parseFloat(this._get_cell_value(e.buff||this.rowsAr[e.id],s[1]));t+=isNaN(i)?0:i},this),this._maskArr[e]?this._aplNF(t,e):Math.round(100*t)/100};this._stat_in_header(t,n,e,i,i)},dhtmlXGridObject.prototype._in_header_stat_tree_multi_total_leaf=function(t,e,i){var s=i[1].split(":");i[1]="";var n=function(){var t=0;return this._h2.forEachChild(0,function(e){if(!e.childs.length){var i=parseFloat(this._get_cell_value(e.buff||this.rowsAr[e.id],s[0]))*parseFloat(this._get_cell_value(e.buff||this.rowsAr[e.id],s[1]));t+=isNaN(i)?0:i}},this),this._maskArr[e]?this._aplNF(t,e):Math.round(100*t)/100};this._stat_in_header(t,n,e,i,i)},dhtmlXGridObject.prototype._in_header_stat_tree_max=function(t,e,i){var s=function(){var t=-999999999;this._build_m_order();var i=this._m_order?this._m_order[e]:e;return 0==this.getRowsNum()?"":(this._h2.forEachChild(0,function(e){var s=parseFloat(this._get_cell_value(e.buff||this.rowsAr[e.id],i));isNaN(s)||(t=Math.max(t,s))},this),this._maskArr[e]?this._aplNF(t,e):t)};this._stat_in_header(t,s,e,i)},dhtmlXGridObject.prototype._in_header_stat_tree_min=function(t,e,i){var s=function(){var t=999999999;this._build_m_order();var i=this._m_order?this._m_order[e]:e;return 0==this.getRowsNum()?"":(this._h2.forEachChild(0,function(e){var s=parseFloat(this._get_cell_value(e.buff||this.rowsAr[e.id],i));isNaN(s)||(t=Math.min(t,s))},this),this._maskArr[e]?this._aplNF(t,e):t)};this._stat_in_header(t,s,e,i)},dhtmlXGridObject.prototype._in_header_stat_tree_average=function(t,e,i){var s=function(){var t=0,i=0;this._build_m_order();var s=this._m_order?this._m_order[e]:e;return this._h2.forEachChild(0,function(e){var n=parseFloat(this._get_cell_value(e.buff||this.rowsAr[e.id],s));t+=isNaN(n)?0:n,i++},this),this._maskArr[e]?this._aplNF(t,e):Math.round(t/i*100)/100};this._stat_in_header(t,s,e,i)},dhtmlXGridObject.prototype._in_header_stat_tree_max_leaf=function(t,e,i){var s=function(){var t=-999999999;this._build_m_order();var i=this._m_order?this._m_order[e]:e;return 0==this.getRowsNum()?"":(this._h2.forEachChild(0,function(e){if(!e.childs.length){var s=parseFloat(this._get_cell_value(e.buff||this.rowsAr[e.id],i));isNaN(s)||(t=Math.max(t,s))}},this),this._maskArr[e]?this._aplNF(t,e):t)};this._stat_in_header(t,s,e,i)},dhtmlXGridObject.prototype._in_header_stat_tree_min_leaf=function(t,e,i){var s=function(){var t=999999999;this._build_m_order();var i=this._m_order?this._m_order[e]:e;return 0==this.getRowsNum()?"":(this._h2.forEachChild(0,function(e){if(!e.childs.length){var s=parseFloat(this._get_cell_value(e.buff||this.rowsAr[e.id],i));isNaN(s)||(t=Math.min(t,s))}},this),this._maskArr[e]?this._aplNF(t,e):t)};this._stat_in_header(t,s,e,i)},dhtmlXGridObject.prototype._in_header_stat_tree_average_leaf=function(t,e,i){var s=function(){var t=0,i=0;this._build_m_order();var s=this._m_order?this._m_order[e]:e;return this._h2.forEachChild(0,function(e){if(!e.childs.length){var n=parseFloat(this._get_cell_value(e.buff||this.rowsAr[e.id],s));t+=isNaN(n)?0:n,i++}},this),this._maskArr[e]?this._aplNF(t,e):Math.round(t/i*100)/100};this._stat_in_header(t,s,e,i)},dhtmlXGridObject.prototype._in_header_stat_tree_count=function(t,e,i){var s=function(){var t=0;return this._h2.forEachChild(0,function(){t++},this),t};this._stat_in_header(t,s,e,i)},dhtmlXGridObject.prototype._in_header_stat_tree_count_leaf=function(t,e,i){var s=function(){var t=0;return this._h2.forEachChild(0,function(e){e.childs.length||t++},this),t};this._stat_in_header(t,s,e,i)},dhtmlXGridObject.prototype._stat_in_header=function(t,e,i,s){var n=function(){this.dma(!0),t.innerHTML=(s[0]?s[0]:"")+e.call(this)+(s[1]?s[1]:""),this.dma(!1),this.callEvent("onStatReady",[])};this._stat_events||(this._stat_events=[],this.attachEvent("onClearAll",function(){if(!this.hdr.rows[1]){for(var t=0;t<this._stat_events.length;t++)for(var e=0;4>e;e++)this.detachEvent(this._stat_events[t][e]);this._stat_events=[]}})),this._stat_events.push([this.attachEvent("onGridReconstructed",n),this.attachEvent("onXLE",n),this.attachEvent("onFilterEnd",n),this.attachEvent("onEditCell",function(t,e,s){return 2==t&&s==i&&n.call(this),!0})]),t.innerHTML=""},dhtmlXGridObject.prototype._build_m_order=function(){if(this._c_order){this._m_order=[];for(var t=0;t<this._c_order.length;t++)this._m_order[this._c_order[t]]=t}},dhtmlXWindows.prototype._dhx_Engine=function(){this._engineEnabled=!0,this._engineName="dhx",this._engineSkinParams={dhx_blue:{hh:21,lbw:2,rbw:2,lch:2,lcw:14,rch:14,rcw:14,bbh:2,mnh:23,tbh:25,sbh:20,noh_t:null,noh_h:null},dhx_black:{hh:21,lbw:2,rbw:2,lch:2,lcw:14,rch:14,rcw:14,bbh:2,mnh:23,tbh:25,sbh:20,noh_t:null,noh_h:null},dhx_skyblue:{hh:29,lbw:2,rbw:2,lch:2,lcw:14,rch:14,rcw:14,bbh:2,mnh:23,tbh:25,sbh:20,noh_t:5,noh_h:-10},dhx_web:{hh:27,lbw:5,rbw:5,lch:5,lcw:14,rch:14,rcw:14,bbh:5,mnh:23,tbh:25,sbh:20,noh_t:5,noh_h:-10},dhx_terrace:{hh:37,lbw:5,rbw:5,lch:5,lcw:14,rch:14,rcw:14,bbh:5,mnh:23,tbh:25,sbh:20,noh_t:5,noh_h:-10}},this._isIE6=!1,_isIE&&(this._isIE6=null==window.XMLHttpRequest?!0:!1),this._engineSetWindowBody=function(t){t.innerHTML="<div iswin='1' class='dhtmlx_wins_body_outer' style='position: relative;'>"+(this._isIE6?"<iframe src='javascript:false;' frameborder='0' class='dhtmlx_wins_ie6_cover_fix' onload='this.contentWindow.document.body.style.overflow=\"hidden\";'></iframe>":"")+"<div class='dhtmlx_wins_icon'></div><div class='dhtmlx_wins_progress'></div><div class='dhtmlx_wins_title'>dhtmlxWindow</div><div class='dhtmlx_wins_btns'><div class='dhtmlx_wins_btns_button dhtmlx_button_sticked_default'></div><div class='dhtmlx_wins_btns_button dhtmlx_button_stick_default'></div><div class='dhtmlx_wins_btns_button dhtmlx_button_help_default'></div><div class='dhtmlx_wins_btns_button dhtmlx_button_park_default'></div><div class='dhtmlx_wins_btns_button dhtmlx_button_minmax2_default'></div><div class='dhtmlx_wins_btns_button dhtmlx_button_minmax1_default'></div><div class='dhtmlx_wins_btns_button dhtmlx_button_close_default'></div><div class='dhtmlx_wins_btns_button dhtmlx_button_dock_default'></div></div><div class='dhtmlx_wins_body_inner'></div><div winResT='yes' class='dhtmlx_wins_resizer_t' style='display:none;'></div><div winResL='yes' class='dhtmlx_wins_resizer_l'></div><div winResR='yes' class='dhtmlx_wins_resizer_r'></div><div winResB='yes' class='dhtmlx_wins_resizer_b'></div><div class='white_line'></div><div class='white_line2'></div></div>",t.dhxContGlobal=new dhtmlXContainer(t),"dhx_skyblue"==this.skin&&(t.dhxContGlobal.obj._offsetWidth=-10,t.dhxContGlobal.obj._offsetHeight=-5,t.dhxContGlobal.obj._offsetLeft=5,t.dhxContGlobal.obj._offsetHeightSaved=t.dhxContGlobal.obj._offsetHeight),"dhx_web"==this.skin&&(t.dhxContGlobal.obj._offsetWidth=-10,t.dhxContGlobal.obj._offsetHeight=-5,t.dhxContGlobal.obj._offsetLeft=5,t.dhxContGlobal.obj._offsetHeightSaved=t.dhxContGlobal.obj._offsetHeight),t.skin=this.skin,t.dhxContGlobal.setContent(t.childNodes[0].childNodes[this._isIE6?5:4]);var e=t.coverBlocker();e.onselectstart=function(t){t=t||event,t.returnValue=!1,t.cancelBubble=!0},e=null,this.iframeMode&&(t.ifr=document.createElement("IFRAME"),t.ifr.style.position="absolute",t.ifr.style.left=t.style.left,t.ifr.style.top=t.style.top,t.ifr.style.width=t.style.width,t.ifr.style.height=t.style.height,t.ifr.style.zIndex=t.style.zIndex-1,t.ifr.style.backgroundColor="white",t.ifr.frameBorder=0,t.ifr.setAttribute("src","javascript:false;"),t.parentNode.appendChild(t.ifr))},this._engineDiableOnSelectInWindow=function(t,e){var i=[];i[0]=t.childNodes[0].childNodes[this._isIE6?1:0],i[1]=t.childNodes[0].childNodes[this._isIE6?2:1],i[2]=t.childNodes[0].childNodes[this._isIE6?3:2],i[3]=t.childNodes[0].childNodes[this._isIE6?4:3],i[4]=t.childNodes[0].childNodes[this._isIE6?6:5],i[5]=t.childNodes[0].childNodes[this._isIE6?7:6],i[6]=t.childNodes[0].childNodes[this._isIE6?8:7],i[7]=t.childNodes[0].childNodes[this._isIE6?9:8];for(var s=0;s<i.length;s++)i[s].onselectstart=e?function(t){return t=t||event,t.returnValue=!1}:null,i[s]=null;i=null},this._engineGetWindowHeader=function(t){return t.childNodes[0].idd=t.idd,t.childNodes[0]},this._engineRedrawWindowSize=function(t){t.style.width=-1==String(t.w).search("%")?t.w+"px":t.w,t.style.height=-1==String(t.h).search("%")?t.h+"px":t.h;var e=t.childNodes[0];if(e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",e.offsetWidth>t.clientWidth&&(e.style.width=2*t.clientWidth-e.offsetWidth+"px"),e.offsetHeight>t.clientHeight){var i=2*t.clientHeight-e.offsetHeight;0>i&&(i=0),e.style.height=i+"px"}var s=1==t._noHeader?t._hdrSize:this._engineSkinParams[this.skin].hh;this.iframeMode&&t.ifr&&(t.ifr.style.width=t.style.width,t.ifr.style.height=t.style.height),this._engineRedrawWindowTitle(t),t.adjustContent(e,s)},this._engineRedrawWindowPos=function(t){!t._isFullScreened&&(t.style.left=t.x+"px",t.style.top=t.y+"px",this.iframeMode&&t.ifr)&&(t.ifr.style.top=t.style.top,t.ifr.style.left=t.style.left)},this._engineFixWindowPosInViewport=function(t){var e=1==t._noHeader?t._hdrSize:this._engineSkinParams[this.skin].hh;t._keepInViewport?(t.x<0&&(t.x=0),t.x+t.w>this.vp.offsetWidth&&(t.x=this.vp.offsetWidth-t.w),t.y+t.h>this.vp.offsetHeight&&(t.y=this.vp.offsetHeight-t.h),t.y<0&&(t.y=0)):(t.y+e>this.vp.offsetHeight&&(t.y=this.vp.offsetHeight-e),t.y<0&&(t.y=0),t.x+t.w-10<0&&(t.x=10-t.w),t.x>this.vp.offsetWidth-10&&(t.x=this.vp.offsetWidth-10))},this._engineCheckHeaderMouseDown=function(t,e){if(this._isIPad){var i=e.touches[0].clientX,s=e.touches[0].clientY,n=e.target||e.srcElement;return n==t.childNodes[0]||n==t.childNodes[0].childNodes[0]||n==t.childNodes[0].childNodes[2]||n==t.childNodes[0].childNodes[3]?!0:!1}i=_isIE||_isOpera?e.offsetX:e.layerX,s=_isIE||_isOpera?e.offsetY:e.layerY,n=e.target||e.srcElement;var o=1==t._noHeader?t._hdrSize:this._engineSkinParams[this.skin].hh;return o>=s&&(n==t.childNodes[0]||n==t.childNodes[0].childNodes[this._isIE6?1:0]||n==t.childNodes[0].childNodes[this._isIE6?3:2]||n==t.childNodes[0].childNodes[this._isIE6?4:3])?!0:!1},this._engineGetWindowContent=function(){alert("_engineGetWindowContent")},this._engineGetWindowButton=function(t,e){for(var e=String(e).toLowerCase(),i=null,s="dhtmlx_button_"+e+"_",n=0;n<t.childNodes[0].childNodes[this._isIE6?4:3].childNodes.length;n++){var o=t.childNodes[0].childNodes[this._isIE6?4:3].childNodes[n];-1!=String(o.className).search(s)&&(i=o),o=null}return i},this._engineAddUserButton=function(t,e,i){isNaN(i)&&(i=0);var s=document.createElement("DIV");s.className="dhtmlx_wins_btns_button dhtmlx_button_"+e+"_default";var n=t.childNodes[0].childNodes[this._isIE6?4:3],i=n.childNodes.length-i;return 0>i&&(i=0),i>=n.childNodes.length?n.appendChild(s):n.insertBefore(s,n.childNodes[i]),this._engineRedrawWindowTitle(t),s},this._engineGetWindowParkedHeight=function(){return this._engineSkinParams[this.skin].hh+1},this._engineDoOnWindowParkDown=function(t){t.childNodes[0].childNodes[this._isIE6?6:5].style.display=1==t._noHeader?"":"none",t.childNodes[0].childNodes[this._isIE6?7:6].style.display="",t.childNodes[0].childNodes[this._isIE6?8:7].style.display="",t.childNodes[0].childNodes[this._isIE6?9:8].style.display=""},this._engineDoOnWindowParkUp=function(t){t.childNodes[0].childNodes[this._isIE6?6:5].style.display="none",t.childNodes[0].childNodes[this._isIE6?7:6].style.display="none",t.childNodes[0].childNodes[this._isIE6?8:7].style.display="none",t.childNodes[0].childNodes[this._isIE6?9:8].style.display="none"},this._engineUpdateWindowIcon=function(t,e){t.childNodes[0].childNodes[this._isIE6?1:0].style.backgroundImage="url('"+e+"')"},this._engineAllowWindowResize=function(t,e,i,s){if(e.getAttribute){var n=this._engineSkinParams[this.skin],o=1==t._noHeader?t._hdrSize:this._engineSkinParams[this.skin].hh;return null!=e.getAttribute("winResL")&&"yes"==e.getAttribute("winResL")&&s>=o?s>=t.h-n.lch?"corner_left":s<=n.lch&&1==t._noHeader?"corner_up_left":"border_left":null!=e.getAttribute("winResR")&&"yes"==e.getAttribute("winResR")&&s>=o?s>=t.h-n.rch?"corner_right":s<=n.rch&&1==t._noHeader?"corner_up_right":"border_right":null!=e.getAttribute("winResT")&&"yes"==e.getAttribute("winResT")&&1==t._noHeader?i<=n.lcw?"corner_up_left":i>=t.w-n.rcw?"corner_up_right":"border_top":null!=e.getAttribute("winResB")&&"yes"==e.getAttribute("winResB")?i<=n.lcw?"corner_left":i>=t.w-n.rcw?"corner_right":"border_bottom":null}},this._engineAdjustWindowToContent=function(t,e,i){var s=e+t.w-t.vs[t.av].dhxcont.clientWidth,n=i+t.h-t.vs[t.av].dhxcont.clientHeight;t.setDimension(s,n)},this._engineRedrawSkin=function(){this.vp.className=(this.vp==document.body&&this.vp._css?this.vp._css+" ":"")+"dhtmlx_winviewport dhtmlx_skin_"+this.skin+(this._r?" dhx_wins_rtl":"");var t,e=this._engineSkinParams[this.skin];for(t in this.wins)"dhx_skyblue"==this.skin?(this.wins[t].dhxContGlobal.obj._offsetTop=this.wins[t]._noHeader?e.noh_t:null,this.wins[t].dhxContGlobal.obj._offsetWidth=-10,this.wins[t].dhxContGlobal.obj._offsetHeight=this.wins[t]._noHeader?e.noh_h:-5,this.wins[t].dhxContGlobal.obj._offsetLeft=5,this.wins[t].dhxContGlobal.obj._offsetHeightSaved=-5):(this.wins[t].dhxContGlobal.obj._offsetWidth=null,this.wins[t].dhxContGlobal.obj._offsetHeight=null,this.wins[t].dhxContGlobal.obj._offsetLeft=null,this.wins[t].dhxContGlobal.obj._offsetTop=null,this.wins[t].dhxContGlobal.obj._offsetHeightSaved=null),this.wins[t].skin=this.skin,this._restoreWindowIcons(this.wins[t]),this._engineRedrawWindowSize(this.wins[t])},this._engineSwitchWindowProgress=function(t,e){1==e?(t.childNodes[0].childNodes[this._isIE6?1:0].style.display="none",t.childNodes[0].childNodes[this._isIE6?2:1].style.display=""):(t.childNodes[0].childNodes[this._isIE6?2:1].style.display="none",t.childNodes[0].childNodes[this._isIE6?1:0].style.display="")},this._engineSwitchWindowHeader=function(t,e){if(t._noHeader||(t._noHeader=!1),e==t._noHeader){t._noHeader=1==e?!1:!0,t._hdrSize=0,t.childNodes[0].childNodes[this._isIE6?5:4].className="dhtmlx_wins_body_inner"+(t._noHeader?" dhtmlx_wins_no_header":""),t.childNodes[0].childNodes[this._isIE6?6:5].style.display=t._noHeader?"":"none",t.childNodes[0].childNodes[this._isIE6?1:0].style.display=t._noHeader?"none":"",t.childNodes[0].childNodes[this._isIE6?3:2].style.display=t._noHeader?"none":"",t.childNodes[0].childNodes[this._isIE6?4:3].style.display=t._noHeader?"none":"";var i=this._engineSkinParams[this.skin];t._noHeader?(t.dhxContGlobal.obj._offsetHeightSaved=t.dhxContGlobal.obj._offsetHeight,t.dhxContGlobal.obj._offsetHeight=i.noh_h,t.dhxContGlobal.obj._offsetTop=i.noh_t):(t.dhxContGlobal.obj._offsetHeight=t.dhxContGlobal.obj._offsetHeightSaved,t.dhxContGlobal.obj._offsetTop=null),this._engineRedrawWindowSize(t)}},this._engineGetWindowHeaderState=function(t){return t._noHeader?!0:!1},this._engineGetWindowLabel=function(t){return t.childNodes[0].childNodes[this._isIE6?3:2]},this._engineRedrawWindowTitle=function(t){if(t._noHeader!==!0){var e=t.childNodes[0].childNodes[this._isIE6?1:0].offsetWidth,i=t.childNodes[0].childNodes[this._isIE6?4:3].offsetWidth,s=t.offsetWidth-e-i-24;0>s?s="100%":s+="px",t.childNodes[0].childNodes[this._isIE6?3:2].style.width=s}}},dhtmlXWindows.prototype.i18n={dhxcontaler:"dhtmlxcontainer.js is missed on the page",noenginealert:"No dhtmlxWindows engine was found.",stick:"Stick",unstick:"Unstick",help:"Help",parkdown:"Park Down",parkup:"Park Up",maximize:"Maximize",restore:"Restore",close:"Close",dock:"Dock"},function(){dhtmlx.extend_api("dhtmlXWindows",{_init:function(){return[]},_patch:function(e){e.old_createWindow=e.createWindow,e.createWindow=function(e){if(arguments.length>1)return this.old_createWindow.apply(this,arguments);var i=this.old_createWindow(e.id,e.x||e.left,e.y||e.top,e.width,e.height);i.allowMoveA=function(t){t?this.allowMove():this.denyMove()},i.allowParkA=function(t){t?this.allowPark():this.denyPark()},i.allowResizeA=function(t){t?this.allowResize():this.denyResize()};for(var s in e)t[s]?i[t[s]](e[s]):0==s.indexOf("on")&&i.attachEvent(s,e[s]);return i}},animation:"setEffect",image_path:"setImagePath",skin:"setSkin",viewport:"_viewport",wins:"_wins"},{_viewport:function(t){t.object?(this.enableAutoViewport(!1),this.attachViewportTo(t.object)):(this.enableAutoViewport(!1),this.setViewport(t.left,t.top,t.width,t.height,t.parent))},_wins:function(t){for(var e=0;e<t.length;e++){var i=t[e];this.createWindow(i.id,i.left,i.top,i.width,i.height),i.text&&this.window(i.id).setText(i.text),i.keep_in_viewport&&this.window(i.id).keepInViewport(!0),i.deny_resize&&this.window(i.id).denyResize(),i.deny_park&&this.window(i.id).denyPark(),i.deny_move&&this.window(i.id).denyMove()}}});var t={move:"allowMoveA",park:"allowParkA",resize:"allowResizeA",center:"center",modal:"setModal",caption:"setText",header:"showHeader"}}(),window.dhtmlx||(dhtmlx={}),dhtmlx.version="3.0",dhtmlx.codebase="./",dhtmlx.copy=function(t){var e=dhtmlx.copy.hb;return e.prototype=t,new e},dhtmlx.copy.hb=function(){},dhtmlx.extend=function(t,e){for(var i in e)t[i]=e[i];return e.p&&t.p(),t},dhtmlx.proto_extend=function(){for(var t=arguments,e=t[0],i=[],s=t.length-1;s>0;s--){"function"==typeof t[s]&&(t[s]=t[s].prototype);for(var n in t[s])"_init"==n?i.push(t[s][n]):e[n]||(e[n]=t[s][n])}t[0].p&&i.push(t[0].p),e.p=function(){for(var t=0;t<i.length;t++)i[t].apply(this,arguments)},e.base=t[1];var o=function(t){this.p(t),this.J&&this.J(t,this.defaults)};return o.prototype=e,e=t=null,o},dhtmlx.bind=function(t,e){return function(){return t.apply(e,arguments)}},dhtmlx.require=function(t){dhtmlx.A[t]||(dhtmlx.exec(dhtmlx.ajax().sync().get(dhtmlx.codebase+t).responseText),dhtmlx.A[t]=!0)},dhtmlx.A={},dhtmlx.exec=function(t){window.execScript?window.execScript(t):window.eval(t)},dhtmlx.methodPush=function(t,e){return function(){var i=!1;return i=t[e].apply(t,arguments)}},dhtmlx.isNotDefined=function(t){return"undefined"==typeof t},dhtmlx.delay=function(t,e,i,s){setTimeout(function(){var s=t.apply(e,i);return t=e=i=null,s},s||1)},dhtmlx.uid=function(){return this.W||(this.W=(new Date).valueOf()),this.W++,this.W},dhtmlx.toNode=function(t){return"string"==typeof t?document.getElementById(t):t},dhtmlx.toArray=function(t){return dhtmlx.extend(t||[],dhtmlx.PowerArray)},dhtmlx.toFunctor=function(a){return"string"==typeof a?eval(a):a},dhtmlx.q={},dhtmlx.event=function(t,e,i,s){var t=dhtmlx.toNode(t),n=dhtmlx.uid();return dhtmlx.q[n]=[t,e,i],s&&(i=dhtmlx.bind(i,s)),t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i),n},dhtmlx.eventRemove=function(t){if(t){var e=dhtmlx.q[t];e[0].removeEventListener?e[0].removeEventListener(e[1],e[2],!1):e[0].detachEvent&&e[0].detachEvent("on"+e[1],e[2]),delete this.q[t]}},dhtmlx.EventSystem={p:function(){this.q={},this.ba={},this.U={}},block:function(){this.q.ka=!0},unblock:function(){this.q.ka=!1},mapEvent:function(t){dhtmlx.extend(this.U,t)},callEvent:function(t,e){if(this.q.ka)return!0;var t=t.toLowerCase(),i=this.q[t.toLowerCase()],s=!0;if(i)for(var n=0;n<i.length;n++)i[n].apply(this,e||[])===!1&&(s=!1);return this.U[t]&&!this.U[t].callEvent(t,e)&&(s=!1),s},attachEvent:function(t,e,i){var t=t.toLowerCase(),i=i||dhtmlx.uid(),e=dhtmlx.toFunctor(e),s=this.q[t]||dhtmlx.toArray();return s.push(e),this.q[t]=s,this.ba[i]={f:e,t:t},i},detachEvent:function(t){if(this.ba[t]){var e=this.ba[t].t,i=this.ba[t].f,s=this.q[e];s.remove(i),delete this.ba[t]}}},dhtmlx.PowerArray={removeAt:function(t,e){t>=0&&this.splice(t,e||1)},remove:function(t){this.removeAt(this.find(t))},insertAt:function(t,e){if(e||0===e){var i=this.splice(e,this.length-e);this[e]=t,this.push.apply(this,i)}else this.push(t)},find:function(t){for(i=0;i<this.length;i++)if(t==this[i])return i;return-1},each:function(t,e){for(var i=0;i<this.length;i++)t.call(e||this,this[i])},map:function(t,e){for(var i=0;i<this.length;i++)this[i]=t.call(e||this,this[i]);return this}},dhtmlx.env={},-1!=navigator.userAgent.indexOf("Opera")?dhtmlx.Bd=!0:(dhtmlx.z=!!document.all,dhtmlx.hc=!document.all,dhtmlx.Cd=-1!=navigator.userAgent.indexOf("KHTML"),-1!=navigator.appVersion.indexOf("MSIE 8.0")&&"BackCompat"!=document.compatMode&&(dhtmlx.z=8),-1!=navigator.appVersion.indexOf("MSIE 9.0")&&"BackCompat"!=document.compatMode&&(dhtmlx.z=9)),dhtmlx.env={},function(){dhtmlx.env.transform=!1,dhtmlx.env.transition=!1;for(var t={names:["transform","transition"],transform:["transform","WebkitTransform","MozTransform","oTransform","msTransform"],transition:["transition","WebkitTransition","MozTransition","oTransition"]},e=document.createElement("DIV"),i=0;i<t.names.length;i++)for(;p=t[t.names[i]].pop();)"undefined"!=typeof e.style[p]&&(dhtmlx.env[t.names[i]]=!0)}(),dhtmlx.env.transform_prefix=function(){var t;return dhtmlx.Bd?t="-o-":(t="",dhtmlx.hc&&(t="-moz-"),dhtmlx.Cd&&(t="-webkit-")),t}(),dhtmlx.env.svg=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),dhtmlx.zIndex={drag:1e4},dhtmlx.html={create:function(t,e,i){var s,e=e||{},n=document.createElement(t);for(s in e)n.setAttribute(s,e[s]);return e.style&&(n.style.cssText=e.style),e["class"]&&(n.className=e["class"]),i&&(n.innerHTML=i),n},getValue:function(t){return t=dhtmlx.toNode(t),t?dhtmlx.isNotDefined(t.value)?t.innerHTML:t.value:""},remove:function(t){if(t instanceof Array)for(var e=0;e<t.length;e++)this.remove(t[e]);else t&&t.parentNode&&t.parentNode.removeChild(t)},insertBefore:function(t,e,i){t&&(e?e.parentNode.insertBefore(t,e):i.appendChild(t))},locate:function(t,e){for(var t=t||event,i=t.target||t.srcElement;i;){if(i.getAttribute){var s=i.getAttribute(e);if(s)return s}i=i.parentNode}return null},offset:function(t){if(t.getBoundingClientRect){var e=t.getBoundingClientRect(),i=document.body,s=document.documentElement,n=window.pageYOffset||s.scrollTop||i.scrollTop,o=window.pageXOffset||s.scrollLeft||i.scrollLeft,l=s.clientTop||i.clientTop||0,h=s.clientLeft||i.clientLeft||0,r=e.top+n-l,a=e.left+o-h;return{y:Math.round(r),x:Math.round(a)}}for(a=r=0;t;)r+=parseInt(t.offsetTop,10),a+=parseInt(t.offsetLeft,10),t=t.offsetParent;return{y:r,x:a}},pos:function(t){if(t=t||event,t.pageX||t.pageY)return{x:t.pageX,y:t.pageY};var e=dhtmlx.z&&"BackCompat"!=document.compatMode?document.documentElement:document.body;return{x:t.clientX+e.scrollLeft-e.clientLeft,y:t.clientY+e.scrollTop-e.clientTop}},preventEvent:function(t){t&&t.preventDefault&&t.preventDefault(),dhtmlx.html.stopEvent(t)},stopEvent:function(t){return(t||event).cancelBubble=!0,!1},addCss:function(t,e){t.className+=" "+e},removeCss:function(t,e){t.className=t.className.replace(RegExp(e,"g"),"")}},function(){var t=document.getElementsByTagName("SCRIPT");t.length&&(t=(t[t.length-1].getAttribute("src")||"").split("/"),t.splice(t.length-1,1),dhtmlx.codebase=t.slice(0,t.length).join("/")+"/")}(),dhtmlx.ui||(dhtmlx.ui={}),dhtmlx.Template={Va:{},empty:function(){return""},setter:function(t){return dhtmlx.Template.fromHTML(t)},obj_setter:function(t){var e=dhtmlx.Template.setter(t),i=this;return function(){return e.apply(i,arguments)}},fromHTML:function(t){return"function"==typeof t?t:this.Va[t]?this.Va[t]:(t=(t||"").toString(),t=t.replace(/[\r\n]+/g,"\\n"),t=t.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,'"+(obj.$1?"$2":"$3")+"'),t=t.replace(/\{common\.([^}\(]*)\}/g,'"+common.$1+"'),t=t.replace(/\{common\.([^\}\(]*)\(\)\}/g,'"+(common.$1?common.$1(obj):"")+"'),t=t.replace(/\{obj\.([^}]*)\}/g,'"+obj.$1+"'),t=t.replace(/#([a-z0-9_]+)#/gi,'"+obj.$1+"'),t=t.replace(/\{obj\}/g,'"+obj+"'),t=t.replace(/\{-obj/g,"{obj"),t=t.replace(/\{-common/g,"{common"),t='return "'+t+'";',this.Va[t]=Function("obj","common",t))}},dhtmlx.Type={add:function(t,e){!t.types&&t.prototype.types&&(t=t.prototype);var i=e.name||"default";return this.Cb(e),this.Cb(e,"edit"),this.Cb(e,"loading"),t.types[i]=dhtmlx.extend(dhtmlx.extend({},t.types[i]||this.Qc),e),i},Qc:{css:"default",template:function(){return""},template_edit:function(){return""},template_loading:function(){return"..."},width:150,height:80,margin:5,padding:0},Cb:function(t,e){var e="template"+(e?"_"+e:""),i=t[e];if(i&&"string"==typeof i){if(-1!=i.indexOf("->"))switch(i=i.split("->"),i[0]){case"html":i=dhtmlx.html.getValue(i[1]).replace(/\"/g,'\\"');break;case"http":i=(new dhtmlx.ajax).sync().get(i[1],{uid:(new Date).valueOf()}).responseText}t[e]=dhtmlx.Template.fromHTML(i)}}},dhtmlx.Settings={p:function(){this.e=this.config={}},define:function(t,e){return"object"==typeof t?this.ea(t):this.na(t,e)},na:function(t,e){var i=this[t+"_setter"];return this.e[t]=i?i.call(this,e):e},ea:function(t){if(t)for(var e in t)this.na(e,t[e])},J:function(t,e){var i=dhtmlx.extend({},e);"object"==typeof t&&!t.tagName&&dhtmlx.extend(i,t),this.ea(i)},N:function(t,e){for(var i in e)switch(typeof t[i]){case"object":t[i]=this.N(t[i]||{},e[i]);break;case"undefined":t[i]=e[i]}return t},sb:function(t,e,i){"object"!=typeof t||t.tagName||(t=t.container),this.g=this.$view=dhtmlx.toNode(t),!this.g&&i&&(this.g=i(t)),this.g.className+=" "+e,this.g.onselectstart=function(){return!1},this.j=this.g},Yd:function(t){return"object"==typeof t?this.type_setter(t):(this.type=dhtmlx.extend({},this.types[t]),void this.customize())},customize:function(t){t&&dhtmlx.extend(this.type,t),this.type.kc=dhtmlx.Template.fromHTML(this.template_item_start(this.type)),this.type.jc=this.template_item_end(this.type),this.render()},type_setter:function(t){return this.Yd("object"==typeof t?dhtmlx.Type.add(this,t):t),t},template_setter:function(t){return this.type_setter({template:t})},css_setter:function(t){return this.g.className+=" "+t,t}},dhtmlx.Destruction={p:function(){dhtmlx.destructors.push(this)},destructor:function(){this.destructor=function(){},this.P=this.n=null,this.B&&document.body.appendChild(this.B),this.B=null,this.g&&(this.g.innerHTML="",this.g.n=null),this.data=this.g=this.j=null,this.q=this.ba={}}},dhtmlx.destructors=[],dhtmlx.event(window,"unload",function(){if(dhtmlx.destructors){for(var t=0;t<dhtmlx.destructors.length;t++)dhtmlx.destructors[t].destructor();dhtmlx.destructors=[]}for(var e in dhtmlx.q){var i=dhtmlx.q[e];i[0].removeEventListener?i[0].removeEventListener(i[1],i[2],!1):i[0].detachEvent&&i[0].detachEvent("on"+i[1],i[2]),delete dhtmlx.q[e]}}),dhtmlx.ui.pager=function(t){this.name="Pager",dhtmlx.extend(this,dhtmlx.Settings),this.sb(t,"dhx_pager"),dhtmlx.extend(this,dhtmlx.EventSystem),dhtmlx.extend(this,dhtmlx.SingleRender),dhtmlx.extend(this,dhtmlx.MouseEvents),this.J(t,{size:10,page:-1,group:5,count:0,type:"default"}),this.data=this.e,this.refresh()},dhtmlx.ui.pager.prototype={w:"dhx_p_id",on_click:{dhx_pager_item:function(t,e){this.select(e)}},select:function(t){switch(t){case"next":t=this.e.page+1;break;case"prev":t=this.e.page-1;break;case"first":t=0;break;case"last":t=this.e.limit-1}0>t&&(t=0),t>=this.data.limit&&(t=this.data.limit-1),this.callEvent("onBeforePageChange",[this.e.page,t])&&(this.data.page=1*t,this.refresh(),this.callEvent("onAfterPageChange",[t]))},types:{"default":{template:dhtmlx.Template.fromHTML("{common.pages()}"),pages:function(t){var e="";if(-1==t.page)return"";t.min=t.page-Math.round((t.group-1)/2),t.max=t.min+t.group-1,t.min<0&&(t.max+=-1*t.min,t.min=0),t.max>=t.limit&&(t.min-=Math.min(t.min,t.max-t.limit+1),t.max=t.limit-1);for(var i=t.min||0;i<=t.max;i++)e+=this.button({id:i,index:i+1,selected:i==t.page?"_selected":""});return e},page:function(t){return t.page+1},first:function(){return this.button({id:"first",index:" &lt;&lt; ",selected:""})},last:function(){return this.button({id:"last",index:" &gt;&gt; ",selected:""})},prev:function(){return this.button({id:"prev",index:"&lt;",selected:""})},next:function(){return this.button({id:"next",index:"&gt;",selected:""})},button:dhtmlx.Template.fromHTML("<div dhx_p_id='{obj.id}' class='dhx_pager_item{obj.selected}'>{obj.index}</div>")}},refresh:function(){var t=this.e;t.limit=Math.ceil(t.count/t.size),t.limit&&t.limit!=t.old_limit&&(t.page=Math.min(t.limit-1,t.page));var e=t.page;(-1!=e&&e!=t.old_page||t.limit!=t.old_limit)&&(this.render(),this.callEvent("onRefresh",[]),t.old_limit=t.limit,t.old_page=t.page)},template_item_start:dhtmlx.Template.fromHTML("<div>"),template_item_end:dhtmlx.Template.fromHTML("</div>")},dhtmlx.SingleRender={p:function(){},fa:function(t){return this.type.kc(t,this.type)+this.type.template(t,this.type)+this.type.jc},render:function(){(!this.callEvent||this.callEvent("onBeforeRender",[this.data]))&&(this.data&&(this.j.innerHTML=this.fa(this.data)),this.callEvent&&this.callEvent("onAfterRender",[]))}},dhtmlx.ui.Tooltip=function(t){this.name="Tooltip",this.version="3.0","string"==typeof t&&(t={template:t}),dhtmlx.extend(this,dhtmlx.Settings),dhtmlx.extend(this,dhtmlx.SingleRender),this.J(t,{type:"default",dy:0,dx:20}),this.j=this.g=document.createElement("DIV"),this.g.className="dhx_tooltip",dhtmlx.html.insertBefore(this.g,document.body.firstChild)},dhtmlx.ui.Tooltip.prototype={show:function(t,e){this.Ob||(this.data!=t&&(this.data=t,this.render(t)),this.g.style.top=e.y+this.e.dy+"px",this.g.style.left=e.x+this.e.dx+"px",this.g.style.display="block")},hide:function(){this.data=null,this.g.style.display="none"},disable:function(){this.Ob=!0},enable:function(){this.Ob=!1},types:{"default":dhtmlx.Template.fromHTML("{obj.id}")},template_item_start:dhtmlx.Template.empty,template_item_end:dhtmlx.Template.empty},dhtmlx.AutoTooltip={tooltip_setter:function(t){var e=new dhtmlx.ui.Tooltip(t);return this.attachEvent("onMouseMove",function(t,i){e.show(this.get(t),dhtmlx.html.pos(i))}),this.attachEvent("onMouseOut",function(){e.hide()}),this.attachEvent("onMouseMoving",function(){e.hide()}),e}},dhtmlx.compat=function(t,e){dhtmlx.compat[t]&&dhtmlx.compat[t](e)},function(){if(!window.dhtmlxError){var t=function(){};window.dhtmlxError={catchError:t,throwError:t},window.convertStringToBoolean=function(t){return!!t},window.dhtmlxEventable=function(t){dhtmlx.extend(t,dhtmlx.EventSystem)};var e={getXMLTopNode:function(){},doXPath:function(t){return dhtmlx.DataDriver.xml.xpath(this.xml,t)},xmlDoc:{responseXML:!0}};dhtmlx.compat.dataProcessor=function(t){var i="_sendData",s="_in_progress",n="_tMode",o="_waitMode";t[i]=function(t,i){if(t){if(i&&(this[s][i]=(new Date).valueOf()),!this.callEvent("onBeforeDataSending",i?[i,this.getState(i)]:[]))return!1;var l=this,h=this.serverProcessor;"POST"!=this[n]?dhtmlx.ajax().get(h+(-1!=h.indexOf("?")?"&":"?")+this.serialize(t,i),"",function(t,i){e.xml=dhtmlx.DataDriver.xml.checkResponse(t,i),l.afterUpdate(l,null,null,null,e)
}):dhtmlx.ajax().post(h,this.serialize(t,i),function(t,i){e.xml=dhtmlx.DataDriver.xml.checkResponse(t,i),l.afterUpdate(l,null,null,null,e)}),this[o]++}}}}}(),dhtmlx.DataProcessor={Sc:function(t){var e="_methods";t[e]=["setItemStyle","","changeId","remove"],this.attachEvent("onAfterAdd",function(e){t.setUpdated(e,!0,"inserted")}),this.data.attachEvent("onStoreLoad",dhtmlx.bind(function(t,e){t.getUserData&&t.getUserData(e,this.ha)},this)),this.attachEvent("onBeforeDelete",function(e){if(t.me)return!0;var i=t.getState(e);return"inserted"==i?(t.setUpdated(e,!1),!0):"deleted"==i?!1:"true_deleted"==i?!0:(t.setUpdated(e,!0,"deleted"),!1)}),this.attachEvent("onAfterEditStop",function(e){t.setUpdated(e,!0,"updated")}),this.attachEvent("onBindUpdate",function(e){window.setTimeout(function(){t.setUpdated(e.id,!0,"updated")},1)}),e="_getRowData",t[e]=function(t){var e,i=this.obj.data.get(t),s={};for(e in i)0!==e.indexOf("_")&&(s[e]=i[e]);return s},e="_clearUpdateFlag",t[e]=function(){},this.ha={},t.attachEvent("insertCallback",this.Qb),t.attachEvent("updateCallback",this.Qb),t.attachEvent("deleteCallback",function(t,e){this.obj.setUserData(e,this.action_param,"true_deleted"),this.obj.remove(e)}),dhtmlx.compat("dataProcessor",t)},Qb:function(t,e){this.obj.data.set(e,dhtmlx.DataDriver.xml.getDetails(t.firstChild)),this.obj.data.refresh(e)},setItemStyle:function(t,e){var i=this.C(t);i&&(i.style.cssText+=";"+e)},changeId:function(t,e){this.data.changeId(t,e),this.refresh()},setUserData:function(t,e,i){t?this.data.get(t)[e]=i:this.ha[e]=i},getUserData:function(t,e){return t?this.data.get(t)[e]:this.ha[e]}},function(){var t="_dp_init";dhtmlx.DataProcessor[t]=dhtmlx.DataProcessor.Sc}(),dhtmlx.compat.dnd=function(){if(window.dhtmlDragAndDropObject){var t="_dragged",e=dhtmlDragAndDropObject.prototype.checkLanding;dhtmlDragAndDropObject.prototype.checkLanding=function(t,i,s){if(e.apply(this,arguments),!s){var n=dhtmlx.DragControl.F=dhtmlx.DragControl.F||{};n.from||(n.from=this.dragStartObject),dhtmlx.DragControl.Ba(t,i,!0)}};var i=dhtmlDragAndDropObject.prototype.stopDrag;dhtmlDragAndDropObject.prototype.stopDrag=function(t,e,n){!n&&dhtmlx.DragControl.s&&(dhtmlx.DragControl.D=s.dragStartNode,dhtmlx.DragControl.Qa(t,!0)),i.apply(this,arguments)};var s=new dhtmlDragAndDropObject,n=dhtmlx.DragControl.Ab;dhtmlx.DragControl.Ab=function(){n.apply(this,arguments);var e=dhtmlx.DragControl.F;if(e){for(var i=[],o=[],l=0;l<e.source.length;l++)i[l]={idd:e.source[l]},o.push(e.source[l]);s.dragStartNode={parentNode:{},parentObject:{idd:i,id:1==o.length?o[0]:o,treeNod:{object:e.from}}},s.dragStartNode.parentObject.treeNod[t]=i,s.dragStartObject=e.from}};var o=dhtmlx.DragControl.Ba;dhtmlx.DragControl.Ba=function(t,e,i){o.apply(this,arguments),!this.s&&!i&&(t=s.checkLanding(t,e,!0))};var l=dhtmlx.DragControl.Qa;dhtmlx.DragControl.Qa=function(t,e){l.apply(this,arguments),s.lastLanding&&!e&&s.stopDrag(t,!1,!0)};var h=dhtmlx.DragControl.getMaster;dhtmlx.DragControl.getMaster=function(e){var i=null;if(e&&(i=h.apply(this,arguments)),!i){for(var i=s.dragStartObject,n=[],o=i[t],l=0;l<o.length;l++)n.push(o[l].idd||o[l].id);dhtmlx.DragControl.F.source=n}return i}}},dhtmlx.DataMove={p:function(){},copy:function(t,e,i,s){var n=this.get(t);return n?(i&&(n=i.externalData(n)),i=i||this,i.add(i.externalData(n,s),e)):void 0},move:function(t,e,i,s){if(t instanceof Array)for(var n=0;n<t.length;n++){var o=(i||this).indexById(this.move(t[n],e,i,dhtmlx.uid()));t[n+1]&&(e=o+(this.indexById(t[n+1])<o?0:1))}else if(nid=t,!(0>e)){var l=this.get(t);if(l)return i&&i!=this?(nid=i.add(i.externalData(l,s),e),this.remove(t)):this.data.move(this.indexById(t),e),nid}},moveUp:function(t,e){return this.move(t,this.indexById(t)-(e||1))},moveDown:function(t,e){return this.moveUp(t,-1*(e||1))},moveTop:function(t){return this.move(t,0)},moveBottom:function(t){return this.move(t,this.data.dataCount()-1)},externalData:function(t,e){var i=dhtmlx.extend({},t);return i.id=e||dhtmlx.uid(),i.$selected=i.$template=null,i}},dhtmlx.DragControl={G:dhtmlx.toArray(["dummy"]),addDrop:function(t,e,i){t=dhtmlx.toNode(t),t.dhx_drop=this.ac(e),i&&(t.dhx_master=!0)},ac:function(t){var t=t||dhtmlx.DragControl,e=this.G.find(t);return 0>e&&(e=this.G.length,this.G.push(t)),e},addDrag:function(t,e){t=dhtmlx.toNode(t),t.dhx_drag=this.ac(e),dhtmlx.event(t,"mousedown",this.Od,t)},Od:function(t){return dhtmlx.DragControl.D&&(dhtmlx.DragControl.Ja(),dhtmlx.DragControl.destroyDrag()),dhtmlx.DragControl.D=this,dhtmlx.DragControl.yc={x:t.pageX,y:t.pageY},dhtmlx.DragControl.oa=dhtmlx.event(document.body,"mousemove",dhtmlx.DragControl.Ab),dhtmlx.DragControl.pa=dhtmlx.event(document.body,"mouseup",dhtmlx.DragControl.Ja),dhtmlx.DragControl.Nb=dhtmlx.event(this,"scroll",dhtmlx.DragControl.Ja),t.cancelBubble=!0,!1},Ja:function(){dhtmlx.DragControl.oa=dhtmlx.eventRemove(dhtmlx.DragControl.oa),dhtmlx.DragControl.pa=dhtmlx.eventRemove(dhtmlx.DragControl.pa),dhtmlx.DragControl.Nb=dhtmlx.eventRemove(dhtmlx.DragControl.Nb)},Ab:function(t){var e={x:t.pageX,y:t.pageY};Math.abs(e.x-dhtmlx.DragControl.yc.x)<5&&Math.abs(e.y-dhtmlx.DragControl.yc.y)<5||(dhtmlx.DragControl.Ja(),!dhtmlx.DragControl.createDrag(t))||(dhtmlx.DragControl.sendSignal("start"),dhtmlx.DragControl.oa=dhtmlx.event(document.body,"mousemove",dhtmlx.DragControl.mc),dhtmlx.DragControl.pa=dhtmlx.event(document.body,"mouseup",dhtmlx.DragControl.Qa),dhtmlx.DragControl.mc(t))},Qa:function(t){dhtmlx.DragControl.oa=dhtmlx.eventRemove(dhtmlx.DragControl.oa),dhtmlx.DragControl.pa=dhtmlx.eventRemove(dhtmlx.DragControl.pa),dhtmlx.DragControl.s&&(dhtmlx.DragControl.onDrop(dhtmlx.DragControl.D,dhtmlx.DragControl.s,this.T,t),dhtmlx.DragControl.onDragOut(dhtmlx.DragControl.D,dhtmlx.DragControl.s,null,t)),dhtmlx.DragControl.destroyDrag(),dhtmlx.DragControl.sendSignal("stop")},mc:function(t){var e=dhtmlx.html.pos(t);return dhtmlx.DragControl.B.style.top=e.y+dhtmlx.DragControl.top+"px",dhtmlx.DragControl.B.style.left=e.x+dhtmlx.DragControl.left+"px",dhtmlx.DragControl.wc?dhtmlx.DragControl.wc=!1:dhtmlx.DragControl.Ba(t.srcElement||t.target,t),t.cancelBubble=!0,!1},Ba:function(t,e){for(;t&&"BODY"!=t.tagName;){if(t.dhx_drop)return this.s&&(this.s!=t||t.dhx_master)&&this.onDragOut(this.D,this.s,t,e),void((!this.s||this.s!=t||t.dhx_master)&&(this.s=null,(this.T=this.onDragIn(dhtmlx.DragControl.D,t,e))&&(this.s=t)));t=t.parentNode}this.s&&(this.s=this.T=this.onDragOut(this.D,this.s,null,e))},sendSignal:function(t){dhtmlx.DragControl.active="start"==t},getMaster:function(t){return this.G[t.dhx_drag||t.dhx_drop]},getContext:function(){return this.F},createDrag:function(t){var e,i=dhtmlx.DragControl.D,s=this.G[i.dhx_drag];if(s.onDragCreate)e=s.onDragCreate(i,t),e.style.position="absolute",e.style.zIndex=dhtmlx.zIndex.drag,e.onmousemove=dhtmlx.DragControl.xc;else{var n=dhtmlx.DragControl.onDrag(i,t);if(!n)return!1;e=document.createElement("DIV"),e.innerHTML=n,e.className="dhx_drag_zone",e.onmousemove=dhtmlx.DragControl.xc,document.body.appendChild(e)}return dhtmlx.DragControl.B=e,!0},xc:function(){dhtmlx.DragControl.wc=!0},destroyDrag:function(){var t=dhtmlx.DragControl.D,e=this.G[t.dhx_drag];e&&e.onDragDestroy?e.onDragDestroy(t,dhtmlx.DragControl.B):dhtmlx.html.remove(dhtmlx.DragControl.B),dhtmlx.DragControl.T=dhtmlx.DragControl.D=dhtmlx.DragControl.s=dhtmlx.DragControl.B=null},top:5,left:5,onDragIn:function(t,e,i){var s=this.G[e.dhx_drop];return s.onDragIn&&s!=this?s.onDragIn(t,e,i):(e.className+=" dhx_drop_zone",e)},onDragOut:function(t,e,i,s){var n=this.G[e.dhx_drop];return n.onDragOut&&n!=this?n.onDragOut(t,e,i,s):(e.className=e.className.replace("dhx_drop_zone",""),null)},onDrop:function(t,e,i,s){var n=this.G[e.dhx_drop];return dhtmlx.DragControl.F.from=dhtmlx.DragControl.getMaster(t),n.onDrop&&n!=this?n.onDrop(t,e,i,s):void e.appendChild(t)},onDrag:function(t,e){var i=this.G[t.dhx_drag];return i.onDrag&&i!=this?i.onDrag(t,e):(dhtmlx.DragControl.F={source:t,from:t},"<div style='"+t.style.cssText+"'>"+t.innerHTML+"</div>")}},dhtmlx.DragItem={p:function(){!this.e||this.e.drag?dhtmlx.DragItem.gc(this):this.e&&(this.drag_setter=function(t){return t&&(this.gc(this),delete this.drag_setter),t}),this.dragMarker&&(this.attachEvent("onBeforeDragIn",this.dragMarker),this.attachEvent("onDragOut",this.dragMarker))},gc:function(t){dhtmlx.DragControl.addDrop(t.g,t,!0),dhtmlx.DragControl.addDrag(t.g,t)},onDragIn:function(t,e,i){var s=this.locate(i)||null,n=dhtmlx.DragControl.F,o=dhtmlx.DragControl.getMaster(t),l=this.C(s)||this.g;return l==dhtmlx.DragControl.T?l:(n.target=s,n.to=o,this.callEvent("onBeforeDragIn",[n,i])?(dhtmlx.html.addCss(l,"dhx_drag_over"),l):n.id=null)},onDragOut:function(t,e,i,s){var n=this.locate(s)||null;i!=this.j&&(n=null);var o=this.C(n)||(i?dhtmlx.DragControl.getMaster(i).g:window.undefined);if(o==dhtmlx.DragControl.T)return null;var l=dhtmlx.DragControl.F;return dhtmlx.html.removeCss(dhtmlx.DragControl.T,"dhx_drag_over"),l.target=l.to=null,this.callEvent("onDragOut",[l,s]),null},onDrop:function(t,e,i,s){var n=dhtmlx.DragControl.F;n.to=this,n.index=n.target?this.indexById(n.target):this.dataCount(),n.new_id=dhtmlx.uid(),this.callEvent("onBeforeDrop",[n,s])&&(n.from==n.to?this.move(n.source,n.index):n.from&&n.from.move(n.source,n.index,n.to,n.new_id),this.callEvent("onAfterDrop",[n,s]))},onDrag:function(t,e){var i=this.locate(e),s=[i];if(i){if(this.getSelected){var n=this.getSelected();-1!=dhtmlx.PowerArray.find.call(n,i)&&(s=n)}var o=dhtmlx.DragControl.F={source:s,start:i};if(o.from=this,this.callEvent("onBeforeDrag",[o,e]))return o.html||this.fa(this.get(i))}return null}},dhtmlx.EditAbility={p:function(){this.sa=this.K=null,this.attachEvent("onEditKeyPress",function(t,e,i){13!=t||i?27==t&&this.stopEdit(!0):this.stopEdit()}),this.attachEvent("onBeforeRender",function(){this.stopEdit()})},isEdit:function(){return this.K},edit:function(t){if(this.stopEdit(!1,t)&&this.callEvent("onBeforeEditStart",[t])){var e=this.data.get(t);e.$template||(e.$template="edit",this.data.refresh(t),this.K=t,this.Xd(t),this.sa(!0,e),this.callEvent("onAfterEditStart",[t]))}},stopEdit:function(t,e){if(!this.K)return!0;if(this.K==e)return!1;var i={};if(t?i=null:this.sa(!1,i),!this.callEvent("onBeforeEditStop",[this.K,i]))return!1;var s=this.data.get(this.K);s.$template=null,t||this.sa(!1,s);var n=this.K;return this.sa=this.K=null,this.data.refresh(n),this.callEvent("onAfterEditStop",[n,i]),!0},Xd:function(t){var e=this.C(t),i="",s="",n=[];if(e){for(var o=e.getElementsByTagName("*"),l="",h=0;h<o.length;h++)1==o[h].nodeType&&(l=o[h].getAttribute("bind"))&&(i+="els["+n.length+"].value="+l+";",s+=l+"=els["+n.length+"].value;",n.push(o[h]),o[h].className+=" dhx_allow_selection",o[h].onselectstart=this.Hc);o=null}i=Function("obj","els",i),s=Function("obj","els",s),this.sa=function(t,e){t?(i(e,n),n.length&&n[0].select&&n[0].select()):s(e,n)}},Hc:function(t){return(t||event).cancelBubble=!0}},dhtmlx.KeyEvents={p:function(){dhtmlx.event(this.g,"keypress",this.Kd,this)},Kd:function(t){var t=t||event,e=t.which||t.keyCode;this.callEvent(this.K?"onEditKeyPress":"onKeyPress",[e,t.ctrlKey,t.shiftKey,t])}},dhtmlx.MouseEvents={p:function(){this.on_click&&(dhtmlx.event(this.g,"click",this.Hd,this),dhtmlx.event(this.g,"contextmenu",this.Id,this)),this.on_dblclick&&dhtmlx.event(this.g,"dblclick",this.Jd,this),this.on_mouse_move&&(dhtmlx.event(this.g,"mousemove",this.oc,this),dhtmlx.event(this.g,dhtmlx.z?"mouseleave":"mouseout",this.oc,this))},Hd:function(t){return this.pb(t,this.on_click,"ItemClick")},Jd:function(t){return this.pb(t,this.on_dblclick,"ItemDblClick")},Id:function(t){var e=dhtmlx.html.locate(t,this.w);return e&&!this.callEvent("onBeforeContextMenu",[e,t])?dhtmlx.html.preventEvent(t):void 0},oc:function(t){dhtmlx.z&&(t=document.createEventObject(event)),this.lc&&window.clearTimeout(this.lc),this.callEvent("onMouseMoving",[t]),this.lc=window.setTimeout(dhtmlx.bind(function(){"mousemove"==t.type?this.Ld(t):this.Md(t)},this),500)},Ld:function(t){this.pb(t,this.on_mouse_move,"MouseMove")||this.callEvent("onMouseOut",[t||event])},Md:function(t){this.callEvent("onMouseOut",[t||event])},pb:function(t,e,i){for(var t=t||event,s=t.target||t.srcElement,n="",o=null,l=!1;s&&s.parentNode;){if(!l&&s.getAttribute&&(o=s.getAttribute(this.w))){if(s.getAttribute("userdata")&&this.callEvent("onLocateData",[o,s]),!this.callEvent("on"+i,[o,t,s]))return;l=!0}if((n=s.className)&&(n=n.split(" "),n=n[0]||n[1],e[n]))return e[n].call(this,t,o||dhtmlx.html.locate(t,this.w),s);s=s.parentNode}return l}},dhtmlx.SelectionModel={p:function(){this.l=dhtmlx.toArray(),this.data.attachEvent("onStoreUpdated",dhtmlx.bind(this.Pc,this)),this.data.attachEvent("onStoreLoad",dhtmlx.bind(this.Oc,this)),this.data.attachEvent("onAfterFilter",dhtmlx.bind(this.Nc,this)),this.data.attachEvent("onIdChange",dhtmlx.bind(this.yd,this))},yd:function(t,e){for(var i=this.l.length-1;i>=0;i--)this.l[i]==t&&(this.l[i]=e)},Nc:function(){for(var t=this.l.length-1;t>=0;t--){if(this.data.indexById(this.l[t])<0)var e=this.l[t];var i=this.item(e);i&&delete i.$selected,this.l.splice(t,1),this.callEvent("onSelectChange",[e])}},Pc:function(t,e,i){"delete"==i?this.l.remove(t):this.data.dataCount()||this.data.h||(this.l=dhtmlx.toArray())},Oc:function(){this.e.select&&this.data.each(function(t){t.$selected&&this.select(t.id)},this)},Na:function(t,e,i){return i||this.callEvent("onBeforeSelect",[t,e])?(this.data.item(t).$selected=e,i?i.push(t):(e?this.l.push(t):this.l.remove(t),this.ub(t)),!0):!1},select:function(t,e,i){if(!t)return this.selectAll();if(t instanceof Array)for(var s=0;s<t.length;s++)this.select(t[s],e,i);else if(this.data.exists(t)){if(i&&this.l.length)return this.selectAll(this.l[this.l.length-1],t);e||1==this.l.length&&this.l[0]==t||(this.vc=!0,this.unselectAll(),this.vc=!1),this.isSelected(t)?e&&this.unselect(t):this.Na(t,!0)&&this.callEvent("onAfterSelect",[t])}},unselect:function(t){return t?void(this.isSelected(t)&&this.Na(t,!1)):this.unselectAll()},selectAll:function(t,e){var i,s=[];i=t||e?this.data.getRange(t||null,e||null):this.data.getRange(),i.each(function(t){var e=this.data.item(t.id);return e.$selected||(this.l.push(t.id),this.Na(t.id,!0,s)),t.id},this),this.ub(s)},unselectAll:function(){var t=[];this.l.each(function(e){this.Na(e,!1,t)},this),this.l=dhtmlx.toArray(),this.ub(t)},isSelected:function(t){return-1!=this.l.find(t)},getSelected:function(t){switch(this.l.length){case 0:return t?[]:"";case 1:return t?[this.l[0]]:this.l[0];default:return[].concat(this.l)}},Dd:function(t){return t.length>100||t.length>this.data.dataCount/2},ub:function(t){if("object"!=typeof t&&(t=[t]),t.length){if(this.Dd(t))this.data.refresh();else for(var e=0;e<t.length;e++)this.render(t[e],this.data.item(t[e]),"update");this.vc||this.callEvent("onSelectChange",[t])}}},dhtmlx.RenderStack={p:function(){this.B=document.createElement("DIV")},fa:function(t){return this.callEvent("onItemRender",[t]),this.type.kc(t,this.type)+(t.$template?this.type["template_"+t.$template]:this.type.template)(t,this.type)+this.type.jc},Db:function(t){return this.B.innerHTML=this.fa(t),this.B.firstChild},C:function(t){if(this.n)return this.n[t];this.n={};for(var e=this.j.childNodes,i=0;i<e.length;i++){var s=e[i].getAttribute(this.w);s&&(this.n[s]=e[i])}return this.C(t)},locate:function(t){return dhtmlx.html.locate(t,this.w)},show:function(t){var e=this.C(t);e&&(this.j.scrollTop=e.offsetTop-this.j.offsetTop)},render:function(t,e,i){if(t){var s=this.C(t);switch(i){case"update":if(!s)return;var n=this.n[t]=this.Db(e);dhtmlx.html.insertBefore(n,s),dhtmlx.html.remove(s);break;case"delete":if(!s)return;dhtmlx.html.remove(s),delete this.n[t];break;case"add":n=this.n[t]=this.Db(e),dhtmlx.html.insertBefore(n,this.C(this.data.next(t)),this.j);break;case"move":this.render(t,e,"delete"),this.render(t,e,"add")}}else this.callEvent("onBeforeRender",[this.data])&&(this.j.innerHTML=this.data.getRange().map(this.fa,this).join(""),this.n=null);this.callEvent("onAfterRender",[])},pager_setter:function(t){this.attachEvent("onBeforeRender",function(){var t=this.e.pager.e;return-1==t.page?!1:(this.data.min=t.page*t.size,this.data.max=(t.page+1)*t.size-1,!0)});var e=new dhtmlx.ui.pager(t),i=dhtmlx.bind(function(){this.data.refresh()},this);return e.attachEvent("onRefresh",i),this.data.attachEvent("onStoreUpdated",function(){var t=this.dataCount();t!=e.e.count&&(e.e.count=t,-1==e.e.page&&(e.e.page=0),e.refresh())}),e},height_setter:function(t){return"auto"==t&&(this.attachEvent("onAfterRender",this.Kb),dhtmlx.event(window,"resize",dhtmlx.bind(this.Kb,this))),t},Kb:function(){this.j.style.overflow="hidden",this.j.style.height="1px";var t=this.j.scrollHeight;if(this.j.style.height=t+"px",dhtmlx.hc){var e=this.j.scrollHeight;e!=t&&(this.j.style.height=e+"px")}this.g.style.height=this.j.style.height},ib:function(){var t=this.type,e=(t.border||0)+2*(t.padding||0)+2*(t.margin||0);return{x:t.width+e,y:t.height+e}},x_count_setter:function(t){var e=this.ib(),i=dhtmlx.$customScroll?0:18;return this.j.style.width=e.x*t+("auto"!=this.e.height?i:0)+"px",t},y_count_setter:function(t){var e=this.ib();return this.j.style.height=e.y*t+"px",t}},dhtmlx.VirtualRenderStack={p:function(){this.n={},this.j.style.overflowY="scroll",dhtmlx.event(this.j,"scroll",dhtmlx.bind(this.xb,this)),dhtmlx.event(window,"resize",dhtmlx.bind(function(){this.render()},this)),this.data.ga=[],this.data.getIndexRange=this.rd},C:function(t){return this.n[t]},show:function(t){range=this.mb();var e=this.data.indexById(t),i=Math.floor(e/range.fb)*range.Sa;this.j.scrollTop=i},rd:function(t,e){0!==e&&(e=Math.min(e||1/0,this.dataCount()-1));for(var i=dhtmlx.toArray(),s=t||0;e>=s;s++){var n=this.item(this.order[s]);this.order.length>s&&(n?"loading"==n.$template&&this.ga.push(this.order[s]):(this.order[s]=dhtmlx.uid(),n={id:this.order[s],$template:"loading"},this.ga.push(this.order[s])),i.push(n))}return i},render:function(t,e,i){if(t){var s=this.C(t);switch(i){case"update":if(!s)break;var n=this.n[t]=this.Db(e);dhtmlx.html.insertBefore(n,s),dhtmlx.html.remove(s);break;default:this.Vd()}}else this.callEvent("onBeforeRender",[this.data])&&(this.n={},this.xb(null,!0),this.Bc=!1,this.callEvent("onAfterRender",[]))},Vd:function(){this.Bc||(this.Bc=!0,window.setTimeout(dhtmlx.bind(function(){this.render()},this),1))},ab:function(t){var e=document.createElement("DIV");return e.style.cssText="height:"+t+"px; width:100%; overflow:hidden;",e},xb:function(t,e){this.data.ga=[];var i=this.mb();(!this.j.firstChild||e)&&(this.j.innerHTML="",this.j.appendChild(this.ab(i.Ed)),this.P=[this.j.firstChild]);for(var s=Math.max(i.r,0),n=this.data.max||0===this.data.max?this.data.max:1/0;s<=i.nb;){for(;this.P[s]&&this.P[s].ld&&s<=i.nb;)s++;if(s>i.nb)break;for(var o=s;!this.P[o];)o--;var l=this.P[o],h=s*i.fb+(this.data.min||0);if(h>n)break;var r=Math.min(h+i.fb-1,n),a=this.ab(i.Sa),d=this.data.getIndexRange(h,r);if(!d.length)break;a.innerHTML=d.map(this.fa,this).join("");for(var c=0;c<d.length;c++)this.n[this.data.idByIndex(h+c)]=a.childNodes[c];var u=parseInt(l.style.height,10),_=(s-o)*i.Sa,p=u-_-i.Sa;if(dhtmlx.html.insertBefore(a,_?l.nextSibling:l,this.j),this.P[s]=a,a.ld=!0,0>=_&&p>0)l.style.height=p+"px",this.P[s+1]=l;else if(0>_?dhtmlx.html.remove(l):l.style.height=_+"px",p>0){var f=this.P[s+1]=this.ab(p);dhtmlx.html.insertBefore(f,a.nextSibling,this.j)}s++}if(this.data.ga.length){var m=this.indexById(this.data.ga[0]),g=this.indexById(this.data.ga.pop())+1;if(g>m){if(!this.callEvent("onDataRequest",[m,g-m]))return!1;this.data.feed.call(this,m,g-m)}}if(dhtmlx.z){var b=this.mb();b.r!=i.r&&this.xb()}},mb:function(){var t=dhtmlx.$customScroll?0:18,e=this.j.scrollTop,i=Math.max(this.j.scrollWidth,this.j.offsetWidth)-t,s=this.j.offsetHeight,n=(this.type,this.ib()),o=Math.floor(i/n.x)||1,l=Math.floor(e/n.y),h=Math.ceil((s+e)/n.y)-1,r=this.data.max?this.data.max-this.data.min:this.data.dataCount(),a=Math.ceil(r/o)*n.y;return{r:l,nb:h,oe:e,Ed:a,Sa:n.y,fb:o}}},dhtmlx.ajax=function(t,e,i){if(0!==arguments.length){var s=new dhtmlx.ajax;i&&(s.master=i),s.get(t,null,e)}return this.getXHR?this:new dhtmlx.ajax},dhtmlx.ajax.prototype={getXHR:function(){return dhtmlx.z?new ActiveXObject("Microsoft.xmlHTTP"):new XMLHttpRequest},send:function(t,e,i){var s=this.getXHR();if("function"==typeof i&&(i=[i]),"object"==typeof e){var n,o=[];for(n in e){var l=e[n];(null===l||l===dhtmlx.undefined)&&(l=""),o.push(n+"="+encodeURIComponent(l))}e=o.join("&")}e&&!this.post&&(t=t+(-1!=t.indexOf("?")?"&":"?")+e,e=null),s.open(this.post?"POST":"GET",t,!this.Bb),this.post&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded");var h=this;return s.onreadystatechange=function(){if(!s.readyState||4==s.readyState){if(i&&h)for(var t=0;t<i.length;t++)i[t]&&i[t].call(h.master||h,s.responseText,s.responseXML,s);i=h=h.master=null}},s.send(e||null),s},get:function(t,e,i){return this.post=!1,this.send(t,e,i)},post:function(t,e,i){return this.post=!0,this.send(t,e,i)},sync:function(){return this.Bb=!0,this}},dhtmlx.AtomDataLoader={p:function(t){this.data={},t&&(this.e.datatype=t.datatype||"json",this.ge.push(this.ob))},ob:function(){this.wa=!0,this.e.url&&this.url_setter(this.e.url),this.e.data&&this.data_setter(this.e.data)},url_setter:function(t){return this.wa?(this.load(t,this.e.datatype),t):t},data_setter:function(t){return this.wa?(this.parse(t,this.e.datatype),!0):t},load:function(t,e,i){this.callEvent("onXLS",[]),"string"==typeof e?(this.data.driver=dhtmlx.DataDriver[e],e=i):this.data.driver=dhtmlx.DataDriver.xml,dhtmlx.ajax(t,[this.V,e],this)},parse:function(t,e){this.callEvent("onXLS",[]),this.data.driver=dhtmlx.DataDriver[e||"xml"],this.V(t,null)},V:function(t,e){var i=this.data.driver,s=i.getRecords(i.toObject(t,e))[0];this.data=i?i.getDetails(s):t,this.callEvent("onXLE",[])},la:function(t){if(!this.e.dataFeed||this.ca||!t)return!0;var e=this.e.dataFeed;return"function"==typeof e?e.call(this,t.id||t,t):(e=e+(-1==e.indexOf("?")?"?":"&")+"action=get&id="+encodeURIComponent(t.id||t),this.callEvent("onXLS",[]),dhtmlx.ajax(e,function(t){this.ca=!0,this.setValues(dhtmlx.DataDriver.json.toObject(t)[0]),this.ca=!1,this.callEvent("onXLE",[])},this),!1)}},dhtmlx.DataDriver={},dhtmlx.DataDriver.json={toObject:function(a){return a||(a="[]"),"string"==typeof a?(eval("dhtmlx.temp="+a),dhtmlx.temp):a},getRecords:function(t){return!t||t instanceof Array?t:[t]},getDetails:function(t){return t},getInfo:function(t){return{v:t.total_count||0,r:t.pos||0,M:t.dhx_security}}},dhtmlx.DataDriver.json_ext={toObject:function(a){if(a||(a="[]"),"string"==typeof a){var b;eval("temp="+a),dhtmlx.temp=[];for(var c=b.header,d=0;d<b.data.length;d++){for(var e={},f=0;f<c.length;f++)"undefined"!=typeof b.data[d][f]&&(e[c[f]]=b.data[d][f]);dhtmlx.temp.push(e)}return dhtmlx.temp}return a},getRecords:function(t){return!t||t instanceof Array?t:[t]},getDetails:function(t){return t},getInfo:function(t){return{v:t.total_count||0,r:t.pos||0}}},dhtmlx.DataDriver.html={toObject:function(t){if("string"==typeof t){var e=null;return-1==t.indexOf("<")&&(e=dhtmlx.toNode(t)),e||(e=document.createElement("DIV"),e.innerHTML=t),e.getElementsByTagName(this.tag)}return t},getRecords:function(t){return t.tagName?t.childNodes:t},getDetails:function(t){return dhtmlx.DataDriver.xml.tagToObject(t)},getInfo:function(){return{v:0,r:0}},tag:"LI"},dhtmlx.DataDriver.jsarray={toObject:function(a){return"string"==typeof a?(eval("dhtmlx.temp="+a),dhtmlx.temp):a},getRecords:function(t){return t},getDetails:function(t){for(var e={},i=0;i<t.length;i++)e["data"+i]=t[i];return e},getInfo:function(){return{v:0,r:0}}},dhtmlx.DataDriver.csv={toObject:function(t){return t},getRecords:function(t){return t.split(this.row)},getDetails:function(t){for(var t=this.stringToArray(t),e={},i=0;i<t.length;i++)e["data"+i]=t[i];return e},getInfo:function(){return{v:0,r:0}},stringToArray:function(t){for(var t=t.split(this.cell),e=0;e<t.length;e++)t[e]=t[e].replace(/^[ \t\n\r]*(\"|)/g,"").replace(/(\"|)[ \t\n\r]*$/g,"");return t},row:"\n",cell:","},dhtmlx.DataDriver.xml={toObject:function(t,e){return e&&(e=this.checkResponse(t,e))?e:"string"==typeof t?this.fromString(t):t},getRecords:function(t){return this.xpath(t,this.records)},records:"/*/item",getDetails:function(t){return this.tagToObject(t,{})},getInfo:function(t){return{v:t.documentElement.getAttribute("total_count")||0,r:t.documentElement.getAttribute("pos")||0,M:t.documentElement.getAttribute("dhx_security")}},xpath:function(t,e){if(window.XPathResult){var i=t;-1==t.nodeName.indexOf("document")&&(t=t.ownerDocument);for(var s=[],n=t.evaluate(e,i,null,XPathResult.ANY_TYPE,null),o=n.iterateNext();o;)s.push(o),o=n.iterateNext();return s}var l=!0;try{"undefined"==typeof t.selectNodes&&(l=!1)}catch(h){}if(l)return t.selectNodes(e);var r=e.split("/").pop();return t.getElementsByTagName(r)},tagToObject:function(t,e){var e=e||{},i=!1,s=t.attributes;if(s&&s.length){for(var n=0;n<s.length;n++)e[s[n].name]=s[n].value;i=!0}for(var o=t.childNodes,n=0;n<o.length;n++)if(1==o[n].nodeType){var l=o[n].tagName;"undefined"!=typeof e[l]?(e[l]instanceof Array||(e[l]=[e[l]]),e[l].push(this.tagToObject(o[n],{}))):e[o[n].tagName]=this.tagToObject(o[n],{}),i=!0}return i?(e.value=this.nodeValue(t),e):this.nodeValue(t)},nodeValue:function(t){return t.firstChild?t.firstChild.data:""},fromString:function(t){if(window.DOMParser&&!dhtmlx.z)return(new DOMParser).parseFromString(t,"text/xml");if(window.ActiveXObject){var e=new ActiveXObject("Microsoft.xmlDOM");return e.loadXML(t),e}},checkResponse:function(t,e){if(e&&e.firstChild&&"parsererror"!=e.firstChild.tagName)return e;var i=this.fromString(t.replace(/^[\s]+/,""));return i?i:void 0}},dhtmlx.DataLoader={p:function(t){t=t||"",this.name="DataStore",this.data=t.datastore||new dhtmlx.DataStore,this.tb=this.data.attachEvent("onStoreLoad",dhtmlx.bind(this.Xa,this))},load:function(t){dhtmlx.AtomDataLoader.load.apply(this,arguments),this.data.feed||(this.data.feed=function(e,i){return this.H?this.H=[e,i]:(this.H=!0,void this.load(t+(-1==t.indexOf("?")?"?":"&")+"posStart="+e+"&count="+i,function(){var t=this.H;this.H=!1,"object"==typeof t&&this.data.feed.apply(this,t)}))})},V:function(t,e){this.data.rb(this.data.driver.toObject(t,e)),this.callEvent("onXLE",[]),this.tb&&(this.data.detachEvent(this.tb),this.tb=null)},dataFeed_setter:function(t){return this.data.attachEvent("onBeforeFilter",dhtmlx.bind(function(t,e){if(this.e.dataFeed){var i={};if(t||i){if("function"==typeof t){if(!e)return;t(e,i)}else i={text:e};this.clearAll();var s=this.e.dataFeed;if("function"==typeof s)return s.call(this,e,i);var n,o=[];for(n in i)o.push("dhx_filter["+n+"]="+encodeURIComponent(i[n]));return this.load(s+(s.indexOf("?")<0?"?":"&")+o.join("&"),this.e.datatype),!1}}},this)),t},Xa:function(){if(this.e.ready){var t=dhtmlx.toFunctor(this.e.ready);t&&t.call&&t.apply(this,arguments)}}},dhtmlx.DataStore=function(){this.name="DataStore",dhtmlx.extend(this,dhtmlx.EventSystem),this.setDriver("xml"),this.pull={},this.order=dhtmlx.toArray()},dhtmlx.DataStore.prototype={setDriver:function(t){this.driver=dhtmlx.DataDriver[t]},rb:function(t){this.callEvent("onParse",[this.driver,t]),this.h&&this.filter();var e=this.driver.getInfo(t);e.M&&(dhtmlx.security_key=e.M);var i=this.driver.getRecords(t),s=1*(e.r||0);0===s&&this.order[0]&&(s=this.order.length);for(var n=0,o=0;o<i.length;o++){var l=this.driver.getDetails(i[o]),h=this.id(l);this.pull[h]||(this.order[n+s]=h,n++),this.pull[h]=l,this.extraParser&&this.extraParser(l),this.o&&(this.o.$init?this.o.$update(l):this.o.$update&&this.o.$update(l))}for(o=0;o<e.v;o++)this.order[o]||(h=dhtmlx.uid(),l={id:h,$template:"loading"},this.pull[h]=l,this.order[o]=h);this.callEvent("onStoreLoad",[this.driver,t]),this.refresh()},id:function(t){return t.id||(t.id=dhtmlx.uid())},changeId:function(t,e){this.pull[e]=this.pull[t],this.pull[e].id=e,this.order[this.order.find(t)]=e,this.h&&(this.h[this.h.find(t)]=e),this.callEvent("onIdChange",[t,e]),this.wb&&this.wb(t,e)},get:function(t){return this.item(t)},set:function(t,e){return this.update(t,e)},item:function(t){return this.pull[t]},update:function(t,e){return this.o&&this.o.$update&&this.o.$update(e),this.callEvent("onBeforeUpdate",[t,e])===!1?!1:(this.pull[t]=e,void this.refresh(t))},refresh:function(t){this.ya||(t?this.callEvent("onStoreUpdated",[t,this.pull[t],"update"]):this.callEvent("onStoreUpdated",[null,null,null]))},silent:function(t){this.ya=!0,t.call(this),this.ya=!1},getRange:function(t,e){if(t=t?this.indexById(t):this.startOffset||0,e?e=this.indexById(e):(e=Math.min(this.endOffset||1/0,this.dataCount()-1),0>e&&(e=0)),t>e)var i=e,e=t,t=i;return this.getIndexRange(t,e)},getIndexRange:function(t,e){for(var e=Math.min(e||1/0,this.dataCount()-1),i=dhtmlx.toArray(),s=t||0;e>=s;s++)i.push(this.item(this.order[s]));return i},dataCount:function(){return this.order.length},exists:function(t){return!!this.pull[t]},move:function(t,e){if(!(0>t||0>e)){var i=this.idByIndex(t),s=this.item(i);this.order.removeAt(t),this.order.insertAt(i,Math.min(this.order.length,e)),this.callEvent("onStoreUpdated",[i,s,"move"])}},scheme:function(t){this.o=t},sync:function(t,e,i){"function"!=typeof e&&(i=e,e=null),dhtmlx.debug_bind&&(this.debug_sync_master=t);var s=t;"DataStore"!=t.name&&(t=t.data);var n=dhtmlx.bind(function(s,n,o){("update"!=o||e)&&(s=null),s||(this.order=dhtmlx.toArray([].concat(t.order)),this.h=null,this.pull=t.pull,e&&this.silent(e),this.Ia&&this.Ia()),i?i=!1:this.refresh(s)},this);t.attachEvent("onStoreUpdated",n),this.feed=function(t,e){s.loadNext(e,t)},n()},add:function(t,e){if(this.o){var i,t=t||{};for(i in this.o)t[i]=t[i]||this.o[i];this.o&&(this.o.$init?this.o.$update(t):this.o.$update&&this.o.$update(t))}var s=this.id(t),n=this.dataCount();if((dhtmlx.isNotDefined(e)||0>e)&&(e=n),e>n&&(e=Math.min(this.order.length,e)),this.callEvent("onBeforeAdd",[s,t,e])===!1)return!1;if(this.exists(s))return null;if(this.pull[s]=t,this.order.insertAt(s,e),this.h){var o=this.h.length;!e&&this.order.length&&(o=0),this.h.insertAt(s,o)}return this.callEvent("onafterAdd",[s,e]),this.callEvent("onStoreUpdated",[s,t,"add"]),s},remove:function(t){if(t instanceof Array)for(var e=0;e<t.length;e++)this.remove(t[e]);else{if(this.callEvent("onBeforeDelete",[t])===!1)return!1;if(!this.exists(t))return null;var i=this.item(t);this.order.remove(t),this.h&&this.h.remove(t),delete this.pull[t],this.callEvent("onafterdelete",[t]),this.callEvent("onStoreUpdated",[t,i,"delete"])}},clearAll:function(){this.pull={},this.order=dhtmlx.toArray(),this.h=this.feed=null,this.callEvent("onClearAll",[]),this.refresh()},idByIndex:function(t){return this.order[t]},indexById:function(t){var e=this.order.find(t);return e},next:function(t,e){return this.order[this.indexById(t)+(e||1)]},first:function(){return this.order[0]},last:function(){return this.order[this.order.length-1]},previous:function(t,e){return this.order[this.indexById(t)-(e||1)]},sort:function(t,e,i){var s=t;"function"==typeof t?s={as:t,dir:e}:"string"==typeof t&&(s={by:t,dir:e,as:i});var n=[s.by,s.dir,s.as];if(this.callEvent("onbeforesort",n)){if(this.order.length){var o=dhtmlx.sort.create(s),l=this.getRange(this.first(),this.last());l.sort(o),this.order=l.map(function(t){return this.id(t)},this)}this.refresh(),this.callEvent("onaftersort",n)}},filter:function(t,e){if(this.callEvent("onBeforeFilter",[t,e])&&(this.h&&(this.order=this.h,delete this.h),this.order.length)){if(t){var i=t,e=e||"";"string"==typeof t&&(t=dhtmlx.Template.fromHTML(t),e=e.toString().toLowerCase(),i=function(e,i){return-1!=t(e).toLowerCase().indexOf(i)});for(var s=dhtmlx.toArray(),n=0;n<this.order.length;n++){var o=this.order[n];i(this.item(o),e)&&s.push(o)}this.h=this.order,this.order=s}this.refresh(),this.callEvent("onAfterFilter",[])}},each:function(t,e){for(var i=0;i<this.order.length;i++)t.call(e||this,this.item(this.order[i]))},provideApi:function(t,e){this.debug_bind_master=t,e&&this.mapEvent({onbeforesort:t,onaftersort:t,onbeforeadd:t,onafteradd:t,onbeforedelete:t,onafterdelete:t,onbeforeupdate:t});
for(var i="get,set,sort,add,remove,exists,idByIndex,indexById,item,update,refresh,dataCount,filter,next,previous,clearAll,first,last,serialize".split(","),s=0;s<i.length;s++)t[i[s]]=dhtmlx.methodPush(this,i[s])},serialize:function(){for(var t=this.order,e=[],i=0;i<t.length;i++)e.push(this.pull[t[i]]);return e}},dhtmlx.sort={create:function(t){return dhtmlx.sort.dir(t.dir,dhtmlx.sort.by(t.by,t.as))},as:{"int":function(t,e){return t*=1,e*=1,t>e?1:e>t?-1:0},string_strict:function(t,e){return t=t.toString(),e=e.toString(),t>e?1:e>t?-1:0},string:function(t,e){return t=t.toString().toLowerCase(),e=e.toString().toLowerCase(),t>e?1:e>t?-1:0}},by:function(t,e){return t?("function"!=typeof e&&(e=dhtmlx.sort.as[e||"string"]),t=dhtmlx.Template.fromHTML(t),function(i,s){return e(t(i),t(s))}):e},dir:function(t,e){return"asc"==t?e:function(t,i){return-1*e(t,i)}}},dhtmlx.attaches||(dhtmlx.attaches={}),dhtmlx.attaches.attachAbstract=function(t,e){var i=document.createElement("DIV");i.id="CustomObject_"+dhtmlx.uid(),i.style.width="100%",i.style.height="100%",i.cmp="grid",document.body.appendChild(i),this.attachObject(i.id),e.container=i.id;var s=this.vs[this.av];s.grid=new window[t](e),s.gridId=i.id,s.gridObj=i,s.grid.setSizes=function(){this.resize?this.resize():this.render()};var n="_viewRestore";return this.vs[this[n]()].grid},dhtmlx.attaches.attachDataView=function(t){return this.attachAbstract("dhtmlXDataView",t)},dhtmlx.attaches.attachChart=function(t){return this.attachAbstract("dhtmlXChart",t)},dhtmlx.compat.layout=function(){},dhtmlXDataView=function(t){this.name="DataView",this.version="3.0",dhtmlx.extend(this,dhtmlx.Settings),this.sb(t,"dhx_dataview"),dhtmlx.extend(this,dhtmlx.AtomDataLoader),dhtmlx.extend(this,dhtmlx.DataLoader),dhtmlx.extend(this,dhtmlx.EventSystem),dhtmlx.extend(this,dhtmlx.RenderStack),dhtmlx.extend(this,dhtmlx.SelectionModel),dhtmlx.extend(this,dhtmlx.MouseEvents),dhtmlx.extend(this,dhtmlx.KeyEvents),dhtmlx.extend(this,dhtmlx.EditAbility),dhtmlx.extend(this,dhtmlx.DataMove),dhtmlx.extend(this,dhtmlx.DragItem),dhtmlx.extend(this,dhtmlx.DataProcessor),dhtmlx.extend(this,dhtmlx.AutoTooltip),dhtmlx.extend(this,dhtmlx.Destruction),this.data.attachEvent("onStoreUpdated",dhtmlx.bind(function(){this.render.apply(this,arguments)},this)),this.J(t,{drag:!1,edit:!1,select:"multiselect",type:"default"}),"auto"!=this.e.height&&!this.e.renderAll&&dhtmlx.extend(this,dhtmlx.VirtualRenderStack),this.data.provideApi(this,!0),dhtmlx.$customScroll&&dhtmlx.CustomScroll.enable(this)},dhtmlXDataView.prototype={bind:function(){dhx.BaseBind.legacyBind.apply(this,arguments)},sync:function(){dhx.BaseBind.legacySync.apply(this,arguments)},dragMarker:function(t){var e=this.C(t.target);if(this.type.drag_marker&&(this.bb&&(this.bb.style.backgroundImage="",this.bb.style.backgroundRepeat=""),e&&(e.style.backgroundImage="url("+(dhtmlx.image_path||"")+this.type.drag_marker+")",e.style.backgroundRepeat="no-repeat",this.bb=e)),e&&this.e.auto_scroll){var i=e.offsetTop,s=e.offsetHeight,n=this.g.scrollTop,o=this.g.offsetHeight;i-s>=0&&n>i-.75*s?n=Math.max(i-s,0):i+s/.75>n+o&&(n+=s),this.g.scrollTop=n}return!0},w:"dhx_f_id",on_click:{dhx_dataview_item:function(t,e){this.stopEdit(!1,e)&&this.e.select&&("multiselect"==this.e.select?this.select(e,t.ctrlKey,t.shiftKey):this.select(e))}},on_dblclick:{dhx_dataview_item:function(t,e){this.e.edit&&this.edit(e)}},on_mouse_move:{},types:{"default":{css:"default",template:dhtmlx.Template.fromHTML("<div style='padding:10px; white-space:nowrap; overflow:hidden;'>{obj.text}</div>"),template_edit:dhtmlx.Template.fromHTML("<div style='padding:10px; white-space:nowrap; overflow:hidden;'><textarea style='width:100%; height:100%;' bind='obj.text'></textarea></div>"),template_loading:dhtmlx.Template.fromHTML("<div style='padding:10px; white-space:nowrap; overflow:hidden;'>Loading...</div>"),width:210,height:115,margin:0,padding:10,border:1}},template_item_start:dhtmlx.Template.fromHTML("<div dhx_f_id='{-obj.id}' class='dhx_dataview_item dhx_dataview_{obj.css}_item{-obj.$selected?_selected:}' style='width:{obj.width}px; height:{obj.height}px; padding:{obj.padding}px; margin:{obj.margin}px; float:left; overflow:hidden;'>"),template_item_end:dhtmlx.Template.fromHTML("</div>")},dhtmlx.compat("layout"),dhtmlx.Date={Locale:{month_full:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),month_short:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),day_full:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),day_short:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},date_part:function(t){return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t},time_part:function(t){return(t.valueOf()/1e3-60*t.getTimezoneOffset())%86400},week_start:function(t){var e=t.getDay();return this.config.start_on_monday&&(0===e?e=6:e--),this.date_part(this.add(t,-1*e,"day"))},month_start:function(t){return t.setDate(1),this.date_part(t)},year_start:function(t){return t.setMonth(0),this.month_start(t)},day_start:function(t){return this.date_part(t)},add:function(t,e,i){var s=new Date(t.valueOf());switch(i){case"day":s.setDate(s.getDate()+e);break;case"week":s.setDate(s.getDate()+7*e);break;case"month":s.setMonth(s.getMonth()+e);break;case"year":s.setYear(s.getFullYear()+e);break;case"hour":s.setHours(s.getHours()+e);break;case"minute":s.setMinutes(s.getMinutes()+e);break;default:return dhtmlx.Date["add_"+i](t,e,i)}return s},to_fixed:function(t){return 10>t?"0"+t:t},copy:function(t){return new Date(t.valueOf())},date_to_str:function(t,e){return t=t.replace(/%[a-zA-Z]/g,function(t){switch(t){case"%d":return'"+dhtmlx.Date.to_fixed(date.getDate())+"';case"%m":return'"+dhtmlx.Date.to_fixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+dhtmlx.Date.to_fixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+dhtmlx.Date.Locale.day_short[date.getDay()]+"';case"%l":return'"+dhtmlx.Date.Locale.day_full[date.getDay()]+"';case"%M":return'"+dhtmlx.Date.Locale.month_short[date.getMonth()]+"';case"%F":return'"+dhtmlx.Date.Locale.month_full[date.getMonth()]+"';case"%h":return'"+dhtmlx.Date.to_fixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+dhtmlx.Date.to_fixed(date.getHours())+"';case"%i":return'"+dhtmlx.Date.to_fixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?"pm":"am")+"';case"%A":return'"+(date.getHours()>11?"PM":"AM")+"';case"%s":return'"+dhtmlx.Date.to_fixed(date.getSeconds())+"';case"%W":return'"+dhtmlx.Date.to_fixed(dhtmlx.Date.getISOWeek(date))+"';default:return t}}),e&&(t=t.replace(/date\.get/g,"date.getUTC")),new Function("date",'return "'+t+'";')},str_to_date:function(t,e){for(var i="var temp=date.split(/[^0-9a-zA-Z]+/g);",s=t.match(/%[a-zA-Z]/g),n=0;n<s.length;n++)switch(s[n]){case"%j":case"%d":i+="set[2]=temp["+n+"]||1;";break;case"%n":case"%m":i+="set[1]=(temp["+n+"]||1)-1;";break;case"%y":i+="set[0]=temp["+n+"]*1+(temp["+n+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":i+="set[3]=temp["+n+"]||0;";break;case"%i":i+="set[4]=temp["+n+"]||0;";break;case"%Y":i+="set[0]=temp["+n+"]||0;";break;case"%a":case"%A":i+="set[3]=set[3]%12+((temp["+n+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":i+="set[5]=temp["+n+"]||0;"}var o="set[0],set[1],set[2],set[3],set[4],set[5]";return e&&(o=" Date.UTC("+o+")"),new Function("date","var set=[0,0,1,0,0,0]; "+i+" return new Date("+o+");")},getISOWeek:function(t){if(!t)return!1;var e=t.getDay();0===e&&(e=7);var i=new Date(t.valueOf());i.setDate(t.getDate()+(4-e));var s=i.getFullYear(),n=Math.floor((i.getTime()-new Date(s,0,1).getTime())/864e5),o=1+Math.floor(n/7);return o},getUTCISOWeek:function(t){return this.getISOWeek(t)}},dhtmlx.math={},dhtmlx.math.ee="0,1,2,3,4,5,6,7,8,9,A,B,C,D,E,F".split(","),dhtmlx.math.toHex=function(t,e){for(t=parseInt(t,10),str="";t>0;)str=this.ee[t%16]+str,t=Math.floor(t/16);for(;str.length<e;)str="0"+str;return str},dhtmlx.math.hexToDec=function(t){return parseInt(t,16)},dhtmlx.math.toRgb=function(t){var e,i,s,n;return"string"!=typeof t?(e=t[0],i=t[1],s=t[2]):-1!=t.indexOf("rgb")?(n=t.substr(t.indexOf("(")+1,t.lastIndexOf(")")-t.indexOf("(")-1).split(","),e=n[0],i=n[1],s=n[2]):("#"==t.substr(0,1)&&(t=t.substr(1)),e=this.hexToDec(t.substr(0,2)),i=this.hexToDec(t.substr(2,2)),s=this.hexToDec(t.substr(4,2))),e=parseInt(e,10)||0,i=parseInt(i,10)||0,s=parseInt(s,10)||0,(0>e||e>255)&&(e=0),(0>i||i>255)&&(i=0),(0>s||s>255)&&(s=0),[e,i,s]},dhtmlx.math.hsvToRgb=function(t,e,i){var s,n,o,l,h,r,a,d;switch(s=Math.floor(t/60)%6,n=t/60-s,o=i*(1-e),l=i*(1-n*e),h=i*(1-(1-n)*e),d=a=r=0,s){case 0:r=i,a=h,d=o;break;case 1:r=l,a=i,d=o;break;case 2:r=o,a=i,d=h;break;case 3:r=o,a=l,d=i;break;case 4:r=h,a=o,d=i;break;case 5:r=i,a=o,d=l}return r=Math.floor(255*r),a=Math.floor(255*a),d=Math.floor(255*d),[r,a,d]},dhtmlx.math.rgbToHsv=function(t,e,i){var s,n,o,l,h,r,a,d;return s=t/255,n=e/255,o=i/255,l=Math.min(s,n,o),h=Math.max(s,n,o),a=0,r=0==h?0:1-l/h,d=h,h==l?a=0:h==s&&n>=o?a=60*(n-o)/(h-l)+0:h==s&&o>n?a=60*(n-o)/(h-l)+360:h==n?a=60*(o-s)/(h-l)+120:h==o&&(a=60*(s-n)/(h-l)+240),[a,r,d]},dhtmlx.presets||(dhtmlx.presets={}),dhtmlx.presets.chart={simple:{item:{borderColor:"#ffffff",color:"#2b7100",shadow:!1,borderWidth:2},line:{color:"#8ecf03",width:2}},plot:{color:"#1293f8",item:{borderColor:"#636363",borderWidth:1,color:"#ffffff",type:"r",shadow:!1},line:{color:"#1293f8",width:2}},diamond:{color:"#b64040",item:{borderColor:"#b64040",color:"#b64040",type:"d",radius:3,shadow:!0},line:{color:"#ff9000",width:2}},point:{color:"#fe5916",disableLines:!0,fill:!1,disableItems:!1,item:{color:"#feb916",borderColor:"#fe5916",radius:2,borderWidth:1,type:"r"},alpha:1},line:{line:{color:"#3399ff",width:2},item:{color:"#ffffff",borderColor:"#3399ff",radius:2,borderWidth:2,type:"d"},fill:!1,disableItems:!1,disableLines:!1,alpha:1},area:{fill:"#3399ff",line:{color:"#3399ff",width:1},disableItems:!0,alpha:.2,disableLines:!1},round:{item:{radius:3,borderColor:"#3f83ff",borderWidth:1,color:"#3f83ff",type:"r",shadow:!1,alpha:.6}},square:{item:{radius:3,borderColor:"#447900",borderWidth:2,color:"#69ba00",type:"s",shadow:!1,alpha:1}},column:{color:"RAINBOW",gradient:!1,width:45,radius:0,alpha:1,border:!0},stick:{width:5,gradient:!1,color:"#67b5c9",radius:2,alpha:1,border:!1},alpha:{color:"#b9a8f9",width:70,gradient:"falling",radius:0,alpha:.5,border:!0}},dhtmlx.ui.Map=function(t){this.name="Map",this.w="map_"+dhtmlx.uid(),this.M=t,this.U=[]},dhtmlx.ui.Map.prototype={addRect:function(t,e,i){this.Mb(t,"RECT",e,i)},addPoly:function(t,e,i){this.Mb(t,"POLY",e,i)},Mb:function(t,e,i,s){var n="";4==arguments.length&&(n="userdata='"+s+"'"),this.U.push("<area "+this.M+"='"+t+"' shape='"+e+"' coords='"+i.join()+"' "+n+"></area>")},addSector:function(t,e,i,s,n,o,l,h){var r=[];r.push(s),r.push(Math.floor(n*l));for(var a=e;i>a;a+=Math.PI/18)r.push(Math.floor(s+o*Math.cos(a))),r.push(Math.floor((n+o*Math.sin(a))*l));return r.push(Math.floor(s+o*Math.cos(i))),r.push(Math.floor((n+o*Math.sin(i))*l)),r.push(s),r.push(Math.floor(n*l)),this.addPoly(t,r,h)},render:function(t){var e=dhtmlx.html.create("DIV");e.style.cssText="position:absolute; width:100%; height:100%; top:0px; left:0px;",t.appendChild(e);var i=dhtmlx.z?"":"src='data:image/gif;base64,R0lGODlhEgASAIAAAP///////yH5BAUUAAEALAAAAAASABIAAAIPjI+py+0Po5y02ouz3pwXADs='";e.innerHTML="<map id='"+this.w+"' name='"+this.w+"'>"+this.U.join("\n")+"</map><img "+i+" class='dhx_map_img' usemap='#"+this.w+"'>",t.n=e,this.U=[]}},dhtmlx.chart={},dhtmlx.chart.scatter={pvt_render_scatter:function(t,e,i,s,n,o){if(!this.e.xValue)return null;var l=this.aa(),h=this.aa("h","xValue");n||(this.canvases.x=new dhtmlx.ui.Canvas(this.g,"axis_x"),this.canvases.y=new dhtmlx.ui.Canvas(this.g,"axis_y"),this.Zb(this.canvases.y.getCanvas(),e,i,s,l.min,l.max),this.Tb(this.canvases.x.getCanvas(),e,i,s,h.min,h.max));var l={min:this.e.yAxis.start,max:this.e.yAxis.end},h={min:this.e.xAxis.start,max:this.e.xAxis.end},r=this.sd(t,e,i,s,h,l);this.Ha=i;for(var a=0;a<e.length;a++)this.dd(t,o,i,s,r,h,l,e[a],n)},sd:function(t,e,i,s,n,o){var l={};return l.totalHeight=s.y-i.y,l.totalWidth=s.x-i.x,this.Hb(l,n.min,n.max,l.totalWidth,"X"),this.Hb(l,o.min,o.max,l.totalHeight,"Y"),l},dd:function(t,e,i,s,n,o,l,h,r){var a=this.Ib(n,s,i,o,h,"X"),d=this.Ib(n,i,s,l,h,"Y");this.Da(t,a,d,h,this.e.label.call(this,h),r,e)},Ib:function(t,e,i,s,n,o){var l=this.e["X"==o?"xValue":"value"].call(this,n),h=t["valueFactor"+o],r=(parseFloat(l||0)-s.min)*h,a=t["unit"+o],d=i[o.toLowerCase()]-("X"==o?-1:1)*Math.floor(a*r);return 0>r&&(d=i[o.toLowerCase()]),l>s.max&&(d=e[o.toLowerCase()]),l<s.min&&(d=i[o.toLowerCase()]),d},Hb:function(t,e,i,s,n){var o=this.S(e,i),n=n||"";t["relValue"+n]=o[0],t["valueFactor"+n]=o[1],t["unit"+n]=t["relValue"+n]?s/t["relValue"+n]:10}},dhtmlx.chart.radar={pvt_render_radar:function(t,e,i,s,n,o){this.Ud(t,e,i,s,n,o)},Ud:function(t,e,i,s,n,o){if(e.length){for(var l=this.jb(i,s),h=this.e.radius?this.e.radius:l.radius,r=this.e.x?this.e.x:l.x,a=this.e.y?this.e.y:l.y,d=[],c=0;c<e.length;c++)d.push(1);var u=this.cc(d,e.length);this.Ha=i,n||this.$c(u,r,a,h,e),this.ad(t,u,r,a,h,e,n,o)}},ad:function(t,e,i,s,n,o,l,h){var r,a,d,c,u,_,p,f,m,g,b,v,y,x,w,C,N,I,k;for(d=this.e,u=d.yAxis.start,_=d.yAxis.end,k=this.S(u,_),I=(v=k[0])?n/v:n/2,N=k[1],r=a=y=-Math.PI/2,m=[],c=f=0;c<o.length;c++)C?w=C:(x=d.value(o[c]),w=(parseFloat(x||0)-u)*N),g=Math.floor(I*w),x=d.value(c!=o.length-1?o[c+1]:o[0]),C=(parseFloat(x||0)-u)*N,b=Math.floor(I*C),r=a,a=c!=o.length-1?y+e[c]-1e-4:y,p=f||this.R(r,i,s,g),f=this.R(a,i,s,b),m.push(p);d.fill&&this.kd(t,m,o),d.disableLines||this.ce(t,m,o),d.disableItems||this.bd(t,m,o,l,h),m=null},bd:function(t,e,i,s,n){for(var o=0;o<e.length;o++)this.Da(t,e[o].x,e[o].y,i[o],this.e.label.call(this,i),s,n)},kd:function(t,e,i){var s,n;t.globalAlpha=this.e.alpha.call(this,{}),t.beginPath();for(var o=0;o<e.length;o++)t.fillStyle=this.e.fill.call(this,i[o]),s=e[o],n=e[o+1]||e[0],o||t.moveTo(s.x,s.y),t.lineTo(n.x,n.y);t.fill(),t.globalAlpha=1},ce:function(t,e,i){for(var s,n,o=0;o<e.length;o++)s=e[o],n=e[o+1]||e[0],this.m(t,s.x,s.y,n.x,n.y,this.e.line.color.call(this,i[o]),this.e.line.width)},$c:function(t,e,i,s,n){var o=this.e.yAxis,l=this.e.xAxis,h=o.start,r=o.end,a=o.step,d={},c=this.ma;if("undefined"==typeof c.step||"undefined"==typeof c.start||"undefined"==typeof c.end){var u=this.aa(),d=this.Wa(u.min,u.max),h=d.start,r=d.end,a=d.step;o.end=r,o.start=h}var _,p,f,m,g,b=[],v=0,y=s*a/(r-h);1>a&&(m=Math.min(this.da(a),0>=h?0:this.da(h)),g=Math.pow(10,-m));var x=[];this.canvases.scale=new dhtmlx.ui.Canvas(this.g,"radar_scale");var w=this.canvases.scale.getCanvas();for(_=r;_>=h;_-=a){d.fixNum&&(_=parseFloat(new Number(_).toFixed(d.fixNum))),b.push(Math.floor(v*y)+.5),g&&(_=Math.round(_*g)/g);var C=i-s+b[b.length-1];if(this.canvases.scale.renderTextAt("middle","left",e,C,o.template(_.toString()),"dhx_axis_item_y dhx_radar"),t.length<2)return void this.Vb(w,"arc",e,i,s-b[b.length-1],-Math.PI/2,3*Math.PI/2,_);var N,I=-Math.PI/2,k=I;for(p=0;p<t.length;p++)_==r&&x.push(k),N=I+t[p]-1e-4,this.Vb(w,c.lineShape||"line",e,i,s-b[b.length-1],k,N,_,p,n[_]),k=N;v++}for(_=0;_<x.length;_++)f=this.R(x[_],e,i,s),l.lines.call(this,n[_],_)&&this.m(w,e,i,f.x,f.y,l?l.lineColor.call(this,n[_]):"#cfcfcf",1),this.cd(w,e,i,s,x[_],l?l.template.call(this,n[_]):"&nbsp;")},Vb:function(t,e,i,s,n,o,l,h,r){var a,d;if(0>n)return!1;a=this.R(o,i,s,n),d=this.R(l,i,s,n);var c=this.e.yAxis;c.bg&&(t.beginPath(),t.moveTo(i,s),"arc"==e?t.arc(i,s,n,o,l,!1):(t.lineTo(a.x,a.y),t.lineTo(d.x,d.y)),t.fillStyle=c.bg(h,r),t.moveTo(i,s),t.fill(),t.closePath()),c.lines.call(this,h)&&(t.lineWidth=1,t.beginPath(),"arc"==e?t.arc(i,s,n,o,l,!1):(t.moveTo(a.x,a.y),t.lineTo(d.x,d.y)),t.strokeStyle=c.lineColor.call(this,h),t.stroke())},cd:function(t,e,i,s,n,o){var l=this.canvases.scale.renderText(0,0,o,"dhx_axis_radar_title",1),h=l.scrollWidth,r=l.offsetHeight,a=.001,d=this.R(n,e,i,s+5),c=0,u=0;(0>n||n>Math.PI)&&(u=-r),n>Math.PI/2&&(c=-h),Math.abs(n+Math.PI/2)<a||Math.abs(n-Math.PI/2)<a?c=-h/2:(Math.abs(n)<a||Math.abs(n-Math.PI)<a)&&(u=-r/2),l.style.top=d.y+u+"px",l.style.left=d.x+c+"px",l.style.width=h+"px",l.style.whiteSpace="nowrap"}},dhtmlx.chart.area={pvt_render_area:function(t,e,i,s,n,o){var l,h,r,a,d,c,u,_,p;if(c=this.Aa(t,e,i,s,n),h=this.e,a=h.eventRadius||Math.floor(c.cellWidth/2),e.length){for(u=[],_=h.offset?i.x+.5*c.cellWidth:i.x,r=0;r<e.length;r++)d=e[r],r?_+=c.cellWidth:u.push([_,s.y]),(p=this.Ea(d,i,s,c))?(u.push([_,p]),o.addRect(d.id,[_-a-i.x,p-a-i.y,_+a-i.x,p+a-i.y],n),h.yAxis||(l=h.offset||r!=e.length-1?"center":"left",this.canvases[n].renderTextAt(!1,l,_,p-h.labelOffset,h.label(d)))):r||u.push([_,s.y]);u.push([_,s.y]),u.push([u[0][0],s.y]),t.globalAlpha=this.e.alpha.call(this,e[0]),t.fillStyle=this.e.color.call(this,e[0]),t.beginPath(),this.va(t,u),t.fill(),h.border&&(t.lineWidth=h.borderWidth||1,h.borderColor?t.strokeStyle=h.borderColor.call(this,e[0]):this.Pa(t,t.fillStyle),t.beginPath(),this.va(t,u),t.stroke()),t.lineWidth=1,t.globalAlpha=1}}},dhtmlx.chart.stackedArea={pvt_render_stackedArea:function(t,e,i,s,n,o){var l,h,r,a,d,c,u,_,p,f,m,g,b,v;if(f=this.Aa(t,e,i,s,n),a=this.e,_=a.eventRadius||Math.floor(f.cellWidth/2),e.length){m=[],v=[],g=a.offset?i.x+.5*f.cellWidth:i.x;var y=function(t,i){return n?e[t].$startY?i-s.y+e[t].$startY:0:i},x=function(t,e,i){var s=(i.y-e.y)/(i.x-e.x);return s*t+e.y-s*e.x};for(d=0;d<e.length;d++)p=e[d],d?g+=f.cellWidth:(b=y(d,s.y),m.push([g,b])),b=y(d,this.Ea(p,i,s,f)),v.push(isNaN(b)&&!d?e[d].$startY||s.y:b),b&&(m.push([g,b]),o.addRect(p.id,[g-_-i.x,b-_-i.y,g+_-i.x,b+_-i.y],n),a.yAxis||(r=!a.offset&&u?"left":"center",this.canvases[n].renderTextAt(!1,r,g,b-a.labelOffset,a.label(p))));if(m.push([g,y(d-1,s.y)]),n)for(d=e.length-2;d>0;d--)g-=f.cellWidth,(b=e[d].$startY)&&m.push([g,b]);for(m.push([m[0][0],m[0][1]]),t.globalAlpha=this.e.alpha.call(this,e[0]),t.fillStyle=this.e.color.call(this,e[0]),t.beginPath(),this.va(t,m),t.fill(),d=0;d<e.length;d++){if(b=v[d],!b)for(d==e.length-1&&(b=e[d].$startY),c=d+1;c<e.length;c++)if(v[c]){l={x:i.x,y:v[0]},h={x:i.x+f.cellWidth*c,y:v[c]},b=x(i.x+f.cellWidth*d,l,h);break}e[d].$startY=b}}}},dhtmlx.chart.spline={pvt_render_spline:function(t,e,i,s,n,o){var l,h,r,a,d,c,u,_,p,f,m,g,b;if(d=this.Aa(t,e,i,s,n),l=this.e,this.Ha=i,r=[],e.length){for(_=l.offset?i.x+.5*d.cellWidth:i.x,h=0;h<e.length;h++)(m=this.Ea(e[h],i,s,d))&&(u=h?d.cellWidth*h-.5+_:_,r.push({x:u,y:m,index:h}));for(c=this.td(r),h=0;h<r.length;h++){if(p=r[h].x,g=r[h].y,h<r.length-1){for(f=r[h+1].x,b=r[h+1].y,a=p;f>a;a++){var v=this.kb(a,p,h,c.a,c.b,c.c,c.d);v<i.y&&(v=i.y),v>s.y&&(v=s.y);var y=this.kb(a+1,p,h,c.a,c.b,c.c,c.d);y<i.y&&(y=i.y),y>s.y&&(y=s.y),this.m(t,a,v,a+1,y,l.line.color(e[h]),l.line.width)}this.m(t,f-1,this.kb(a,p,h,c.a,c.b,c.c,c.d),f,b,l.line.color(e[h]),l.line.width)}this.Da(t,p,g,e[r[h].index],l.label(e[r[h].index]),n,o)}}},td:function(t){var e,i,s,n,o,l,h,r,a=[],d=[],c=t.length;for(e=0;c-1>e;e++)a[e]=t[e+1].x-t[e].x,d[e]=(t[e+1].y-t[e].y)/a[e];for(i=[],s=[],i[0]=0,i[1]=2*(a[0]+a[1]),s[0]=0,s[1]=6*(d[1]-d[0]),e=2;c-1>e;e++)i[e]=2*(a[e-1]+a[e])-a[e-1]*a[e-1]/i[e-1],s[e]=6*(d[e]-d[e-1])-a[e-1]*s[e-1]/i[e-1];for(n=[],n[c-1]=n[0]=0,e=c-2;e>=1;e--)n[e]=(s[e]-a[e]*n[e+1])/i[e];for(o=[],l=[],h=[],r=[],e=0;c-1>e;e++)o[e]=t[e].y,l[e]=-a[e]*n[e+1]/6-a[e]*n[e]/3+(t[e+1].y-t[e].y)/a[e],h[e]=n[e]/2,r[e]=(n[e+1]-n[e])/(6*a[e]);return{a:o,b:l,c:h,d:r}},kb:function(t,e,i,s,n,o,l){return s[i]+(t-e)*(n[i]+(t-e)*(o[i]+(t-e)*l[i]))}},dhtmlx.chart.barH={pvt_render_barH:function(t,e,i,s,n,o){var l,h,r,a,d,c,u,_,p,f,m,g,b,v,y,x,w,C,N,I,k;for(r=(s.y-i.y)/e.length,u=this.aa("h"),_=u.max,p=u.min,x=s.x-i.x,k=!!this.e.yAxis,n||this.Sb(t,e,i,s,p,_,r),k&&(_=parseFloat(this.e.xAxis.end),p=parseFloat(this.e.xAxis.start)),v=this.S(p,_),g=v[0],m=v[1],C=g?x/g:10,k||(y=10,C=g?(x-y)/g:10),h=parseInt(this.e.width,10),h*this.k.length+4>r&&(h=r/this.k.length-4),l=Math.floor((r-h*this.k.length)/2),b="undefined"!=typeof this.e.radius?parseInt(this.e.radius,10):Math.round(h/5),f=!1,(d=this.e.gradient)&&"function"!=typeof d?(f=d,d=!1):d&&(d=t.createLinearGradient(i.x,i.y,s.x,i.y),this.e.gradient(d)),k||this.m(t,i.x-.5,i.y,i.x-.5,s.y,"#000000",1),c=0;c<e.length;c++)if(w=parseFloat(this.e.value(e[c]||0)),w>_&&(w=_),w-=p,w*=m,N=i.x,I=i.y+l+c*r+(h+1)*n,0>w&&"auto"==this.e.origin||this.e.xAxis&&0===w&&!("auto"!=this.e.origin&&this.e.origin>p))this.canvases[n].renderTextAt("middle","right",N+10,I+h/2+l,this.e.label(e[c]));else{0>w&&"auto"!=this.e.origin&&this.e.origin>p&&(w=0),k||(w+=y/C),a=d||this.e.color.call(this,e[c]),this.e.border&&this.Rb(t,N,I,h,p,b,C,w,a),t.globalAlpha=this.e.alpha.call(this,e[c]);var S=this.Wc(t,s,N,I,h,p,b,C,w,a,d,f);0!=f&&this.Xc(t,N,I,h,p,b,C,w,a,f),t.globalAlpha=1,S[3]==I?(this.canvases[n].renderTextAt("middle","left",S[0]-5,S[3]+Math.floor(h/2),this.e.label(e[c])),o.addRect(e[c].id,[S[0]-i.x,S[3]-i.y,S[2]-i.x,S[3]+h-i.y],n)):(this.canvases[n].renderTextAt("middle",!1,S[2]+5,S[1]+Math.floor(h/2),this.e.label(e[c])),o.addRect(e[c].id,[S[0]-i.x,I-i.y,S[2]-i.x,S[3]-i.y],n))}},xa:function(t,e,i,s,n,o,l,h,r){var a=0;if(n>o*l)var d=(n-o*l)/n,a=-Math.asin(d)+Math.PI/2;t.moveTo(e,i+h);var c=e+o*l-n-(n?0:h);o*l>n&&t.lineTo(c,i+h);var u=i+n;n&&n>0&&t.arc(c,u,n-h,-Math.PI/2+a,0,!1);var _=i+s-n-(n?0:h),p=c+n-(n?h:0);t.lineTo(p,_),n&&n>0&&t.arc(c,_,n-h,0,Math.PI/2-a,!1);var f=i+s-h;return t.lineTo(e,f),r||t.lineTo(e,i+h),[p,f]},Sb:function(t,e,i,s,n,o,l){var h=0;this.e.xAxis&&(this.canvases.x=new dhtmlx.ui.Canvas(this.g),h=this.Tb(this.canvases.x.getCanvas(),e,i,s,n,o)),this.e.yAxis&&(this.canvases.y=new dhtmlx.ui.Canvas(this.g),this.Yc(this.canvases.y.getCanvas(),e,i,s,l,h))},Yc:function(t,e,i,s,n,o){if(this.e.yAxis){var l,h=parseInt(o?o:i.x,10)-.5,r=s.y+.5,a=i.y;this.m(t,h,r,h,a,this.e.yAxis.color,1);for(var d=0;d<e.length;d++){var c="auto"!=this.e.origin&&"barH"==this.e.view&&parseFloat(this.e.value(e[d]))<this.e.origin;l=a+n/2+d*n,this.canvases.y.renderTextAt("middle",c?!1:"left",c?h+5:h-5,l,this.e.yAxis.template(e[d]),"dhx_axis_item_y",c?0:h-10),this.e.yAxis.lines.call(this,e[d])&&this.m(t,i.x,l,s.x,l,this.e.yAxis.lineColor.call(this,e[d]),1)}this.m(t,i.x+.5,a+.5,s.x,a+.5,this.e.yAxis.lineColor.call(this,{}),1),this.tc(i,s)}},Tb:function(t,e,i,s,n,o){var l,h={},r=this.e.xAxis;if(r){var a=s.y+.5,d=i.x-.5,c=s.x-.5,u=i.x;if(this.m(t,d,a,c,a,r.color,1),r.step&&(l=parseFloat(r.step)),("undefined"==typeof this.Ca.step||"undefined"==typeof this.Ca.start||"undefined"==typeof this.Ca.end)&&(h=this.Wa(n,o),n=h.start,o=h.end,l=h.step,this.e.xAxis.end=o,this.e.xAxis.start=n,this.e.xAxis.step=l),0!==l){for(var _=(c-d)*l/(o-n),p=0,f=n;o>=f;f+=l){h.fixNum&&(f=parseFloat(new Number(f).toFixed(h.fixNum)));var m=Math.floor(d+p*_)+.5;!(f==n&&"auto"==this.e.origin)&&r.lines.call(this,f)&&this.m(t,m,a,m,i.y,this.e.xAxis.lineColor.call(this,f),1),f==this.e.origin&&(u=m+1),this.canvases.x.renderTextAt(!1,!0,m,a+2,r.template(f.toString()),"dhx_axis_item_x"),p++}return this.canvases.x.renderTextAt(!0,!1,d,s.y+this.e.padding.bottom-3,this.e.xAxis.title,"dhx_axis_title_x",s.x-i.x),r.lines.call(this,{})||this.m(t,d,i.y-.5,c,i.y-.5,this.e.xAxis.color,.2),u}}},Za:function(t,e,i,s,n,o,l){var h=this.e.yAxis,r=e;return h&&"auto"!=this.e.origin&&this.e.origin>l&&(e+=(this.e.origin-l)*n,r=e,s-=this.e.origin-l,0>s&&(s*=-1,t.translate(e,i+o),t.rotate(Math.PI),e=.5,i=0),e+=.5),{value:s,x0:e,y0:i,start:r}},Wc:function(t,e,i,s,n,o,l,h,r,a,d,c){t.save();var u=this.Za(t,i,s,r,h,n,o);t.fillStyle=a,t.beginPath();var _=this.xa(t,u.x0,u.y0,n,l,h,u.value,this.e.border?1:0);d&&!c&&t.lineTo(e.x,u.y0+(this.e.border?1:0)),t.fill(),t.restore();var p=u.y0,f=u.y0!=s?s:_[1],m=u.y0!=s?u.start-_[0]:u.start,g=u.y0!=s?u.start:_[0];return[m,p,g,f]},Rb:function(t,e,i,s,n,o,l,h,r){t.save();var a=this.Za(t,e,i,h,l,s,n);t.beginPath(),this.Pa(t,r),t.globalAlpha=.9,this.xa(t,a.x0,a.y0,s,o,l,a.value,t.lineWidth/2,1),t.stroke(),t.restore()},Xc:function(t,e,i,s,n,o,l,h,r,a){t.save();var d=this.Za(t,e,i,h,l,s,n),c=this.Oa(t,d.x0,d.y0+s,d.x0+l*d.value,d.y0,a,r,"x");t.fillStyle=c.gradient,t.beginPath(),this.xa(t,d.x0,d.y0+c.offset,s-2*c.offset,o,l,d.value,c.offset),t.fill(),t.globalAlpha=1,t.restore()}},dhtmlx.chart.stackedBarH={pvt_render_stackedBarH:function(t,e,i,s,n,o){var l,h,r,a,d=s.x-i.x,c=!!this.e.yAxis,u=this.lb(e);l=u.max,h=u.min;var _=Math.floor((s.y-i.y)/e.length);n||this.Sb(t,e,i,s,h,l,_),c&&(l=parseFloat(this.e.xAxis.end),h=parseFloat(this.e.xAxis.start));var p=this.S(h,l);a=p[0],r=p[1];var f=a?d/a:10;if(!c)var m=10,f=a?(d-m)/a:10;var g=parseInt(this.e.width,10);g+4>_&&(g=_-4);var b=(_-g)/2,v=0,y=!1,x=this.e.gradient;x&&(y=!0),c||this.m(t,i.x-.5,i.y,i.x-.5,s.y,"#000000",1);for(var w=0,C=0,N=0;N<this.k.length;N++)N==n&&(C=w),"stackedBarH"==this.k[N].view&&w++;for(N=0;N<e.length;N++){C||(e[N].$startX=i.x);var I=parseFloat(this.e.value(e[N]||0));I>l&&(I=l),I-=h,I*=r;var k=i.x,S=i.y+b+N*_;if(C?k=e[N].$startX:e[N].$startX=k,0>I||this.e.yAxis&&0===I)this.canvases.y.renderTextAt("middle",!0,k+10,S+g/2,this.e.label(e[N]));else{c||(I+=m/f);var O=this.e.color.call(this,e[N]);t.globalAlpha=this.e.alpha.call(this,e[N]),t.fillStyle=this.e.color.call(this,e[N]),t.beginPath();var j=this.xa(t,k,S,g,v,f,I,this.e.border?1:0);if(x&&!y&&t.lineTo(i.x+d,S+(this.e.border?1:0)),t.fill(),0!=y){var T=this.Oa(t,k,S+g,k,S,y,O,"x");t.fillStyle=T.gradient,t.beginPath(),j=this.xa(t,k,S,g,v,f,I,0),t.fill()}this.e.border&&this.Rb(t,k,S,g,h,v,f,I,O),t.globalAlpha=1,this.canvases[n].renderTextAt("middle",!0,e[N].$startX+(j[0]-e[N].$startX)/2-1,S+(j[1]-S)/2,this.e.label(e[N])),o.addRect(e[N].id,[e[N].$startX-i.x,S-i.y,j[0]-i.x,j[1]-i.y],n),e[N].$startX=j[0]}}}},dhtmlx.chart.stackedBar={pvt_render_stackedBar:function(t,e,i,s,n,o){var l,h,r,a,d=s.y-i.y,c=!!this.e.yAxis,u=!!this.e.xAxis,_=this.lb(e);l=_.max,h=_.min;var p=Math.floor((s.x-i.x)/e.length);n||this.eb(e,i,s,h,l,p),c&&(l=parseFloat(this.e.yAxis.end),h=parseFloat(this.e.yAxis.start));var f=this.S(h,l);a=f[0],r=f[1];var m=a?d/a:10,g=parseInt(this.e.width,10);g+4>p&&(g=p-4);var b=Math.floor((p-g)/2),v=this.e.gradient?this.e.gradient:!1;u||this.m(t,i.x,s.y+.5,s.x,s.y+.5,"#000000",1);for(var y=0;y<e.length;y++){var x=parseFloat(this.e.value(e[y]||0));if(x){n||(x-=h),x*=r;var w=i.x+b+y*p,C=s.y;if(n?C=e[y].$startY:e[y].$startY=C,!(C<i.y+1))if(0>x||this.e.yAxis&&0===x)this.canvases.y.renderTextAt(!0,!0,w+Math.floor(g/2),C,this.e.label(e[y]));else{var N=this.e.color.call(this,e[y]);t.globalAlpha=this.e.alpha.call(this,e[y]),t.fillStyle=this.e.color.call(this,e[y]),t.beginPath();var I=this.zb(t,w-(this.e.border?.5:0),C,g+(this.e.border?.5:0),m,x,0,i.y);if(t.fill(),v){t.save();var k=this.Oa(t,w,C,w+g,I[1],v,N,"y");t.fillStyle=k.gradient,t.beginPath(),I=this.zb(t,w+k.offset,C,g-2*k.offset,m,x,this.e.border?1:0,i.y),t.fill(),t.restore()}this.e.border&&(t.save(),this.Pa(t,N),t.beginPath(),this.zb(t,w-.5,C,g+1,m,x,0,i.y,1),t.stroke(),t.restore()),t.globalAlpha=1,this.canvases[n].renderTextAt(!1,!0,w+Math.floor(g/2),I[1]+(C-I[1])/2-7,this.e.label(e[y])),o.addRect(e[y].id,[w-i.x,I[1]-i.y,I[0]-i.x,(e[y].$startY||C)-i.y],n),e[y].$startY=this.e.border?I[1]+1:I[1]}}else n&&e[y].$startY||(e[y].$startY=s.y)}},zb:function(t,e,i,s,n,o,l,h,r){t.moveTo(e,i);var a=i-n*o+l;h>a&&(a=h),t.lineTo(e,a);var d=e+s,c=a;t.lineTo(d,c);var u=e+s;return t.lineTo(u,i),r||t.lineTo(e,i),[u,c-2*l]}},dhtmlx.chart.line={pvt_render_line:function(t,e,i,s,n,o){var l,h,r,a,d,c,u,_,p;if(a=this.Aa(t,e,i,s,n),l=this.e,e.length){for(d=l.offset?i.x+.5*a.cellWidth:i.x,r=[],h=0;h<e.length;h++)(_=this.Ea(e[h],i,s,a))&&(c=h?a.cellWidth*h-.5+d:d,r.push({x:c,y:_,index:h}));{(new Date).valueOf()}for(this.Ha=i,h=1;h<=r.length;h++)c=r[h-1].x,_=r[h-1].y,h<r.length&&(u=r[h].x,p=r[h].y,this.m(t,c,_,u,p,l.line.color.call(this,e[h-1]),l.line.width),l.line&&l.line.shadow)&&(t.globalAlpha=.3,this.m(t,c+2,_+l.line.width+8,u+2,p+l.line.width+8,"#eeeeee",l.line.width+3),t.globalAlpha=1),this.Da(t,c,_,e[r[h-1].index],l.label(e[r[h-1].index]),n,o,i)}},Da:function(t,e,i,s,n,o,l){var h=this.e.item,r=parseInt(h.radius.call(this,s),10)||0,a=this.Ha;if(r){if(t.save(),h.shadow){t.lineWidth=1,t.strokeStyle="#bdbdbd",t.fillStyle="#bdbdbd";for(var d=[.1,.2,.3],c=d.length-1;c>=0;c--)t.globalAlpha=d[c],t.strokeStyle="#d0d0d0",t.beginPath(),this.Ra(t,e,i+2*r/3,r+c+1,h.type),t.stroke();t.beginPath(),t.globalAlpha=.3,t.fillStyle="#bdbdbd",this.Ra(t,e,i+2*r/3,r+1,h.type),t.fill()}t.restore(),t.lineWidth=h.borderWidth,t.fillStyle=h.color.call(this,s),t.strokeStyle=h.borderColor.call(this,s),t.globalAlpha=h.alpha.call(this,s),t.beginPath(),this.Ra(t,e,i,r+1,h.type),t.fill(),t.stroke(),t.globalAlpha=1}n&&this.canvases[o].renderTextAt(!1,!0,e,i-r-this.e.labelOffset,this.e.label.call(this,s));var u=this.e.eventRadius||r+1;l.addRect(s.id,[e-u-a.x,i-u-a.y,e+u-a.x,i+u-a.y],o)},Ra:function(t,e,i,s,n){var o=[];if(!n||"square"!=n&&"s"!=n)if(!n||"diamond"!=n&&"d"!=n)o=!n||"triangle"!=n&&"t"!=n?[[e,i,s,0,2*Math.PI,!0]]:[[e,i-s],[e+Math.sqrt(3)*s/2,i+s/2],[e-Math.sqrt(3)*s/2,i+s/2],[e,i-s]];else var l=t.lineWidth>1?t.lineWidth*Math.sqrt(2)/4:0,o=[[e,i-s],[e+s,i],[e,i+s],[e-s,i],[e+l,i-s-l]];else s*=Math.sqrt(2)/2,o=[[e-s-t.lineWidth/2,i-s],[e+s,i-s],[e+s,i+s],[e-s,i+s],[e-s,i-s]];this.va(t,o)},Ea:function(t,e,i,s){var n=s.minValue,o=s.maxValue,l=s.unit,h=s.valueFactor,r=this.e.value(t),a=(parseFloat(r||0)-n)*h;this.e.yAxis||(a+=s.startValue/l);var d=i.y-l*a;return 0>a&&(d=i.y),r>o&&(d=e.y),n>r&&(d=i.y),d},Aa:function(t,e,i,s,n){var o,l={};l.totalHeight=s.y-i.y,l.cellWidth=(s.x-i.x)/(this.e.offset?e.length:e.length-1);var h=!!this.e.yAxis,r=-1!=this.e.view.indexOf("stacked")?this.lb(e):this.aa();l.maxValue=r.max,l.minValue=r.min,n||this.eb(e,i,s,l.minValue,l.maxValue,l.cellWidth),h&&(l.maxValue=parseFloat(this.e.yAxis.end),l.minValue=parseFloat(this.e.yAxis.start));var a=this.S(l.minValue,l.maxValue);return o=a[0],l.valueFactor=a[1],l.unit=o?l.totalHeight/o:10,l.startValue=0,h||(l.startValue=10,l.unit==l.totalHeight)||(l.unit=o?(l.totalHeight-l.startValue)/o:10),l}},dhtmlx.chart.bar={pvt_render_bar:function(t,e,i,s,n,o){var l,h,r,a,d,c,u,_,p,f,m,g,b,v=s.y-i.y;b=!!this.e.yAxis,g=!!this.e.xAxis,a=this.aa(),d=a.max,c=a.min,h=(s.x-i.x)/e.length,!n&&("auto"==this.e.origin||b)&&this.eb(e,i,s,c,d,h),b&&(d=parseFloat(this.e.yAxis.end),c=parseFloat(this.e.yAxis.start)),p=this.S(c,d),u=p[0],_=p[1],m=u?v/u:u,!b&&!("auto"!=this.e.origin&&g)&&(f=10,m=u?(v-f)/u:f),!n&&"auto"!=this.e.origin&&!b&&this.e.origin>c&&this.Yb(t,e,i,s,h,s.y-m*(this.e.origin-c)),l=parseInt(this.e.width,10);var y=0,x=0;for(r=0;r<this.k.length;r++)r==n&&(x=y),"bar"==this.k[r].view&&y++;this.k&&l*y+4>h&&(l=parseInt(h/y-4,10));var w=(h-l*y)/2,C="undefined"!=typeof this.e.radius?parseInt(this.e.radius,10):Math.round(l/5),N=!1,I=this.e.gradient;for(I&&"function"!=typeof I?(N=I,I=!1):I&&(I=t.createLinearGradient(0,s.y,0,i.y),this.e.gradient(I)),g||this.m(t,i.x,s.y+.5,s.x,s.y+.5,"#000000",1),r=0;r<e.length;r++){var k=parseFloat(this.e.value(e[r])||0);if(!isNaN(k)){k>d&&(k=d),k-=c,k*=_;var S=i.x+w+r*h+(l+1)*x,O=s.y;if(0>k||this.e.yAxis&&0===k&&!("auto"!=this.e.origin&&this.e.origin>c))this.canvases[n].renderTextAt(!0,!0,S+Math.floor(l/2),O,this.e.label(e[r]));else{!b&&!("auto"!=this.e.origin&&g)&&(k+=f/m);var j=I||this.e.color.call(this,e[r]);t.globalAlpha=this.e.alpha.call(this,e[r]);var T=this.Tc(t,i,S,O,l,c,C,m,k,j,I,N);N&&this.Vc(t,S,O,l,c,C,m,k,j,N),this.e.border&&this.Uc(t,S,O,l,c,C,m,k,j),t.globalAlpha=1,T[0]!=S?this.canvases[n].renderTextAt(!1,!0,S+Math.floor(l/2),T[1],this.e.label(e[r])):this.canvases[n].renderTextAt(!0,!0,S+Math.floor(l/2),T[3],this.e.label(e[r])),o.addRect(e[r].id,[S-i.x,T[3]-i.y,T[2]-i.x,T[1]-i.y],n)}}}},$a:function(t,e,i,s,n,o,l){var h=this.e.xAxis,r=i;return h&&"auto"!=this.e.origin&&this.e.origin>l&&(i-=(this.e.origin-l)*n,r=i,s-=this.e.origin-l,0>s&&(s*=-1,t.translate(e+o,i),t.rotate(Math.PI),i=e=0),i-=.5),{value:s,x0:e,y0:i,start:r}
},Tc:function(t,e,i,s,n,o,l,h,r,a,d,c){t.save(),t.fillStyle=a;var u=this.$a(t,i,s,r,h,n,o),_=this.yb(t,u.x0,u.y0,n,l,h,u.value,this.e.border?1:0);d&&!c&&t.lineTo(u.x0+(this.e.border?1:0),e.y),t.fill(),t.restore();var p=u.x0,f=u.x0!=i?i+_[0]:_[0],m=u.x0!=i?u.start-_[1]-u.y0:u.y0,g=u.x0!=i?u.start-u.y0:_[1];return[p,m,f,g]},Pa:function(t,e){var i,s;s=dhtmlx.math.toRgb(e),i=dhtmlx.math.rgbToHsv(s[0],s[1],s[2]),i[2]/=2,e="rgb("+dhtmlx.math.hsvToRgb(i[0],i[1],i[2])+")",t.strokeStyle=e,1==t.globalAlpha&&(t.globalAlpha=.9)},Uc:function(t,e,i,s,n,o,l,h,r){var a;t.save(),a=this.$a(t,e,i,h,l,s,n),this.Pa(t,r),this.yb(t,a.x0,a.y0,s,o,l,a.value,t.lineWidth/2,1),t.stroke(),t.restore()},Vc:function(t,e,i,s,n,o,l,h,r,a){t.save();var d=this.$a(t,e,i,h,l,s,n),c=this.Oa(t,d.x0,d.y0,d.x0+s,d.y0-l*d.value+2,a,r,"y"),u=this.e.border?1:0;t.fillStyle=c.gradient,this.yb(t,d.x0+c.offset,d.y0,s-2*c.offset,o,l,d.value,c.offset+u),t.fill(),t.restore()},yb:function(t,e,i,s,n,o,l,h,r){t.beginPath();var a=0;if(n>o*l){var d=(n-o*l)/n;1>=d&&d>=-1&&(a=-Math.acos(d)+Math.PI/2)}t.moveTo(e+h,i);var c=i-Math.floor(o*l)+n+(n?0:h);o*l>n&&t.lineTo(e+h,c);var u=e+n;n&&n>0&&t.arc(u,c,n-h,-Math.PI+a,-Math.PI/2,!1);var _=e+s-n-h,p=c-n+(n?h:0);t.lineTo(_,p),n&&n>0&&t.arc(_,c,n-h,-Math.PI/2,0-a,!1);var f=e+s-h;return t.lineTo(f,i),r||t.lineTo(e+h,i),[f,p]}},dhtmlx.chart.pie={pvt_render_pie:function(t,e,i,s,n,o){this.vb(t,e,i,s,1,o,n)},vb:function(t,e,i,s,n,o,l){if(e.length){var h=this.jb(i,s),r=this.e.radius?this.e.radius:h.radius;if(!(0>r)){var a=this.ud(e),d=this.dc(a),c=this.cc(a,d),u=this.e.x?this.e.x:h.x,_=this.e.y?this.e.y:h.y;1==n&&this.e.shadow&&this.Cc(t,u,_,r),_/=n;var p=-Math.PI/2,f=[];if(t.scale(1,n),this.e.gradient){var m=1!=n?u+r/3:u,g=1!=n?_+r/3:_;this.Zd(t,u,_,r,m,g)}for(var b=0;b<e.length;b++)if(a[b]){t.strokeStyle=this.e.lineColor.call(this,e[b]),t.beginPath(),t.moveTo(u,_),f.push(p),alpha1=-Math.PI/2+c[b]-1e-4,t.arc(u,_,r,p,alpha1,!1),t.lineTo(u,_);var v=this.e.color.call(this,e[b]);t.fillStyle=v,t.fill(),this.e.pieInnerText&&this.Wb(u,_,5*r/6,p,alpha1,n,this.e.pieInnerText(e[b],d),!0),this.e.label&&this.Wb(u,_,r+this.e.labelOffset,p,alpha1,n,this.e.label(e[b])),1!=n&&(this.Lb(t,u,_,p,alpha1,r,!0),t.fillStyle="#000000",t.globalAlpha=.2,this.Lb(t,u,_,p,alpha1,r,!1),t.globalAlpha=1,t.fillStyle=v),o.addSector(e[b].id,p,alpha1,u-i.x,_-i.y/n,r,n,l),p=alpha1}t.globalAlpha=.8;for(var y,b=0;b<f.length;b++)y=this.R(f[b],u,_,r),this.m(t,u,_,y.x,y.y,this.e.lineColor.call(this,e[b]),2);1==n&&(t.lineWidth=2,t.strokeStyle="#ffffff",t.beginPath(),t.arc(u,_,r+1,0,2*Math.PI,!1),t.stroke()),t.globalAlpha=1,t.scale(1,1/n)}}},ud:function(t){for(var e=[],i=0;i<t.length;i++)e.push(parseFloat(this.e.value(t[i])||0));return e},dc:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i];return e},cc:function(t,e){for(var i,s=[],n=0,e=e||this.dc(t),o=0;o<t.length;o++)i=t[o],s[o]=2*Math.PI*(e?(i+n)/e:1/t.length),n+=i;return s},jb:function(t,e){var i=e.x-t.x,s=e.y-t.y,n=t.x+i/2,o=t.y+s/2,l=Math.min(i/2,s/2);return{x:n,y:o,radius:l}},Lb:function(t,e,i,s,n,o,l){if(t.lineWidth=1,0>=s&&n>=0||s>=0&&n<=Math.PI||Math.abs(s-Math.PI)>.003&&s<=Math.PI&&n>=Math.PI){0>=s&&n>=0&&(s=0,l=!1,this.Xb(t,e,i,o,s,n)),s<=Math.PI&&n>=Math.PI&&(n=Math.PI,l=!1,this.Xb(t,e,i,o,s,n));var h=(this.e.height||Math.floor(o/4))/this.e.cant;t.beginPath(),t.arc(e,i,o,s,n,!1),t.lineTo(e+o*Math.cos(n),i+o*Math.sin(n)+h),t.arc(e,i+h,o,n,s,!0),t.lineTo(e+o*Math.cos(s),i+o*Math.sin(s)),t.fill(),l&&t.stroke()}},Xb:function(t,e,i,s,n,o){t.beginPath(),t.arc(e,i,s,n,o,!1),t.stroke()},Cc:function(t,e,i,s){t.globalAlpha=.5;for(var n="#c4c4c4,#c6c6c6,#cacaca,#dcdcdc,#dddddd,#e0e0e0,#eeeeee,#f5f5f5,#f8f8f8".split(","),o=n.length-1;o>-1;o--)t.beginPath(),t.fillStyle=n[o],t.arc(e+1,i+1,s+o,0,2*Math.PI,!0),t.fill();t.globalAlpha=1},qd:function(t){return t.addColorStop(0,"#ffffff"),t.addColorStop(.7,"#7a7a7a"),t.addColorStop(1,"#000000"),t},Zd:function(t,e,i,s,n,o){t.beginPath();var l;"function"!=typeof this.e.gradient?(l=t.createRadialGradient(n,o,s/4,e,i,s),l=this.qd(l)):l=this.e.gradient(l),t.fillStyle=l,t.arc(e,i,s,0,2*Math.PI,!0),t.fill(),t.globalAlpha=.7},Wb:function(t,e,i,s,n,o,l,h){var r=this.canvases[0].renderText(0,0,l,0,1);if(r){var a=r.scrollWidth;r.style.width=a+"px",a>t&&(a=t);var d=.2>n-s?4:8;h&&(d=a/1.8);var c=s+(n-s)/2;i-=(d-8)/2;var u=-d,_=-8,p="right";(c>=Math.PI/2&&c<Math.PI||c<=3*Math.PI/2&&c>=Math.PI)&&(u=-a-u+1,p="left");var f=0;!h&&1>o&&c>0&&c<Math.PI&&(f=(this.e.height||Math.floor(i/4))/o);var m=(e+Math.floor((i+f)*Math.sin(c)))*o+_,g=t+Math.floor((i+d/2)*Math.cos(c))+u,b=n<Math.PI/2+.01,v=s<Math.PI/2;v&&b?g=Math.max(g,t+3):v||b?!h&&(c>=Math.PI/2&&c<Math.PI||c<=3*Math.PI/2&&c>=Math.PI)&&(g+=a/3):g=Math.min(g,t-a),r.style.top=m+"px",r.style.left=g+"px",r.style.width=a+"px",r.style.textAlign=p,r.style.whiteSpace="nowrap"}}},dhtmlx.chart.pie3D={pvt_render_pie3D:function(t,e,i,s,n,o){this.vb(t,e,i,s,this.e.cant,o)}},dhtmlx.chart.donut={pvt_render_donut:function(t,e,i,s,n,o){if(e.length){this.vb(t,e,i,s,1,o);var l=this.e,h=this.jb(i,s),r=l.radius?l.radius:h.radius,a=l.innerRadius&&l.innerRadius<r?l.innerRadius:r/3,d=l.x?l.x:h.x,c=l.y?l.y:h.y;t.fillStyle="#ffffff",t.beginPath(),t.arc(d,c,a,0,2*Math.PI,!0),t.fill()}}},dhtmlx.Group={p:function(){this.data.attachEvent("onStoreLoad",dhtmlx.bind(function(){this.e.group&&this.group(this.e.group,!1)},this)),this.attachEvent("onBeforeRender",dhtmlx.bind(function(t){this.e.sort&&(t.block(),t.sort(this.e.sort),t.unblock())},this)),this.attachEvent("onBeforeSort",dhtmlx.bind(function(){this.e.sort=null},this))},zd:function(t,e){t.attachEvent("onClearAll",dhtmlx.bind(function(){this.ungroup(!1),this.block(),this.clearAll(),this.unblock()},e))},sum:function(t,e){var t=dhtmlx.Template.setter(t),e=e||this.data,i=0;return e.each(function(e){i+=1*t(e)}),i},min:function(t,e){var t=dhtmlx.Template.setter(t),e=e||this.data,i=1/0;return e.each(function(e){1*t(e)<i&&(i=1*t(e))}),1*i},max:function(t,e){var t=dhtmlx.Template.setter(t),e=e||this.data,i=-1/0;return e.each(function(e){1*t(e)>i&&(i=1*t(e))}),i},be:function(t){var e=function(t,e){return(t=dhtmlx.Template.setter(t))(e[0])},i=dhtmlx.Template.setter(t.by);t.map[i]||(t.map[i]=[i,e]);var s={},n=[];this.data.each(function(t){var e=i(t);s[e]||(n.push({id:e}),s[e]=dhtmlx.toArray()),s[e].push(t)});for(var o in t.map){var l=t.map[o][1]||e;"function"!=typeof l&&(l=this[l]);for(var h=0;h<n.length;h++)n[h][o]=l.call(this,t.map[o][0],s[n[h].id])}this.nc=this.data,this.data=new dhtmlx.DataStore,this.data.provideApi(this,!0),this.zd(this.data,this),this.parse(n,"json")},group:function(t,e){this.ungroup(!1),this.be(t),e!==!1&&this.render()},ungroup:function(t){this.nc&&(this.data=this.nc,this.data.provideApi(this,!0)),t!==!1&&this.render()},group_setter:function(t){return t},sort_setter:function(t){return"object"!=typeof t&&(t={by:t}),this.N(t,{as:"string",dir:"asc"}),t}},dhtmlx.DataDriver.dhtmlxgrid={wd:"_get_cell_value",toObject:function(t){return this.ec=t},getRecords:function(t){return t.rowsBuffer},getDetails:function(t){for(var e={},i=0;i<this.ec.getColumnsNum();i++)e["data"+i]=this.ec[this.wd](t,i);return e},getInfo:function(){return{v:0,r:0}}},dhtmlx.ui.Canvas=function(t,e,i){this.$=[],this.Lc=e,this.g=t,this.pc(t,e,i)},dhtmlx.ui.Canvas.prototype={pc:function(t,e,i){return this.u=dhtmlx.html.create("canvas",{width:t.offsetWidth,height:t.offsetHeight,canvas_id:e,style:i||""}),t.appendChild(this.u),!this.u.getContext&&dhtmlx.z&&(dhtmlx.require("thirdparty/excanvas/excanvas.js"),G_vmlCanvasManager.init_(document),G_vmlCanvasManager.initElement(this.u)),this.u},getCanvas:function(t){return(this.u||this.pc()).getContext(t||"2d")},Wd:function(){this.u&&(this.u.setAttribute("width",this.u.parentNode.offsetWidth),this.u.setAttribute("height",this.u.parentNode.offsetHeight))},renderText:function(t,e,i,s,n){if(i){var o=dhtmlx.html.create("DIV",{"class":"dhx_canvas_text"+(s?" "+s:""),style:"left:"+t+"px; top:"+e+"px;"},i);return this.g.appendChild(o),this.$.push(o),n&&(o.style.width=n+"px"),o}},renderTextAt:function(t,e,i,s,n,o,l){var h=this.renderText.call(this,i,s,n,o,l);return h&&(t&&(h.style.top="middle"==t?parseInt(s-h.offsetHeight/2,10)+"px":s-h.offsetHeight+"px"),e&&(h.style.left="left"==e?i-h.offsetWidth+"px":parseInt(i-h.offsetWidth/2,10)+"px")),h},clearCanvas:function(t){var e,i=[];for(e=0;e<this.$.length;e++)this.g.removeChild(this.$[e]);if(this.$=[],!t&&this.g.n){for(i=this.bc();i.length;)i[0].parentNode.removeChild(i[0]),i.splice(0,1);i=null,this.g.n.getElementsByTagName("AREA").length||(this.g.n.parentNode.removeChild(this.g.n),this.g.n=null)}this.getCanvas().clearRect(0,0,this.u.offsetWidth,this.u.offsetHeight)},toggleCanvas:function(){this.Eb("none"==this.u.style.display)},showCanvas:function(){this.Eb(!0)},hideCanvas:function(){this.Eb(!1)},Eb:function(t){var e,i;for(i=0;i<this.$.length;i++)this.$[i].style.display=t?"":"none";if(this.g.n)for(e=this.bc(),i=0;i<e.length;i++)t?e[i].removeAttribute("disabled"):e[i].setAttribute("disabled","true");this.u.style.display=t?"":"none"},bc:function(){var t,e,i=[];for(t=this.g.n.getElementsByTagName("AREA"),e=0;e<t.length;e++)t[e].getAttribute("userdata")==this.Lc&&i.push(t[e]);return i}},dhtmlXChart=function(t){this.name="Chart",this.version="3.0",dhtmlx.extend(this,dhtmlx.Settings),this.sb(t,"dhx_chart"),dhtmlx.extend(this,dhtmlx.AtomDataLoader),dhtmlx.extend(this,dhtmlx.DataLoader),this.data.provideApi(this,!0),dhtmlx.extend(this,dhtmlx.EventSystem),dhtmlx.extend(this,dhtmlx.MouseEvents),dhtmlx.extend(this,dhtmlx.Destruction),dhtmlx.extend(this,dhtmlx.Group),dhtmlx.extend(this,dhtmlx.AutoTooltip);for(var e in dhtmlx.chart)dhtmlx.extend(this,dhtmlx.chart[e]);t.preset&&this.definePreset(t),this.J(t,this.defaults),this.k=[this.e],this.data.attachEvent("onStoreUpdated",dhtmlx.bind(function(){this.render()},this)),this.attachEvent("onLocateData",this.de)},dhtmlXChart.prototype={w:"dhx_area_id",on_click:{dhx_chart_legend_item:function(t,e,i){var s=i.getAttribute("series_id");if(this.callEvent("onLegendClick",[t,s,i])){var n=this.e,o=n.legend.values,l=o&&o[s].toggle||n.legend.toggle;"undefined"!=typeof s&&this.k.length>1&&l&&(-1!=i.className.indexOf("hidden")?this.showSeries(s):this.hideSeries(s))}}},on_dblclick:{},on_mouse_move:{},bind:function(){dhx.BaseBind.legacyBind.apply(this,arguments)},sync:function(){dhx.BaseBind.legacySync.apply(this,arguments)},resize:function(){for(var t in this.canvases)this.canvases[t].Wd();this.render()},view_setter:function(t){return"undefined"==typeof this.e.offset&&(this.e.offset=!("area"==t||"stackedArea"==t)),"radar"==t&&!this.e.yAxis&&this.define("yAxis",{}),"scatter"==t&&(this.e.yAxis||this.define("yAxis",{}),this.e.xAxis||this.define("xAxis",{})),t},clearCanvas:function(){if(this.canvases&&"object"==typeof this.canvases)for(var t in this.canvases)this.canvases[t].clearCanvas()},render:function(){var t,e,i,s,n;if(this.callEvent("onBeforeRender",[this.data])){if(this.canvases&&"object"==typeof this.canvases)for(e in this.canvases)this.canvases[e].clearCanvas();else this.canvases={};for(this.e.legend&&(this.canvases.legend||(this.canvases.legend=new dhtmlx.ui.Canvas(this.g,"legend")),this.cb(this.data.getRange(),this.g.offsetWidth)),t=this.od(this.g.offsetWidth,this.g.offsetHeight),s=new dhtmlx.ui.Map(this.w),n=this.e,i=this.pd(),e=0;e<this.k.length;e++)this.e=this.k[e],this.canvases[e]||(this.canvases[e]=new dhtmlx.ui.Canvas(this.g,e,"z-index:"+(2+e))),this["pvt_render_"+this.e.view](this.canvases[e].getCanvas(),i,t.start,t.end,e,s);s.render(this.g),this.g.lastChild.style.zIndex=1e3,this.Dc(this.g.lastChild,t),this.callEvent("onAfterRender",[]),this.e=n}},Dc:function(t,e){var i={};i.left=e.start.x,i.top=e.start.y,i.width=e.end.x-e.start.x,i.height=e.end.y-e.start.y;for(var s in i)t.style[s]=i[s]+"px"},pd:function(){var t,e,i,s,n,o,l,h,r,a;if(s=this.data.getRange(),t=-1!=this.e.view.toLowerCase().indexOf("barh")?"yAxis":"xAxis",(e=this.e[t])&&e.units&&"object"==typeof e.units){if(i=e.units,h=[],"undefined"!=typeof i.start&&"undefined"!=typeof i.end&&"undefined"!=typeof i.next)for(l=i.start;l<=i.end;)h.push(l),l=i.next.call(this,l);else"[object Array]"===Object.prototype.toString.call(i)&&(h=i);if(o=[],h.length){for(r=e.value,a={},n=0;n<s.length;n++)a[r(s[n])]=n;for(n=0;n<h.length;n++)"undefined"!=typeof a[h[n]]?(s[a[h[n]]].$unit=h[n],o.push(s[a[h[n]]])):o.push({$unit:h[n]})}return o}return s},value_setter:dhtmlx.Template.obj_setter,xValue_setter:dhtmlx.Template.obj_setter,yValue_setter:function(t){this.define("value",t)},alpha_setter:dhtmlx.Template.obj_setter,label_setter:dhtmlx.Template.obj_setter,lineColor_setter:dhtmlx.Template.obj_setter,borderColor_setter:dhtmlx.Template.obj_setter,pieInnerText_setter:dhtmlx.Template.obj_setter,gradient_setter:function(t){return"function"!=typeof t&&t&&t===!0&&(t="light"),t},colormap:{RAINBOW:function(t){var e=Math.floor(this.indexById(t.id)/this.dataCount()*1536);return 1536==e&&(e-=1),this.Pd[Math.floor(e/256)](e%256)}},color_setter:function(t){return this.colormap[t]||dhtmlx.Template.obj_setter(t)},fill_setter:function(t){return t&&0!=t?dhtmlx.Template.obj_setter(t):!1},definePreset:function(t){this.define("preset",t.preset),delete t.preset},preset_setter:function(t){var e,i,s;if(this.defaults=dhtmlx.extend({},this.defaults),"object"==typeof dhtmlx.presets.chart[t]){s=dhtmlx.presets.chart[t];for(e in s)if("object"==typeof s[e])if(this.defaults[e]&&"object"==typeof this.defaults[e])for(i in this.defaults[e]=dhtmlx.extend({},this.defaults[e]),s[e])this.defaults[e][i]=s[e][i];else this.defaults[e]=dhtmlx.extend({},s[e]);else this.defaults[e]=s[e];return t}return!1},legend_setter:function(t){return t?("object"!=typeof t&&(t={template:t}),this.N(t,{width:150,height:18,layout:"y",align:"left",valign:"bottom",template:"",toggle:-1!=this.e.view.toLowerCase().indexOf("stacked")?"":"hide",marker:{type:"square",width:15,height:15,radius:3},margin:4,padding:3}),t.template=dhtmlx.Template.setter(t.template),t):(this.legendObj&&(this.legendObj.innerHTML="",this.legendObj=null),!1)},defaults:{color:"RAINBOW",alpha:"1",label:!1,value:"{obj.value}",padding:{},view:"pie",lineColor:"#ffffff",cant:.5,width:30,labelWidth:100,line:{width:2,color:"#1293f8"},item:{radius:3,borderColor:"#636363",borderWidth:1,color:"#ffffff",alpha:1,type:"r",shadow:!1},shadow:!0,gradient:!1,border:!0,labelOffset:20,origin:"auto"},item_setter:function(t){"object"!=typeof t&&(t={color:t,borderColor:t}),this.N(t,dhtmlx.extend({},this.defaults.item));for(var e=["alpha","borderColor","color","radius"],i=0;i<e.length;i++)t[e[i]]=dhtmlx.Template.setter(t[e[i]]);return t},line_setter:function(t){return"object"!=typeof t&&(t={color:t}),dhtmlx.extend(this.defaults.line,t),t=dhtmlx.extend({},this.defaults.line),t.color=dhtmlx.Template.setter(t.color),t},padding_setter:function(t){return"object"!=typeof t&&(t={left:t,right:t,top:t,bottom:t}),this.N(t,{left:50,right:20,top:35,bottom:40}),t},xAxis_setter:function(t){if(!t)return!1;"object"!=typeof t&&(t={template:t}),t.value||(t.value=t.template),this.N(t,{title:"",color:"#000000",lineColor:"#cfcfcf",template:"{obj}",value:"{obj}",lines:!0});var e=["lineColor","template","lines","value"];return this.Jb(e,t),this.Ca=dhtmlx.extend({},t),t},yAxis_setter:function(t){this.N(t,{title:"",color:"#000000",lineColor:"#cfcfcf",template:"{obj}",lines:!0,bg:"#ffffff"});var e=["lineColor","template","lines","bg"];return this.Jb(e,t),this.ma=dhtmlx.extend({},t),t},Jb:function(t,e){for(var i=0;i<t.length;i++)e[t[i]]=dhtmlx.Template.setter(e[t[i]])},eb:function(t,e,i,s,n,o){var l=0;return this.e.yAxis&&(this.canvases.y=new dhtmlx.ui.Canvas(this.g,"axis_y"),l=this.Zb(this.canvases.y.getCanvas(),t,e,i,s,n)),this.e.xAxis&&(this.canvases.x=new dhtmlx.ui.Canvas(this.g,"axis_x"),this.Yb(this.canvases.x.getCanvas(),t,e,i,o,l)),l},Yb:function(t,e,i,s,n,o){for(var l,h=i.x-.5,r=parseInt(o?o:s.y,10)+.5,a=s.x,d=!0,c=0;c<e.length;c++){this.e.offset===!0?l=h+n/2+c*n:(l=c==e.length-1?s.x:h+c*n,d=!!c),l=Math.ceil(l)-.5;var u="auto"!=this.e.origin&&"bar"==this.e.view&&parseFloat(this.e.value(e[c]))<this.e.origin;this.ed(l,r,e[c],d,u),(this.e.offset||c)&&this.e.xAxis.lines.call(this,e[c])&&this.fd(t,l,s.y,i.y,e[c])}this.canvases.x.renderTextAt(!0,!1,h,s.y+this.e.padding.bottom-3,this.e.xAxis.title,"dhx_axis_title_x",s.x-i.x),this.m(t,h,r,a,r,this.e.xAxis.color,1),this.e.xAxis.lines.call(this,{})&&this.e.offset&&this.m(t,a+.5,s.y,a+.5,i.y+.5,this.e.xAxis.color,.2)},Zb:function(t,e,i,s,n,o){var l,h={};if(this.e.yAxis){var r=i.x-.5,a=s.y,d=i.y,c=s.y;if(this.e.yAxis.step&&(l=parseFloat(this.e.yAxis.step)),("undefined"==typeof this.ma.step||"undefined"==typeof this.ma.start||"undefined"==typeof this.ma.end)&&(h=this.Wa(n,o),n=h.start,o=h.end,l=h.step,this.e.yAxis.end=o,this.e.yAxis.start=n),this.tc(i,s),0!==l){if(o==n)return a;for(var u=(a-d)*l/(o-n),_=0,p=n;o>=p;p+=l){h.fixNum&&(p=parseFloat(new Number(p).toFixed(h.fixNum)));var f=Math.floor(a-_*u)+.5;!(p==n&&"auto"==this.e.origin)&&this.e.yAxis.lines.call(this,p)&&this.m(t,r,f,s.x,f,this.e.yAxis.lineColor.call(this,p),1),p==this.e.origin&&(c=f);var m=p;if(1>l)var g=Math.min(this.da(l),0>=n?0:this.da(n)),b=Math.pow(10,-g),p=m=Math.round(p*b)/b;this.canvases.y.renderText(0,f-5,this.e.yAxis.template(m.toString()),"dhx_axis_item_y",i.x-5),_++}return this.m(t,r,a+1,r,d,this.e.yAxis.color,1),c}}},tc:function(t,e){var i="dhx_axis_title_y"+(dhtmlx.z&&9!=dhtmlx.z?" dhx_ie_filter":""),s=this.canvases.y.renderTextAt("middle",!1,0,parseInt((e.y-t.y)/2+t.y,10),this.e.yAxis.title,i);s&&(s.style.left=(dhtmlx.env.transform?(s.offsetHeight-s.offsetWidth)/2:0)+"px")},Wa:function(t,e){"auto"!=this.e.origin&&this.e.origin<t&&(t=this.e.origin);var i,s,n;i=(e-t)/8||1;var o=Math.floor(this.da(i)),l=Math.pow(10,o),h=i/l,h=h>5?10:5;if(i=parseInt(h,10)*l,i>Math.abs(t))s=0>t?-i:0;else{var r=Math.abs(t),a=Math.floor(this.da(r)),d=r/Math.pow(10,a);for(s=Math.ceil(10*d)/10*Math.pow(10,a)-i,r>1&&i>.1&&(s=Math.ceil(s));0>t?t>=s:s>=t;)s-=i;0>t&&(s=-s-2*i)}for(n=s;e>n;)n+=i,n=parseFloat(new Number(n).toFixed(Math.abs(o)));return{start:s,end:n,step:i,fixNum:Math.abs(o)}},aa:function(t,e){var i,s,n=arguments.length&&"h"==t?this.Ca:this.ma,e=e||"value";if(n&&"undefined"!=typeof n.end&&"undefined"!=typeof n.start&&n.step)i=parseFloat(n.end),s=parseFloat(n.start);else if(i=this.max(this.k[0][e]),s=n&&"undefined"!=typeof n.start?parseFloat(n.start):this.min(this.k[0][e]),this.k.length>1)for(var o=1;o<this.k.length;o++){var l=this.max(this.k[o][e]),h=this.min(this.k[o][e]);l>i&&(i=l),s>h&&(s=h)}return{max:i,min:s}},da:function(t){var e="log";return Math.floor(Math[e](t)/Math.LN10)},ed:function(t,e,i,s,n){if(this.e.xAxis){var o=this.canvases.x.renderTextAt(n,s,t,e-(n?2:0),this.e.xAxis.template(i));o&&(o.className+=" dhx_axis_item_x")}},fd:function(t,e,i,s,n){this.e.xAxis&&this.e.xAxis.lines&&this.m(t,e,i,e,s,this.e.xAxis.lineColor.call(this,n),1)},m:function(t,e,i,s,n,o,l){t.strokeStyle=o,t.lineWidth=l,t.beginPath(),t.moveTo(e,i),t.lineTo(s,n),t.stroke(),t.lineWidth=1},S:function(t,e){var i,s=1;return i=e!=t?e-t:t,[i,s]},Pd:[function(t){return"#FF"+dhtmlx.math.toHex(t/2,2)+"00"},function(t){return"#FF"+dhtmlx.math.toHex(t/2+128,2)+"00"},function(t){return"#"+dhtmlx.math.toHex(255-t,2)+"FF00"},function(t){return"#00FF"+dhtmlx.math.toHex(t,2)},function(t){return"#00"+dhtmlx.math.toHex(255-t,2)+"FF"},function(t){return"#"+dhtmlx.math.toHex(t,2)+"00FF"}],addSeries:function(t){var e=this.e;this.e=dhtmlx.extend({},e),this.J(t,{}),this.k.push(this.e),this.e=e},de:function(t,e){var i;if(this.Fb=e.getAttribute("userdata"),this.k[this.Fb]){for(var s=0;s<this.k.length;s++)(i=this.k[s].tooltip)&&i.disable();e.getAttribute("disabled")||(i=this.k[this.Fb].tooltip)&&i.enable()}},hideSeries:function(t){this.canvases[t].hideCanvas(),this.e.legend.values&&this.e.legend.values[t]&&(this.e.legend.values[t].$hidden=!0),this.cb()},showSeries:function(t){this.canvases[t].showCanvas(),this.e.legend.values&&this.e.legend.values[t]&&delete this.e.legend.values[t].$hidden,this.cb()},cb:function(t,e){var i,s,n,o,l,h,r,a,d,c,u,_=0,p=0,t=t||[],e=e||this.g.offsetWidth;if(a=this.canvases.legend.getCanvas(),s=this.e.legend,r="x"!=this.e.legend.layout?"width:"+s.width+"px":"",this.legendObj&&(this.legendObj.innerHTML="",this.legendObj.parentNode.removeChild(this.legendObj)),this.canvases.legend.clearCanvas(!0),n=dhtmlx.html.create("DIV",{"class":"dhx_chart_legend",style:"left:"+_+"px; top:"+p+"px;"+r},""),s.padding&&(n.style.padding=s.padding+"px"),this.legendObj=n,this.g.appendChild(n),l=[],s.values)for(i=0;i<s.values.length;i++)l.push(this.Ub(n,s.values[i].text,"undefined"!=typeof s.values[i].id?typeof s.values[i].id:i,s.values[i].$hidden));else for(i=0;i<t.length;i++)l.push(this.Ub(n,s.template(t[i])));for(h=n.offsetWidth,o=n.offsetHeight,h<this.g.offsetWidth&&("x"==s.layout&&"center"==s.align&&(_=(this.g.offsetWidth-h)/2),"right"==s.align&&(_=this.g.offsetWidth-h),s.margin&&"center"!=s.align&&(_+=("left"==s.align?1:-1)*s.margin)),o<this.g.offsetHeight&&("middle"==s.valign&&"center"!=s.align&&"x"!=s.layout?p=(this.g.offsetHeight-o)/2:"bottom"==s.valign&&(p=this.g.offsetHeight-o),s.margin&&"middle"!=s.valign&&(p+=("top"==s.valign?1:-1)*s.margin)),n.style.left=_+"px",n.style.top=p+"px",a.save(),i=0;i<l.length;i++)u=l[i],s.values&&s.values[i].$hidden?(c=!0,d=s.values[i].disableColor?s.values[i].disableColor:"#d9d9d9"):(c=!1,d=s.values?s.values[i].color:this.e.color.call(this,t[i])),this.Zc(a,u.offsetLeft+_,u.offsetTop+p,d,u.offsetHeight,c,i);a.restore(),l=null},Ub:function(t,e,i,s){var n="";"x"==this.e.legend.layout&&(n="float:left;");var o=dhtmlx.html.create("DIV",{style:n+"padding-left:"+(10+this.e.legend.marker.width)+"px","class":"dhx_chart_legend_item"+(s?" hidden":"")},e);return arguments.length>2&&o.setAttribute("series_id",i),t.appendChild(o),o},Zc:function(t,e,i,s,n,o,l){var h=[],r=this.e.legend.marker,a=this.e.legend.values,d=a&&a[l].markerType?a[l].markerType:r.type;if(s&&(t.strokeStyle=t.fillStyle=s),t.beginPath(),"round"!=d&&r.radius)if("item"==d){if(this.e.line&&"scatter"!=this.e.view&&!this.e.disableLines){t.beginPath(),t.lineWidth=this.k[l].line.width,t.strokeStyle=o?s:this.k[l].line.color.call(this,{});var c=e+5,u=i+n/2;t.moveTo(c,u),f=c+r.width,t.lineTo(f,u),t.stroke()}var _=this.k[l].item,p=parseInt(_.radius.call(this,{}),10)||0;p&&(t.beginPath(),o?(t.lineWidth=_.borderWidth,t.strokeStyle=s,t.fillStyle=s):(t.lineWidth=_.borderWidth,t.fillStyle=_.color.call(this,{}),t.strokeStyle=_.borderColor.call(this,{}),t.globalAlpha=_.alpha.call(this,{})),t.beginPath(),e+=r.width/2+5,i+=n/2,this.Ra(t,e,i,p+1,_.type),t.fill(),t.stroke()),t.globalAlpha=1}else t.lineWidth=1,e+=5,i+=n/2-r.height/2,h=[[e+r.radius,i+r.radius,r.radius,Math.PI,3*Math.PI/2,!1],[e+r.width-r.radius,i],[e+r.width-r.radius,i+r.radius,r.radius,-Math.PI/2,0,!1],[e+r.width,i+r.height-r.radius],[e+r.width-r.radius,i+r.height-r.radius,r.radius,0,Math.PI/2,!1],[e+r.radius,i+r.height],[e+r.radius,i+r.height-r.radius,r.radius,Math.PI/2,Math.PI,!1],[e,i+r.radius]],this.va(t,h);else{t.lineWidth=r.height,t.lineCap=d,e+=t.lineWidth/2+5,i+=n/2,t.moveTo(e,i);var f=e+r.width-r.height+1;t.lineTo(f,i)}t.stroke(),t.fill()},od:function(t,e){var i,s,n,o;if(i=this.e.padding.left,s=this.e.padding.top,n=t-this.e.padding.right,o=e-this.e.padding.bottom,this.e.legend){var l=this.e.legend,h=this.e.legend.width,r=this.e.legend.height;"x"==l.layout?"center"==l.valign?"right"==l.align?n-=h:"left"==l.align&&(i+=h):"bottom"==l.valign?o-=r:s+=r:"right"==l.align?n-=h:"left"==l.align&&(i+=h)}return{start:{x:i,y:s},end:{x:n,y:o}}},lb:function(t){var e,i,s,n,o;if(this.e.yAxis&&"undefined"!=typeof this.e.yAxis.end&&"undefined"!=typeof this.e.yAxis.start&&this.e.yAxis.step)s=parseFloat(this.e.yAxis.end),n=parseFloat(this.e.yAxis.start);else{for(e=0;e<t.length;e++)for(t[e].$sum=0,t[e].$min=1/0,i=0;i<this.k.length;i++)o=parseFloat(this.k[i].value(t[e])||0),!isNaN(o)&&(-1!=this.k[i].view.toLowerCase().indexOf("stacked")&&(t[e].$sum+=o),o<t[e].$min)&&(t[e].$min=o);for(s=-1/0,n=1/0,e=0;e<t.length;e++)t[e].$sum>s&&(s=t[e].$sum),t[e].$min<n&&(n=t[e].$min);n>0&&(n=0)}return{max:s,min:n}},Oa:function(t,e,i,s,n,o,l,h){var r,a,d,c,u,_;return"light"==o?(r="x"==h?t.createLinearGradient(e,i,s,i):t.createLinearGradient(e,i,e,n),_=[[0,"#FFFFFF"],[.9,l],[1,l]],a=2):"falling"==o||"rising"==o?(r="x"==h?t.createLinearGradient(e,i,s,i):t.createLinearGradient(e,i,e,n),d=dhtmlx.math.toRgb(l),c=dhtmlx.math.rgbToHsv(d[0],d[1],d[2]),c[1]*=.5,u="rgb("+dhtmlx.math.hsvToRgb(c[0],c[1],c[2])+")","falling"==o?_=[[0,u],[.7,l],[1,l]]:"rising"==o&&(_=[[0,l],[.3,l],[1,u]]),a=0):(t.globalAlpha=.37,a=0,r="x"==h?t.createLinearGradient(e,n,e,i):t.createLinearGradient(e,i,s,i),_=[[0,"#9d9d9d"],[.3,"#e8e8e8"],[.45,"#ffffff"],[.55,"#ffffff"],[.7,"#e8e8e8"],[1,"#9d9d9d"]]),this.vd(r,_),{gradient:r,offset:a}},R:function(t,e,i,s){return t*=-1,e+=Math.cos(t)*s,i-=Math.sin(t)*s,{x:e,y:i}},vd:function(t,e){for(var i=0;i<e.length;i++)t.addColorStop(e[i][0],e[i][1])},va:function(t,e){var i,s;for(i=0;i<e.length;i++)s=i?"lineTo":"moveTo",e[i].length>2&&(s="arc"),t[s].apply(t,e[i])},he:function(t,e,i,s){t.arc(e,i,s,2*Math.PI,!0)},fe:function(t,e,i,s,n){t.addRect(e,[i[0].x-s.x,i[0].y-s.y,i[1].x-s.x,i[1].y-s.y],n)}},dhtmlx.compat("layout"),document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new a(this))}function e(t,e){var i=C.call(arguments,2);return function(){return t.apply(e,i.concat(C.call(arguments)))}}function i(t){var e=t.srcElement;switch(t.propertyName){case"width":e.style.width=e.attributes.width.nodeValue+"px",e.getContext().clearRect();break;case"height":e.style.height=e.attributes.height.nodeValue+"px",e.getContext().clearRect()}}function s(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function n(){return[[1,0,0],[0,1,0],[0,0,1]]}function o(t,e){for(var i=n(),s=0;3>s;s++)for(var o=0;3>o;o++){for(var l=0,h=0;3>h;h++)l+=t[s][h]*e[h][o];i[s][o]=l}return i}function l(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function h(t){var e,i=1,t=String(t);if("rgb"==t.substring(0,3)){var s=t.indexOf("(",3),n=t.indexOf(")",s+1),o=t.substring(s+1,n).split(",");e="#";for(var l=0;3>l;l++)e+=I[Number(o[l])];4==o.length&&"a"==t.substr(3,1)&&(i=o[3])}else e=t;return{color:e,alpha:i}}function r(t){switch(t){case"butt":return"flat";case"round":return"round";default:return"square"}}function a(t){this.m_=n(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*x,this.globalAlpha=1,this.canvas=t;var e=t.ownerDocument.createElement("div");e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",e.style.overflow="hidden",e.style.position="absolute",t.appendChild(e),this.element_=e,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function d(t,e,i,s){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:s.x,y:s.y}),t.currentX_=s.x,t.currentY_=s.y}function c(t){for(var e=0;3>e;e++)for(var i=0;2>i;i++)if(!isFinite(t[e][i])||isNaN(t[e][i]))return!1;return!0}function u(t,e,i){if(c(e)&&(t.m_=e,i)){var s=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=y(v(s))}}function _(t){this.type_=t,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function p(){}var f=Math,m=f.round,g=f.sin,b=f.cos,v=f.abs,y=f.sqrt,x=10,w=x/2,C=Array.prototype.slice,N={init:function(t){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var i=t||document;i.createElement("canvas"),i.attachEvent("onreadystatechange",e(this.init_,this,i))}},init_:function(t){if(t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}for(var i=t.getElementsByTagName("canvas"),s=0;s<i.length;s++)this.initElement(i[s])},initElement:function(e){if(!e.getContext){e.getContext=t,e.innerHTML="",e.attachEvent("onpropertychange",i),e.attachEvent("onresize",s);var n=e.attributes;n.width&&n.width.specified?e.style.width=n.width.nodeValue+"px":e.width=e.clientWidth,n.height&&n.height.specified?e.style.height=n.height.nodeValue+"px":e.height=e.clientHeight}return e}};N.init();for(var I=[],k=0;16>k;k++)for(var S=0;16>S;S++)I[16*k+S]=k.toString(16)+S.toString(16);var O=a.prototype;O.clearRect=function(){this.element_.innerHTML=""},O.beginPath=function(){this.currentPath_=[]},O.moveTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},O.lineTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},O.bezierCurveTo=function(t,e,i,s,n,o){var l=this.getCoords_(n,o),h=this.getCoords_(t,e),r=this.getCoords_(i,s);d(this,h,r,l)},O.quadraticCurveTo=function(t,e,i,s){var n=this.getCoords_(t,e),o=this.getCoords_(i,s),l={x:this.currentX_+2/3*(n.x-this.currentX_),y:this.currentY_+2/3*(n.y-this.currentY_)},h={x:l.x+(o.x-this.currentX_)/3,y:l.y+(o.y-this.currentY_)/3};d(this,l,h,o)},O.arc=function(t,e,i,s,n,o){i*=x;var l=o?"at":"wa",h=t+b(s)*i-w,r=e+g(s)*i-w,a=t+b(n)*i-w,d=e+g(n)*i-w;h==a&&!o&&(h+=.125);var c=this.getCoords_(t,e),u=this.getCoords_(h,r),_=this.getCoords_(a,d);this.currentPath_.push({type:l,x:c.x,y:c.y,radius:i,xStart:u.x,yStart:u.y,xEnd:_.x,yEnd:_.y})},O.rect=function(t,e,i,s){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+s),this.lineTo(t,e+s),this.closePath()},O.strokeRect=function(t,e,i,s){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+s),this.lineTo(t,e+s),this.closePath(),this.stroke(),this.currentPath_=n},O.fillRect=function(t,e,i,s){var n=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+s),this.lineTo(t,e+s),this.closePath(),this.fill(),this.currentPath_=n},O.createLinearGradient=function(t,e,i,s){var n=new _("gradient");return n.x0_=t,n.y0_=e,n.x1_=i,n.y1_=s,n},O.createRadialGradient=function(t,e,i,s,n,o){var l=new _("gradientradial");return l.x0_=t,l.y0_=e,l.r0_=i,l.x1_=s,l.y1_=n,l.r1_=o,l},O.drawImage=function(t){var e,i,s,n,o,l,h,r,a=t.runtimeStyle.width,d=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var c=t.width,u=t.height;if(t.runtimeStyle.width=a,t.runtimeStyle.height=d,3==arguments.length)e=arguments[1],i=arguments[2],o=l=0,h=s=c,r=n=u;else if(5==arguments.length)e=arguments[1],i=arguments[2],s=arguments[3],n=arguments[4],o=l=0,h=c,r=u;else{if(9!=arguments.length)throw Error("Invalid number of arguments");o=arguments[1],l=arguments[2],h=arguments[3],r=arguments[4],e=arguments[5],i=arguments[6],s=arguments[7],n=arguments[8]}var _=this.getCoords_(e,i),p=[],g=10,b=10;if(p.push(" <g_vml_:group",' coordsize="',x*g,",",x*b,'"',' coordorigin="0,0"',' style="width:',g,"px;height:",b,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]){var v=[];v.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",m(_.x/x),",","Dy=",m(_.y/x),"");var y=_,w=this.getCoords_(e+s,i),C=this.getCoords_(e,i+n),N=this.getCoords_(e+s,i+n);y.x=f.max(y.x,w.x,C.x,N.x),y.y=f.max(y.y,w.y,C.y,N.y),p.push("padding:0 ",m(y.x/x),"px ",m(y.y/x),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",v.join(""),", sizingmethod='clip');")
}else p.push("top:",m(_.y/x),"px;left:",m(_.x/x),"px;");p.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',x*s,"px;"," height:",x*n,'px;"',' cropleft="',o/c,'"',' croptop="',l/u,'"',' cropright="',(c-o-h)/c,'"',' cropbottom="',(u-l-r)/u,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",p.join(""))},O.stroke=function(t){var e=[],i=h(t?this.fillStyle:this.strokeStyle),s=i.color,n=i.alpha*this.globalAlpha,o=10,l=10;e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',o,"px;height:",l,'px;"',' coordorigin="0 0" coordsize="',x*o," ",x*l,'"',' stroked="',!t,'"',' path="');for(var a={x:null,y:null},d={x:null,y:null},c=0;c<this.currentPath_.length;c++){var u,_=this.currentPath_[c];switch(_.type){case"moveTo":u=_,e.push(" m ",m(_.x),",",m(_.y));break;case"lineTo":e.push(" l ",m(_.x),",",m(_.y));break;case"close":e.push(" x "),_=null;break;case"bezierCurveTo":e.push(" c ",m(_.cp1x),",",m(_.cp1y),",",m(_.cp2x),",",m(_.cp2y),",",m(_.x),",",m(_.y));break;case"at":case"wa":e.push(" ",_.type," ",m(_.x-this.arcScaleX_*_.radius),",",m(_.y-this.arcScaleY_*_.radius)," ",m(_.x+this.arcScaleX_*_.radius),",",m(_.y+this.arcScaleY_*_.radius)," ",m(_.xStart),",",m(_.yStart)," ",m(_.xEnd),",",m(_.yEnd))}_&&((null==a.x||_.x<a.x)&&(a.x=_.x),(null==d.x||_.x>d.x)&&(d.x=_.x),(null==a.y||_.y<a.y)&&(a.y=_.y),(null==d.y||_.y>d.y)&&(d.y=_.y))}if(e.push(' ">'),t)if("object"==typeof this.fillStyle){var p=this.fillStyle,g=0,b={x:0,y:0},v=0,y=1;if("gradient"==p.type_){var w=p.x0_/this.arcScaleX_,C=p.y0_/this.arcScaleY_,N=p.x1_/this.arcScaleX_,I=p.y1_/this.arcScaleY_,k=this.getCoords_(w,C),S=this.getCoords_(N,I),O=S.x-k.x,j=S.y-k.y,g=180*Math.atan2(O,j)/Math.PI;0>g&&(g+=360),1e-6>g&&(g=0)}else{var k=this.getCoords_(p.x0_,p.y0_),T=d.x-a.x,E=d.y-a.y,b={x:(k.x-a.x)/T,y:(k.y-a.y)/E};T/=this.arcScaleX_*x,E/=this.arcScaleY_*x;var A=f.max(T,E),v=2*p.r0_/A,y=2*p.r1_/A-v}var M=p.colors_;M.sort(function(t,e){return t.offset-e.offset});for(var L=M.length,P=M[0].color,D=M[L-1].color,X=M[0].alpha*this.globalAlpha,B=M[L-1].alpha*this.globalAlpha,H=[],c=0;L>c;c++){var R=M[c];H.push(R.offset*y+v+" "+R.color)}e.push('<g_vml_:fill type="',p.type_,'"',' method="none" focus="100%"',' color="',P,'"',' color2="',D,'"',' colors="',H.join(","),'"',' opacity="',B,'"',' g_o_:opacity2="',X,'"',' angle="',g,'"',' focusposition="',b.x,",",b.y,'" />')}else e.push('<g_vml_:fill color="',s,'" opacity="',n,'" />');else{var F=this.lineScale_*this.lineWidth;1>F&&(n*=F),e.push("<g_vml_:stroke",' opacity="',n,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',r(this.lineCap),'"',' weight="',F,'px"',' color="',s,'" />')}e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},O.fill=function(){this.stroke(!0)},O.closePath=function(){this.currentPath_.push({type:"close"})},O.getCoords_=function(t,e){var i=this.m_;return{x:x*(t*i[0][0]+e*i[1][0]+i[2][0])-w,y:x*(t*i[0][1]+e*i[1][1]+i[2][1])-w}},O.save=function(){var t={};l(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=o(n(),this.m_)},O.restore=function(){l(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},O.translate=function(t,e){var i=[[1,0,0],[0,1,0],[t,e,1]];u(this,o(i,this.m_),!1)},O.rotate=function(t){var e=b(t),i=g(t),s=[[e,i,0],[-i,e,0],[0,0,1]];u(this,o(s,this.m_),!1)},O.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e;var i=[[t,0,0],[0,e,0],[0,0,1]];u(this,o(i,this.m_),!0)},O.transform=function(t,e,i,s,n,l){var h=[[t,e,0],[i,s,0],[n,l,1]];u(this,o(h,this.m_),!0)},O.setTransform=function(t,e,i,s,n,o){var l=[[t,e,0],[i,s,0],[n,o,1]];u(this,l,!0)},O.clip=function(){},O.arcTo=function(){},O.createPattern=function(){return new p},_.prototype.addColorStop=function(t,e){e=h(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},G_vmlCanvasManager=N,CanvasRenderingContext2D=a,CanvasGradient=_,CanvasPattern=p}(),dhtmlx&&dhtmlx.A&&(dhtmlx.A["thirdparty/excanvas/excanvas.js"]=!0),window.dhx||(dhx={}),dhx.version="3.0",dhx.codebase="./",dhx.name="Core",dhx.clone=function(t){var e=dhx.clone.hb;return e.prototype=t,new e},dhx.clone.hb=function(){},dhx.extend=function(t,e,i){if(t.qa)return dhx.PowerArray.insertAt.call(t.qa,e,1),t;for(var s in e)(!t[s]||i)&&(t[s]=e[s]);return e.defaults&&dhx.extend(t.defaults,e.defaults),e.$init&&e.$init.call(t),t},dhx.copy=function(t){if(arguments.length>1)var e=arguments[0],t=arguments[1];else e=dhx.isArray(t)?[]:{};for(var i in t)t[i]&&"object"==typeof t[i]&&!dhx.isDate(t[i])?(e[i]=dhx.isArray(t[i])?[]:{},dhx.copy(e[i],t[i])):e[i]=t[i];return e},dhx.single=function(t){var e=null,i=function(){return e||(e=new t({})),e.Sd&&e.Sd.apply(e,arguments),e};return i},dhx.protoUI=function(){var t=arguments,e=t[0].name,i=function(t){if(!i)return dhx.ui[e].prototype;var s=i.qa;if(s){for(var n=[s[0]],o=1;o<s.length;o++)n[o]=s[o],n[o].qa&&(n[o]=n[o].call(dhx,n[o].name)),n[o].prototype&&n[o].prototype.name&&(dhx.ui[n[o].prototype.name]=n[o]);if(dhx.ui[e]=dhx.proto.apply(dhx,n),i.ra)for(o=0;o<i.ra.length;o++)dhx.Type(dhx.ui[e],i.ra[o]);i=s=null}return this!=dhx?new dhx.ui[e](t):dhx.ui[e]};return i.qa=Array.prototype.slice.call(arguments,0),dhx.ui[e]=i},dhx.proto=function(){for(var t=arguments,e=t[0],i=!!e.$init,s=[],n=t.length-1;n>0;n--){if("function"==typeof t[n]&&(t[n]=t[n].prototype),t[n].$init&&s.push(t[n].$init),t[n].defaults){var o=t[n].defaults;e.defaults||(e.defaults={});for(var l in o)dhx.isUndefined(e.defaults[l])&&(e.defaults[l]=o[l])}if(t[n].type&&e.type)for(l in t[n].type)e.type[l]||(e.type[l]=t[n].type[l]);for(var h in t[n])e[h]||(e[h]=t[n][h])}i&&s.push(e.$init),e.$init=function(){for(var t=0;t<s.length;t++)s[t].apply(this,arguments)};var r=function(t){this.$ready=[],this.$init(t),this.J&&this.J(t,this.defaults);for(var e=0;e<this.$ready.length;e++)this.$ready[e].call(this)};return r.prototype=e,e=t=null,r},dhx.bind=function(t,e){return function(){return t.apply(e,arguments)}},dhx.require=function(t,e,i,s,n){if("string"!=typeof t){var o=t.length||0,l=e;if(o)(e=function(){return o?(o--,void dhx.require(t[t.length-o-1],e,i)):l.apply(this,arguments)})();else{for(var h in t)o++;e=function(){o--,0===o&&l.apply(this,arguments)};for(h in t)dhx.require(h,e,i)}}else if(dhx.A[t]!==!0)if(".css"==t.substr(-4)){var r=dhx.html.create("LINK",{type:"text/css",rel:"stylesheet",href:dhx.codebase+t});document.head.appendChild(r),e&&e.call(i||window)}else{e?dhx.A[t]?dhx.A[t].push([e,i]):(dhx.A[t]=[[e,i]],dhx.ajax(dhx.codebase+t,function(e){dhx.exec(e);var i=dhx.A[t];dhx.A[t]=!0;for(var s=0;s<i.length;s++)i[s][0].call(i[s][1]||window,!s)})):(dhx.exec(dhx.ajax().sync().get(dhx.codebase+t).responseText),dhx.A[t]=!0)}},dhx.A={},dhx.exec=function(t){window.execScript?window.execScript(t):window.eval(t)},dhx.wrap=function(t,e){return t?function(){var i=t.apply(this,arguments);return e.apply(this,arguments),i}:e},dhx.isUndefined=function(t){return"undefined"==typeof t},dhx.delay=function(t,e,i,s){return window.setTimeout(function(){var s=t.apply(e,i||[]);return t=e=i=null,s},s||1)},dhx.uid=function(){return this.W||(this.W=(new Date).valueOf()),this.W++,this.W},dhx.toNode=function(t){return"string"==typeof t?document.getElementById(t):t},dhx.toArray=function(t){return dhx.extend(t||[],dhx.PowerArray,!0)},dhx.toFunctor=function(a){return"string"==typeof a?eval(a):a},dhx.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},dhx.isDate=function(t){return t instanceof Date},dhx.q={},dhx.event=function(t,e,i,s){var t=dhx.toNode(t),n=dhx.uid();return s&&(i=dhx.bind(i,s)),dhx.q[n]=[t,e,i],t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i),n},dhx.eventRemove=function(t){if(t){var e=dhx.q[t];e[0].removeEventListener?e[0].removeEventListener(e[1],e[2],!1):e[0].detachEvent&&e[0].detachEvent("on"+e[1],e[2]),delete this.q[t]}},dhx.debug_code=function(t){t.call(dhx)},dhx.EventSystem={$init:function(){this.L||(this.L={},this.ta={},this.gb={})},blockEvent:function(){this.L.ka=!0},unblockEvent:function(){this.L.ka=!1},mapEvent:function(t){dhx.extend(this.gb,t,!0)},on_setter:function(t){if(t)for(var e in t)"function"==typeof t[e]&&this.attachEvent(e,t[e])},callEvent:function(t,e){if(this.L.ka)return!0;var t=t.toLowerCase(),i=this.L[t.toLowerCase()],s=!0;if(i)for(var n=0;n<i.length;n++)i[n].apply(this,e||[])===!1&&(s=!1);return this.gb[t]&&!this.gb[t].callEvent(t,e)&&(s=!1),s},attachEvent:function(t,e,i){var t=t.toLowerCase(),i=i||dhx.uid(),e=dhx.toFunctor(e),s=this.L[t]||dhx.toArray();return s.push(e),this.L[t]=s,this.ta[i]={f:e,t:t},i},detachEvent:function(t){if(this.ta[t]){var e=this.ta[t].t,i=this.ta[t].f,s=this.L[e];s.remove(i),delete this.ta[t]}},hasEvent:function(t){return t=t.toLowerCase(),this.L[t]?!0:!1}},dhx.extend(dhx,dhx.EventSystem),dhx.PowerArray={removeAt:function(t,e){t>=0&&this.splice(t,e||1)},remove:function(t){this.removeAt(this.find(t))},insertAt:function(t,e){if(e||0===e){var i=this.splice(e,this.length-e);this[e]=t,this.push.apply(this,i)}else this.push(t)},find:function(t){for(var e=0;e<this.length;e++)if(t==this[e])return e;return-1},each:function(t,e){for(var i=0;i<this.length;i++)t.call(e||this,this[i])},map:function(t,e){for(var i=0;i<this.length;i++)this[i]=t.call(e||this,this[i]);return this},filter:function(t,e){for(var i=0;i<this.length;i++)t.call(e||this,this[i])||(this.splice(i,1),i--);return this}},dhx.env={},function(){-1!=navigator.userAgent.indexOf("Mobile")&&(dhx.env.mobile=!0),(dhx.env.mobile||-1!=navigator.userAgent.indexOf("iPad")||-1!=navigator.userAgent.indexOf("Android"))&&(dhx.env.touch=!0),-1!=navigator.userAgent.indexOf("Opera")?dhx.env.isOpera=!0:(dhx.env.isIE=!!document.all,dhx.env.isFF=!document.all,dhx.env.isWebKit=-1!=navigator.userAgent.indexOf("KHTML"),dhx.env.isSafari=dhx.env.isWebKit&&-1!=navigator.userAgent.indexOf("Mac")),-1!=navigator.userAgent.toLowerCase().indexOf("android")&&(dhx.env.isAndroid=!0),dhx.env.transform=!1,dhx.env.transition=!1;for(var t={names:["transform","transition"],transform:["transform","WebkitTransform","MozTransform","OTransform","msTransform"],transition:["transition","WebkitTransition","MozTransition","OTransition","msTransition"]},e=document.createElement("DIV"),i=0;i<t.names.length;i++)for(var s=t[t.names[i]],n=0;n<s.length;n++)if("undefined"!=typeof e.style[s[n]]){dhx.env[t.names[i]]=s[n];break}e.style[dhx.env.transform]="translate3d(0,0,0)",dhx.env.translate=e.style[dhx.env.transform]?"translate3d":"translate";var o="",l=!1;dhx.env.isOpera&&(o="-o-",l="O"),dhx.env.isFF&&(o="-Moz-"),dhx.env.isWebKit&&(o="-webkit-"),dhx.env.isIE&&(o="-ms-"),dhx.env.transformCSSPrefix=o,dhx.env.transformPrefix=l||dhx.env.transformCSSPrefix.replace(/-/gi,""),dhx.env.transitionEnd="-Moz-"==dhx.env.transformCSSPrefix?"transitionend":dhx.env.transformPrefix+"TransitionEnd"}(),dhx.env.svg=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),dhx.html={ua:0,denySelect:function(){dhx.ua||(dhx.ua=document.onselectstart),document.onselectstart=dhx.html.stopEvent},allowSelect:function(){0!==dhx.ua&&(document.onselectstart=dhx.ua||null),dhx.ua=0},index:function(t){for(var e=0;t=t.previousSibling;)e++;return e},zc:{},createCss:function(t){var e,i="";for(e in t)i+=e+":"+t[e]+";";var s=this.zc[i];return s||(s="s"+dhx.uid(),this.addStyle("."+s+"{"+i+"}"),this.zc[i]=s),s},addStyle:function(t){var e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("media","screen"),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)},create:function(t,e,i){var s,e=e||{},n=document.createElement(t);for(s in e)n.setAttribute(s,e[s]);return e.style&&(n.style.cssText=e.style),e["class"]&&(n.className=e["class"]),i&&(n.innerHTML=i),n},getValue:function(t){return t=dhx.toNode(t),t?dhx.isUndefined(t.value)?t.innerHTML:t.value:""},remove:function(t){if(t instanceof Array)for(var e=0;e<t.length;e++)this.remove(t[e]);else t&&t.parentNode&&t.parentNode.removeChild(t)},insertBefore:function(t,e,i){t&&(e&&e.parentNode?e.parentNode.insertBefore(t,e):i.appendChild(t))},locate:function(t,e){if(t.tagName)var i=t;else t=t||event,i=t.target||t.srcElement;for(;i;){if(i.getAttribute){var s=i.getAttribute(e);if(s)return s}i=i.parentNode}return null},offset:function(t){if(t.getBoundingClientRect){var e=t.getBoundingClientRect(),i=document.body,s=document.documentElement,n=window.pageYOffset||s.scrollTop||i.scrollTop,o=window.pageXOffset||s.scrollLeft||i.scrollLeft,l=s.clientTop||i.clientTop||0,h=s.clientLeft||i.clientLeft||0,r=e.top+n-l,a=e.left+o-h;return{y:Math.round(r),x:Math.round(a)}}for(a=r=0;t;)r+=parseInt(t.offsetTop,10),a+=parseInt(t.offsetLeft,10),t=t.offsetParent;return{y:r,x:a}},posRelative:function(t){return t=t||event,dhx.isUndefined(t.offsetX)?{x:t.layerX,y:t.layerY}:{x:t.offsetX,y:t.offsetY}},pos:function(t){if(t=t||event,t.pageX||t.pageY)return{x:t.pageX,y:t.pageY};var e=dhx.env.isIE&&"BackCompat"!=document.compatMode?document.documentElement:document.body;return{x:t.clientX+e.scrollLeft-e.clientLeft,y:t.clientY+e.scrollTop-e.clientTop}},preventEvent:function(t){return t&&t.preventDefault&&t.preventDefault(),dhx.html.stopEvent(t)},stopEvent:function(t){return(t||event).cancelBubble=!0,!1},addCss:function(t,e){t.className+=" "+e},removeCss:function(t,e){t.className=t.className.replace(RegExp(" "+e,"g"),"")}},dhx.ready=function(t){this.Qd?t.call():this.Ka.push(t)},dhx.Ka=[],function(){var t=document.getElementsByTagName("SCRIPT");t.length&&(t=(t[t.length-1].getAttribute("src")||"").split("/"),t.splice(t.length-1,1),dhx.codebase=t.slice(0,t.length).join("/")+"/"),dhx.event(window,"load",function(){dhx.callEvent("onReady",[]),dhx.delay(function(){dhx.Qd=!0;for(var t=0;t<dhx.Ka.length;t++)dhx.Ka[t].call();dhx.Ka=[]})})}(),dhx.locale=dhx.locale||{},dhx.ready(function(){dhx.event(document.body,"click",function(t){dhx.callEvent("onClick",[t||event])})}),function(){var t={},e=RegExp("(\\r\\n|\\n)","g"),i=RegExp('(\\")',"g");dhx.Template=function(s){if("function"==typeof s)return s;if(t[s])return t[s];if(s=(s||"").toString(),-1!=s.indexOf("->"))switch(s=s.split("->"),s[0]){case"html":s=dhx.html.getValue(s[1]);break;case"http":s=(new dhx.ajax).sync().get(s[1],{uid:dhx.uid()}).responseText}s=(s||"").toString(),s=s.replace(e,"\\n"),s=s.replace(i,'\\"'),s=s.replace(/\{obj\.([^}?]+)\?([^:]*):([^}]*)\}/g,'"+(obj.$1?"$2":"$3")+"'),s=s.replace(/\{common\.([^}\(]*)\}/g,"\"+(common.$1||'')+\""),s=s.replace(/\{common\.([^\}\(]*)\(\)\}/g,'"+(common.$1?common.$1.apply(this, arguments):"")+"'),s=s.replace(/\{obj\.([^}]*)\}/g,'"+(obj.$1)+"'),s=s.replace("{obj}",'"+obj+"'),s=s.replace(/#([^#'";, ]+)#/gi,'"+(obj.$1)+"');try{t[s]=Function("obj","common",'return "'+s+'";')}catch(n){}return t[s]},dhx.Template.empty=function(){return""},dhx.Template.bind=function(t){return dhx.bind(dhx.Template(t),this)},dhx.Type=function(t,e){if(!t.qa){"function"==typeof t&&(t=t.prototype),t.types||(t.types={"default":t.type},t.type.name="default");var i=e.name,s=t.type;i&&(s=t.types[i]=dhx.clone(e.baseType?t.types[e.baseType]:t.type));for(var n in e)s[n]=0===n.indexOf("template")?dhx.Template(e[n]):e[n];return i}t.ra||(t.ra=[]),t.ra.push(e)}}(),dhx.Settings={$init:function(){this.e=this.config={}},define:function(t,e){return"object"==typeof t?this.ea(t):this.na(t,e)},na:function(t,e){var i=this[t+"_setter"];return this.e[t]=i?i.call(this,e,t):e},ea:function(t){if(t)for(var e in t)this.na(e,t[e])},J:function(t,e){var i={};e&&(i=dhx.extend(i,e)),"object"==typeof t&&!t.tagName&&dhx.extend(i,t,!0),this.ea(i)},N:function(t,e){for(var i in e)switch(typeof t[i]){case"object":t[i]=this.N(t[i]||{},e[i]);break;case"undefined":t[i]=e[i]}return t},debug_freid_c_id:!0,debug_freid_a_name:!0},dhx.ajax=function(t,e,i){if(0!==arguments.length){var s=new dhx.ajax;return i&&(s.master=i),s.get(t,null,e)}return this.getXHR?this:new dhx.ajax},dhx.ajax.count=0,dhx.ajax.prototype={master:null,getXHR:function(){return dhx.env.isIE?new ActiveXObject("Microsoft.xmlHTTP"):new XMLHttpRequest},send:function(t,e,i){var s=this.getXHR();if(dhx.isArray(i)||(i=[i]),"object"==typeof e){var n,o=[];for(n in e){var l=e[n];(null===l||l===dhx.undefined)&&(l=""),o.push(n+"="+encodeURIComponent(l))}e=o.join("&")}e&&"GET"===this.request&&(t=t+(-1!=t.indexOf("?")?"&":"?")+e,e=null),s.open(this.request,t,!this.Bb),"POST"===this.request&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded");var h=this;return s.onreadystatechange=function(){if(!s.readyState||4==s.readyState){if(dhx.ajax.count++,i&&h)for(var t=0;t<i.length;t++)if(i[t]){var e=i[t].success||i[t];(s.status>=400||!s.status&&!s.responseText)&&(e=i[t].error),e&&e.call(h.master||h,s.responseText,s.responseXML,s)}h&&(h.master=null),i=h=null}},s.send(e||null),s},get:function(t,e,i){return 2==arguments.length&&(i=e,e=null),this.request="GET",this.send(t,e,i)},post:function(t,e,i){return this.request="POST",this.send(t,e,i)},put:function(t,e,i){return this.request="PUT",this.send(t,e,i)},del:function(t,e,i){return this.request="DELETE",this.send(t,e,i)},sync:function(){return this.Bb=!0,this},bind:function(t){return this.master=t,this}},dhx.send=function(t,e,i,s){var n,o=dhx.html.create("FORM",{target:s||"_self",action:t,method:i||"POST"},"");for(n in e){var l=dhx.html.create("INPUT",{type:"hidden",name:n,value:e[n]},"");o.appendChild(l)}o.style.display="none",document.body.appendChild(o),o.submit(),document.body.removeChild(o)},dhx.AtomDataLoader={$init:function(t){this.data={},t&&(this.e.datatype=t.datatype||"json",this.$ready.push(this.ob))},ob:function(){this.wa=!0,this.e.url&&this.url_setter(this.e.url),this.e.data&&this.data_setter(this.e.data)},url_setter:function(t){return this.wa?(this.load(t,this.e.datatype),t):t},data_setter:function(t){return this.wa?(this.parse(t,this.e.datatype),!0):t},debug_freid_c_datatype:!0,debug_freid_c_dataFeed:!0,load:function(t,e,i){if(!t.$proxy){this.callEvent("onXLS",[]),"string"==typeof e?(this.data.driver=dhx.DataDriver[e],e=i):this.data.driver||(this.data.driver=dhx.DataDriver.json);var s=[{success:this.V}];return e&&(dhx.isArray(e)?s.push.apply(s,e):s.push(e)),dhx.ajax(t,s,this)}t.load(this,"string"==typeof e?e:"json")},parse:function(t,e){this.callEvent("onXLS",[]),this.data.driver=dhx.DataDriver[e||"json"],this.V(t,null)},V:function(t,e,i){var s=this.data.driver,n=s.toObject(t,e);if(n){var o=s.getRecords(n)[0];this.data=s?s.getDetails(o):t}else this.qb(t,e,i);this.callEvent("onXLE",[])},qb:function(t,e,i){this.callEvent("onXLE",[]),this.callEvent("onLoadError",arguments),dhx.callEvent("onLoadError",[t,e,i,this])},la:function(t){if(!this.e.dataFeed||this.ca||!t)return!0;var e=this.e.dataFeed;return"function"==typeof e?e.call(this,t.id||t,t):(e=e+(-1==e.indexOf("?")?"?":"&")+"action=get&id="+encodeURIComponent(t.id||t),this.callEvent("onXLS",[]),dhx.ajax(e,function(t,e,i){this.ca=!0;var s=dhx.DataDriver.toObject(t,e);s?this.setValues(s.getDetails(s.getRecords()[0])):this.qb(t,e,i),this.ca=!1,this.callEvent("onXLE",[])},this),!1)}},dhx.DataDriver={},dhx.DataDriver.json={toObject:function(a){if(a||(a="[]"),"string"==typeof a){try{eval("dhx.temp="+a)}catch(b){return null}a=dhx.temp}if(a.data){var c=a.data.config={},d;for(d in a)"data"!=d&&(c[d]=a[d]);a=a.data}return a},getRecords:function(t){return t&&!dhx.isArray(t)?[t]:t},getDetails:function(t){return"string"==typeof t?{id:dhx.uid(),value:t}:t},getInfo:function(t){var e=t.config;return e?{v:e.total_count||0,r:e.pos||0,Nd:e.parent||0,Ya:e.config,M:e.dhx_security}:{}},child:"data"},dhx.DataDriver.html={toObject:function(t){if("string"==typeof t){var e=null;return-1==t.indexOf("<")&&(e=dhx.toNode(t)),e||(e=document.createElement("DIV"),e.innerHTML=t),e.getElementsByTagName(this.tag)}return t},getRecords:function(t){for(var e=[],i=0;i<t.childNodes.length;i++){var s=t.childNodes[i];1==s.nodeType&&e.push(s)}return e},getDetails:function(t){return dhx.DataDriver.xml.tagToObject(t)},getInfo:function(){return{v:0,r:0}},tag:"LI"},dhx.DataDriver.jsarray={toObject:function(a){return"string"==typeof a?(eval("dhx.temp="+a),dhx.temp):a},getRecords:function(t){return t},getDetails:function(t){for(var e={},i=0;i<t.length;i++)e["data"+i]=t[i];return e},getInfo:function(){return{v:0,r:0}}},dhx.DataDriver.csv={toObject:function(t){return t},getRecords:function(t){return t.split(this.row)},getDetails:function(t){for(var t=this.stringToArray(t),e={},i=0;i<t.length;i++)e["data"+i]=t[i];return e},getInfo:function(){return{v:0,r:0}},stringToArray:function(t){for(var t=t.split(this.cell),e=0;e<t.length;e++)t[e]=t[e].replace(/^[ \t\n\r]*(\"|)/g,"").replace(/(\"|)[ \t\n\r]*$/g,"");return t},row:"\n",cell:","},dhx.DataDriver.xml={ic:function(t){return t&&t.documentElement?t.getElementsByTagName("parsererror").length?null:t:null},toObject:function(t){if(this.ic(e))return e;var e="string"==typeof t?this.fromString(t.replace(/^[\s]+/,"")):t;return this.ic(e)?e:null},getRecords:function(t){return this.xpath(t,this.records)},records:"/*/item",child:"item",config:"/*/config",getDetails:function(t){return this.tagToObject(t,{})},getInfo:function(t){var e=this.xpath(t,this.config),e=e.length?this.assignTypes(this.tagToObject(e[0],{})):null;return{v:t.documentElement.getAttribute("total_count")||0,r:t.documentElement.getAttribute("pos")||0,Nd:t.documentElement.getAttribute("parent")||0,Ya:e,M:t.documentElement.getAttribute("dhx_security")||null}},xpath:function(t,e){if(window.XPathResult){var i=t;-1==t.nodeName.indexOf("document")&&(t=t.ownerDocument);for(var s=[],n=t.evaluate(e,i,null,XPathResult.ANY_TYPE,null),o=n.iterateNext();o;)s.push(o),o=n.iterateNext();return s}var l=!0;try{"undefined"==typeof t.selectNodes&&(l=!1)}catch(h){}if(l)return t.selectNodes(e);var r=e.split("/").pop();return t.getElementsByTagName(r)},assignTypes:function(t){for(var e in t){var i=t[e];"object"==typeof i?this.assignTypes(i):"string"==typeof i&&""!==i&&("true"==i?t[e]=!0:"false"==i?t[e]=!1:i==1*i&&(t[e]*=1))}return t},tagToObject:function(t,e){var e=e||{},i=!1,s=t.attributes;if(s&&s.length){for(var n=0;n<s.length;n++)e[s[n].name]=s[n].value;i=!0}for(var o=t.childNodes,n=0;n<o.length;n++)if(1==o[n].nodeType){var l=o[n].tagName;"undefined"!=typeof e[l]?(dhx.isArray(e[l])||(e[l]=[e[l]]),e[l].push(this.tagToObject(o[n],{}))):e[o[n].tagName]=this.tagToObject(o[n],{}),i=!0}return i?(e.value=e.value||this.nodeValue(t),e):this.nodeValue(t)},nodeValue:function(t){return t.firstChild?t.firstChild.data:""},fromString:function(t){try{if(window.DOMParser)return(new DOMParser).parseFromString(t,"text/xml");if(window.ActiveXObject){var e=new ActiveXObject("Microsoft.xmlDOM");return e.loadXML(t),e}}catch(i){return null}}},dhx.debug_code(function(){dhx.debug_load_event=dhx.attachEvent("onLoadError",function(t){0!==t.indexOf("<?php")&&t.indexOf("DHX_ERROR:"),dhx.message&&dhx.message({type:"debug",text:null,expire:-1})}),dhx.ready(function(){var t=document.location.href;0===t.indexOf("file:")&&(dhx.message?dhx.message({type:"error",text:"Please open sample by http,<br>not as file://",expire:-1}):window.alert("Please open sample by http, not as file://"))})}),dhx.DataLoader=dhx.proto({$init:function(t){t=t||"",this.ia=dhx.toArray(),this.data=new dhx.DataStore,this.data.attachEvent("onClearAll",dhx.bind(this.Kc,this)),this.data.attachEvent("onServerConfig",dhx.bind(this.Jc,this)),this.data.feed=this.gd},gd:function(t,e,i){return this.H?this.H=[t,e,i]:(this.H=!0,this.$b=[t,e],void this.jd.call(this,t,e,i))},jd:function(t,e,i){var s=this.data.url;0>t&&(t=0),this.load(s+(-1==s.indexOf("?")?"?":"&")+(this.dataCount()?"continue=true&":"")+"start="+t+"&count="+e,[this.hd,i])},hd:function(){var t=this.H,e=this.$b;this.H=!1,"object"==typeof t&&(t[0]!=e[0]||t[1]!=e[1])&&this.data.feed.apply(this,t)},load:function(t){var e=dhx.AtomDataLoader.load.apply(this,arguments);this.ia.push(e),this.data.url||(this.data.url=t)},loadNext:function(t,e,i,s,n){this.e.datathrottle&&!n?(this.Ac&&window.clearTimeout(this.Ac),this.Ac=dhx.delay(function(){this.loadNext(t,e,i,s,!0)},this,0,this.e.datathrottle)):(!e&&0!==e&&(e=this.dataCount()),this.data.url=this.data.url||s,this.callEvent("onDataRequest",[e,t,i,s])&&this.data.url&&this.data.feed.call(this,e,t,i))},le:function(t,e){var i=this.$b;return this.H&&i&&i[0]<=e&&i[1]+i[0]>=t+e?!0:!1},V:function(t,e,i){this.ia.remove(i);var s=this.data.driver.toObject(t,e);return s?(this.data.rb(s),this.Xa(),void this.callEvent("onXLE",[])):this.qb(t,e,i)},removeMissed_setter:function(t){return this.data.Td=t},scheme_setter:function(t){this.data.scheme(t)},dataFeed_setter:function(t){return this.data.attachEvent("onBeforeFilter",dhx.bind(function(t,e){if(this.e.dataFeed){var i={};if(t||e){if("function"==typeof t){if(!e)return;t(e,i)}else i={text:e};this.clearAll();var s=this.e.dataFeed,n=[];if("function"==typeof s)return s.call(this,e,i);for(var o in i)n.push("dhx_filter["+o+"]="+encodeURIComponent(i[o]));return this.load(s+(s.indexOf("?")<0?"?":"&")+n.join("&"),this.e.datatype),!1}}},this)),t},debug_freid_c_ready:!0,debug_freid_c_datathrottle:!0,Xa:function(){if(this.e.ready&&!this.Rd){var t=dhx.toFunctor(this.e.ready);t&&dhx.delay(t,this,arguments),this.Rd=!0}},Kc:function(){for(var t=0;t<this.ia.length;t++)this.ia[t].abort();this.ia=dhx.toArray()},Jc:function(t){this.ea(t)}},dhx.AtomDataLoader),dhx.DataStore=function(){this.name="DataStore",dhx.extend(this,dhx.EventSystem),this.setDriver("json"),this.pull={},this.order=dhx.toArray(),this.I={}},dhx.DataStore.prototype={setDriver:function(t){this.driver=dhx.DataDriver[t]},rb:function(t){this.callEvent("onParse",[this.driver,t]),this.h&&this.filter();var e=this.driver.getInfo(t);e.M&&(dhx.securityKey=e.M),e.Ya&&this.callEvent("onServerConfig",[e.Ya]);var i=this.driver.getRecords(t);this.Ad(e,i),this.qc&&this.xd&&this.xd(this.qc),this.sc&&(this.blockEvent(),this.sort(this.sc),this.unblockEvent()),this.callEvent("onStoreLoad",[this.driver,t]),this.refresh()},Ad:function(t,e){var i=1*(t.r||0),s=!0,n=!1;if(0===i&&this.order[0]){if(this.Td)for(var n={},o=0;o<this.order.length;o++)n[this.order[o]]=!0;s=!1,i=this.order.length}for(var l=0,o=0;o<e.length;o++){var h=this.driver.getDetails(e[o]),r=this.id(h);this.pull[r]?s&&this.order[l+i]&&l++:(this.order[l+i]=r,l++),this.pull[r]?(dhx.extend(this.pull[r],h,!0),this.Ma&&this.Ma(this.pull[r]),n&&delete n[r]):(this.pull[r]=h,this.La&&this.La(h))}if(n){this.blockEvent();for(var a in n)this.remove(a);this.unblockEvent()}this.order[t.v-1]||(this.order[t.v-1]=dhx.undefined)},id:function(t){return t.id||(t.id=dhx.uid())},changeId:function(t,e){this.pull[t]&&(this.pull[e]=this.pull[t]),this.pull[e].id=e,this.order[this.order.find(t)]=e,this.h&&(this.h[this.h.find(t)]=e),this.I[t]&&(this.I[e]=this.I[t],delete this.I[t]),this.callEvent("onIdChange",[t,e]),this.wb&&this.wb(t,e),delete this.pull[t]},item:function(t){return this.pull[t]},update:function(t,e){return dhx.isUndefined(e)&&(e=this.item(t)),this.Ma&&this.Ma(e),this.callEvent("onBeforeUpdate",[t,e])===!1?!1:(this.pull[t]=e,void this.callEvent("onStoreUpdated",[t,e,"update"]))},refresh:function(t){this.ya||(t?this.callEvent("onStoreUpdated",[t,this.pull[t],"paint"]):this.callEvent("onStoreUpdated",[null,null,null]))},silent:function(t,e){this.ya=!0,t.call(e||this),this.ya=!1},getRange:function(t,e){if(t=t?this.indexById(t):this.$min||this.startOffset||0,e?e=this.indexById(e):(e=Math.min(this.$max||this.endOffset||1/0,this.dataCount()-1),0>e&&(e=0)),t>e)var i=e,e=t,t=i;return this.getIndexRange(t,e)},getIndexRange:function(t,e){for(var e=Math.min(e||1/0,this.dataCount()-1),i=dhx.toArray(),s=t||0;e>=s;s++)i.push(this.item(this.order[s]));return i},dataCount:function(){return this.order.length},exists:function(t){return!!this.pull[t]},move:function(t,e){var i=this.idByIndex(t),s=this.item(i);this.order.removeAt(t),this.order.insertAt(i,Math.min(this.order.length,e)),this.callEvent("onStoreUpdated",[i,s,"move"])},scheme:function(t){this.o={},this.La=t.$init,this.Ma=t.$update,this.rc=t.$serialize,this.qc=t.$group,this.sc=t.$sort;for(var e in t)"$"!=e.substr(0,1)&&(this.o[e]=t[e])},sync:function(t,e,i){"string"==typeof t&&(t=$$("source")),"function"!=typeof e&&(i=e,e=null),dhx.debug_bind&&(this.debug_sync_master=t),this.Ta=!1,"DataStore"!=t.name&&(t.data&&"DataStore"==t.data.name?t=t.data:this.Ta=!0);var s=dhx.bind(function(s,n,o){if(this.Ta){if(!s)return;if(0===s.indexOf("change"))return void("change"==s&&(this.pull[n.id]=n.attributes,this.refresh(n.id)));"reset"==s&&(o=n),this.order=[],this.pull={},this.h=null;for(var l=0;l<o.models.length;l++){var h=o.models[l].id;this.order.push(h),this.pull[h]=o.models[l].attributes}}else this.h=null,this.order=dhx.toArray([].concat(t.order)),this.pull=t.pull;e&&this.silent(e),this.Ia&&this.Ia(),this.callEvent("onSyncApply",[]),i?i=!1:this.refresh()},this);this.Ta?t.bind("all",s):this.za=[t.attachEvent("onStoreUpdated",s),t.attachEvent("onIdChange",dhx.bind(function(t,e){this.changeId(t,e)},this))],s()},add:function(t,e,i){if(this.o)for(var s in this.o)dhx.isUndefined(t[s])&&(t[s]=this.o[s]);this.La&&this.La(t);var n=this.id(t),o=i||this.order,l=o.length;if((dhx.isUndefined(e)||0>e)&&(e=l),e>l&&(e=Math.min(o.length,e)),this.callEvent("onBeforeAdd",[n,t,e])===!1)return!1;if(this.pull[n]=t,o.insertAt(n,e),this.h){var h=this.h.length;!e&&this.order.length&&(h=0),this.h.insertAt(n,h)}return this.callEvent("onAfterAdd",[n,e]),this.callEvent("onStoreUpdated",[n,t,"add"]),n},remove:function(t){if(dhx.isArray(t))for(var e=0;e<t.length;e++)this.remove(t[e]);else{if(this.callEvent("onBeforeDelete",[t])===!1)return!1;var i=this.item(t);this.order.remove(t),this.h&&this.h.remove(t),delete this.pull[t],this.I[t]&&delete this.I[t],this.callEvent("onAfterDelete",[t]),this.callEvent("onStoreUpdated",[t,i,"delete"])}},clearAll:function(){this.pull={},this.order=dhx.toArray(),this.h=this.url=null,this.callEvent("onClearAll",[]),this.refresh()},idByIndex:function(t){return this.order[t]},indexById:function(t){var e=this.order.find(t);return e},next:function(t,e){return this.order[this.indexById(t)+(e||1)]},first:function(){return this.order[0]},last:function(){return this.order[this.order.length-1]},previous:function(t,e){return this.order[this.indexById(t)-(e||1)]},sort:function(t,e,i){var s=t;"function"==typeof t?s={as:t,dir:e}:"string"==typeof t&&(s={by:t.replace(/#/g,""),dir:e,as:i});var n=[s.by,s.dir,s.as];this.callEvent("onBeforeSort",n)&&(this.ae(s),this.refresh(),this.callEvent("onAfterSort",n))},ae:function(t){if(this.order.length){var e=this.$d.Mc(t),i=this.getRange(this.first(),this.last());i.sort(e),this.order=i.map(function(t){return this.id(t)},this)}},nd:function(t){this.h&&!t&&(this.order=this.h,delete this.h)},md:function(t,e,i){for(var s=dhx.toArray(),n=0;n<this.order.length;n++){var o=this.order[n];t(this.item(o),e)&&s.push(o)}i&&this.h||(this.h=this.order),this.order=s},filter:function(t,e,i){if(this.callEvent("onBeforeFilter",[t,e])&&(this.nd(i),this.order.length)){if(t){var s=t,e=e||"";"string"==typeof t&&(t=t.replace(/#/g,""),"function"==typeof e?s=function(i){return e(i[t])}:(e=e.toString().toLowerCase(),s=function(e,i){return-1!=(e[t]||"").toString().toLowerCase().indexOf(i)})),this.md(s,e,i,this.je)}this.refresh(),this.callEvent("onAfterFilter",[])}},each:function(t,e){for(var i=0;i<this.order.length;i++)t.call(e||this,this.item(this.order[i]))},Fd:function(t,e){return function(){return t[e].apply(t,arguments)}},addMark:function(t,e,i,s){var n=this.I[t]||{};return this.I[t]=n,!n[e]&&(n[e]=s||!0,i)&&(this.item(t).$css=(this.item(t).$css||"")+" "+e,this.refresh(t)),n[e]},removeMark:function(t,e,i){var s=this.I[t];if(s&&s[e]&&delete s[e],i){var n=this.item(t).$css;n&&(this.item(t).$css=n.replace(e,""),this.refresh(t))}},hasMark:function(t,e){var i=this.I[t];return i&&i[e]},provideApi:function(t,e){this.debug_bind_master=t,e&&this.mapEvent({onbeforesort:t,onaftersort:t,onbeforeadd:t,onafteradd:t,onbeforedelete:t,onafterdelete:t,onbeforeupdate:t});
for(var i="sort,add,remove,exists,idByIndex,indexById,item,update,refresh,dataCount,filter,next,previous,clearAll,first,last,serialize,sync,addMark,removeMark,hasMark".split(","),s=0;s<i.length;s++)t[i[s]]=this.Fd(this,i[s])},serialize:function(){for(var t=this.order,e=[],i=0;i<t.length;i++){var s=this.pull[t[i]];!(this.rc&&(s=this.rc(s),s===!1)||!e.push(s))}return e},$d:{Mc:function(t){return this.Rc(t.dir,this.Ic(t.by,t.as))},Ec:{date:function(t,e){return t-=0,e-=0,t>e?1:e>t?-1:0},"int":function(t,e){return t*=1,e*=1,t>e?1:e>t?-1:0},string_strict:function(t,e){return t=t.toString(),e=e.toString(),t>e?1:e>t?-1:0},string:function(t,e){return e?t?(t=t.toString().toLowerCase(),e=e.toString().toLowerCase(),t>e?1:e>t?-1:0):-1:1}},Ic:function(t,e){return t?("function"!=typeof e&&(e=this.Ec[e||"string"]),function(i,s){return e(i[t],s[t])}):e},Rc:function(t,e){return"asc"!=t&&t?function(t,i){return-1*e(t,i)}:e}}},dhx.BaseBind={debug_freid_ignore:{id:!0},bind:function(t,e,i){if("string"==typeof t&&(t=dhx.ui.get(t)),t.i&&t.i(),this.i&&this.i(),t.getBindData||dhx.extend(t,dhx.BindSource),!this.Fc){var s=this.render;if(this.filter){var n=this.e.id;this.data.Ia=function(){t.Z[n]=!1}}this.render=function(){if(!this.fc){this.fc=!0;var t=this.callEvent("onBindRequest");return this.fc=!1,s.apply(this,t===!1?arguments:[])}},(this.getValue||this.getValues)&&(this.save=function(){(!this.validate||this.validate())&&t.setBindData(this.getValue?this.getValue:this.getValues(),this.e.id)}),this.Fc=!0}t.addBind(this.e.id,e,i);var o=this.e.id;this.attachEvent(this.touchable?"onAfterRender":"onBindRequest",function(){return t.getBindData(o)}),!this.e.dataFeed&&this.loadNext&&this.data.attachEvent("onStoreLoad",function(){t.Z[o]=!1}),this.isVisible(this.e.id)&&this.refresh()},O:function(t){t.removeBind(this.e.id);var e=this.za||(this.data?this.data.za:0);if(e&&t.data)for(var i=0;i<e.length;i++)t.data.detachEvent(e[i])}},dhx.BindSource={$init:function(){this.ja={},this.Z={},this.Fa={},this.Gc(this)},saveBatch:function(t){this.Pb=!0,t.call(this),this.Pb=!1,this.Y()},setBindData:function(t,e){if(e&&(this.Fa[e]=!0),this.setValue)this.setValue(t);else if(this.setValues)this.setValues(t);else{var i=this.getCursor();i&&(t=dhx.extend(this.item(i),t,!0),this.update(i,t))}this.callEvent("onBindUpdate",[t,e]),this.save&&this.save(),e&&(this.Fa[e]=!1)},getBindData:function(t,e){if(this.Z[t])return!1;var i=dhx.ui.get(t);i.isVisible(i.e.id)&&(this.Z[t]=!0,this.Ua(i,this.ja[t][0],this.ja[t][1]),e&&i.filter&&i.refresh())},addBind:function(t,e,i){this.ja[t]=[e,i]},removeBind:function(t){delete this.ja[t],delete this.Z[t],delete this.Fa[t]},Gc:function(t){t.filter?dhx.extend(this,dhx.CollectionBind):t.setValue?dhx.extend(this,dhx.ValueBind):dhx.extend(this,dhx.RecordBind)},Y:function(){if(!this.Pb)for(var t in this.ja)this.Fa[t]||(this.Z[t]=!1,this.getBindData(t,!0))},Gb:function(t,e,i){t.setValue?t.setValue(i?i[e]:i):t.filter?t.data.silent(function(){this.filter(e,i)}):!i&&t.clear?t.clear():t.la(i)&&t.setValues(dhx.clone(i)),t.callEvent("onBindApply",[i,e,this])}},dhx.DataValue=dhx.proto({name:"DataValue",isVisible:function(){return!0},$init:function(t){var e=(this.data=t)&&t.id?t.id:dhx.uid();this.e={id:e},dhx.ui.views[e]=this},setValue:function(t){this.data=t,this.callEvent("onChange",[t])},getValue:function(){return this.data},refresh:function(){this.callEvent("onBindRequest")}},dhx.EventSystem,dhx.BaseBind),dhx.DataRecord=dhx.proto({name:"DataRecord",isVisible:function(){return!0},$init:function(t){this.data=t||{};var e=t&&t.id?t.id:dhx.uid();this.e={id:e},dhx.ui.views[e]=this},getValues:function(){return this.data},setValues:function(t){this.data=t,this.callEvent("onChange",[t])},refresh:function(){this.callEvent("onBindRequest")}},dhx.EventSystem,dhx.BaseBind,dhx.AtomDataLoader,dhx.Settings),dhx.DataCollection=dhx.proto({name:"DataCollection",isVisible:function(){return this.data.order.length||this.data.h||this.e.dataFeed?!0:!1},$init:function(t){this.data.provideApi(this,!0);var e=t&&t.id?t.id:dhx.uid();this.e.id=e,dhx.ui.views[e]=this,this.data.attachEvent("onStoreLoad",dhx.bind(function(){this.callEvent("onBindRequest",[])},this))},refresh:function(){this.callEvent("onBindRequest",[])}},dhx.DataLoader,dhx.EventSystem,dhx.BaseBind,dhx.Settings),dhx.ValueBind={$init:function(){this.attachEvent("onChange",this.Y)},Ua:function(t,e,i){var s=this.getValue()||"";if(i&&(s=i(s)),t.setValue)t.setValue(s);else if(t.filter)t.data.silent(function(){this.filter(e,s)});else{var n={};n[e]=s,t.la(s)&&t.setValues(n)}t.callEvent("onBindApply",[s,e,this])}},dhx.RecordBind={$init:function(){this.attachEvent("onChange",this.Y)},Ua:function(t,e){var i=this.getValues()||null;this.Gb(t,e,i)}},dhx.CollectionBind={$init:function(){this.Q=null,this.attachEvent("onSelectChange",function(){var t=this.getSelected();this.setCursor(t?t.id||t:null)}),this.attachEvent("onAfterCursorChange",this.Y),this.data.attachEvent("onStoreUpdated",dhx.bind(function(t,e,i){t&&t==this.getCursor()&&"paint"!=i&&this.Y()},this)),this.data.attachEvent("onClearAll",dhx.bind(function(){this.Q=null},this)),this.data.attachEvent("onIdChange",dhx.bind(function(t,e){this.Q==t&&(this.Q=e)},this))},setCursor:function(t){t==this.Q||null!==t&&!this.item(t)||(this.callEvent("onBeforeCursorChange",[this.Q]),this.Q=t,this.callEvent("onAfterCursorChange",[t]))},getCursor:function(){return this.Q},Ua:function(t,e){var i=this.item(this.getCursor())||this.e.defaultData||null;this.Gb(t,e,i)}},dhx.ui||(dhx.ui={}),dhx.ui.views||(dhx.ui.views={},dhx.ui.get=function(t){return t.e?t:dhx.ui.views[t]}),dhtmlXDataStore=function(t){var e=new dhx.DataCollection(t),i="_dp_init";return e[i]=function(t){var e="_methods";t[e]=["dummy","dummy","changeId","dummy"],this.data.Gd={add:"inserted",update:"updated","delete":"deleted"},this.data.attachEvent("onStoreUpdated",function(e,i,s){e&&!t.uc&&t.setUpdated(e,!0,this.Gd[s])}),e="_getRowData",t[e]=function(t){var e=this.obj.data.item(t),i={id:t};if(i[this.action_param]=this.obj.getUserData(t),e)for(var s in e)i[s]=e[s];return i},this.changeId=function(e,i){this.data.changeId(e,i),t.uc=!0,this.data.callEvent("onStoreUpdated",[i,this.item(i),"update"]),t.uc=!1},e="_clearUpdateFlag",t[e]=function(){},this.ha={}},e.dummy=function(){},e.setUserData=function(t,e,i){this.ha[t]=i},e.getUserData=function(t){return this.ha[t]},e.dataFeed=function(t){this.define("dataFeed",t)},dhx.extend(e,dhx.BindSource),e},window.dhtmlXDataView&&(dhtmlXDataView.prototype.i=function(){this.isVisible=function(){return this.data.order.length||this.data.h||this.e.dataFeed?!0:!1};var t="_settings";this.e=this.e||this[t],this.e.id||(this.e.id=dhx.uid()),this.unbind=dhx.BaseBind.unbind,this.unsync=dhx.BaseBind.unsync,dhx.ui.views[this.e.id]=this}),window.dhtmlXChart&&(dhtmlXChart.prototype.i=function(){this.isVisible=function(){return this.data.order.length||this.data.ke||this.e.dataFeed?!0:!1};var t="_settings";this.e=this.e||this[t],this.e.id||(this.e.id=dhx.uid()),this.unbind=dhx.BaseBind.unbind,this.unsync=dhx.BaseBind.unsync,dhx.ui.views[this.e.id]=this}),dhx.BaseBind.unsync=function(t){return dhx.BaseBind.O.call(this,t)},dhx.BaseBind.unbind=function(t){return dhx.BaseBind.O.call(this,t)},dhx.BaseBind.legacyBind=function(){return dhx.BaseBind.bind.apply(this,arguments)},dhx.BaseBind.legacySync=function(t){return this.i&&this.i(),t.i&&t.i(),this.attachEvent("onAfterEditStop",function(t){return this.save(t),!0}),this.attachEvent("onDataRequest",function(e,i){for(var s=e;e+i>s;s++)if(!t.data.order[s])return t.loadNext(i,e),!1}),this.save=function(e){e||(e=this.getCursor());var i,s=this.item(e),n=t.item(e);for(i in s)0!==i.indexOf("$")&&(n[i]=s[i]);t.refresh(e)},t&&"DataCollection"==t.name?t.data.sync.apply(this.data,arguments):this.data.sync.apply(this.data,arguments)},window.dhtmlXForm&&(dhtmlXForm.prototype.bind=function(t){dhx.BaseBind.bind.apply(this,arguments),t.getBindData(this.e.id)},dhtmlXForm.prototype.unbind=function(t){dhx.BaseBind.O.call(this,t)},dhtmlXForm.prototype.i=function(){dhx.isUndefined(this.e)&&(this.e={id:dhx.uid(),dataFeed:this.X},dhx.ui.views[this.e.id]=this)},dhtmlXForm.prototype.la=function(t){if(!this.e.dataFeed||this.ca||!t)return!0;var e=this.e.dataFeed;return"function"==typeof e?e.call(this,t.id||t,t):(e=e+(-1==e.indexOf("?")?"?":"&")+"action=get&id="+encodeURIComponent(t.id||t),this.load(e),!1)},dhtmlXForm.prototype.setValues=dhtmlXForm.prototype.setFormData,dhtmlXForm.prototype.getValues=function(){return this.getFormData(!1,!0)},dhtmlXForm.prototype.dataFeed=function(t){this.e?this.e.dataFeed=t:this.X=t},dhtmlXForm.prototype.refresh=dhtmlXForm.prototype.isVisible=function(){return!0}),window.scheduler&&(window.Scheduler||(window.Scheduler={}),Scheduler.$syncFactory=function(t){t.sync=function(e,i){this.i&&this.i(),e.i&&e.i();var s="_process_loading",n=function(){t.clearAll();for(var n=e.data.order,o=e.data.pull,l=[],h=0;h<n.length;h++)l[h]=i&&i.copy?dhx.clone(o[n[h]]):o[n[h]];t[s](l)};this.save=function(t){t||(t=this.getCursor());var i=this.item(t),s=e.item(t);this.callEvent("onStoreSave",[t,i,s])&&(dhx.extend(e.item(t),i,!0),e.update(t))},this.item=function(t){return this.getEvent(t)},this.za=[e.data.attachEvent("onStoreUpdated",function(){n.call(this)}),e.data.attachEvent("onIdChange",function(t,e){combo.changeOptionId(t,e)})],this.attachEvent("onEventChanged",function(t){this.save(t)}),this.attachEvent("onEventAdded",function(t,i){e.data.pull[t]||e.add(i)}),this.attachEvent("onEventDeleted",function(t){e.data.pull[t]&&e.remove(t)}),n()},t.unsync=function(t){dhx.BaseBind.O.call(this,t)},t.i=function(){this.e||(this.e={id:dhx.uid()})}},Scheduler.$syncFactory(window.scheduler)),window.dhtmlXCombo&&(dhtmlXCombo.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)},dhtmlXCombo.unbind=function(t){dhx.BaseBind.O.call(this,t)},dhtmlXCombo.unsync=function(t){dhx.BaseBind.O.call(this,t)},dhtmlXCombo.prototype.dataFeed=function(t){this.e?this.e.dataFeed=t:this.X=t},dhtmlXCombo.prototype.sync=function(t){this.i&&this.i(),t.i&&t.i();var e=this,i=function(){e.clearAll(),e.addOption(this.serialize())};this.za=[t.data.attachEvent("onStoreUpdated",function(){i.call(this)}),t.data.attachEvent("onIdChange",function(t,i){e.changeOptionId(t,i)})],i.call(t)},dhtmlXCombo.prototype.i=function(){dhx.isUndefined(this.e)&&(this.e={id:dhx.uid(),dataFeed:this.X},dhx.ui.views[this.e.id]=this,this.data={silent:dhx.bind(function(t){t.call(this)},this)},dhtmlxEventable(this.data),this.attachEvent("onChange",function(){this.callEvent("onSelectChange",[this.getSelectedValue()])}),this.attachEvent("onXLE",function(){this.callEvent("onBindRequest",[])}))},dhtmlXCombo.prototype.item=function(t){return this.getOption(t)},dhtmlXCombo.prototype.getSelected=function(){return this.getSelectedValue()},dhtmlXCombo.prototype.isVisible=function(){return this.optionsArr.length||this.e.dataFeed?!0:!1},dhtmlXCombo.prototype.refresh=function(){this.render(!0)},dhtmlXCombo.prototype.filter=function(){alert("not implemented")}),window.dhtmlXGridObject&&(dhtmlXGridObject.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)},dhtmlXGridObject.prototype.unbind=function(t){dhx.BaseBind.O.call(this,t)},dhtmlXGridObject.prototype.unsync=function(t){dhx.BaseBind.O.call(this,t)},dhtmlXGridObject.prototype.dataFeed=function(t){this.e?this.e.dataFeed=t:this.X=t},dhtmlXGridObject.prototype.sync=function(t,e){this.i&&this.i(),t.i&&t.i();var i=this,s="_parsing",n="_parser",o="_locator",l="_process_store_row",h="_get_store_data";this.save=function(e){e||(e=this.getCursor()),dhx.extend(t.item(e),this.item(e),!0),t.update(e)};var r=function(){var t=i.getCursor?i.getCursor():null,e=0;i.Ga?(e=i.Ga,i.Ga=!1):i.clearAll();var r=this.dataCount();if(r){i[s]=!0;for(var a=e;r>a;a++){var d=this.order[a];!d||e&&i.rowsBuffer[a]||(i.rowsBuffer[a]={idd:d,data:this.pull[d]},i.rowsBuffer[a][n]=i[l],i.rowsBuffer[a][o]=i[h],i.rowsAr[d]=this.pull[d])}i.rowsBuffer[r-1]||(i.rowsBuffer[r-1]=dhtmlx.undefined,i.xmlFileUrl=i.xmlFileUrl||this.url),i.pagingOn?i.changePage():i.ne&&i.ie?i.pe():(i.render_dataset(),i.callEvent("onXLE",[])),i[s]=!1}t&&i.setCursor&&i.setCursor(i.rowsAr[t]?t:null)};this.za=[t.data.attachEvent("onStoreUpdated",function(t,e,s){"delete"==s?(i.deleteRow(t),i.data.callEvent("onStoreUpdated",[t,e,s])):"update"==s?(i.callEvent("onSyncUpdate",[e,s]),i.update(t,e),i.data.callEvent("onStoreUpdated",[t,e,s])):"add"==s?(i.callEvent("onSyncUpdate",[e,s]),i.add(t,e,this.indexById(t)),i.data.callEvent("onStoreUpdated",[t,e,s])):r.call(this)}),t.data.attachEvent("onStoreLoad",function(e,s){i.xmlFileUrl=t.data.url,i.Ga=e.getInfo(s).r}),t.data.attachEvent("onIdChange",function(t,e){i.changeRowId(t,e)})],i.attachEvent("onDynXLS",function(e,s){for(var n=e;e+s>n;n++)if(!t.data.order[n])return t.loadNext(s,e),!1;i.Ga=e,r.call(t.data)}),r.call(t.data),i.attachEvent("onEditCell",function(t,e,i,s,n){return 2==t&&s!=n&&this.save(e),!0}),i.attachEvent("onClearAll",function(){var t="_f_rowsBuffer";this[t]=null}),e&&e.sort&&i.attachEvent("onBeforeSorting",function(e,s,n){if("connector"==s)return!1;var o=this.getColumnId(e);return t.sort("#"+o+"#","asc"==n?"asc":"desc","int"==s?s:"string"),i.setSortImgState(!0,e,n),!1}),e&&e.filter&&(i.attachEvent("onFilterStart",function(e,s){var n="_con_f_used";return i[n]&&i[n].length?!1:(t.data.silent(function(){t.filter();for(var n=0;n<e.length;n++)if(""!=s[n]){var o=i.getColumnId(e[n]);t.filter("#"+o+"#",s[n],0!=n)}}),t.refresh(),!1)}),i.collectValues=function(e){var i=this.getColumnId(e);return function(t){var e=[],i={};return this.data.each(function(s){var n=s[t];i[n]||(i[n]=!0,e.push(n))}),e.sort(),e}.call(t,i)}),e&&e.select&&i.attachEvent("onRowSelect",function(e){t.setCursor(e)}),i.clearAndLoad=function(e){t.clearAll(),t.load(e)}},dhtmlXGridObject.prototype.i=function(){if(dhx.isUndefined(this.e)){this.e={id:dhx.uid(),dataFeed:this.X},dhx.ui.views[this.e.id]=this,this.data={silent:dhx.bind(function(t){t.call(this)},this)},dhtmlxEventable(this.data);for(var t="_cCount",e=0;e<this[t];e++)this.columnIds[e]||(this.columnIds[e]="cell"+e);this.attachEvent("onSelectStateChanged",function(t){this.callEvent("onSelectChange",[t])}),this.attachEvent("onSelectionCleared",function(){this.callEvent("onSelectChange",[null])}),this.attachEvent("onEditCell",function(t,e){return 2===t&&this.getCursor&&e&&e==this.getCursor()&&this.Y(),!0}),this.attachEvent("onXLE",function(){this.callEvent("onBindRequest",[])})}},dhtmlXGridObject.prototype.item=function(t){if(null===t)return null;var e=this.getRowById(t);if(!e)return null;var i="_attrs",s=dhx.copy(e[i]);s.id=t;for(var n=this.getColumnsNum(),o=0;n>o;o++)s[this.columnIds[o]]=this.cells(t,o).getValue();return s},dhtmlXGridObject.prototype.update=function(t,e){for(var i=0;i<this.columnIds.length;i++){var s=this.columnIds[i];dhx.isUndefined(e[s])||this.cells(t,i).setValue(e[s])}var n="_attrs",o=this.getRowById(t)[n];for(s in e)o[s]=e[s];this.callEvent("onBindUpdate",[t])},dhtmlXGridObject.prototype.add=function(t,e,i){for(var s=[],n=0;n<this.columnIds.length;n++){var o=this.columnIds[n];s[n]=dhx.isUndefined(e[o])?"":e[o]}this.addRow(t,s,i);var l="_attrs";this.getRowById(t)[l]=dhx.copy(e)},dhtmlXGridObject.prototype.getSelected=function(){return this.getSelectedRowId()},dhtmlXGridObject.prototype.isVisible=function(){var t="_f_rowsBuffer";return this.rowsBuffer.length||this[t]||this.e.dataFeed?!0:!1},dhtmlXGridObject.prototype.refresh=function(){this.render_dataset()},dhtmlXGridObject.prototype.filter=function(t,e){if(this.e.dataFeed){var i={};if(!t&&!e)return;if("function"==typeof t){if(!e)return;t(e,i)}else dhx.isUndefined(t)?i=e:i[t]=e;this.clearAll();var s=this.e.dataFeed;if("function"==typeof s)return s.call(this,e,i);var n,o=[];for(n in i)o.push("dhx_filter["+n+"]="+encodeURIComponent(i[n]));return this.load(s+(s.indexOf("?")<0?"?":"&")+o.join("&")),!1}return null===e?this.filterBy(0,function(){return!1}):void this.filterBy(0,function(i,s){return t.call(this,s,e)})}),window.dhtmlXTreeObject&&(dhtmlXTreeObject.prototype.bind=function(){dhx.BaseBind.bind.apply(this,arguments)},dhtmlXTreeObject.prototype.unbind=function(t){dhx.BaseBind.O.call(this,t)},dhtmlXTreeObject.prototype.dataFeed=function(t){this.e?this.e.dataFeed=t:this.X=t},dhtmlXTreeObject.prototype.i=function(){dhx.isUndefined(this.e)&&(this.e={id:dhx.uid(),dataFeed:this.X},dhx.ui.views[this.e.id]=this,this.data={silent:dhx.bind(function(t){t.call(this)},this)},dhtmlxEventable(this.data),this.attachEvent("onSelect",function(t){this.callEvent("onSelectChange",[t])}),this.attachEvent("onEdit",function(t,e){return 2===t&&e&&e==this.getCursor()&&this.Y(),!0}))},dhtmlXTreeObject.prototype.item=function(t){return null===t?null:{id:t,text:this.getItemText(t)}},dhtmlXTreeObject.prototype.getSelected=function(){return this.getSelectedItemId()},dhtmlXTreeObject.prototype.isVisible=function(){return!0},dhtmlXTreeObject.prototype.refresh=function(){},dhtmlXTreeObject.prototype.filter=function(t,e){if(this.e.dataFeed){var i={};if(t||e){if("function"==typeof t){if(!e)return;t(e,i)}else dhx.isUndefined(t)?i=e:i[t]=e;this.deleteChildItems(0);var s=this.e.dataFeed;if("function"==typeof s)return s.call(this,[data.id||data,data]);var n,o=[];for(n in i)o.push("dhx_filter["+n+"]="+encodeURIComponent(i[n]));return this.loadXML(s+(s.indexOf("?")<0?"?":"&")+o.join("&")),!1}}},dhtmlXTreeObject.prototype.update=function(t,e){dhx.isUndefined(e.text)||this.setItemText(t,e.text)}),dhtmlx.skin="dhx_skyblue";