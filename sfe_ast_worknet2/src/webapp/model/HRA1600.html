<script>function Main(){var $=this;$.host=null;$.panMain=null;$.panQuery=null;$.panList=null;$.lbl_year_end_tax_yyyy=null;$.lbl_site_code=null;$.cmb_site_code=null;$.lbl_dept_code=null;$.txt_dept_code=null;$.txt_dept_name=null;$.lbl_emp_code=null;$.txt_emp_code=null;$.txt_emp_full_name=null;$.lbl_year_end_tax_type=null;$.cmb_year_end_tax_type=null;$.lbl_print_type1=null;$.cmb_print_type1=null;$.lbl_print_type=null;$.cmb_print_type=null;$.lbl_print_date=null;$.dte_print_date=null;$.grdList=null;$.btnSearch=null;$.dte_year_end_tax_yyyy=null;function hra1600_Q(workType){var json=createJSON_Q(workType);callQuery(["req",json],workType,$)}function createJSON_Q(workType){var json=createExecuteParamInfo("HR..P_HRA1600_Q",[workType,$.dte_year_end_tax_yyyy.getValue(),$.cmb_year_end_tax_type.getValue(),$.txt_emp_code.getValue(),$.txt_dept_code.getValue(),$.cmb_site_code.getValue(),$.cmb_print_type.getValue(),$.cmb_print_type1.getValue(),$.dte_print_date.getValue(),g_main.session.getValue("IsHRManager")&&((g_main.session.getValue("EmpCode")=="ka130285"||g_main.session.getValue("EmpCode")=="ka100152"||g_main.session.getValue("EmpCode")=="ka011053"||g_main.session.getValue("EmpCode")=="ka070040")?"Y":"N")]);return json}function hra1600_S(workType){if(!validateControls([$.dte_year_end_tax_yyyy,$.cmb_site_code,$.cmb_year_end_tax_type,$.cmb_print_type1,$.cmb_print_type,$.dte_print_date])){return false}var json=createJSON_S(workType);callQuery(["req",json],workType,$)}function createJSON_S(workType){var rows=[];for(var i=0;i<$.grdList.getRowCount();i++){rows.push([workType,$.grdList.getValue(i,"year_end_tax_yyyy"),$.grdList.getValue(i,"year_end_tax_type"),$.grdList.getValue(i,"emp_code"),$.grdList.getValue(i,"printable_yn")])}json=createExecuteParamInfo("HR..P_HRA1600_S",rows);return json}function fnPrint(workType){if($.grdList.getRowCount()<1){return}if(workType=="REPORT"){if($.dte_year_end_tax_yyyy.getValue()<="2012"){if(workType=="Preview"){}else{if(workType=="Print"){}}}if($.dte_year_end_tax_yyyy.getValue()=="2013"){if(workType=="Preview"){}else{if(workType=="Print"){}}}else{if($.dte_year_end_tax_yyyy.getValue()=="2014"){if(workType=="Preview"){}else{if(workType=="Print"){}}}else{if($.dte_year_end_tax_yyyy.getValue()>="2015"){if(workType=="Preview"){}else{if(workType=="Print"){}}}}}}else{if(workType=="Print"){alert("원천징수영수증 리포트")}}}$.init=function(host,args){$.panMain=new FingerPanel(host,"panMain",0,0,1200,740);$.panMain.setText("");$.panMain.setBottomLine(true);$.panQuery=new FingerPanel(host,"panQuery",0,0,1200,85);$.panQuery.setText("");$.panQuery.setBottomLine(true);$.panList=new FingerPanel(host,"panList",0,95,1200,595);$.panList.setText("원천징수영수증 조회/출력");$.panList.setBottomLine(true);$.lbl_year_end_tax_yyyy=new FingerLabel(host,"lbl_year_end_tax_yyyy",0,15,100,20);$.lbl_year_end_tax_yyyy.setText("정산연도");$.lbl_site_code=new FingerLabel(host,"lbl_site_code",250,15,100,20);$.lbl_site_code.setText("사업장");$.cmb_site_code=new FingerComboBox(host,"cmb_site_code",355,15,140,20);$.lbl_dept_code=new FingerLabel(host,"lbl_dept_code",500,15,100,20);$.lbl_dept_code.setText("부서");$.txt_dept_code=new FingerEdit(host,"txt_dept_code",605,15,70,20);$.txt_dept_name=new FingerButtonEdit(host,"txt_dept_name",680,15,120,20);$.txt_dept_name.setText("");$.lbl_emp_code=new FingerLabel(host,"lbl_emp_code",805,15,100,20);$.lbl_emp_code.setText("사원");$.txt_emp_code=new FingerEdit(host,"txt_emp_code",910,15,70,20);$.txt_emp_full_name=new FingerButtonEdit(host,"txt_emp_full_name",985,15,100,20);$.txt_emp_full_name.setText("");$.lbl_year_end_tax_type=new FingerLabel(host,"lbl_year_end_tax_type",0,45,100,20);$.lbl_year_end_tax_type.setText("정산구분");$.cmb_year_end_tax_type=new FingerComboBox(host,"cmb_year_end_tax_type",105,45,140,20);$.lbl_print_type1=new FingerLabel(host,"lbl_print_type1",250,45,100,20);$.lbl_print_type1.setText("출력형식구분");$.cmb_print_type1=new FingerComboBox(host,"cmb_print_type1",355,45,140,20);$.lbl_print_type=new FingerLabel(host,"lbl_print_type",500,45,100,20);$.lbl_print_type.setText("출력유형");$.cmb_print_type=new FingerComboBox(host,"cmb_print_type",605,45,195,20);$.lbl_print_date=new FingerLabel(host,"lbl_print_date",805,45,100,20);$.lbl_print_date.setText("출력일자");$.dte_print_date=new FingerDateEdit(host,"dte_print_date",910,45,180,20);$.grdList=new FingerDataGrid(host,"grdList",0,0,1200,595);$.btnSearch=new FingerButton(host,"btnSearch",1105,45,100,20);$.btnSearch.setText("조회");$.dte_year_end_tax_yyyy=new FingerDateEdit(host,"dte_year_end_tax_yyyy",105,15,140,20);$.panList.addButtons(["btnPreview","btnSave"]);$.panList.disableButton(["btnSave"]);$.panQuery.setBorder(true);$.dte_year_end_tax_yyyy.setDateFormat("yyyy");var dt=getCalcMonth(getToday(""),-12);$.dte_year_end_tax_yyyy.setValue(dt);$.dte_print_date.setValue(getToday(""));$.txt_dept_code.setValue(g_main.session.getValue("DeptCode"));$.txt_dept_name.setText(g_main.session.getValue("DeptName"));$.txt_emp_code.setValue(g_main.session.getValue("EmpCode"));$.txt_emp_full_name.setText(g_main.session.getValue("EmpName"));$.dte_year_end_tax_yyyy.setAllowBlank(false,"정산연도");$.cmb_site_code.setAllowBlank(false,"사업장");$.cmb_year_end_tax_type.setAllowBlank(false,"정산구분");$.cmb_print_type1.setAllowBlank(false,"출력형식구분");$.cmb_print_type.setAllowBlank(false,"출력유형");$.dte_print_date.setAllowBlank(false,"출력일자");colMap=$.grdList.setColumns([new FingerDataGridColumn("year_end_tax_yyyy",100,"left","string","정산연도",{readonly:true,hidden:true,format:"s_ymd"}),new FingerDataGridColumn("year_end_tax_type",150,"left","string","정산구분",{readonly:true,hidden:true}),new FingerDataGridColumn("emp_code",150,"left","string","사번",{readonly:true,hidden:true,format:"int"}),new FingerDataGridColumn("dept_code",150,"left","string","부서코드",{readonly:true,hidden:true}),new FingerDataGridColumn("dept_name",120,"left","string","부서명",{readonly:true}),new FingerDataGridColumn("emp_full_name",60,"left","string","이름",{readonly:true}),new FingerDataGridColumn("close_state",100,"left","string","마감상태",{readonly:true}),new FingerDataGridColumn("balance_income_tax_amt",150,"left","string","재정산 차액 (소득세)",{hidden:true,format:"int"}),new FingerDataGridColumn("balance_local_tax_amt",150,"left","string","재정산 차액 (주민세)",{hidden:true,format:"int"}),new FingerDataGridColumn("printable_yn",100,"left","string","출력가능여부"),new FingerDataGridColumn("work_start_date",100,"left","string","근무시작일",{format:"s_ymd",readonly:true}),new FingerDataGridColumn("work_end_date",100,"left","string","근무종료일",{format:"s_ymd",readonly:true}),new FingerDataGridColumn("reduct_start_date",100,"left","string","감면시작일",{format:"s_ymd",readonly:true}),new FingerDataGridColumn("reduct_end_date",100,"left","string","감면종료일",{format:"s_ymd",readonly:true}),new FingerDataGridColumn("pay_amt",150,"right","string","급여",{format:"int",readonly:true}),new FingerDataGridColumn("bonus_amt",150,"right","string","상여",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("add_bonus_amt",150,"right","string","인정상여",{format:"int",footer:{content:"summColumn"},readonly:true}),new FingerDataGridColumn("stock_profit_amt",150,"right","string","주식매수 선택권 행사이익",{format:"int",footer:{content:"summColumn"},readonly:true}),new FingerDataGridColumn("employee_stock_amt",150,"right","string","우리사주 조합인출금",{format:"int",footer:{content:"summColumn"},readonly:true}),new FingerDataGridColumn("prev1_pay_amt",150,"right","string","종전1 급여",{format:"int",footer:{content:"summColumn"},readonly:true}),new FingerDataGridColumn("prev1_bonus_amt",150,"right","string","종전1 상여",{format:"int",footer:{content:"summColumn"},readonly:true}),new FingerDataGridColumn("prev1_add_bonus_amt",150,"right","string","종전1 인정상여",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev1_stock_profit_amt",150,"right","string","종전1 주식매수선택권행사이익",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev1_emp_stock_amt",150,"right","string","종전1 우리사주조합인출금",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev2_pay_amt",150,"right","string","종전2 급여",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev2_bonus_amt",150,"right","string","종전2 상여",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev2_add_bonus_amt",150,"right","string","종전2 인정상여",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev2_stock_profit_amt",150,"right","string","종전2 주식매수선택권행사이익",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev2_emp_stock_amt",150,"right","string","종전2 우리사주조합인출금",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev3_pay_amt",150,"right","string","납세조합 급여",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev3_bonus_amt",150,"right","string","납세조합 상여",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev3_add_bonus_amt",150,"right","string","납세조합 인정상여",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev3_stock_profit_amt",150,"right","string","납세조합 주식매수선택권행사이익",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev3_emp_stock_amt",150,"right","string","납세조합 우리사주조합인출금",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("pay_tot_amt",150,"right","string","소득총액",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("tax_free_tot_amt",150,"right","string","비과세총액",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("income_tot_amt",150,"right","string","총급여",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("income_ded_amt",150,"right","string","근로소득공제",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("income_amt",150,"right","string","근로소득금액",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("personal_ded_amt",150,"right","string","본인공제금액",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("wife_ded_amt",150,"right","string","배우자공제금액",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("support_ded_count",150,"right","string","부양가족수",{format:"int",readonly:true}),new FingerDataGridColumn("support_ded_amt",150,"right","string","부양가족공제금액",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("senior_ded_count",150,"right","string","경로우대수",{format:"int",readonly:true}),new FingerDataGridColumn("senior_ded_amt",150,"right","string","경로우대공제금액",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("handicap_ded_count",150,"right","string","장애인수",{format:"int",readonly:true}),new FingerDataGridColumn("handicap_ded_amt",150,"right","string","장애인공제금액",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("woman_ded_amt",150,"right","string","부녀자공제금액",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("bring_child_ded_count",150,"right","string","자녀양육수",{format:"int",readonly:true}),new FingerDataGridColumn("bring_child_ded_amt",150,"right","string","자녀양육비공제금액",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("childbirth_ded_count",150,"right","string","출산입양자수",{format:"int",readonly:true}),new FingerDataGridColumn("childbirth_ded_amt",150,"right","string","출산입양자공제금액",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("many_child_ded_count",150,"right","string","다자녀수",{format:"int",readonly:true}),new FingerDataGridColumn("many_child_ded_amt",150,"right","string","다자녀추가공제금액",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("pension_ded_amt",150,"right","string","국민연금보혐료공제",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("official_pens_amt",150,"right","string","공무원연금",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("military_pens_amt",150,"right","string","군인연금",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("school_pens_amt",150,"right","string","사립학교교직원연금",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("post_pens_amt",150,"right","string","별정우체국연금",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("pension_except_ded_amt",150,"right","string","기타연금 보험료공제",{format:"int",readonly:true,hidden:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("scientist_rpens_amt",150,"right","string","과학기술인공제",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("retire_pens_amt",150,"right","string","근로자퇴직급여 보장법에 따른 퇴직연금",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("retire_pension_ded_amt",150,"right","string","퇴직연금 소득공제",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("health_insure_amt",150,"right","string","건강보험료",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("emp_insure_amt",150,"right","string","고용보험료",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("general_insure_amt",150,"right","string","보장성보험",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("handicap_insure_amt",150,"right","string","장애인전용",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("insure_ded_amt",150,"right","string","보험료",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("med_ded_amt",150,"right","string","의료비",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("edu_ded_amt",150,"right","string","교육비",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("house_rent_principal_ded_org_amt",150,"right","string","주택임차 차입금 원리금 상환액 대출기관",{format:"int",readonly:true}),new FingerDataGridColumn("house_rent_principal_ded_amt",150,"right","string","주택임차 차입금 원리금 상환액 거주자",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("house_monthly_rent_amt",150,"right","string","월세액",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("house_interest_ded_amt1",150,"right","string","장기주택 저당 차입금 이자 상환액(15년 미만)",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("house_interest_ded_amt2",150,"right","string","장기주택 저당 차입금 이자 상환액(15년~29년)",{format:"int",readonly:true}),new FingerDataGridColumn("house_interest_ded_amt3",150,"right","string","장기주택 저당 차입금 이자 상환액(30년 이상)",{format:"int",readonly:true}),new FingerDataGridColumn("donation_ded_amt",150,"right","string","기부금",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("special_ded_tot_amt",150,"right","string","특별공제계",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("standard_ded_amt",150,"right","string","표준공제",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("ded_income_amt",150,"right","string","차감소득금액",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("private_pension_saving_amt",150,"right","string","개인연금 저축소득공제액",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("pension_saving_amt",150,"right","string","연금저축 소득공제",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("small_company_ded_amt",150,"right","string","소기업,소상공인공제부금공제",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("house_subs_sav_amt",150,"right","string","청약저축",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("house_total_sav_amt",150,"right","string","주택청약종합저축",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("house_longterm_sav_amt",150,"right","string","장기주택마련저축",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("house_emp_sav_amt",150,"right","string","근로자주택마련저축",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("house_saving_ded_amt",150,"right","string","주택마련저축소득공제",{format:"int",readonly:true,hidden:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("investment_ded_amt",150,"right","string","투자조합출자소득공제",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("card_ded_amt",150,"right","string","신용카드등 소득공제",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("employee_stock_ded_amt",150,"right","string","우리사주 조합소득공제",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("fund_saving_ded_amt",150,"right","string","장기주식형 저축소득공제",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("salary_decr_amt",150,"right","string","고용유지중소기업근로자",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("misc_ded_tot_amt",150,"right","string","그밖의소득공제계",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("tot_income_tax_standard_amt",150,"right","string","종합소득과세표준",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("calculate_tax_amt",150,"right","string","산출세액",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("income_tax_law_ded_amt",150,"right","string","소득세법",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("tax_special_law_ded_amt",150,"right","string","조세특례제한법",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("tax_reduction_tot_amt",150,"right","string","세액감면계",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("income_tax_ded_amt",150,"right","string","근로소득",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("tax_union_ded_amt",150,"right","string","납세조합공제",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("house_interest_redeem_amt",150,"right","string","주택차입금",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("donation_politics_ded_amt",150,"right","string","기부정치자금",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("foreign_payment_tax_ded_amt",150,"right","string","외국납부",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("tax_ded_tot_amt",150,"right","string","세액공제계",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev1_income_tax_amt",150,"right","string","종전1 소득세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev1_local_tax_amt",150,"right","string","종전1 주민세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev1_special_tax_amt",150,"right","string","종전1 농특세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev2_income_tax_amt",150,"right","string","종전2 소득세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev2_local_tax_amt",150,"right","string","종전2 주민세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev2_special_tax_amt",150,"right","string","종전2 농특세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev3_income_tax_amt",150,"right","string","납세조합 소득세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev3_local_tax_amt",150,"right","string","납세조합 주민세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("prev3_special_tax_amt",150,"right","string","납세조합 농특세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("calc_income_tax_amt",150,"right","string","결정소득세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("calc_local_tax_amt",150,"right","string","결정주민세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("calc_special_tax_amt",150,"right","string","결정농특세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("now_income_tax_amt",150,"right","string","주현소득세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("now_local_tax_amt",150,"right","string","주현주민세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("now_special_tax_amt",150,"right","string","주현농특세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("income_tax_amt",150,"right","string","차감소득세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("local_tax_amt",150,"right","string","차감주민세",{format:"int",readonly:true,footer:{content:"summColumn"}}),new FingerDataGridColumn("special_tax_amt",150,"right","string","차감농특세",{format:"int",readonly:true,footer:{content:"summColumn"}})]);$.grdList.init({panel:$.panList,scroll:"xy",eventCellReadOnly:true,leftSplit:10,isFilter:true,nonExcel:false,footer:true});$.grdList.setBorder(false);$.grdList.setEditable(true);$.host=host;$.args=args};$.start=function(){$.panMain.add($.panQuery);$.panMain.add($.panList);$.panQuery.add($.lbl_year_end_tax_yyyy);$.panQuery.add($.lbl_site_code);$.panQuery.add($.cmb_site_code);$.panQuery.add($.lbl_dept_code);$.panQuery.add($.txt_dept_code);$.panQuery.add($.txt_dept_name);$.panQuery.add($.lbl_emp_code);$.panQuery.add($.txt_emp_code);$.panQuery.add($.txt_emp_full_name);$.panQuery.add($.lbl_year_end_tax_type);$.panQuery.add($.cmb_year_end_tax_type);$.panQuery.add($.lbl_print_type1);$.panQuery.add($.cmb_print_type1);$.panQuery.add($.lbl_print_type);$.panQuery.add($.cmb_print_type);$.panQuery.add($.lbl_print_date);$.panQuery.add($.dte_print_date);$.panQuery.add($.btnSearch);$.panQuery.add($.dte_year_end_tax_yyyy);$.panList.add($.grdList);var ds=bizComponentData2($,"Q1","L_ORG001|L_HRA029|L_HRA040|L_HRA026");$.cmb_site_code.setColumn("site_code","site_name");$.cmb_year_end_tax_type.setColumn("sub_code","code_name");$.cmb_print_type1.setColumn("sub_code","code_name");$.cmb_print_type.setColumn("sub_code","code_name");setComboBind([$.cmb_site_code,$.cmb_year_end_tax_type,$.cmb_print_type1,$.cmb_print_type],ds);$.cmb_print_type.setValue("20");$.cmb_print_type1.setValue("10");$.cmb_year_end_tax_type.setValue("YEAREND");var ds2=bizComponentData2($,"Q4","L_HRA010");$.grdList.setColumnDropDownList("close_state",ds2.resultList[0]);var ds3=bizComponentData2($,"Q4","L_HRI043");$.grdList.setColumnDropDownList("printable_yn",ds3.resultList[0]);if(g_main.session.getValue("IsHRManager")&&(g_main.session.getValue("EmpCode")=="ka130285"||g_main.session.getValue("EmpCode")=="ka100152"||g_main.session.getValue("EmpCode")=="ka011053"||g_main.session.getValue("EmpCode")=="ka070040")){$.grdList.setEditable(true)}else{$.grdList.setEditable(false);$.cmb_site_code.setReadOnly(true);$.txt_dept_code.setEnable(false);$.txt_dept_name.setEnable(false);$.txt_emp_code.setEnable(false);$.txt_emp_full_name.setEnable(false);$.cmb_print_type.setValue("30");if(g_main.session.getValue("DeptName")!=""){$.txt_dept_code.setValue(g_main.session.getValue("DeptCode"));$.txt_dept_name.setText(g_main.session.getValue("DeptName"))}$.cmb_print_type.setReadOnly(true)}};$.callback=function(type,ds){if(type=="LIST"){convertJavaDateToJs(ds.resultList);setDataGrid([$.grdList],ds)}else{if(type=="REPORT"){if(ds.resultList[0].length<=0){return}var rs=ds.resultList;var reportText="";if($.dte_year_end_tax_yyyy.getValue()>=2015){reportText="report_HRA1600_2015"}else{if($.dte_year_end_tax_yyyy.getValue()==2014){reportText="report_HRA1600_2014"}else{if($.dte_year_end_tax_yyyy.getValue()==2013){reportText="report_HRA1600_2013"}else{if($.dte_year_end_tax_yyyy.getValue()<=2012){reportText="report_HRA1600_2012"}}}}for(var i in rs[0]){rs[0][i].tax_site_stamp=convertByteArrayToImageSource(rs[0][i].tax_site_stamp);if(rs[0][i].print_type=="10"){rs[0][i].print_type_1=false;rs[0][i].print_type_2=false;rs[0][i].print_type_3=true}else{if(rs[0][i].print_type=="20"){rs[0][i].print_type_1=false;rs[0][i].print_type_2=true;rs[0][i].print_type_3=false}else{if(rs[0][i].print_type=="30"){rs[0][i].print_type_1=true;rs[0][i].print_type_2=false;rs[0][i].print_type_3=false}}}if(rs[0][i].print_type1=="10"){rs[0][i].print_type1_1=true;rs[0][i].print_type1_2=false}else{if(rs[0][i].print_type1=="20"){rs[0][i].print_type1_1=false;rs[0][i].print_type1_2=true}}if(rs[0][i].live_yn=="1"){rs[0][i].live_yn_1=true;rs[0][i].live_yn_2=false}else{rs[0][i].live_yn_1=false;rs[0][i].live_yn_2=true}if(rs[0][i].foreigner_yn=="1"){rs[0][i].foreigner_yn_1=true;rs[0][i].foreigner_yn_2=false}else{rs[0][i].foreigner_yn_1=false;rs[0][i].foreigner_yn_2=true}if(rs[0][i].foreigner_tax_yn=="1"){rs[0][i].foreigner_tax_yn_1=true;rs[0][i].foreigner_tax_yn_2=false}else{rs[0][i].foreigner_tax_yn_1=false;rs[0][i].foreigner_tax_yn_2=true}if(rs[0][i].family_owner_yn=="1"){rs[0][i].family_owner_yn_1=true;rs[0][i].family_owner_yn_2=false}else{rs[0][i].family_owner_yn_1=false;rs[0][i].family_owner_yn_2=true}if(rs[0][i].year_end_tax_type=="1"){rs[0][i].year_end_tax_type_1=true;rs[0][i].year_end_tax_type_2=false}else{rs[0][i].year_end_tax_type_1=false;rs[0][i].year_end_tax_type_2=true}rs[0][i].income_tax_amt=setComma(rs[0][i].income_tax_amt);rs[0][i].local_tax_amt=setComma(rs[0][i].local_tax_amt);rs[0][i].special_tax_amt=setComma(rs[0][i].special_tax_amt)}var info=rs[0];var list=rs[1];var emp_code="";var exists=false;for(var i=0;i<info.length;i++){if(info[i].emp_code!=emp_code){emp_code=info[i].emp_code;for(var j=0;j<list.length;j++){if(emp_code==list[j].emp_code){exists=true;break}}if(!exists){var new_row={year_end_tax_yyyy:"",emp_code:emp_code,family_name:"",family_social_no:"",family_yeartax_relation:"",family_foreigner_type:"",family_basic_ded_yn:"",family_senior_count_yn:"",family_childbirth_yn:"",family_woman_yn:"",family_singleparent_yn:"",family_handicap_yn:"",family_child_yn:"",insurance_amt_nts:"",insurance_amt_misc:"",med_expense_amt_nts:"",med_expense_amt_misc:"",edu_expense_amt_nts:"",edu_expense_amt_misc:"",card_use_amt_nts:"",card_use_amt_misc:"",cash_use_amt_nts:"",check_card_use_amt_nts:"",check_card_use_amt_misc:"",giro_use_amt_nts:"",giro_use_amt_misc:"",market_use_amt_nts:"",market_use_amt_misc:"",transportation_use_amt_nts:"",transportation_use_amt_misc:"",donation_amt_nts:"",donation_amt_misc:""};list.push(new_row)}exists=false}else{continue}}var params={report:reportText,isPrint:false,data:{Info:info,List:list}};g_printBrowser.callPrint(params);hra1600_Q("LIST")}else{if(type=="Q4"){}}}};$.update=function(args){$.args=args};$.executeScript=function(script){eval(script)};$.fingerbutton_click=function(id){if(id=="btnSearch"){hra1600_Q("LIST")}};$.fingermultiselect_checkchange=function(id,index){};$.fingermultiselect_itemchange=function(id){};$.fingerbuttonedit_click=function(id){if(id=="txt_dept_name"){$.popCallId="dept";var param={dept_name:$.txt_dept_name.getText()};g_main.openPopup("popDept.html","popDept","","","","","",param,"","")}else{if(id=="txt_emp_full_name"){$.popCallId="emp";var param={emp_name:$.txt_emp_full_name.getText(),searchAll:"Y"};g_main.openPopup("popEmp.html","popEmp","","","","","",param,"","")}}};$.fingerbuttonedit_change=function(id,value){};$.fingerbuttonedit_keypress=function(id,value){};$.fingerbuttonedit_lostfocus=function(id,value){};$.fingercheckbox_change=function(id,value){};$.fingercombobox_change=function(id,value){};$.fingerdateedit_click=function(id){};$.fingerdateedit_change=function(id,value){};$.fingerdatagrid_itemclick=function(id,rId,cInd){};$.fingerdatagrid_selectionchange=function(id,rId){};$.fingerdatagrid_cellvaluechange=function(id,rId,cInd,nValue,oValue){if(cInd=="printable_yn"){$.panList.enableButton(["btnSave"])}};$.fingerdatagrid_rowdblclicked=function(id,rId,cInd){};$.fingerdatagrid_celllink_click=function(e,gridid,rId,cId,value){};$.fingerdatagrid_popupcelldblclicked=function(id,rId,cInd){};$.fingerdatagrid_drag=function(id,sId,tId,sObj,tObj,sInd,tInd){};$.fingeredit_change=function(id,value){};$.fingeredit_keypress=function(id,value){};$.fingeredit_lostfocus=function(id,value){};$.fingerimage_click=function(id){};$.fingerlayout_panelresizefinish=function(id){};$.fingerlayout_resizefinish=function(id){};$.fingerpanel_button_click=function(panelId,btnId){if(panelId=="panList"){if(btnId=="btnSave"){hra1600_S("U")}else{if(btnId=="btnPreview"){hra1600_Q("REPORT")}else{if(btnId=="btnPrint"){fnPrint("Print");if(g_main.session.getValue("IsHRManager")=="Y"&&(g_main.session.getValue("EmpCode")=="ka130285"||g_main.session.getValue("EmpCode")=="ka100152"||g_main.session.getValue("EmpCode")=="ka011053"||g_main.session.getValue("EmpCode")=="ka070040")){}}}}}};$.fingerpopup_close=function(id){var popResult=g_popupStack.shareData;if(popResult){if(id=="popDept"){$.txt_dept_code.setValue(popResult.dept_code);$.txt_dept_name.setText(popResult.dept_name)}else{if(id=="popEmp"){$.txt_emp_code.setValue(popResult.employee_id);$.txt_emp_full_name.setText(popResult.emp_name)}}}};$.fingerpopup2_close=function(id){};$.fingerradiobox_change=function(id,value){};$.fingertab_selectionchange=function(id,tabid){};$.fingertab_ontabclose=function(id,tabid){};$.fingertree_select=function(id,value){};$.fingertree_dblclick=function(id,nodeid){};$.fingertree_refresh=function(id){};$.fingerscheduler_before_event_changed=function(id,event_object,native_event,is_new,unmodified_event){};$.fingerscheduler_before_event_delete=function(id,event_id,event_object){};$.fingerscheduler_event_click=function(id,event_id,event_object,native_event_object){};$.fingerscheduler_ready=function(id){};$.fingerscheduler_before_event_created=function(id,start_date,end_date){};$.fingerscheduler_view_display=function(id,view){};$.fingerscheduler_event_reg=function(id,obj){};$.fingerfilepanel_upload_click=function(id,fileId,fileName){};$.fingerfilepanel_download_click=function(id,fileId,fileName){};$.fingerfilepanel_delete_click=function(id,fileId,fileName){};$.fingerimage_change=function(id,value){};$.fingerimage_rotate=function(id,value){};$.fingertab_click=function(id,tabid){};$.fingerpopup_click_x_button=function(){};$.fingeriframe_onload=function(id){};$.fingerhtmlview_click=function(id){}};</script>