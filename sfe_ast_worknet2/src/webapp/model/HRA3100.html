<script>function Main(){var $=this;$.host=null;$.panMain=null;$.panList=null;$.panInfo=null;$.grdMaster=null;$.panMaster=null;$.lbl_earner_name=null;$.txt_earner_name=null;$.lbl_social_no=null;$.txt_social_no=null;$.btnSearch=null;$.lbl_contact_code=null;$.txt_contact_code=null;$.lbl_earner_code1=null;$.txt_earner_code1=null;$.lbl_earner_name1=null;$.txt_earner_name1=null;$.lbl_social_no1=null;$.txt_social_no1=null;$.lbl_birthday=null;$.dte_birthday=null;$.cmb_birthday_type=null;$.lbl_business_type=null;$.cmb_business_type=null;$.lbl_foreign_type=null;$.cmb_foreign_type=null;$.lbl_reside_type=null;$.cmb_reside_type=null;$.lbl_nation_code=null;$.cmb_nation_code=null;$.lbl_comp_name=null;$.txt_comp_name=null;$.lbl_biz_regno=null;$.txt_biz_regno=null;$.lbl_belong_to=null;$.txt_belong_to=null;$.lbl_earner_type=null;$.cmb_earner_type=null;$.lbl_site_code=null;$.cmb_site_code=null;$.lbl_bank_code=null;$.txt_bank_code=null;$.bte_bank_name=null;$.lbl_bank_account=null;$.txt_bank_account=null;$.lbl_acct_name=null;$.txt_acct_name=null;$.lbl_tel=null;$.txt_tel=null;$.lbl_send_type=null;$.cmb_send_type=null;$.lbl_zip_code1=null;$.bte_zip_code1=null;$.lbl_zip_code3=null;$.bte_zip_code3=null;$.lbl_address=null;$.txt_address1_1=null;$.txt_address1_2=null;$.lbl_zip_code2=null;$.bte_zip_code2=null;$.lbl_zip_code4=null;$.bte_zip_code4=null;$.lbl_address2=null;$.txt_address2_1=null;$.txt_address2_2=null;$.lbl_memo=null;$.mem_memo=null;$.btnCreateLink=null;$.btnUpdateLink=null;$.socialno_chkyn="";$.initRow=false;$.eCode="";$.session=g_main.session.obj;function createJson_Q(workType){var rId=$.grdMaster.getSelectedRowIdx();var json=createExecuteParamInfo("HR..P_HRA3100_Q",[workType,$.txt_earner_name.getValue()||"",$.txt_social_no.getValue()||"",workType=="INFO"?$.grdMaster.getValue(rId,"earner_code"):""]);return json}function createJson_S(workType){var json=createExecuteParamInfo("HR..P_HRA3100_S",[workType,$.txt_earner_code1.getValue()||"",$.txt_earner_name1.getValue()||"",$.txt_social_no1.getValue().replace("-","")||"",$.dte_birthday.getValue()||"",$.cmb_birthday_type.getValue()||"",$.cmb_business_type.getValue()||"",$.cmb_foreign_type.getValue()||"",$.cmb_reside_type.getValue()||"",$.cmb_nation_code.getValue()||"",$.txt_comp_name.getValue()||"",$.txt_biz_regno.getValue()||"",$.txt_belong_to.getValue()||"",$.cmb_earner_type.getValue()||"",$.cmb_site_code.getValue()||"",$.txt_bank_code.getValue()||"",$.txt_bank_account.getValue()||"",$.txt_acct_name.getValue()||"",$.txt_tel.getValue()||"",$.cmb_send_type.getValue()||"",$.bte_zip_code1.getText()||"",$.bte_zip_code3.getText()||"",$.txt_address1_1.getValue()||"",$.txt_address1_2.getValue()||"",$.bte_zip_code2.getText()||"",$.bte_zip_code4.getText()||"",$.txt_address2_1.getValue()||"",$.txt_address2_2.getValue()||"",$.mem_memo.getValue()||"","#UserID#","#HostInfo#"]);return json}function createJson_S1(workType){var json=createExecuteParamInfo("P_crmContactLink_S",[workType,$.txt_earner_code1.getValue()||"",$.txt_contact_code.getValue()||"","#UserID#"]);return json}function searchHRA3100(workType){var json=createJson_Q(workType);callQuery(["req",json],workType,$)}function saveHRA3100(workType){var json=createJson_S(workType);callExecute(["req",json],workType,$)}function saveContactLink(workType){if(!$.panInfo.validateControls()){return false}var json=createJson_S1(workType);callExecute(["req",json],"LINK",$)}function queryClick(){searchHRA3100("LIST")}function newClick(){$.panInfo.clear();$.panList.clear();$.txt_earner_name1.setFocus();$.cmb_nation_code.setValue("KR");$.cmb_foreign_type.setValue("1");$.socialno_chkyn="Y"}function saveClick(){var strStatus="";if(!$.txt_earner_code1.getValue()){strStatus="N"}else{strStatus="U"}if(!$.panInfo.validateControls()){return}if(!chkresno($.txt_social_no1.getValue())&&$.cmb_foreign_type.getValue()=="1"){MessageBoxShow("주민번호의 형식이 잘못되었습니다.");return}var sql="SELECT COUNT(social_no) FROM [HR].[dbo].[hraEarnerMaster] WHERE social_no ='"+$.txt_social_no1.getValue().replace("-","")+"' AND earner_code <> '"+$.txt_earner_code1.getValue()+"'";var ds=commExecuteSQL(sql);if(Number(ds.resultList[0][0][""])>0&&$.socialno_chkyn=="Y"){MessageBoxShow("해당 주민번호는 이미 등록되어 있습니다.");return}if($.cmb_send_type.getValue()=="10"){if($.bte_zip_code1.getValue()==""&&$.bte_zip_code3.getValue()==""){MessageBoxShow("자택우편번호는 필수로 입력하셔야 합니다.");return}}else{if($.cmb_send_type.getValue()=="20"){if($.bte_zip_code2.getValue()==""&&$.bte_zip_code4.getValue()==""){MessageBoxShow("직장우편번호는 필수로 입력하셔야 합니다.");return}}}saveHRA3100(strStatus)}function changeForeignType(value){if(value=="1"){$.txt_bank_code.setValue("");$.bte_bank_name.setText("");$.txt_bank_account.setValue("");var social=$.txt_social_no1.getValue();if(social){$.txt_social_no1.setValue(social.substr(0,6)+"-"+social.substr(6,7))}$.txt_acct_name.setValue("");$.txt_acct_name.setAllowBlank(false,"예금주")}else{if(value=="9"){$.txt_bank_code.setValue("011");$.bte_bank_name.setText("임시은행");$.txt_bank_account.setValue("111-1111-11111");var social=$.txt_social_no1.getValue();if(social){$.txt_social_no1.setValue(unmask(social))}$.txt_acct_name.setValue($.txt_earner_name1.getValue());$.txt_acct_name.setAllowBlank(false,"예금주")}}}function changeSendType(value){if(value=="10"){$.txt_address1_1.setAllowBlank(false,"자택주소");$.txt_address2_1.setAllowBlank(true)}else{if(value=="20"){$.txt_address1_1.setAllowBlank(true);$.txt_address2_1.setAllowBlank(false,"직장주소")}else{if(value=="99"){$.txt_address1_1.setAllowBlank(true);$.txt_address2_1.setAllowBlank(true)}}}}function saveButton(bo){if(bo){$.panInfo.enableButton(["btnSave"])}else{$.panInfo.disableButton(["btnSave"])}}function chkresno(resno){var fmt=/^\d{6}-[1234]\d{6}$/;if(!fmt.test(resno)){return false}var birthYear=(resno.charAt(7)<="2")?"19":"20";birthYear+=resno.substring(0,2);var birthMonth=resno.substring(2,4)-1;var birthDate=resno.substring(4,6);var birth=new Date(birthYear,birthMonth,birthDate);if(birth.getFullYear()%100!=resno.substring(0,2)||birth.getMonth()!=birthMonth||birth.getDate()!=birthDate){return false}var buf=new Array(13);for(i=0;i<6;i++){buf[i]=parseInt(resno.charAt(i))}for(i=6;i<13;i++){buf[i]=parseInt(resno.charAt(i+1))}var multipliers=[2,3,4,5,6,7,8,9,2,3,4,5];for(i=0,sum=0;i<12;i++){sum+=(buf[i]*=multipliers[i])}if((11-(sum%11))%10!=buf[12]){return false}return true}$.init=function(host,args){$.panMain=new FingerPanel(host,"panMain",0,0,1200,715);$.panMain.setText("");$.panMain.setBottomLine(true);$.panList=new FingerPanel(host,"panList",0,0,600,130);$.panList.setText("리스트정보");$.panList.setBottomLine(true);$.panInfo=new FingerPanel(host,"panInfo",610,0,590,700);$.panInfo.setText("기본정보");$.panInfo.setBottomLine(true);$.grdMaster=new FingerDataGrid(host,"grdMaster",0,0,600,562);$.panMaster=new FingerPanel(host,"panMaster",0,140,600,562);$.panMaster.setText("");$.panMaster.setBottomLine(true);$.lbl_earner_name=new FingerLabel(host,"lbl_earner_name",40,15,100,20);$.lbl_earner_name.setText("소득자명");$.txt_earner_name=new FingerEdit(host,"txt_earner_name",145,15,220,20);$.lbl_social_no=new FingerLabel(host,"lbl_social_no",0,45,140,20);$.lbl_social_no.setText("주민/사업자등록번호");$.txt_social_no=new FingerEdit(host,"txt_social_no",145,45,220,20);$.btnSearch=new FingerButton(host,"btnSearch",520,-37.5,80,20);$.btnSearch.setText("조회");$.lbl_contact_code=new FingerLabel(host,"lbl_contact_code",0,10,100,20);$.lbl_contact_code.setText("고객코드");$.txt_contact_code=new FingerEdit(host,"txt_contact_code",105,10,180,20);$.lbl_earner_code1=new FingerLabel(host,"lbl_earner_code1",0,40,100,20);$.lbl_earner_code1.setText("코드");$.txt_earner_code1=new FingerEdit(host,"txt_earner_code1",105,40,180,20);$.lbl_earner_name1=new FingerLabel(host,"lbl_earner_name1",295,40,100,20);$.lbl_earner_name1.setText("성명");$.txt_earner_name1=new FingerEdit(host,"txt_earner_name1",400,40,180,20);$.lbl_social_no1=new FingerLabel(host,"lbl_social_no1",0,70,100,20);$.lbl_social_no1.setText("주민등록번호");$.txt_social_no1=new FingerEdit(host,"txt_social_no1",105,70,180,20);$.lbl_birthday=new FingerLabel(host,"lbl_birthday",295,70,100,20);$.lbl_birthday.setText("생년월일");$.dte_birthday=new FingerDateEdit(host,"dte_birthday",400,70,100,20);$.cmb_birthday_type=new FingerComboBox(host,"cmb_birthday_type",505,70,75,20);$.lbl_business_type=new FingerLabel(host,"lbl_business_type",0,100,100,20);$.lbl_business_type.setText("개인/법인 구분");$.cmb_business_type=new FingerComboBox(host,"cmb_business_type",105,100,180,20);$.lbl_foreign_type=new FingerLabel(host,"lbl_foreign_type",295,100,100,20);$.lbl_foreign_type.setText("내외국인구분");$.cmb_foreign_type=new FingerComboBox(host,"cmb_foreign_type",400,100,180,20);$.lbl_reside_type=new FingerLabel(host,"lbl_reside_type",0,130,100,20);$.lbl_reside_type.setText("거주구분");$.cmb_reside_type=new FingerComboBox(host,"cmb_reside_type",105,130,180,20);$.lbl_nation_code=new FingerLabel(host,"lbl_nation_code",295,130,100,20);$.lbl_nation_code.setText("거주국");$.cmb_nation_code=new FingerComboBox(host,"cmb_nation_code",400,130,180,20);$.lbl_comp_name=new FingerLabel(host,"lbl_comp_name",0,160,100,20);$.lbl_comp_name.setText("상호");$.txt_comp_name=new FingerEdit(host,"txt_comp_name",105,160,180,20);$.lbl_biz_regno=new FingerLabel(host,"lbl_biz_regno",280,160,115,20);$.lbl_biz_regno.setText("사업자등록번호");$.txt_biz_regno=new FingerEdit(host,"txt_biz_regno",400,160,180,20);$.lbl_belong_to=new FingerLabel(host,"lbl_belong_to",0,190,100,20);$.lbl_belong_to.setText("소속");$.txt_belong_to=new FingerEdit(host,"txt_belong_to",105,190,475,20);$.lbl_earner_type=new FingerLabel(host,"lbl_earner_type",0,220,100,20);$.lbl_earner_type.setText("소득자구분");$.cmb_earner_type=new FingerComboBox(host,"cmb_earner_type",105,220,180,20);$.lbl_site_code=new FingerLabel(host,"lbl_site_code",295,220,100,20);$.lbl_site_code.setText("사업장");$.cmb_site_code=new FingerComboBox(host,"cmb_site_code",400,220,180,20);$.lbl_bank_code=new FingerLabel(host,"lbl_bank_code",0,250,100,20);$.lbl_bank_code.setText("은행");$.txt_bank_code=new FingerEdit(host,"txt_bank_code",105,250,40,20);$.bte_bank_name=new FingerButtonEdit(host,"bte_bank_name",150,250,133,20);$.bte_bank_name.setText("");$.lbl_bank_account=new FingerLabel(host,"lbl_bank_account",295,250,100,20);$.lbl_bank_account.setText("계좌");$.txt_bank_account=new FingerEdit(host,"txt_bank_account",400,250,180,20);$.lbl_acct_name=new FingerLabel(host,"lbl_acct_name",0,280,100,20);$.lbl_acct_name.setText("예금주");$.txt_acct_name=new FingerEdit(host,"txt_acct_name",105,280,180,20);$.lbl_tel=new FingerLabel(host,"lbl_tel",0,310,100,20);$.lbl_tel.setText("연락처");$.txt_tel=new FingerEdit(host,"txt_tel",105,310,180,20);$.lbl_send_type=new FingerLabel(host,"lbl_send_type",295,310,100,20);$.lbl_send_type.setText("발송구분");$.cmb_send_type=new FingerComboBox(host,"cmb_send_type",400,310,180,20);$.lbl_zip_code1=new FingerLabel(host,"lbl_zip_code1",0,345,100,15);$.lbl_zip_code1.setText("자택우편번호(지번)");$.bte_zip_code1=new FingerButtonEdit(host,"bte_zip_code1",105,345,120,20);$.bte_zip_code1.setText("");$.lbl_zip_code3=new FingerLabel(host,"lbl_zip_code3",295,345,100,15);$.lbl_zip_code3.setText("자택우편번호(도로명)");$.bte_zip_code3=new FingerButtonEdit(host,"bte_zip_code3",400,345,120,20);$.bte_zip_code3.setText("");$.lbl_address=new FingerLabel(host,"lbl_address",0,380,100,20);$.lbl_address.setText("자택주소");$.txt_address1_1=new FingerEdit(host,"txt_address1_1",105,380,475,20);$.txt_address1_2=new FingerEdit(host,"txt_address1_2",105,410,475,20);$.lbl_zip_code2=new FingerLabel(host,"lbl_zip_code2",0,445,100,15);$.lbl_zip_code2.setText("직장우편번호(지번)");$.bte_zip_code2=new FingerButtonEdit(host,"bte_zip_code2",105,445,120,20);$.bte_zip_code2.setText("");$.lbl_zip_code4=new FingerLabel(host,"lbl_zip_code4",295,445,100,15);$.lbl_zip_code4.setText("직장우편번호(도로명)");$.bte_zip_code4=new FingerButtonEdit(host,"bte_zip_code4",400,445,120,20);$.bte_zip_code4.setText("");$.lbl_address2=new FingerLabel(host,"lbl_address2",0,480,100,20);$.lbl_address2.setText("직장주소");$.txt_address2_1=new FingerEdit(host,"txt_address2_1",105,480,475,20);$.txt_address2_2=new FingerEdit(host,"txt_address2_2",105,510,475,20);$.lbl_memo=new FingerLabel(host,"lbl_memo",0,540,100,20);$.lbl_memo.setText("비고");$.mem_memo=new FingerMemoEdit(host,"mem_memo",105,540,470,70);$.btnCreateLink=new FingerButton(host,"btnCreateLink",300,10,140,20);$.btnCreateLink.setText("고객정보연동");$.btnUpdateLink=new FingerButton(host,"btnUpdateLink",425,10,175,20);$.btnUpdateLink.setText("고객정보일괄갱신");$.panInfo.addButtons(["btnDelete","btnSave","btnNew"]);$.cmb_birthday_type.setEmptyRow(true);$.cmb_business_type.setEmptyRow(true);$.cmb_foreign_type.setEmptyRow(true);$.cmb_reside_type.setEmptyRow(true);$.cmb_nation_code.setEmptyRow(true);$.cmb_earner_type.setEmptyRow(true);$.cmb_site_code.setEmptyRow(true);$.cmb_send_type.setEmptyRow(true);$.txt_contact_code.setReadOnly(true);$.txt_earner_code1.setReadOnly(true);$.txt_earner_name1.setAllowBlank(false,"성명");$.txt_social_no1.setAllowBlank(false,"주민등록번호");$.cmb_business_type.setAllowBlank(false,"개인/법인 구분");$.cmb_foreign_type.setAllowBlank(false,"내외국인구분");$.cmb_reside_type.setAllowBlank(false,"거주구분");$.cmb_nation_code.setAllowBlank(false,"거주국");$.txt_comp_name.setAllowBlank(false,"상호");$.txt_belong_to.setAllowBlank(false,"소속");$.cmb_earner_type.setAllowBlank(false,"소득자구분");$.txt_bank_code.setAllowBlank(false,"은행");$.bte_bank_name.setAllowBlank(false,"은행");$.txt_bank_account.setAllowBlank(false,"계좌");$.txt_acct_name.setAllowBlank(false,"예금주");$.cmb_send_type.setAllowBlank(false,"발송구분");$.txt_address2_1.setAllowBlank(false,"직장주소1");$.txt_social_no1.setMaxLength(14);$.grdMaster.colIdx=$.grdMaster.setColumns([new FingerDataGridColumn("earner_code",110,"left","string","소득자코드"),new FingerDataGridColumn("earner_name",90,"left","string","소득자명"),new FingerDataGridColumn("delete_yn",60,"left","string","삭제"),new FingerDataGridColumn("social_no",120,"left","string","주민등록번호"),new FingerDataGridColumn("belong_to",110,"left","string","소속"),new FingerDataGridColumn("comp_name",110,"left","string","상호"),new FingerDataGridColumn("biz_regno",120,"left","string","사업자등록번호")]);$.grdMaster.init({scroll:"xy"});$.grdMaster.setEditable(false);$.grdMaster.setBorder(true);$.host=host;$.args=args};$.start=function(){$.panMain.add($.panList);$.panMain.add($.panInfo);$.panMain.add($.panMaster);$.panList.add($.lbl_earner_name);$.panList.add($.lbl_social_no);$.panList.add($.txt_earner_name);$.panList.add($.txt_social_no);$.panList.add($.btnSearch);$.panInfo.add($.lbl_contact_code);$.panInfo.add($.txt_contact_code);$.panInfo.add($.lbl_earner_code1);$.panInfo.add($.txt_earner_code1);$.panInfo.add($.lbl_earner_name1);$.panInfo.add($.txt_earner_name1);$.panInfo.add($.lbl_social_no1);$.panInfo.add($.txt_social_no1);$.panInfo.add($.lbl_birthday);$.panInfo.add($.dte_birthday);$.panInfo.add($.cmb_birthday_type);$.panInfo.add($.lbl_business_type);$.panInfo.add($.cmb_business_type);$.panInfo.add($.lbl_foreign_type);$.panInfo.add($.cmb_foreign_type);$.panInfo.add($.lbl_reside_type);$.panInfo.add($.cmb_reside_type);$.panInfo.add($.lbl_nation_code);$.panInfo.add($.cmb_nation_code);$.panInfo.add($.lbl_comp_name);$.panInfo.add($.txt_comp_name);$.panInfo.add($.lbl_biz_regno);$.panInfo.add($.txt_biz_regno);$.panInfo.add($.lbl_belong_to);$.panInfo.add($.txt_belong_to);$.panInfo.add($.lbl_earner_type);$.panInfo.add($.cmb_earner_type);$.panInfo.add($.lbl_site_code);$.panInfo.add($.cmb_site_code);$.panInfo.add($.lbl_bank_code);$.panInfo.add($.txt_bank_code);$.panInfo.add($.bte_bank_name);$.panInfo.add($.lbl_bank_account);$.panInfo.add($.txt_bank_account);$.panInfo.add($.lbl_acct_name);$.panInfo.add($.txt_acct_name);$.panInfo.add($.lbl_tel);$.panInfo.add($.txt_tel);$.panInfo.add($.lbl_send_type);$.panInfo.add($.cmb_send_type);$.panInfo.add($.lbl_zip_code1);$.panInfo.add($.bte_zip_code1);$.panInfo.add($.lbl_zip_code3);$.panInfo.add($.bte_zip_code3);$.panInfo.add($.lbl_address);$.panInfo.add($.txt_address1_1);$.panInfo.add($.txt_address1_2);$.panInfo.add($.lbl_zip_code2);$.panInfo.add($.bte_zip_code2);$.panInfo.add($.lbl_zip_code4);$.panInfo.add($.bte_zip_code4);$.panInfo.add($.lbl_address2);$.panInfo.add($.txt_address2_1);$.panInfo.add($.txt_address2_2);$.panInfo.add($.lbl_memo);$.panInfo.add($.mem_memo);$.panInfo.add($.btnCreateLink);$.panInfo.add($.btnUpdateLink);$.panMaster.add($.grdMaster);relocateChildIndexInPanel([$.panList,$.panInfo]);var ds=bizComponentData2($,"Q1","L_HRM001|L_HRA006|L_HRA014|L_HRA015|L_HRA016|L_HRA017|L_ORG001|L_COM015");$.cmb_site_code.setColumn("site_code","site_name");$.cmb_nation_code.setColumn("nation_code","nation_name");setComboBind([$.cmb_birthday_type,$.cmb_foreign_type,$.cmb_business_type,$.cmb_reside_type,$.cmb_earner_type,$.cmb_send_type,$.cmb_site_code,$.cmb_nation_code],ds);if($.session.DeptCode=="G120"||$.session.SystemDeveloper=="Y"){}else{$.panInfo.setEnable(false);$.btnCreateLink.setEnable(false);$.btnUpdateLink.setEnable(false);$.panInfo.disableButton(["btnDelete","btnSave","btnNew"])}queryClick()};$.callback=function(type,ds){if(type=="LIST"){for(var i in ds.resultList[0]){ds.resultList[0][i].social_no=ds.resultList[0][i].social_no.substring(0,6)+"-"+ds.resultList[0][i].social_no.substring(6)}setDataGrid([$.grdMaster],ds);if($.grdMaster.getRowCount()<1){newClick()}else{var rIndex=0;if($.initRow){rIndex=$.grdMaster.getGridRowIndex("earner_code",$.eCode)}$.grdMaster.selectRow(rIndex)}$.initRow=false;saveButton(false)}else{if(type=="INFO"){if(ds&&ds.errorCode=="MSG0001"){var rs=ds.resultList[0][0];$.txt_contact_code.setValue(rs.contact_id);$.txt_earner_code1.setValue(rs.earner_code);$.txt_earner_name1.setValue(rs.earner_name);$.dte_birthday.setValue(rs.birthday);$.cmb_birthday_type.setValue(rs.birthday_type);$.cmb_business_type.setValue(rs.business_type);$.cmb_foreign_type.setValue(rs.foreign_type);$.txt_social_no1.setValue($.cmb_foreign_type.getValue()=="1"?rs.social_no.substr(0,6)+"-"+rs.social_no.substr(6,7):rs.social_no);$.cmb_reside_type.setValue(rs.reside_type);$.cmb_nation_code.setValue(rs.nation_code);$.txt_comp_name.setValue(rs.comp_name);$.txt_biz_regno.setValue(rs.biz_regno);$.txt_belong_to.setValue(rs.belong_to);$.cmb_earner_type.setValue(rs.earner_type);$.cmb_site_code.setValue(rs.site_code);$.txt_bank_code.setValue(rs.bank_code);$.bte_bank_name.setText(rs.bank_name);$.txt_bank_account.setValue(rs.bank_account);$.txt_acct_name.setValue(rs.acct_name);$.txt_tel.setValue(rs.tel);$.cmb_send_type.setValue(rs.send_type);$.bte_zip_code1.setText(rs.zip_code1);$.bte_zip_code3.setText(rs.zip_code3);$.txt_address1_1.setValue(rs.address1_1);$.txt_address1_2.setValue(rs.address1_2);$.bte_zip_code2.setText(rs.zip_code2);$.bte_zip_code4.setText(rs.zip_code4);$.txt_address2_1.setValue(rs.address2_1);$.txt_address2_2.setValue(rs.address2_2);$.mem_memo.setValue(rs.memo)}else{newClick()}saveButton(false)}else{if(type=="N"){if(ds){if(ds.errorCode.substring(0,1)=="P"||ds.errorCode.substring(0,1)=="E"){MessageBoxShow(ds.errorCode+"</br>"+ds.errorMsg)}else{$.txt_earner_code1.setValue(ds.returnStr);saveContactLink("N")}}}else{if(type=="U"){if(ds){if(ds.errorCode.substring(0,1)=="P"||ds.errorCode.substring(0,1)=="E"){MessageBoxShow(ds.errorCode+"</br>"+ds.errorMsg)}else{saveContactLink("N")}}}else{if(type=="D"){if(ds){if(ds.errorCode.substring(0,1)=="P"||ds.errorCode.substring(0,1)=="E"){MessageBoxShow(ds.errorCode+"</br>"+ds.errorMsg)}else{MessageBoxShow("정상적으로 삭제되었습니다.");queryClick()}}}else{if(type=="LINK"){if(ds){if(ds.errorCode.substring(0,1)=="P"||ds.errorCode.substring(0,1)=="E"){MessageBoxShow(ds.errorCode+"</br>"+ds.errorMsg);return}else{$.initRow=true;$.eCode=$.txt_earner_code1.getValue();MessageBoxShow("정상적으로 저장되었습니다.");queryClick()}}}}}}}}};$.update=function(args){$.args=args};$.executeScript=function(script){eval(script)};$.fingerbutton_click=function(id){if(id=="btnSearch"){queryClick()}else{if(id=="btnCreateLink"){$.popUpCallId=id;var param={contact_name:$.txt_earner_name1.getText()||"",check_yn:"N",base_date:$.lect_date,inquiry_type:"lecture"};g_main.openPopup("popCPContact.html","popCPContact","",0,0,"","",param,"","")}else{if(id=="btnUpdateLink"){confirmBoxShow("연동된 고객정보를 일괄 갱신 하시겠습니까?",function(){if(g_main.msgShare==true){saveContactLink("U")}})}}}};$.fingermultiselect_checkchange=function(id,index){};$.fingermultiselect_itemchange=function(id){};$.fingerbuttonedit_click=function(id){$.popUpCallId=id;if(id=="bte_bank_name"){var param={bank_code:$.txt_bank_code.getText()||"",};g_main.openPopup("popBank.html","popBank","",0,0,"","",param,"","")}else{if(id=="bte_zip_code1"){var param={zip_code:$.bte_zip_code1.getText()||""};g_main.openPopup("popBaseZipCode.html","popBaseZipCode","",0,0,"","",param,"","")}else{if(id=="bte_zip_code2"){var param={zip_code:$.bte_zip_code2.getText()||""};g_main.openPopup("popBaseZipCode.html","popBaseZipCode","",0,0,"","",param,"","")}else{if(id=="bte_zip_code3"){var param={type:"home"};g_main.openPopup("popZipCode.html","popZipCode","",0,0,"","",param,"","")}else{if(id=="bte_zip_code4"){var param={type:"office"};g_main.openPopup("popZipCode.html","popZipCode","",0,0,"","",param,"","")}}}}}};$.fingerbuttonedit_change=function(id,value){};$.fingerbuttonedit_keypress=function(id,value){};$.fingerbuttonedit_lostfocus=function(id,value){};$.fingercheckbox_change=function(id,value){};$.fingercombobox_change=function(id,value){saveButton(true);if(id=="cmb_foreign_type"){changeForeignType(value)}else{if(id=="cmb_send_type"){changeSendType(value)}}};$.fingerdateedit_click=function(id){};$.fingerdateedit_change=function(id,value){saveButton(true)};$.fingerdatagrid_itemclick=function(id,rId,cInd){};$.fingerdatagrid_selectionchange=function(id,rId){if(id=="grdMaster"){$.socialno_chkyn="N";searchHRA3100("INFO")}};$.fingerdatagrid_cellvaluechange=function(id,rId,cInd,nValue,oValue){};$.fingerdatagrid_rowdblclicked=function(id,rId,cInd){};$.fingerdatagrid_celllink_click=function(e,gridid,rId,cId,value){};$.fingerdatagrid_popupcelldblclicked=function(id,rId,cInd){};$.fingerdatagrid_drag=function(id,sId,tId,sObj,tObj,sInd,tInd){};$.fingeredit_change=function(id,value){if(id=="txt_earner_name"||id=="txt_social_no"){return}else{if(id=="txt_social_no1"){if(value&&$.cmb_foreign_type.getValue()=="1"){var social=unmask(value);log(social);if(social.length>6){social=social.substr(0,6)+"-"+social.substr(6,7)}$.txt_social_no1.setValue(social)}}}saveButton(true)};$.fingeredit_keypress=function(id,value){if((id=="txt_earner_name"||id=="txt_social_no")&&value=="13"){queryClick()}};$.fingeredit_lostfocus=function(id,value){};$.fingerimage_click=function(id){};$.fingerlayout_panelresizefinish=function(id){};$.fingerlayout_resizefinish=function(id){};$.fingerpanel_button_click=function(panelId,btnId){if(panelId=="panInfo"){if(btnId=="btnSave"){confirmBoxShow("저장하시겠습니까?",function(){if(g_main.msgShare==true){saveClick()}})}else{if(btnId=="btnNew"){newClick()}else{if(btnId=="btnDelete"){confirmBoxShow("["+$.txt_earner_name1.getValue()+"] 정보를 삭제하시겠습니까?",function(){if(g_main.msgShare==true){saveHRA3100("D")}})}}}}};$.fingerpopup_close=function(id){var popResult=g_popupStack.shareData;if(popResult){if(id=="popBank"){if($.popUpCallId=="bte_bank_name"){$.txt_bank_code.setValue(popResult.sub_code);$.bte_bank_name.setText(popResult.code_name)}}else{if(id=="popBaseZipCode"){log(popResult);if($.popUpCallId=="bte_zip_code1"){$.bte_zip_code1.setText(popResult.zip_code);$.txt_address1_1.setValue(popResult.Addr)}else{if($.popUpCallId=="bte_zip_code2"){$.bte_zip_code2.setText(popResult.zip_code);$.txt_address2_1.setValue(popResult.Addr)}}}else{if(id=="popZipCode"){if($.popUpCallId=="bte_zip_code3"){$.bte_zip_code3.setText(popResult.postno);$.txt_address1_1.setValue(popResult.address)}else{if($.popUpCallId=="bte_zip_code4"){$.bte_zip_code4.setText(popResult.postno);$.txt_address2_1.setValue(popResult.address)}}}else{if(id=="popContactNew"){if($.popUpCallId=="btnCreateLink"){log(popResult);$.txt_contact_code.setValue(popResult.contact_id);$.bte_zip_code2.setText("");$.bte_zip_code4.setText(popResult.zip_code);$.txt_address2_1.setValue(popResult.company_address);$.txt_address2_2.setValue(popResult.address2);$.txt_comp_name.setValue(popResult.company_name);$.txt_belong_to.setValue(popResult.speciality)}}else{if(id=="popCPContact"){if($.popUpCallId=="btnCreateLink"){$.txt_contact_code.setValue(popResult.popRows.contact_id);$.bte_zip_code2.setText("");$.bte_zip_code4.setText(popResult.popRows.zip_code);$.txt_address2_1.setValue(popResult.popRows.address1);$.txt_address2_2.setValue(popResult.popRows.address2);$.txt_comp_name.setValue(popResult.popRows.company_name);$.txt_belong_to.setValue(popResult.popRows.speciality)}}}}}}saveButton(true)}};$.fingerpopup2_close=function(id){};$.fingerradiobox_change=function(id,value){};$.fingertab_selectionchange=function(id,tabid){};$.fingertab_ontabclose=function(id,tabid){};$.fingertree_select=function(id,value){};$.fingertree_dblclick=function(id,nodeid){};$.fingertree_refresh=function(id){};$.fingerscheduler_before_event_changed=function(id,event_object,native_event,is_new,unmodified_event){};$.fingerscheduler_before_event_delete=function(id,event_id,event_object){};$.fingerscheduler_event_click=function(id,event_id,event_object,native_event_object){};$.fingerscheduler_ready=function(id){};$.fingerscheduler_before_event_created=function(id,start_date,end_date){};$.fingerscheduler_view_display=function(id,view){};$.fingerscheduler_event_reg=function(id,obj){};$.fingerfilepanel_upload_click=function(id,fileId,fileName){};$.fingerfilepanel_download_click=function(id,fileId,fileName){};$.fingerfilepanel_delete_click=function(id,fileId,fileName){};$.fingerimage_change=function(id,value){};$.fingerimage_rotate=function(id,value){};$.fingertab_click=function(id,tabid){};$.fingerpopup_click_x_button=function(){};$.fingeriframe_onload=function(id){};$.fingerhtmlview_click=function(id){}};</script>