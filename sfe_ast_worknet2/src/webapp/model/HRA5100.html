<script>function Main(){var $=this;$.host=null;$.panMain=null;$.panList=null;$.panMenu=null;$.grdList=null;$.panQuery=null;$.tabMain=null;$.panBase1=null;$.panBase2=null;$.panBase3=null;$.panBase4=null;$.btnSearch=null;$.lbl_retire_calc_yyyy=null;$.dte_retire_calc_yyyy=null;$.lbl_site_code=null;$.cmb_site_code=null;$.lbl_retire_calc_type=null;$.cmb_retire_calc_type=null;$.lbl_emp_code=null;$.txt_emp_code=null;$.lbl_emp_full_name=null;$.txt_emp_full_name=null;$.lbl_retire_calc_date1=null;$.dte_retire_calc_date1=null;$.lbl_site_code1=null;$.cmb_site_code1=null;$.lbl_emp=null;$.txt_emp_code1=null;$.bte_emp_full_name1=null;$.lbl_dept=null;$.txt_dept_code=null;$.bte_dept_name=null;$.lbl_enter_date=null;$.dte_enter_date=null;$.lbl_last_calc_date=null;$.dte_last_calc_date=null;$.lbl_retire_date=null;$.dte_retire_date=null;$.lbl_retire_calc_type1=null;$.cmb_retire_calc_type1=null;$.lbl_retire_reason=null;$.cmb_retire_reason=null;$.lbl_pay_date=null;$.dte_pay_date=null;$.lbl_declaration_yyyymm=null;$.dte_declaration_yyyymm=null;$.lbl_nation_code=null;$.cmb_nation_code=null;$.txt_temp=null;$.html_base=null;$.panAvg=null;$.panAVG_Pay2=null;$.panAVG_Pay=null;$.panAVG_Bonus=null;$.lbl_calc_start_date=null;$.dte_calc_start_date=null;$.lbl_calc_end_date=null;$.dte_calc_end_date=null;$.lbl_working_day_cnt=null;$.spe_working_day_cnt=null;$.lbl_tot_avg_pay_amt=null;$.spe_tot_avg_pay_amt=null;$.lbl_health_insur_calc_amt=null;$.spe_health_insur_calc_amt=null;$.lbl_bf_3month_day_cnt=null;$.spe_bf_3month_day_cnt=null;$.lbl_ordinary_wages_amt=null;$.spe_ordinary_wages_amt=null;$.lbl_pension_change_amt=null;$.spe_pension_change_amt=null;$.lbl_annual_benefit_amt=null;$.spe_annual_benefit_amt=null;$.lbl_apply_pay_amt=null;$.spe_apply_pay_amt=null;$.lbl_etc_ded_amt=null;$.spe_etc_ded_amt=null;$.lbl_etc_pay_amt=null;$.spe_etc_pay_amt=null;$.btnReCak=null;$.grdAVG_Pay2=null;$.grdAVG_Pay=null;$.grdAVG_Bonus=null;$.btnAVG=null;$.panCalcHis=null;$.grdCalcHis=null;$.panRetireHisPrev=null;$.panRetireHisDetail=null;$.panRetireHispens=null;$.panRetireHisConv=null;$.panRetireHisServ=null;$.html_a_Ex1=null;$.html_a_Ex2=null;$.html_a_Ex3=null;$.html_a_Ex4=null;$.html_a_Ex5=null;$.html_a_Ex6=null;$.html_a_Ex7=null;$.lbl_prev1_com_name=null;$.txt_prev1_com_name=null;$.lbl_prev1_com_num=null;$.txt_prev1_com_num=null;$.lbl_prev1_enter_date=null;$.dte_prev1_enter_date=null;$.lbl_prev1_retire_date=null;$.dte_prev1_retire_date=null;$.lbl_prev1_last_calc_date=null;$.dte_prev1_last_calc_date=null;$.lbl_prev1_retire_deduct_yn=null;$.chk_prev1_retire_deduct_yn=null;$.lbl_midway_income_tax_amt=null;$.spe_midway_income_tax_amt=null;$.lbl_midway_local_tax_amt=null;$.spe_midway_local_tax_amt=null;$.spe_retire_pay_cur_legal=null;$.spe_retire_pay_cur_extra=null;$.spe_retire_pay_prev1_legal=null;$.spe_retire_pay_prev1_extra=null;$.spe_retire_pay_sum=null;$.spe_retire_pension_amt_cur_legal=null;$.spe_retire_pension_amt_cur_extra=null;$.spe_retire_pension_amt_prev1_legal=null;$.spe_retire_pension_amt_prev1_extra=null;$.spe_retire_pension_sum=null;$.spe_retire_pay_sum_cur_legal=null;$.spe_retire_pay_sum_cur_extra=null;$.spe_retire_pay_sum_prev1_legal=null;$.spe_retire_pay_sum_prev1_extra=null;$.spe_retire_tot_sum=null;$.spe_retire_non_taxable_income=null;$.spe_retire_non_taxable_income_prev1=null;$.spe_retire_tot_non_taxable_sum=null;$.html_b_Ex1=null;$.html_b_Ex2=null;$.html_b_Ex3=null;$.html_b_Ex4=null;$.html_b_Ex5=null;$.html_b_Ex6=null;$.html_b_Ex7=null;$.html_b_Ex8=null;$.txt_retire_pension_acct_cur=null;$.spe_tot_receive_amt_cur=null;$.spe_principal_interest_sum_cur=null;$.spe_earner_payment_amt_cur=null;$.spe_retire_annual_deduct_amt_cur=null;$.spe_retire_pension_cur=null;$.txt_retire_annual_acct_prev=null;$.spe_tot_receive_amt_prev=null;$.spe_principal_interest_sum_prev=null;$.spe_earner_payment_amt_prev=null;$.spe_retire_pension_deduct_amt_prev=null;$.spe_retire_pension_amt_prev=null;$.html_c_Ex1=null;$.html_c_Ex2=null;$.html_c_Ex3=null;$.html_c_Ex4=null;$.html_c_Ex5=null;$.html_c_Ex6=null;$.html_c_Ex7=null;$.html_c_Ex8=null;$.html_c_Ex9=null;$.html_c_Ex10=null;$.html_c_Ex11=null;$.html_c_Ex12=null;$.html_c_Ex13=null;$.html_c_Ex14=null;$.spe_retire_pension_expect_amt_cur_legal=null;$.spe_tax_defer_amt_cur_legal=null;$.spe_received_retire_income_amt_cur_legal=null;$.spe_tot_amt_legal=null;$.spe_receivable_retire_income_amt_legal=null;$.spe_convert_retire_deduct_amt_legal=null;$.spe_convert_retire_income_tax_std_amt_legal=null;$.spe_convert_annual_avg_tax_std_amt_legal=null;$.spe_convert_annual_avg_calc_tax_amt_legal=null;$.spe_retire_pension_expect_amt_prev_legal=null;$.spe_tax_defer_amt_prev_legal=null;$.spe_received_retire_income_amt_prev_legal=null;$.spe_retire_pension_expect_amt_cur_extra=null;$.spe_tax_defer_amt_cur_extra=null;$.spe_received_retire_income_amt_cur_extra=null;$.spe_tot_amt_extra=null;$.spe_receivable_retire_income_amt_extra=null;$.spe_convert_retire_deduct_amt_extra=null;$.spe_convert_retire_income_tax_std_amt_extra=null;$.spe_convert_annual_avg_tax_std_amt_extra=null;$.spe_convert_annual_avg_calc_tax_amt_extra=null;$.spe_retire_pension_expect_amt_prev_extra=null;$.spe_tax_defer_amt_prev_extra=null;$.spe_received_retire_income_amt_prev_extra=null;$.html_d_Ex1=null;$.html_d_Ex2=null;$.html_d_Ex3=null;$.html_d_Ex4=null;$.html_d_Ex5=null;$.html_d_Ex6=null;$.html_d_Ex7=null;$.html_d_Ex8=null;$.html_d_Ex9=null;$.html_d_Ex10=null;$.html_d_Ex11=null;$.html_d_Ex12=null;$.html_d_Ex13=null;$.html_d_Ex14=null;$.html_d_Ex15=null;$.html_d_Ex16=null;$.dte_ymdenter_cur_legal=null;$.dte_ymdenter_prev_legal=null;$.dte_ymdretire_cur_legal=null;$.dte_ymdretire_prev_legal=null;$.spe_service_mon_cnt_cur_legal=null;$.spe_service_mon_cnt_prev_legal=null;$.spe_except_mon_cnt_cur_legal=null;$.spe_except_mon_cnt_prev_legal=null;$.spe_service_year_cnt_prev_legal=null;$.spe_overlap_mon_cnt_prev_legal=null;$.spe_service_year_cnt_cur_legal=null;$.dte_ymdenter_cur_extra=null;$.dte_ymdenter_prev_extra=null;$.dte_ymdretire_cur_extra=null;$.dte_ymdretire_prev_extra=null;$.spe_service_mon_cnt_cur_extra=null;$.spe_service_mon_cnt_prev_extra=null;$.spe_except_mon_cnt_cur_extra=null;$.spe_except_mon_cnt_prev_extra=null;$.spe_service_year_cnt_prev_extra=null;$.spe_overlap_mon_cnt_prev_extra=null;$.spe_service_year_cnt_cur_extra=null;$.panRetireCalcDetail=null;$.panRetireCalcPay=null;$.panRemark=null;$.html_f_Ex1=null;$.html_f_Ex2=null;$.html_f_Ex3=null;$.html_f_Ex4=null;$.html_f_Ex5=null;$.spe_retire_pay_amt_legal=null;$.spe_retire_pay_amt_extra=null;$.spe_retire_income_sum=null;$.spe_retire_deduct_amt_legal=null;$.spe_retire_deduct_amt_extra=null;$.spe_retire_deduct_sum=null;$.spe_retire_income_tax_std_amt_legal=null;$.spe_retire_income_tax_std_amt_extra=null;$.spe_retire_income_tax_std_sum=null;$.spe_annual_avg_tax_std_amt_legal=null;$.spe_annual_avg_tax_std_amt_extra=null;$.spe_annual_avg_tax_std_sum=null;$.spe_annual_avg_calc_tax_amt_legal=null;$.spe_annual_avg_calc_tax_amt_extra=null;$.spe_annual_avg_calc_sum=null;$.spe_calc_tax_amt_legal=null;$.spe_calc_tax_amt_extra=null;$.spe_calc_tax_sum=null;$.spe_retire_income_tax_deduct_amt_legal=null;$.spe_retire_income_tax_deduct_extra=null;$.spe_retire_income_tax_deduct_sum=null;$.spe_for_paid_tax_deduct_amt_legal=null;$.spe_for_paid_tax_deduct_extra=null;$.spe_for_paid_tax_deduct_sum=null;$.html_g_Ex1=null;$.html_g_Ex2=null;$.html_g_Ex3=null;$.html_g_Ex4=null;$.html_g_Ex5=null;$.html_g_Ex6=null;$.spe_income_retire_tax_amt=null;$.spe_local_retire_tax_amt=null;$.spe_special_retire_tax_amt=null;$.spe_retire_tax_sum=null;$.spe_income_prev_paid_tax_amt=null;$.spe_local_prev_paid_tax_amt=null;$.spe_special_prev_paid_tax_amt=null;$.spe_prev_paid_tax_sum=null;$.spe_income_balance_deduct_tax_amt=null;$.spe_local_balance_deduct_tax_amt=null;$.spe_special_balance_deduct_tax_amt=null;$.spe_balance_deduct_tax_sum=null;$.lbl_com_pay_amt=null;$.spe_com_pay_amt=null;$.lbl_bank=null;$.txt_bank_code=null;$.bte_bank_name=null;$.lbl_insure1=null;$.txt_insure1_name=null;$.spe_insurer1_pay_amt=null;$.lbl_account=null;$.txt_bank_account=null;$.lbl_insure2=null;$.txt_insurer2_name=null;$.spe_insurer2_pay_amt=null;$.lbl_bank_depositor=null;$.lbl_insurer3=null;$.txt_insurer3_name=null;$.spe_insurer3_pay_amt=null;$.lbl_pay_amt_sum=null;$.spe_pay_amt_sum=null;$.lbl_diff_amt=null;$.spe_diff_amt=null;$.lbl_real_pay_amt=null;$.spe_real_pay_amt=null;$.txt_bank_depositor=null;$.btnDetail=null;$.session=g_main.session.obj;$.isNew=true;$.deleteRows=[];$.dservice_yyyy_cur_legal=0;$.dservice_yyyy_cur_extra=0;$.dservice_yyyy_cur_adjust=0;$.dservice_yyyy_prev_legal=0;$.dservice_yyyy_prev_extra=0;$.dservice_yyyy_prev_adjust=0;$.doverlap_mon_cnt_prev_legal=0;$.doverlap_mon_cnt_prev_extra=0;$.dservice_year_cnt_prev_legal=0;$.dservice_year_cnt_prev_extra=0;$.dService_MM_cur_legal=0;$.dexcept_mon_cnt_cur_legal=0;$.dService_MM_cur_extra=0;$.dexcept_mon_cnt_cur_extra=0;$.dService_MM_cur_adjust=0;$.dded_MM_cur_adjust=0;$.dService_MM_prev_legal=0;$.dexcept_mon_cnt_prev_legal=0;$.dService_MM_prev_extra=0;$.dexcept_mon_cnt_prev_extra=0;$.dService_MM_prev_adjust=0;$.dded_MM_prev_adjust=0;$.dretire_pay_cur_legal=0;$.dretire_pension_amt_cur_legal=0;$.dretire_pay_cur_extra=0;$.dretire_pension_amt_cur_extra=0;$.dretire_pay_prev1_legal=0;$.dretire_pension_amt_prev1_legal=0;$.dretire_pay_prev1_extra=0;$.dretire_pension_amt_prev1_extra=0;$.dretire_pay_sum_cur_legal=0;$.dretire_pay_sum_cur_extra=0;$.dretire_pay_sum_prev1_legal=0;$.dretire_pay_sum_prev1_extra=0;$.dretire_pay_sum=0;$.dretire_pension_sum=0;$.dretire_tot_sum=0;$.dretire_non_taxable_income=0;$.dretire_non_taxable_income_prev1=0;$.dretire_tot_non_taxable_sum=0;$.dtot_receive_amt_cur=0;$.dprincipal_interest_sum_cur=0;$.dearner_payment_amt_cur=0;$.dretire_annual_deduct_amt_cur=0;$.dretire_pension_cur=0;$.dtot_receive_amt_prev=0;$.dprincipal_interest_sum_prev=0;$.dearner_payment_amt_prev=0;$.dretire_pension_deduct_amt_prev=0;$.dretire_pension_amt_prev=0;$.dretire_pension_expect_amt_cur_legal=0;$.dtax_defer_amt_cur_legal=0;$.dreceived_retire_income_amt_cur_legal=0;$.dretire_pension_expect_amt_prev_legal=0;$.dtax_defer_amt_prev_legal=0;$.dreceived_retire_income_amt_prev_legal=0;$.dtot_amt_legal=0;$.dreceivable_retire_income_amt_legal=0;$.dconvert_retire_deduct_amt_legal=0;$.dconvert_retire_income_tax_std_amt_legal=0;$.dconvert_annual_avg_tax_std_amt_legal=0;$.dconvert_annual_avg_calc_tax_amt_legal=0;$.dconvert_calc_tax_amt_legal=0;$.dretire_pension_expect_amt_cur_extra=0;$.dtax_defer_amt_cur_extra=0;$.dreceived_retire_income_amt_cur_extra=0;$.dretire_pension_expect_amt_prev_extra=0;$.dtax_defer_amt_prev_extra=0;$.dreceived_retire_income_amt_prev_extra=0;$.dtot_amt_extra=0;$.dreceivable_retire_income_amt_extra=0;$.dconvert_retire_deduct_amt_extra=0;$.dconvert_retire_income_tax_std_amt_extra=0;$.dconvert_annual_avg_tax_std_amt_extra=0;$.dconvert_annual_avg_calc_tax_amt_extra=0;$.dconvert_calc_tax_amt_extra=0;$.dProp_Rate_std=0;$.dtService_Year_cnt_Rate=[];$.dtTotal_Tax_Rate=[];$.dProp_Rate_Amt=0;$.dService_Year_cnt_Amt=0;$.dTotal_Tax_Amt=0;$.dretire_pay_amt_legal=0;$.dProp_Amt_legal=0;$.dService_Year_cnt_Amt_legal=0;$.dretire_deduct_amt_legal=0;$.dretire_income_tax_std_amt_legal=0;$.dannual_avg_tax_std_amt_legal=0;$.dannual_avg_calc_tax_amt_legal=0;$.dcalc_tax_amt_legal=0;$.dfor_paid_tax_deduct_amt_legal=0;$.dretire_pay_amt_extra=0;$.dProp_Amt_extra=0;$.dService_Year_cnt_Amt_extra=0;$.dretire_deduct_amt_extra=0;$.dretire_income_tax_std_amt_extra=0;$.dannual_avg_tax_std_amt_extra=0;$.dannual_avg_calc_tax_amt_extra=0;$.dcalc_tax_amt_extra=0;$.dfor_paid_tax_deduct_extra=0;$.dretire_income_sum=0;$.dretire_deduct_sum=0;$.dretire_income_tax_std_sum=0;$.dannual_avg_tax_std_sum=0;$.dannual_avg_calc_sum=0;$.dcalc_tax_sum=0;$.dfor_paid_tax_deduct_sum=0;$.dincome_retire_tax_amt=0;$.dlocal_retire_tax_amt=0;$.dspecial_retire_tax_amt=0;$.dretire_tax_sum=0;$.dincome_prev_paid_tax_amt=0;$.dlocal_prev_paid_tax_amt=0;$.dspecial_prev_paid_tax_amt=0;$.dprev_paid_tax_sum=0;$.dincome_balance_deduct_tax_amt=0;$.dlocal_balance_deduct_tax_amt=0;$.dspecial_balance_deduct_tax_amt=0;$.dbalance_deduct_tax_sum=0;function createJSON_Q(workType){var json=createExecuteParamInfo("HR..P_HRA5100_Q",[workType,$.dte_retire_calc_yyyy.getValue()||"",workType=="DETAIL"||workType=="AVG"?($.cmb_site_code1.getValue()||""):($.cmb_site_code.getValue()||""),workType=="DETAIL"||workType=="AVG"?$.cmb_retire_calc_type1.getValue():($.cmb_retire_calc_type.getValue()||""),workType=="DETAIL"||workType=="AVG"?$.txt_emp_code1.getValue():($.txt_emp_code.getValue()||""),$.txt_emp_full_name.getText()||"",$.dte_retire_calc_date1.getValue()||"",$.dte_calc_start_date.getValue()||"",$.dte_calc_end_date.getValue()||""]);return json}function createJSON_Q2(workType){var strcalc_start_date="";var strcalc_end_date="";if($.grdAVG_Pay2.getRowCount()<1){return false}if($.grdAVG_Pay2.getRowCount()>0){strcalc_start_date=unmask($.grdAVG_Pay2.getValue(0,"start_date")).substring(0,8);strcalc_end_date=unmask($.grdAVG_Pay2.getValue(0,"end_date")).substring(0,8)}for(var i=1;i<$.grdAVG_Pay2.getRowCount();i++){strcalc_start_date+="|"+unmask($.grdAVG_Pay2.getValue(i,"start_date")).substring(0,8);strcalc_end_date+="|"+unmask($.grdAVG_Pay2.getValue(i,"end_date")).substring(0,8)}var json=createExecuteParamInfo("HR..P_HRA5100_Q2",[workType,$.dte_retire_calc_date1.getValue(),$.cmb_retire_calc_type1.getValue(),$.txt_emp_code1.getValue(),strcalc_start_date,strcalc_end_date]);return json}function createJSON_S(workType){var json=createExecuteParamInfo("HR..P_HRA5100_S",[workType,$.dte_retire_calc_date1.getValue(),$.cmb_retire_calc_type1.getValue(),$.txt_emp_code1.getValue(),$.cmb_site_code1.getValue(),$.txt_dept_code.getValue(),$.dte_last_calc_date.getValue(),$.dte_pay_date.getValue(),$.cmb_retire_reason.getValue(),$.dte_calc_start_date.getValue(),$.dte_calc_end_date.getValue(),$.spe_working_day_cnt.getValue(),$.spe_tot_avg_pay_amt.getValue(),$.spe_ordinary_wages_amt.getValue(),$.spe_apply_pay_amt.getValue(),$.dte_prev1_enter_date.getValue(),$.dte_prev1_last_calc_date.getValue(),$.chk_prev1_retire_deduct_yn.getValue(),$.dte_prev1_retire_date.getValue(),$.spe_retire_pay_cur_legal.getValue(),$.spe_retire_pension_amt_cur_legal.getValue(),$.spe_retire_pay_sum_cur_legal.getValue(),$.spe_retire_pay_cur_extra.getValue(),$.spe_retire_pension_amt_cur_extra.getValue(),$.spe_retire_pay_sum_cur_extra.getValue(),$.spe_retire_non_taxable_income.getValue(),$.spe_retire_pay_prev1_legal.getValue(),$.spe_retire_pension_amt_prev1_legal.getValue(),$.spe_retire_pay_sum_prev1_legal.getValue(),$.spe_retire_pay_prev1_extra.getValue(),$.spe_retire_pension_amt_prev1_extra.getValue(),$.spe_retire_pay_sum_prev1_extra.getValue(),$.spe_retire_non_taxable_income_prev1.getValue(),$.spe_retire_pay_sum.getValue(),$.spe_retire_pension_sum.getValue(),$.spe_retire_tot_sum.getValue(),$.spe_retire_tot_non_taxable_sum.getValue(),"","","","",0,0,0,0,0,0,0,$.txt_retire_pension_acct_cur.getValue(),$.dte_enter_date.getValue(),$.txt_prev1_com_name.getValue(),$.txt_prev1_com_num.getValue(),$.txt_retire_annual_acct_prev.getValue(),$.spe_tot_receive_amt_cur.getValue(),$.spe_principal_interest_sum_cur.getValue(),$.spe_earner_payment_amt_cur.getValue(),$.spe_retire_annual_deduct_amt_cur.getValue(),$.spe_retire_pension_cur.getValue(),$.spe_tot_receive_amt_prev.getValue(),$.spe_principal_interest_sum_prev.getValue(),$.spe_earner_payment_amt_prev.getValue(),$.spe_retire_pension_deduct_amt_prev.getValue(),$.spe_retire_pension_amt_prev.getValue(),$.spe_retire_pension_expect_amt_cur_legal.getValue(),$.spe_retire_pension_expect_amt_prev_legal.getValue(),$.spe_retire_pension_expect_amt_cur_extra.getValue(),$.spe_retire_pension_expect_amt_prev_extra.getValue(),$.spe_tax_defer_amt_cur_legal.getValue(),$.spe_tax_defer_amt_prev_legal.getValue(),$.spe_tax_defer_amt_cur_extra.getValue(),$.spe_tax_defer_amt_prev_extra.getValue(),$.spe_received_retire_income_amt_cur_legal.getValue(),$.spe_received_retire_income_amt_prev_legal.getValue(),$.spe_received_retire_income_amt_cur_extra.getValue(),$.spe_received_retire_income_amt_prev_extra.getValue(),$.spe_tot_amt_legal.getValue(),$.spe_tot_amt_extra.getValue(),$.spe_receivable_retire_income_amt_legal.getValue(),$.spe_receivable_retire_income_amt_extra.getValue(),$.spe_convert_retire_deduct_amt_legal.getValue(),$.spe_convert_retire_deduct_amt_extra.getValue(),$.spe_convert_retire_income_tax_std_amt_legal.getValue(),$.spe_convert_retire_income_tax_std_amt_extra.getValue(),$.spe_convert_annual_avg_tax_std_amt_legal.getValue(),$.spe_convert_annual_avg_tax_std_amt_extra.getValue(),$.spe_convert_annual_avg_calc_tax_amt_legal.getValue(),$.spe_convert_annual_avg_calc_tax_amt_extra.getValue(),$.dte_ymdenter_cur_legal.getValue(),$.dte_ymdenter_prev_legal.getValue(),$.dte_ymdretire_cur_legal.getValue(),$.dte_ymdretire_prev_legal.getValue(),$.spe_service_mon_cnt_cur_legal.getValue(),$.spe_service_mon_cnt_prev_legal.getValue(),$.spe_except_mon_cnt_cur_legal.getValue(),$.spe_except_mon_cnt_prev_legal.getValue(),$.spe_service_year_cnt_cur_legal.getValue(),$.spe_service_year_cnt_prev_legal.getValue(),$.spe_overlap_mon_cnt_prev_legal.getValue(),$.dte_ymdenter_cur_extra.getValue(),$.dte_ymdenter_prev_extra.getValue(),$.dte_ymdretire_cur_extra.getValue(),$.dte_ymdretire_prev_extra.getValue(),$.spe_service_mon_cnt_cur_extra.getValue(),$.spe_service_mon_cnt_prev_extra.getValue(),$.spe_except_mon_cnt_cur_extra.getValue(),$.spe_except_mon_cnt_prev_extra.getValue(),$.spe_service_year_cnt_cur_extra.getValue(),$.spe_service_year_cnt_prev_extra.getValue(),$.spe_overlap_mon_cnt_prev_extra.getValue(),$.spe_retire_pay_amt_legal.getValue(),$.spe_retire_deduct_amt_legal.getValue(),$.spe_retire_income_tax_std_amt_legal.getValue(),$.spe_annual_avg_tax_std_amt_legal.getValue(),$.spe_annual_avg_calc_tax_amt_legal.getValue(),$.spe_calc_tax_amt_legal.getValue(),$.spe_retire_income_tax_deduct_amt_legal.getValue(),$.spe_for_paid_tax_deduct_amt_legal.getValue(),$.spe_retire_pay_amt_extra.getValue(),$.spe_retire_deduct_amt_extra.getValue(),$.spe_retire_income_tax_std_amt_extra.getValue(),$.spe_annual_avg_tax_std_amt_extra.getValue(),$.spe_annual_avg_calc_tax_amt_extra.getValue(),$.spe_calc_tax_amt_extra.getValue(),$.spe_retire_income_tax_deduct_extra.getValue(),$.spe_for_paid_tax_deduct_extra.getValue(),$.spe_retire_income_sum.getValue(),$.spe_retire_deduct_sum.getValue(),$.spe_retire_income_tax_std_sum.getValue(),$.spe_annual_avg_tax_std_sum.getValue(),$.spe_annual_avg_calc_sum.getValue(),$.spe_calc_tax_sum.getValue(),$.spe_retire_income_tax_deduct_sum.getValue(),$.spe_for_paid_tax_deduct_sum.getValue(),$.spe_income_retire_tax_amt.getValue(),$.spe_income_prev_paid_tax_amt.getValue(),$.spe_income_balance_deduct_tax_amt.getValue(),$.spe_local_retire_tax_amt.getValue(),$.spe_local_prev_paid_tax_amt.getValue(),$.spe_local_balance_deduct_tax_amt.getValue(),$.spe_special_retire_tax_amt.getValue(),$.spe_special_prev_paid_tax_amt.getValue(),$.spe_special_balance_deduct_tax_amt.getValue(),$.spe_retire_tax_sum.getValue(),$.spe_prev_paid_tax_sum.getValue(),$.spe_balance_deduct_tax_sum.getValue(),"#UserID#","#HostInfo#",$.dte_retire_date.getValue(),$.spe_bf_3month_day_cnt.getValue(),$.spe_etc_pay_amt.getValue(),$.spe_health_insur_calc_amt.getValue(),$.spe_pension_change_amt.getValue(),$.spe_etc_ded_amt.getValue(),$.spe_real_pay_amt.getValue(),$.spe_com_pay_amt.getValue(),$.txt_insure1_name.getValue(),$.spe_insurer1_pay_amt.getValue(),$.txt_insurer2_name.getValue(),$.spe_insurer2_pay_amt.getValue(),$.txt_insurer3_name.getValue(),$.spe_insurer3_pay_amt.getValue(),$.spe_pay_amt_sum.getValue(),$.txt_bank_code.getValue(),$.txt_bank_account.getValue(),$.txt_bank_depositor.getValue(),$.spe_midway_income_tax_amt.getValue(),$.spe_midway_local_tax_amt.getValue(),$.spe_annual_benefit_amt.getValue(),$.dte_declaration_yyyymm.getValue()]);return json}function createJSON_S1(workType){var json;var gRow=$.grdAVG_Pay.getAllRows();if(gRow.length<1){return false}var rows=[];for(var i in gRow){workType=gRow[i].rowType;rows.push([workType,$.dte_retire_calc_date1.getValue(),$.cmb_retire_calc_type1.getValue(),$.txt_emp_code1.getValue(),gRow[i].pay_date||"",Number(gRow[i].pay_amt),gRow[i].vested_start_date,gRow[i].vested_end_date,gRow[i].start_date,gRow[i].end_date,Number(gRow[i].apply_days),Number(gRow[i].apply_amt)])}json=createExecuteParamInfo("HR..P_HRA5100_S1",rows);return json}function createJSON_S2(workType){var json;var gRow=$.grdAVG_Bonus.getChangedRows();if(gRow.length<1){return false}var rows=[];for(var i in gRow){workType=gRow[i].rowType;rows.push([workType,$.dte_retire_calc_date1.getValue(),$.cmb_retire_calc_type1.getValue(),$.txt_emp_code1.getValue(),unmask(gRow[i].pay_date,"yyyyMMdd").substring(0,8),Number(gRow[i].pay_amt),gRow[i].pay_item_code,unmask(gRow[i].vested_start_date,"yyyyMMdd").substring(0,8),unmask(gRow[i].vested_end_date,"yyyyMMdd").substring(0,8),unmask(gRow[i].start_date,"yyyyMMdd").substring(0,8),unmask(gRow[i].end_date,"yyyyMMdd").substring(0,8),Number(gRow[i].apply_amt)])}json=createExecuteParamInfo("HR..P_HRA5100_S2",rows);return json}function createJSON_S3(workType){var json;var gRow=$.grdAVG_Pay2.getChangedRows();if($.deleteRows.length>0){for(var i in $.deleteRows){gRow.push($.deleteRows[i])}}if(gRow.length<1){return false}var rows=[];for(var i in gRow){log(gRow[i].start_date,"yyyyMMdd");workType=gRow[i].rowType;rows.push([workType,$.dte_retire_calc_date1.getValue(),$.cmb_retire_calc_type1.getValue(),$.txt_emp_code1.getValue(),getFormatDate(gRow[i].start_date,"yyyyMMdd"),getFormatDate(gRow[i].end_date,"yyyyMMdd"),Number(gRow[i].apply_days),Number(gRow[i].apply_amt)])}log(rows);json=createExecuteParamInfo("HR..P_HRA5100_S3",rows);return json}function searchHRA5100(workType){if(workType=="EMP"||workType=="AVG"){if(!$.panQuery.validateControls()){return}if(workType=="AVG"){if(!$.dte_retire_calc_date1.getValue()){MessageBoxShow("정산일은 필수항목 입니다.");$.dte_retire_calc_date1.setFocus();return}else{if(!$.cmb_retire_calc_type1.getValue()){MessageBoxShow("퇴직정산구분은 필수항목 입니다.");$.cmb_retire_calc_type1.setFocus();return}}}}else{if(workType=="TAX_RATE"&&!$.dte_retire_calc_date1.getValue()){MessageBoxShow("정산일은 필수항목 입니다.");$.dProp_Rate_std=0;$.dtService_Year_cnt_Rate=null;$.dtTotal_Tax_Rate=null;return}}var json=createJSON_Q(workType);if(workType=="TAX_RATE"){var ds=callExecuteSync(["req",json],workType);if(ds){if(ds.errorCode.substring(0,1)!="P"&&ds.errorCode.substring(0,1)!="E"&&ds.resultList[0].length>=2){$.dProp_Rate_std=(ds.resultList[0][0].retire_income_ded_rate/100);$.dtService_Year_cnt_Rate=ds.resultList[0];$.dtTotal_Tax_Rate=ds.resultList[1]}else{MessageBoxShow(ds.errorCode+"</br>"+ds.errorMsg);$.dProp_Rate_std=0;$.dtService_Year_cnt_Rate=null;$.dtTotal_Tax_Rate=null;return}}if($.txt_emp_code1.getValue()){fnRetire_Total_Calc()}}else{callQuery(["req",json],workType,$)}}function searchHRA5100_Q2(workType){if(!$.panQuery.validateControls()){return}if(!$.cmb_retire_calc_type1.getValue()){MessageBoxShow("퇴직정산구분은 필수 항목입니다.");$.cmb_retire_calc_type1.setFocus();return}var json=createJSON_Q2(workType);if(json){callQuery(["req",json],workType,$)}}function saveHRA5100(workType){if(workType!="D"){if(!$.panMenu.validateControls()){return false}if($.spe_pay_amt_sum.getValue()!=$.spe_real_pay_amt.getValue()){MessageBoxShow("지급액계와 실지급액은 일치해야 합니다.");$.spe_pay_amt_sum.setFocus();return false}}else{if(!$.dte_retire_calc_date1.getValue()||!$.txt_emp_code1.getValue()||!$.cmb_retire_calc_type1.getValue()){MessageBoxShow("삭제시 정산일, 사원, 퇴직구분은 필수사항입니다.");return false}}if($.cmb_retire_calc_type1.getValue()=="RETIRE"&&!$.dte_retire_date.getValue()){MessageBoxShow("퇴직정산시 퇴사일은 필수항목입니다.");$.dte_retire_date.setFocus();return false}var json=createJSON_S(workType);var ds=callExecuteSync(["req",json],workType,$);if(ds){if(ds.errorCode.substring(0,1)=="P"||ds.errorCode.substring(0,1)=="E"){MessageBoxShow(ds.errorCode+"</br>"+ds.errorMsg);return false}}return true}function saveHRA5100_S1(workType){var json=createJSON_S1(workType);if(json){var ds=callExecuteSync(["req",json],workType,$);return true}return true}function saveHRA5100_S2(workType){var json=createJSON_S2(workType);if(json){var ds=callExecuteSync(["req",json],workType,$);return true}return true}function saveHRA5100_S3(workType){var json=createJSON_S3(workType);if(json){var ds=callExecuteSync(["req",json],workType,$);return true}return true}function bizComponentBinding(){$.cmb_site_code.setColumn("site_code","site_name");$.cmb_site_code1.setColumn("site_code","site_name");$.cmb_nation_code.setColumn("nation_code","nation_name");var ds=bizComponentData2($,"Q1","L_ORG001|L_ORG001|L_HRA037|L_HRA037|L_COM015|L_HRI013|L_HRP004");setComboBind([$.cmb_site_code,$.cmb_site_code1,$.cmb_retire_calc_type,$.cmb_retire_calc_type1,$.cmb_nation_code,$.cmb_retire_reason],ds);$.grdList.setColumnDropDownList("site_code",ds.resultList[0],{key:"site_code",name:"site_name"});$.grdList.setColumnDropDownList("retire_calc_type",ds.resultList[2]);$.grdAVG_Bonus.setColumnDropDownList("pay_item_code",ds.resultList[6],{key:"pay_item_code",name:"pay_item_name"})}function newClick(){$.deleteRows=[];$.grdAVG_Pay2.clear();$.grdAVG_Pay.clear();$.grdAVG_Bonus.clear();$.grdCalcHis.clear();$.panMenu.clear();$.panAvg.clear();$.panRetireHisPrev.clear();$.panRetireHisDetail.clear();$.panRetireHisConv.clear();$.panRetireHispens.clear();$.panRetireCalcDetail.clear();$.panRetireHisServ.clear();$.panRetireCalcPay.clear();$.panRemark.clear();fnControlSet(true);$.dte_retire_calc_date1.setValue(getToday(""));$.txt_emp_code1.setFocus();$.isNew=true}function fnControlSet(bNew){$.dte_retire_calc_date1.setEnable(bNew);$.bte_emp_full_name1.setEnable(bNew);$.cmb_retire_calc_type1.setEnable(bNew);$.dte_pay_date.setEnable(bNew);$.panAvg.setEnable(!bNew);$.btnAVG.setEnable(!bNew);$.panRetireHisPrev.setEnable(!bNew);$.panRetireHisDetail.setEnable(!bNew);$.panRetireHisConv.setEnable(!bNew);$.panRetireHispens.setEnable(!bNew);$.panRetireCalcDetail.setEnable(!bNew);$.panRetireHisServ.setEnable(!bNew);$.panRetireCalcPay.setEnable(!bNew);$.panRemark.setEnable(!bNew);if(!bNew){$.panAVG_Pay2.enableButton(["btnDelete","btnAdd"])}else{$.panAVG_Pay2.disableButton(["btnDelete","btnAdd"])}$.btnReCak.setEnable(!bNew);$.grdAVG_Pay2.setEditable(!bNew);if(!bNew){spinNoEdit()}$.dte_retire_calc_yyyy.setAllowBlank(false,"정산년도");$.dte_retire_calc_date1.setAllowBlank(false,"정산일");$.txt_emp_code1.setAllowBlank(false,"사원");$.bte_emp_full_name1.setAllowBlank(false,"사원");$.cmb_retire_calc_type1.setAllowBlank(false,"퇴직정산구분");$.cmb_retire_reason.setAllowBlank(false,"퇴사사유")}function spinNoEdit(){$.spe_tot_avg_pay_amt.setEnable(false);$.spe_apply_pay_amt.setEnable(false);$.spe_retire_pay_sum.setEnable(false);$.spe_retire_pension_sum.setEnable(false);$.spe_retire_tot_sum.setEnable(false);$.spe_retire_pay_sum_prev1_extra.setEnable(false);$.spe_retire_pay_sum_prev1_legal.setEnable(false);$.spe_retire_pay_sum_cur_extra.setEnable(false);$.spe_retire_pay_sum_cur_legal.setEnable(false);$.spe_retire_tot_non_taxable_sum.setEnable(false);$.spe_retire_pension_amt_prev.setEnable(false);$.spe_retire_pension_cur.setEnable(false);$.spe_tot_amt_legal.setEnable(false);$.spe_receivable_retire_income_amt_legal.setEnable(false);$.spe_convert_retire_deduct_amt_legal.setEnable(false);$.spe_convert_retire_income_tax_std_amt_legal.setEnable(false);$.spe_convert_annual_avg_tax_std_amt_legal.setEnable(false);$.spe_convert_annual_avg_calc_tax_amt_legal.setEnable(false);$.spe_tot_amt_extra.setEnable(false);$.spe_receivable_retire_income_amt_extra.setEnable(false);$.spe_convert_retire_deduct_amt_extra.setEnable(false);$.spe_convert_retire_income_tax_std_amt_extra.setEnable(false);$.spe_convert_annual_avg_tax_std_amt_extra.setEnable(false);$.spe_convert_annual_avg_calc_tax_amt_extra.setEnable(false);$.panRetireHisServ.setEnable(false);$.panRetireCalcDetail.setEnable(false);$.spe_for_paid_tax_deduct_amt_legal.setEnable(true);$.spe_for_paid_tax_deduct_extra.setEnable(true);$.panRetireCalcPay.setEnable(false);$.spe_special_retire_tax_amt.setEnable(true);$.spe_income_prev_paid_tax_amt.setEnable(true);$.spe_local_prev_paid_tax_amt.setEnable(true);$.spe_special_prev_paid_tax_amt.setEnable(true);$.spe_diff_amt.setEnable(false);$.txt_bank_code.setEnable(false);$.bte_bank_name.setEnable(false);$.txt_bank_depositor.setEnable(false);$.spe_real_pay_amt.setEnable(false);$.spe_pay_amt_sum.setEnable(false);$.spe_pay_amt_sum.setEnable(false);$.txt_bank_account.setEnable(false)}function initControlView(){$.dte_retire_calc_yyyy.setDateFormat("yyyy");$.dte_declaration_yyyymm.setDateFormat("yyyymm");$.cmb_site_code1.setEmptyRow(true);$.cmb_retire_calc_type1.setEmptyRow(true);$.cmb_retire_reason.setEmptyRow(true);$.cmb_nation_code.setEmptyRow(true);$.cmb_site_code.setEmptyRow(true);$.cmb_retire_calc_type.setEmptyRow(true);$.txt_emp_code1.setEnable(false);$.cmb_site_code1.setEnable(false);$.txt_dept_code.setReadOnly(true);$.bte_dept_name.setEnable(false);$.dte_enter_date.setEnable(false);$.dte_last_calc_date.setEnable(false);$.dte_retire_date.setEnable(false);$.cmb_retire_reason.setEnable(false);$.spe_service_year_cnt_cur_extra.setVisible(false);$.spe_service_year_cnt_cur_legal.setVisible(false);$.txt_temp.setVisible(false);$.dte_retire_calc_yyyy.setAllowBlank(false,"정산년도");$.dte_retire_calc_date1.setAllowBlank(false,"정산일");$.txt_emp_code1.setAllowBlank(false,"사원");$.bte_emp_full_name1.setAllowBlank(false,"사원");$.cmb_retire_calc_type1.setAllowBlank(false,"퇴직정산구분");$.cmb_retire_reason.setAllowBlank(false,"퇴사사유");$.dte_calc_start_date.setAllowBlank(false,"정산시작일");$.dte_calc_end_date.setAllowBlank(false,"정산종료일");$.html_base.setStyleArray([{styleAttr:"border",value:"1px solid red"},{styleAttr:"color",value:"red"},{styleAttr:"line-height",value:"25px"},{styleAttr:"letter-spacing",value:"2px"},{styleAttr:"padding-left",value:"4px"}]);$.spe_working_day_cnt.setValue(0);$.spe_tot_avg_pay_amt.setValue(0);$.spe_health_insur_calc_amt.setValue(0);$.spe_bf_3month_day_cnt.setValue(0);$.spe_ordinary_wages_amt.setValue(0);$.spe_pension_change_amt.setValue(0);$.spe_annual_benefit_amt.setValue(0);$.spe_apply_pay_amt.setValue(0);$.spe_etc_ded_amt.setValue(0);$.spe_etc_pay_amt.setValue(0);$.html_a_Ex1.setHTML("근무처구분&nbsp;&nbsp;");$.html_a_Ex2.setHTML("주(현)&nbsp;&nbsp;");$.html_a_Ex3.setHTML("법&nbsp;&nbsp;&nbsp;&nbsp;정&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;법정외(명퇴수당등)&nbsp;&nbsp;");$.html_a_Ex4.setHTML("종(전)&nbsp;&nbsp;");$.html_a_Ex5.setHTML("법&nbsp;&nbsp;&nbsp;&nbsp;정&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;법정외(명퇴수당등)&nbsp;&nbsp;");$.html_a_Ex6.setHTML("합&nbsp;&nbsp;&nbsp;&nbsp;계&nbsp;&nbsp;");$.html_a_Ex7.setHTML("퇴직급여&nbsp;&nbsp;<br/>퇴직연금일시금&nbsp;&nbsp;<br/>합&nbsp;&nbsp;&nbsp;&nbsp;계&nbsp;&nbsp;<br/>비과세소득&nbsp;&nbsp;");$.html_a_Ex1.setStyleArray(css_title());$.html_a_Ex2.setStyleArray(css_title());$.html_a_Ex3.setStyleArray(css_title());$.html_a_Ex4.setStyleArray(css_title());$.html_a_Ex5.setStyleArray(css_title());$.html_a_Ex6.setStyleArray(css_title());$.html_a_Ex7.setStyleArray(css_title());$.html_a_Ex1.setStyleArray(css_line_height(48));$.html_a_Ex2.setStyleArray(css_line_height(24));$.html_a_Ex3.setStyleArray(css_line_height(24));$.html_a_Ex4.setStyleArray(css_line_height(24));$.html_a_Ex5.setStyleArray(css_line_height(24));$.html_a_Ex6.setStyleArray(css_line_height(48));$.html_a_Ex7.setStyleArray(css_line_height(28));$.html_b_Ex1.setHTML("구분&nbsp;&nbsp;");$.html_b_Ex2.setHTML("퇴직연금계좌번호&nbsp;&nbsp;");$.html_b_Ex3.setHTML("총수령액&nbsp;&nbsp;");$.html_b_Ex4.setHTML("원리금합계액&nbsp;&nbsp;");$.html_b_Ex5.setHTML("소득자불입액&nbsp;&nbsp;");$.html_b_Ex6.setHTML("퇴직연금소득공제액&nbsp;&nbsp;");$.html_b_Ex7.setHTML("퇴직연금일시금&nbsp;&nbsp;");$.html_b_Ex8.setHTML("주(현)근무지&nbsp;&nbsp;<br/>종(전)근무지&nbsp;&nbsp;");$.html_b_Ex1.setStyleArray(css_title());$.html_b_Ex2.setStyleArray(css_title());$.html_b_Ex3.setStyleArray(css_title());$.html_b_Ex4.setStyleArray(css_title());$.html_b_Ex5.setStyleArray(css_title());$.html_b_Ex6.setStyleArray(css_title());$.html_b_Ex7.setStyleArray(css_title());$.html_b_Ex8.setStyleArray(css_title());$.html_b_Ex1.setStyleArray(css_line_height(24));$.html_b_Ex2.setStyleArray(css_line_height(24));$.html_b_Ex3.setStyleArray(css_line_height(24));$.html_b_Ex4.setStyleArray(css_line_height(24));$.html_b_Ex5.setStyleArray(css_line_height(24));$.html_b_Ex6.setStyleArray(css_line_height(24));$.html_b_Ex7.setStyleArray(css_line_height(24));$.html_b_Ex8.setStyleArray(css_line_height(27));$.html_c_Ex1.setHTML("구&nbsp;&nbsp;&nbsp;&nbsp;분&nbsp;&nbsp;");$.html_c_Ex2.setHTML("퇴직연금일시급&nbsp;&nbsp;<br/>지급예상액&nbsp;&nbsp;");$.html_c_Ex3.setHTML("과세이연금액&nbsp;&nbsp;<br/>(퇴직연금일시금&nbsp;&nbsp;<br/>제외)&nbsp;&nbsp;");$.html_c_Ex4.setHTML("기수령한&nbsp;&nbsp;<br/>퇴직급여액&nbsp;&nbsp;");$.html_c_Ex5.setHTML("총일시금&nbsp;&nbsp;");$.html_c_Ex6.setHTML("수령가능&nbsp;&nbsp;<br/>퇴직급여액&nbsp;&nbsp;");$.html_c_Ex7.setHTML("환산퇴직소득&nbsp;&nbsp;<br/>공제&nbsp;&nbsp;");$.html_c_Ex8.setHTML("환산퇴직소득&nbsp;&nbsp;<br/>과세표준&nbsp;&nbsp;");$.html_c_Ex9.setHTML("환산연평균&nbsp;&nbsp;<br/>과세표준&nbsp;&nbsp;");$.html_c_Ex10.setHTML("환산연평균&nbsp;&nbsp;<br/>산출세액&nbsp;&nbsp;");$.html_c_Ex11.setHTML("법정퇴직급여&nbsp;&nbsp;");$.html_c_Ex12.setHTML("법정이외퇴직급여&nbsp;&nbsp;");$.html_c_Ex13.setHTML("주(현)&nbsp;&nbsp;<br/>종(전)&nbsp;&nbsp;");$.html_c_Ex14.setHTML("주(현)&nbsp;&nbsp;<br/>종(전)&nbsp;&nbsp;");$.html_c_Ex1.setStyleArray(css_title());$.html_c_Ex2.setStyleArray(css_title());$.html_c_Ex3.setStyleArray(css_title());$.html_c_Ex4.setStyleArray(css_title());$.html_c_Ex5.setStyleArray(css_title());$.html_c_Ex6.setStyleArray(css_title());$.html_c_Ex7.setStyleArray(css_title());$.html_c_Ex8.setStyleArray(css_title());$.html_c_Ex9.setStyleArray(css_title());$.html_c_Ex10.setStyleArray(css_title());$.html_c_Ex11.setStyleArray(css_title());$.html_c_Ex12.setStyleArray(css_title());$.html_c_Ex13.setStyleArray(css_title());$.html_c_Ex14.setStyleArray(css_title());$.html_c_Ex1.setStyleArray(css_line_height(25));$.html_c_Ex2.setStyleArray(css_line_height(24));$.html_c_Ex3.setStyleArray(css_line_height(15));$.html_c_Ex4.setStyleArray(css_line_height(25));$.html_c_Ex5.setStyleArray(css_line_height(50));$.html_c_Ex6.setStyleArray(css_line_height(25));$.html_c_Ex7.setStyleArray(css_line_height(25));$.html_c_Ex8.setStyleArray(css_line_height(25));$.html_c_Ex9.setStyleArray(css_line_height(24));$.html_c_Ex10.setStyleArray(css_line_height(25));$.html_c_Ex11.setStyleArray(css_line_height(54));$.html_c_Ex12.setStyleArray(css_line_height(54));$.html_c_Ex13.setStyleArray(css_line_height(27));$.html_c_Ex14.setStyleArray(css_line_height(27));$.html_d_Ex1.setHTML("구&nbsp;&nbsp;&nbsp;&nbsp;분&nbsp;&nbsp;");$.html_d_Ex2.setHTML("법&nbsp;&nbsp;&nbsp;&nbsp;정&nbsp;&nbsp;");$.html_d_Ex3.setHTML("입사일&nbsp;&nbsp;");$.html_d_Ex4.setHTML("퇴사일&nbsp;&nbsp;");$.html_d_Ex5.setHTML("근속&nbsp;&nbsp;<br/>월수&nbsp;&nbsp;");$.html_d_Ex6.setHTML("제외&nbsp;&nbsp;<br/>월수&nbsp;&nbsp;");$.html_d_Ex7.setHTML("근속&nbsp;&nbsp;<br/>년수&nbsp;&nbsp;");$.html_d_Ex8.setHTML("중복&nbsp;&nbsp;<br/>월수&nbsp;&nbsp;");$.html_d_Ex9.setHTML("법정이외&nbsp;&nbsp;");$.html_d_Ex10.setHTML("입사일&nbsp;&nbsp;");$.html_d_Ex11.setHTML("퇴사일&nbsp;&nbsp;");$.html_d_Ex12.setHTML("근속&nbsp;&nbsp;<br/>월수&nbsp;&nbsp;");$.html_d_Ex13.setHTML("제외&nbsp;&nbsp;<br/>월수&nbsp;&nbsp;");$.html_d_Ex14.setHTML("근속&nbsp;&nbsp;<br/>년수&nbsp;&nbsp;");$.html_d_Ex15.setHTML("중복&nbsp;&nbsp;<br/>월수&nbsp;&nbsp;");$.html_d_Ex16.setHTML("주(현)근무지&nbsp;&nbsp;<br/>종(전)근무지&nbsp;&nbsp;");$.html_d_Ex1.setStyleArray(css_title());$.html_d_Ex2.setStyleArray(css_title());$.html_d_Ex3.setStyleArray(css_title());$.html_d_Ex4.setStyleArray(css_title());$.html_d_Ex5.setStyleArray(css_title());$.html_d_Ex6.setStyleArray(css_title());$.html_d_Ex7.setStyleArray(css_title());$.html_d_Ex8.setStyleArray(css_title());$.html_d_Ex9.setStyleArray(css_title());$.html_d_Ex10.setStyleArray(css_title());$.html_d_Ex11.setStyleArray(css_title());$.html_d_Ex12.setStyleArray(css_title());$.html_d_Ex13.setStyleArray(css_title());$.html_d_Ex14.setStyleArray(css_title());$.html_d_Ex15.setStyleArray(css_title());$.html_d_Ex16.setStyleArray(css_title());$.html_d_Ex1.setStyleArray(css_line_height(64));$.html_d_Ex2.setStyleArray(css_line_height(24));$.html_d_Ex3.setStyleArray(css_line_height(35));$.html_d_Ex4.setStyleArray(css_line_height(35));$.html_d_Ex5.setStyleArray(css_line_height(16));$.html_d_Ex6.setStyleArray(css_line_height(16));$.html_d_Ex7.setStyleArray(css_line_height(16));$.html_d_Ex8.setStyleArray(css_line_height(16));$.html_d_Ex9.setStyleArray(css_line_height(24));$.html_d_Ex10.setStyleArray(css_line_height(35));$.html_d_Ex11.setStyleArray(css_line_height(35));$.html_d_Ex12.setStyleArray(css_line_height(16));$.html_d_Ex13.setStyleArray(css_line_height(16));$.html_d_Ex14.setStyleArray(css_line_height(16));$.html_d_Ex15.setStyleArray(css_line_height(16));$.html_d_Ex16.setStyleArray(css_line_height(25));$.html_f_Ex1.setHTML("구&nbsp;&nbsp;&nbsp;&nbsp;분&nbsp;&nbsp;");$.html_f_Ex2.setHTML("법&nbsp;&nbsp;&nbsp;&nbsp;정&nbsp;&nbsp;");$.html_f_Ex3.setHTML("법정이외&nbsp;&nbsp;");$.html_f_Ex4.setHTML("계&nbsp;&nbsp;");$.html_f_Ex5.setHTML("퇴직급여액&nbsp;&nbsp;<br/>퇴직소득공제&nbsp;&nbsp;<br/>퇴직소득과세표준&nbsp;&nbsp;<br/>연평균과세표준&nbsp;&nbsp;<br/>연평균산출세액&nbsp;&nbsp;<br/>산출세액&nbsp;&nbsp;<br/>퇴직소득세액공제&nbsp;&nbsp;<br/>외국납부세액공제&nbsp;&nbsp;");$.html_f_Ex1.setStyleArray(css_title());$.html_f_Ex2.setStyleArray(css_title());$.html_f_Ex3.setStyleArray(css_title());$.html_f_Ex4.setStyleArray(css_title());$.html_f_Ex5.setStyleArray(css_title());$.html_f_Ex1.setStyleArray(css_line_height(24));$.html_f_Ex2.setStyleArray(css_line_height(24));$.html_f_Ex3.setStyleArray(css_line_height(24));$.html_f_Ex4.setStyleArray(css_line_height(24));$.html_f_Ex5.setStyleArray(css_line_height(29));$.html_g_Ex1.setHTML("구&nbsp;&nbsp;&nbsp;&nbsp;분&nbsp;&nbsp;");$.html_g_Ex2.setHTML("소득세&nbsp;&nbsp;");$.html_g_Ex3.setHTML("지방소득세&nbsp;&nbsp;");$.html_g_Ex4.setHTML("농어촌특별세&nbsp;&nbsp;");$.html_g_Ex5.setHTML("계&nbsp;&nbsp;");$.html_g_Ex6.setHTML("결정세액&nbsp;&nbsp;<br/>종(전)근무지 기납부세액&nbsp;&nbsp;<br/>차감원천징수세액&nbsp;&nbsp;");$.html_g_Ex1.setStyleArray(css_title());$.html_g_Ex2.setStyleArray(css_title());$.html_g_Ex3.setStyleArray(css_title());$.html_g_Ex4.setStyleArray(css_title());$.html_g_Ex5.setStyleArray(css_title());$.html_g_Ex6.setStyleArray(css_title());$.html_g_Ex1.setStyleArray(css_line_height(24));$.html_g_Ex2.setStyleArray(css_line_height(24));$.html_g_Ex3.setStyleArray(css_line_height(24));$.html_g_Ex4.setStyleArray(css_line_height(24));$.html_g_Ex5.setStyleArray(css_line_height(24));$.html_g_Ex6.setStyleArray(css_line_height(28))}function css_title(){return[{styleAttr:"border",value:"1px solid rgb(229, 229, 229)"},{styleAttr:"text-align",value:"right"}]}function css_line_height(value){return[{styleAttr:"line-height",value:value+"px"}]}function css_align(align){return[{styleAttr:"text-align",value:align}]}function fnRetire_Total_Calc(){log("in");initVariable();fnDefault_Data();fnIncome_Detail();fnRetire_pension_calc();fnConvert_calc();fnCalcDetail();fnSettingValue()}function initVariable(){$.dservice_yyyy_cur_legal=0;$.dservice_yyyy_cur_extra=0;$.dservice_yyyy_cur_adjust=0;$.dservice_yyyy_prev_legal=0;$.dservice_yyyy_prev_extra=0;$.dservice_yyyy_prev_adjust=0;$.doverlap_mon_cnt_prev_legal=0;$.doverlap_mon_cnt_prev_extra=0;$.dservice_year_cnt_prev_legal=0;$.dservice_year_cnt_prev_extra=0;$.dretire_pay_cur_legal=0;$.dretire_pension_amt_cur_legal=0;$.dretire_pay_cur_extra=0;$.dretire_pension_amt_cur_extra=0;$.dretire_pay_prev1_legal=0;$.dretire_pension_amt_prev1_legal=0;$.dretire_pay_prev1_extra=0;$.dretire_pension_amt_prev1_extra=0;$.dretire_pay_sum_cur_legal=0;$.dretire_pay_sum_cur_extra=0;$.dretire_pay_sum_prev1_legal=0;$.dretire_pay_sum_prev1_extra=0;$.dretire_pay_sum=0;$.dretire_pension_sum=0;$.dretire_tot_sum=0;$.dretire_tot_non_taxable_sum=0;$.dretire_pension_expect_amt_cur_legal=0;$.dtax_defer_amt_cur_legal=0;$.dreceived_retire_income_amt_cur_legal=0;$.dretire_pension_expect_amt_prev_legal=0;$.dtax_defer_amt_prev_legal=0;$.dreceived_retire_income_amt_prev_legal=0;$.dtot_amt_legal=0;$.dreceivable_retire_income_amt_legal=0;$.dconvert_retire_deduct_amt_legal=0;$.dconvert_retire_income_tax_std_amt_legal=0;$.dconvert_annual_avg_tax_std_amt_legal=0;$.dconvert_annual_avg_calc_tax_amt_legal=0;$.dconvert_calc_tax_amt_legal=0;$.dretire_pension_expect_amt_cur_extra=0;$.dtax_defer_amt_cur_extra=0;$.dreceived_retire_income_amt_cur_extra=0;$.dretire_pension_expect_amt_prev_extra=0;$.dtax_defer_amt_prev_extra=0;$.dreceived_retire_income_amt_prev_extra=0;$.dtot_amt_extra=0;$.dreceivable_retire_income_amt_extra=0;$.dconvert_retire_deduct_amt_extra=0;$.dconvert_retire_income_tax_std_amt_extra=0;$.dconvert_annual_avg_tax_std_amt_extra=0;$.dconvert_annual_avg_calc_tax_amt_extra=0;$.dconvert_calc_tax_amt_extra=0;$.dService_Year_cnt_Amt=0;$.dTotal_Tax_Amt=0;$.dretire_pay_amt_legal=0;$.dProp_Amt_legal=0;$.dService_Year_cnt_Amt_legal=0;$.dretire_deduct_amt_legal=0;$.dretire_income_tax_std_amt_legal=0;$.dannual_avg_tax_std_amt_legal=0;$.dannual_avg_calc_tax_amt_legal=0;$.dcalc_tax_amt_legal=0;$.dfor_paid_tax_deduct_amt_legal=0;$.dretire_pay_amt_extra=0;$.dProp_Amt_extra=0;$.dService_Year_cnt_Amt_extra=0;$.dretire_deduct_amt_extra=0;$.dretire_income_tax_std_amt_extra=0;$.dannual_avg_tax_std_amt_extra=0;$.dannual_avg_calc_tax_amt_extra=0;$.dcalc_tax_amt_extra=0;$.dfor_paid_tax_deduct_extra=0;$.dretire_income_sum=0;$.dretire_deduct_sum=0;$.dretire_income_tax_std_sum=0;$.dannual_avg_tax_std_sum=0;$.dannual_avg_calc_sum=0;$.dcalc_tax_sum=0;$.dfor_paid_tax_deduct_sum=0;$.dincome_retire_tax_amt=0;$.dlocal_retire_tax_amt=0;$.dspecial_retire_tax_amt=0;$.dretire_tax_sum=0;$.dincome_prev_paid_tax_amt=0;$.dlocal_prev_paid_tax_amt=0;$.dspecial_prev_paid_tax_amt=0;$.dprev_paid_tax_sum=0;$.dincome_balance_deduct_tax_amt=0;$.dlocal_balance_deduct_tax_amt=0;$.dspecial_balance_deduct_tax_amt=0;$.dbalance_deduct_tax_sum=0;$.dService_MM_cur_legal=0;$.dexcept_mon_cnt_cur_legal=0;$.dService_MM_cur_extra=0;$.dexcept_mon_cnt_cur_extra=0;$.dded_MM_cur_adjust=0;$.dService_MM_prev_legal=0;$.dexcept_mon_cnt_prev_legal=0;$.dService_MM_prev_extra=0;$.dexcept_mon_cnt_prev_extra=0;$.dService_MM_prev_adjust=0;$.dded_MM_prev_adjust=0}function fnDefault_Data(){var date_cur_legal,date_cur_extra,date_cur_adjust,date_prev_legal,date_prev_extra,date_prev_adjust;var dTemp=0;$.dexcept_mon_cnt_cur_legal=$.spe_except_mon_cnt_cur_legal.getValue();$.dexcept_mon_cnt_cur_extra=$.spe_except_mon_cnt_cur_extra.getValue();$.dexcept_mon_cnt_prev_legal=$.spe_except_mon_cnt_prev_legal.getValue();$.dexcept_mon_cnt_prev_extra=$.spe_except_mon_cnt_prev_extra.getValue();if(!$.dte_last_calc_date.getValue()){$.dte_ymdenter_cur_legal.setValue($.dte_enter_date.getValue())}else{$.dte_ymdenter_cur_legal.setValue(getCalcDate($.dte_last_calc_date.getValue(),1))}if($.dte_retire_calc_date1.getValue()){$.dte_ymdretire_cur_legal.setValue($.dte_retire_calc_date1.getValue());$.dte_ymdretire_cur_extra.setValue($.dte_retire_calc_date1.getValue())}$.dte_ymdenter_cur_extra.setValue($.dte_enter_date.getValue());if($.dte_retire_date.getValue()){$.dte_ymdretire_cur_extra.setValue($.dte_retire_date.getValue())}date_cur_legal=$.dte_ymdenter_cur_legal.getValue();var ymdretire_cur_legal_yyyy=Number($.dte_ymdretire_cur_legal.getValue().substring(0,4)),ymdretire_cur_legal_month=Number($.dte_ymdretire_cur_legal.getValue().substring(4,6)),ymdretire_cur_legal_day=Number($.dte_ymdretire_cur_legal.getValue().substring(6,8)),date_cur_legal_yyyy=Number(date_cur_legal.substring(0,4)),date_cur_legal_month=Number(date_cur_legal.substring(4,6)),date_cur_legal_day=Number(date_cur_legal.substring(6,8));$.dService_MM_cur_legal=(ymdretire_cur_legal_yyyy-date_cur_legal_yyyy)*12+ymdretire_cur_legal_month-date_cur_legal_month;if(ymdretire_cur_legal_day>=date_cur_legal_day){$.dService_MM_cur_legal++}if(($.dService_MM_cur_legal-$.dexcept_mon_cnt_cur_legal)/12<=Math.floor(($.dService_MM_cur_legal-$.dexcept_mon_cnt_cur_legal)/12)){$.dservice_yyyy_cur_legal=Math.floor(($.dService_MM_cur_legal-$.dexcept_mon_cnt_cur_legal)/12)}else{$.dservice_yyyy_cur_legal=Math.floor(($.dService_MM_cur_legal-$.dexcept_mon_cnt_cur_legal)/12)+1}date_cur_extra=$.dte_enter_date.getValue();var dte_retire_calc_date1_month=Number($.dte_retire_calc_date1.getValue().substring(4,6)),dte_ymdretire_cur_extra_yyyy=Number($.dte_ymdretire_cur_extra.getValue().substring(0,4)),dte_ymdretire_cur_extra_month=Number($.dte_ymdretire_cur_extra.getValue().substring(4,6)),dte_ymdretire_cur_extra_day=Number($.dte_ymdretire_cur_extra.getValue().substring(6,8)),date_cur_extra_yyyy=Number(date_cur_extra.substring(0,4)),date_cur_extra_month=Number(date_cur_extra.substring(4,6)),date_cur_extra_day=Number(date_cur_extra.substring(6,8));if(dte_retire_calc_date1_month>=date_cur_extra_month){$.dService_MM_cur_extra=(dte_ymdretire_cur_extra_yyyy-date_cur_extra_yyyy)*12+dte_ymdretire_cur_extra_month-date_cur_extra_month}else{$.dService_MM_cur_extra=(dte_ymdretire_cur_extra_yyyy-date_cur_extra_yyyy)*12+(dte_ymdretire_cur_extra_month+12)-date_cur_extra_month}if(dte_ymdretire_cur_extra_day>=date_cur_extra_day){$.dService_MM_cur_extra++}if(($.dService_MM_cur_extra-$.dexcept_mon_cnt_cur_extra)/12<=Math.floor(($.dService_MM_cur_extra-$.dexcept_mon_cnt_cur_extra)/12)){$.dservice_yyyy_cur_extra=Math.floor(($.dService_MM_cur_extra-$.dexcept_mon_cnt_cur_extra)/12)}else{$.dservice_yyyy_cur_extra=Math.floor(($.dService_MM_cur_extra-$.dexcept_mon_cnt_cur_extra)/12)+1}date_cur_adjust=$.dte_enter_date.getValue();if($.dte_last_calc_date.getValue()&&$.dte_enter_date.getValue()){var dte_last_calc_date_yyyy=Number($.dte_last_calc_date.getValue().substring(0,4)),dte_last_calc_date_month=Number($.dte_last_calc_date.getValue().substring(4,6)),dte_last_calc_date_day=Number($.dte_last_calc_date.getValue().substring(6,8)),date_cur_adjust_yyyy=Number(date_cur_adjust.substring(0,4)),date_cur_adjust_month=Number(date_cur_adjust.substring(4,6)),date_cur_adjust_day=Number(date_cur_adjust.substring(6,8));if(dte_last_calc_date_month>=date_cur_adjust_month){$.dService_MM_cur_adjust=(dte_last_calc_date_yyyy-date_cur_adjust_yyyy)*12+dte_last_calc_date_month-date_cur_adjust_month}else{$.dService_MM_cur_adjust=(dte_last_calc_date_yyyy-date_cur_adjust_yyyy)*12+(dte_last_calc_date_month+12)-date_cur_adjust_month}if(dte_last_calc_date_day>=date_cur_adjust_day){$.dService_MM_cur_adjust++}}else{$.dService_MM_cur_adjust=0}var dTemp2=Math.floor(($.dService_MM_cur_adjust-$.dexcept_mon_cnt_cur_legal-$.dexcept_mon_cnt_cur_extra)/12);if(($.dService_MM_cur_adjust-$.dexcept_mon_cnt_cur_extra)/12<=dTemp2){$.dservice_yyyy_cur_adjust=dTemp2}else{$.dservice_yyyy_cur_adjust=dTemp2+1}dTemp=0;dTemp2=0;if(!$.dte_prev1_last_calc_date.getValue()){date_prev_legal=$.dte_prev1_enter_date.getValue()}else{date_prev_legal=getCalcDate($.dte_prev1_last_calc_date.getValue(),1)}if($.dte_prev1_last_calc_date.getValue()||$.dte_prev1_enter_date.getValue()){var dte_prev1_retire_date_yyyy=Number($.dte_prev1_retire_date.getValue().substring(0,4)),dte_prev1_retire_date_month=Number($.dte_prev1_retire_date.getValue().substring(4,6)),dte_prev1_retire_date_day=Number($.dte_prev1_retire_date.getValue().substring(6,8)),date_prev_legal_yyyy=Number(date_prev_legal.substring(0,4)),date_prev_legal_month=Number(date_prev_legal.substring(4,6)),date_prev_legal_day=Number(date_prev_legal.substring(6,8));if(dte_prev1_retire_date_month>=date_prev_legal_month){$.dService_MM_prev_legal=(dte_prev1_retire_date_yyyy-date_prev_legal_yyyy)*12+dte_prev1_retire_date_month-date_prev_legal_month}else{$.dService_MM_prev_legal=(dte_prev1_retire_date_yyyy-date_prev_legal_yyyy)*12+(dte_prev1_retire_date_month+12)-date_prev_legal_month}if(dte_prev1_retire_date_day>=date_prev_legal_day){$.dService_MM_prev_legal++}if(($.dService_MM_prev_legal-$.dexcept_mon_cnt_prev_legal)/12<=Math.floor(($.dService_MM_prev_legal-$.dexcept_mon_cnt_prev_legal)/12)){$.dservice_yyyy_prev_legal=Math.floor(($.dService_MM_prev_legal-$.dexcept_mon_cnt_prev_legal)/12)}else{$.dservice_yyyy_prev_legal=Math.floor(($.dService_MM_prev_legal-$.dexcept_mon_cnt_prev_legal)/12)+1}}dTemp=0;date_prev_extra=$.dte_prev1_enter_date.getValue();if($.dte_prev1_retire_date.getValue()&&$.dte_prev1_enter_date.getValue()){var dte_prev1_retire_date_yyyy=Number($.dte_prev1_retire_date.getValue().substring(0,4)),dte_prev1_retire_date_month=Number($.dte_prev1_retire_date.getValue().substring(4,6)),dte_prev1_retire_date_day=Number($.dte_prev1_retire_date.getValue().substring(6,8)),date_prev_extra_yyyy=Number(date_prev_extra.substring(0,4)),date_prev_extra_month=Number(date_prev_extra.substring(4,6)),date_prev_extra_day=Number(date_prev_extra.substring(6,8));if(dte_prev1_retire_date_month>=date_prev_extra_month){$.dService_MM_prev_extra=(dte_prev1_retire_date_yyyy-date_prev_extra_yyyy)*12+dte_prev1_retire_date_month-date_prev_extra_month}else{$.dService_MM_prev_extra=(dte_prev1_retire_date_yyyy-date_prev_extra_yyyy)*12+(dte_prev1_retire_date_month+12)-date_prev_extra_month}if(dte_prev1_retire_date_day>=date_prev_extra_day){$.dService_MM_prev_extra++}if(($.dService_MM_prev_extra-$.dexcept_mon_cnt_prev_extra)/12<=Math.floor(($.dService_MM_prev_extra-$.dexcept_mon_cnt_prev_extra)/12)){$.dservice_yyyy_prev_extra=Math.floor(($.dService_MM_prev_extra-$.dexcept_mon_cnt_prev_extra)/12)}else{$.dservice_yyyy_prev_extra=Math.floor(($.dService_MM_prev_extra-$.dexcept_mon_cnt_prev_extra)/12)+1}}dTemp=0;date_prev_adjust=$.dte_prev1_enter_date.getValue();if($.dte_prev1_last_calc_date.getValue()&&$.dte_prev1_enter_date.getValue()){var dte_prev1_last_calc_date_yyyy=Number($.dte_prev1_last_calc_date.getValue().substring(0,4)),dte_prev1_last_calc_date_month=Number($.dte_prev1_last_calc_date.getValue().substring(4,6)),dte_prev1_last_calc_date_day=Number($.dte_prev1_last_calc_date.getValue().substring(6,8)),date_prev_adjust_yyyy=Number(date_prev_adjust.substring(0,4)),date_prev_adjust_month=Number(date_prev_adjust.substring(4,6)),date_prev_adjust_day=Number(date_prev_adjust.substring(6,8));if(dte_prev1_last_calc_date_month>=date_prev_adjust_month){$.dService_MM_prev_adjust=(dte_prev1_last_calc_date_yyyy-date_prev_adjust_yyyy)*12+dte_prev1_last_calc_date_month-date_prev_adjust_month}else{$.dService_MM_prev_adjust=(dte_prev1_last_calc_date_yyyy-date_prev_adjust_yyyy)*12+(dte_prev1_last_calc_date_month+12)-date_prev_adjust_month}if(dte_prev1_last_calc_date_day>=date_prev_adjust_day){$.dService_MM_prev_adjust++}}else{$.dService_MM_prev_adjust=0}dTemp2=Math.floor(($.dService_MM_prev_adjust-$.dexcept_mon_cnt_prev_legal-$.dexcept_mon_cnt_prev_extra)/12);if(($.dService_MM_prev_adjust-$.dexcept_mon_cnt_prev_extra)/12<=dTemp2){$.dservice_yyyy_prev_adjust=dTemp2}else{$.dservice_yyyy_prev_adjust=dTemp2+1}dTemp=0;dTemp2=0;if($.dte_ymdenter_cur_legal.getValue()||$.dte_ymdretire_prev_legal.getValue()){if(Number($.dte_ymdretire_prev_legal.getValue())>Number($.dte_ymdenter_cur_legal.getValue())){var yyyy=0,mm=0,dd=0;var dte_ymdretire_prev_legal_yyyy=Number($.dte_ymdretire_prev_legal.getValue().substring(0,4)),dte_ymdretire_prev_legal_month=Number($.dte_ymdretire_prev_legal.getValue().substring(4,6)),dte_ymdretire_prev_legal_day=Number($.dte_ymdretire_prev_legal.getValue().substring(6,8)),dte_ymdenter_cur_legal_yyyy=Number($.dte_ymdenter_cur_legal.getValue().substring(0,4)),dte_ymdenter_cur_legal_month=Number($.dte_ymdenter_cur_legal.getValue().substring(4,6)),dte_ymdenter_cur_legal_day=Number($.dte_ymdenter_cur_legal.getValue().substring(6,8));yyyy=dte_ymdretire_prev_legal_yyyy-dte_ymdenter_cur_legal_yyyy;mm=dte_ymdretire_prev_legal_month-dte_ymdenter_cur_legal_month;dd=dte_ymdretire_prev_legal_day-dte_ymdenter_cur_legal_day;$.doverlap_mon_cnt_prev_legal=yyyy*12+mm+(dd>=0?1:0)}}if($.dte_ymdenter_cur_extra.getValue()&&$.dte_ymdretire_prev_extra.getValue()){if(Number($.dte_ymdretire_prev_extra.getValue())>Number($.dte_ymdenter_cur_extra.getValue())){var yyyy=0,mm=0,dd=0;var dte_ymdretire_prev_extra_yyyy=Number($.dte_ymdretire_prev_extra.getValue().substring(0,4)),dte_ymdretire_prev_extra_month=Number($.dte_ymdretire_prev_extra.getValue().substring(4,6)),dte_ymdretire_prev_extra_day=Number($.dte_ymdretire_prev_extra.getValue().substring(6,8)),dte_ymdenter_cur_extra_yyyy=Number($.dte_ymdenter_cur_extra.getValue().substring(0,4)),dte_ymdenter_cur_extra_month=Number($.dte_ymdenter_cur_extra.getValue().substring(4,6)),dte_ymdenter_cur_extra_day=Number($.dte_ymdenter_cur_extra.getValue().substring(6,8));yyyy=dte_ymdretire_prev_extra_yyyy-dte_ymdenter_cur_extra_yyyy;mm=dte_ymdretire_prev_extra_month-dte_ymdenter_cur_extra_month;dd=dte_ymdretire_prev_extra_day-dte_ymdenter_cur_extra_day;$.doverlap_mon_cnt_prev_extra=yyyy*12+mm+(dd>=0?1:0)}}dTemp=0;dTemp=($.dService_MM_cur_legal-$.dexcept_mon_cnt_cur_legal)+($.dService_MM_prev_legal-$.dexcept_mon_cnt_prev_legal)-$.doverlap_mon_cnt_prev_legal;if(dTemp/12<=Math.floor(dTemp/12)){$.dservice_year_cnt_prev_legal=Math.floor(dTemp/12)}else{$.dservice_year_cnt_prev_legal=Math.floor(dTemp/12)+1}dTemp=0;dTemp=($.dService_MM_cur_extra-$.dexcept_mon_cnt_cur_extra)+($.dService_MM_prev_extra-$.dexcept_mon_cnt_prev_extra)-$.doverlap_mon_cnt_prev_extra;if(dTemp/12<=Math.floor(dTemp/12)){$.dservice_year_cnt_prev_extra=Math.floor(dTemp/12)}else{$.dservice_year_cnt_prev_extra=Math.floor(dTemp/12)+1}dTemp=0;$.dretire_pay_cur_legal=$.spe_retire_pay_cur_legal.getValue();$.dretire_pension_amt_cur_legal=$.spe_retire_pension_amt_cur_legal.getValue();$.dretire_pay_cur_extra=$.spe_retire_pay_cur_extra.getValue();$.dretire_pension_amt_cur_extra=$.spe_retire_pension_amt_cur_extra.getValue();$.dretire_pay_prev1_legal=$.spe_retire_pay_prev1_legal.getValue();$.dretire_pension_amt_prev1_legal=$.spe_retire_pension_amt_prev1_legal.getValue();$.dretire_pay_prev1_extra=$.spe_retire_pay_prev1_extra.getValue();$.dretire_pension_amt_prev1_extra=$.spe_retire_pension_amt_prev1_extra.getValue()}function fnIncome_Detail(){$.dretire_pay_cur_legal=$.spe_retire_pay_cur_legal.getValue();$.dretire_pension_amt_cur_legal=$.spe_retire_pension_amt_cur_legal.getValue();$.dretire_pay_cur_extra=$.spe_retire_pay_cur_extra.getValue();$.dretire_pension_amt_cur_extra=$.spe_retire_pension_amt_cur_extra.getValue();$.dretire_pay_prev1_legal=$.spe_retire_pay_prev1_legal.getValue();$.dretire_pension_amt_prev1_legal=$.spe_retire_pension_amt_prev1_legal.getValue();$.dretire_pay_prev1_extra=$.spe_retire_pay_prev1_extra.getValue();$.dretire_pension_amt_prev1_extra=$.spe_retire_pension_amt_prev1_extra.getValue();$.dretire_non_taxable_income=$.spe_retire_non_taxable_income.getValue();$.dretire_non_taxable_income_prev1=$.spe_retire_non_taxable_income_prev1.getValue();$.dretire_pay_sum_cur_legal=$.spe_retire_pay_cur_legal.getValue()+$.spe_retire_pension_amt_cur_legal.getValue();$.dretire_pay_sum_cur_extra=$.spe_retire_pay_cur_extra.getValue()+$.spe_retire_pension_amt_cur_extra.getValue();$.dretire_pay_sum_prev1_legal=$.spe_retire_pay_prev1_legal.getValue()+$.spe_retire_pension_amt_prev1_legal.getValue();$.dretire_pay_sum_prev1_extra=$.spe_retire_pay_prev1_extra.getValue()+$.spe_retire_pension_amt_prev1_extra.getValue();$.dretire_pay_sum=$.spe_retire_pay_cur_legal.getValue()+$.spe_retire_pay_cur_extra.getValue()+$.spe_retire_pay_prev1_legal.getValue()+$.spe_retire_pay_prev1_extra.getValue();$.dretire_pension_sum=$.spe_retire_pension_amt_cur_legal.getValue()+$.spe_retire_pension_amt_cur_extra.getValue()+$.spe_retire_pension_amt_prev1_legal.getValue()+$.spe_retire_pension_amt_prev1_extra.getValue();$.dretire_tot_sum=$.dretire_pay_sum_cur_legal+$.dretire_pay_sum_cur_extra+$.dretire_pay_sum_prev1_legal+$.dretire_pay_sum_prev1_extra;$.dretire_tot_non_taxable_sum=$.spe_retire_non_taxable_income.getValue()+$.spe_retire_non_taxable_income_prev1.getValue()}function fnRetire_pension_calc(){$.dtot_receive_amt_cur=$.spe_tot_receive_amt_cur.getValue();$.dprincipal_interest_sum_cur=$.spe_principal_interest_sum_cur.getValue();$.dearner_payment_amt_cur=$.spe_earner_payment_amt_cur.getValue();$.dretire_annual_deduct_amt_cur=$.spe_retire_annual_deduct_amt_cur.getValue();$.dretire_pension_cur=$.spe_retire_pension_cur.getValue();$.dtot_receive_amt_prev=$.spe_tot_receive_amt_prev.getValue();$.dprincipal_interest_sum_prev=$.spe_principal_interest_sum_prev.getValue();$.dearner_payment_amt_prev=$.spe_earner_payment_amt_prev.getValue();$.dretire_pension_deduct_amt_prev=$.spe_retire_pension_deduct_amt_prev.getValue();$.dretire_pension_amt_prev=$.spe_retire_pension_amt_prev.getValue();if($.dtot_receive_amt_cur>0&&$.dprincipal_interest_sum_cur>0){$.dretire_pension_cur=Math.floor($.dtot_receive_amt_cur*(1-($.dearner_payment_amt_cur-$.dretire_annual_deduct_amt_cur)/$.dprincipal_interest_sum_cur))}else{$.dretire_pension_cur=0}if($.dtot_receive_amt_prev>0&&$.dprincipal_interest_sum_prev>0){$.dretire_pension_amt_prev=Math.floor($.dtot_receive_amt_prev*(1-($.dearner_payment_amt_prev-$.dretire_pension_deduct_amt_prev)/$.dprincipal_interest_sum_prev))}else{$.dretire_pension_amt_prev=0}}function fnConvert_calc(){$.dretire_pension_expect_amt_cur_legal=$.spe_retire_pension_expect_amt_cur_legal.getValue();$.dtax_defer_amt_cur_legal=$.spe_tax_defer_amt_cur_legal.getValue();$.dreceived_retire_income_amt_cur_legal=$.spe_received_retire_income_amt_cur_legal.getValue();$.dretire_pension_expect_amt_prev_legal=$.spe_retire_pension_expect_amt_prev_legal.getValue();$.dtax_defer_amt_prev_legal=$.spe_tax_defer_amt_prev_legal.getValue();$.dreceived_retire_income_amt_prev_legal=$.spe_received_retire_income_amt_prev_legal.getValue();$.dretire_pension_expect_amt_cur_extra=$.spe_retire_pension_expect_amt_cur_extra.getValue();$.dtax_defer_amt_cur_extra=$.spe_tax_defer_amt_cur_extra.getValue();$.dreceived_retire_income_amt_cur_extra=$.spe_received_retire_income_amt_cur_extra.getValue();$.dretire_pension_expect_amt_prev_extra=$.spe_retire_pension_expect_amt_prev_extra.getValue();$.dtax_defer_amt_prev_extra=$.spe_tax_defer_amt_prev_extra.getValue();$.dreceived_retire_income_amt_prev_extra=$.spe_received_retire_income_amt_prev_extra.getValue();if($.dretire_pension_expect_amt_cur_legal>0&&$.dprincipal_interest_sum_cur>0){$.dtot_amt_legal=$.dretire_pension_expect_amt_cur_legal*(1-($.dearner_payment_amt_cur-$.dretire_annual_deduct_amt_cur)/$.dprincipal_interest_sum_cur)}if($.dretire_pension_expect_amt_prev_legal>0&&$.dearner_payment_amt_prev>0){$.dtot_amt_legal+=$.dretire_pension_expect_amt_prev_legal*(1-($.dearner_payment_amt_prev-$.dretire_pension_deduct_amt_prev)/$.dprincipal_interest_sum_prev)}if($.dretire_pension_expect_amt_cur_extra>0&&$.dprincipal_interest_sum_cur>0){$.dtot_amt_extra=$.dretire_pension_expect_amt_cur_extra*(1-($.dearner_payment_amt_cur-$.dretire_annual_deduct_amt_cur)/$.dprincipal_interest_sum_cur)}if($.dretire_pension_expect_amt_prev_extra>0&&$.dearner_payment_amt_prev>0){$.dtot_amt_extra+=$.dretire_pension_expect_amt_prev_extra*(1-($.dearner_payment_amt_prev-$.dretire_pension_deduct_amt_prev)/$.dprincipal_interest_sum_prev)}if($.dretire_pension_expect_amt_cur_legal+$.dtax_defer_amt_cur_legal+$.dreceived_retire_income_amt_cur_legal+$.dretire_pension_expect_amt_prev_legal+$.dtax_defer_amt_prev_legal+$.dreceived_retire_income_amt_prev_legal+$.dretire_pension_expect_amt_cur_extra+$.dtax_defer_amt_cur_extra+$.dreceived_retire_income_amt_cur_extra+$.dretire_pension_expect_amt_prev_extra+$.dtax_defer_amt_prev_extra+$.dreceived_retire_income_amt_prev_extra>0){$.dreceivable_retire_income_amt_legal=$.dretire_pay_cur_legal+$.dretire_pay_prev1_legal+$.dtax_defer_amt_cur_legal+$.dtax_defer_amt_prev_legal+$.dreceived_retire_income_amt_cur_legal+$.dreceived_retire_income_amt_prev_legal+$.dtot_amt_legal;if(!$.dte_last_calc_date.getValue()){$.dreceivable_retire_income_amt_legal+=$.dretire_pay_cur_extra+$.dtax_defer_amt_cur_extra+$.dreceived_retire_income_amt_cur_extra;if($.dretire_pension_expect_amt_cur_extra>0&&$.dprincipal_interest_sum_cur>0){$.dreceivable_retire_income_amt_legal+=($.dretire_pension_expect_amt_cur_extra*(1-($.dearner_payment_amt_cur-$.dretire_annual_deduct_amt_cur)/$.dprincipal_interest_sum_cur))}}if(!$.dte_prev1_last_calc_date.getValue()){$.dreceivable_retire_income_amt_legal+=$.dretire_pay_prev1_extra+$.dtax_defer_amt_prev_extra+$.dreceived_retire_income_amt_prev_extra;if($.dretire_pension_expect_amt_prev_extra>0&&$.dprincipal_interest_sum_prev>0){$.dreceivable_retire_income_amt_legal+=($.dretire_pension_expect_amt_prev_extra*(1-($.dearner_payment_amt_prev-$.dretire_pension_deduct_amt_prev)/$.dprincipal_interest_sum_prev))}}if($.dte_last_calc_date.getValue()){$.dreceivable_retire_income_amt_legal+=$.dretire_pay_cur_extra+$.dtax_defer_amt_cur_extra+$.dreceived_retire_income_amt_cur_extra;if($.dretire_pension_expect_amt_cur_extra>0&&$.dprincipal_interest_sum_cur>0){$.dreceivable_retire_income_amt_legal+=($.dretire_pension_expect_amt_cur_extra*(1-($.dearner_payment_amt_cur-$.dretire_annual_deduct_amt_cur)/$.dprincipal_interest_sum_cur))}}if($.dte_prev1_last_calc_date.getValue()){$.dreceivable_retire_income_amt_legal+=$.dretire_pay_prev1_extra+$.dtax_defer_amt_prev_extra+$.dreceived_retire_income_amt_prev_extra;if($.dretire_pension_expect_amt_prev_extra>0&&$.dprincipal_interest_sum_prev>0){$.dreceivable_retire_income_amt_legal+=($.dretire_pension_expect_amt_prev_extra*(1-($.dearner_payment_amt_prev-$.dretire_pension_deduct_amt_prev)/$.dprincipal_interest_sum_prev))}}}$.dService_Year_cnt_Amt_legal=0;if($.dreceivable_retire_income_amt_legal>0){$.dProp_Rate_Amt=Math.floor($.dreceivable_retire_income_amt_legal*($.dProp_Rate_std));var dService_Year_cnt_Amt_Temp=0;if($.dtService_Year_cnt_Rate!=null){dService_Year_cnt_Amt_Temp=0;for(var i=0;i<$.dtService_Year_cnt_Rate.length;i++){var dcumulative_tax_ded_amt=Number($.dtService_Year_cnt_Rate[i]["cumulative_tax_ded_amt"]);var dwork_year_fr=Number($.dtService_Year_cnt_Rate[i]["work_year_fr"]);var dmax_amt=0;if(i>0){dmax_amt=Number($.dtService_Year_cnt_Rate[i-1]["max_amt"])}if(Number($.dtService_Year_cnt_Rate[i]["work_year_fr"])<$.dservice_year_cnt_prev_legal&&$.dservice_year_cnt_prev_legal<=Number($.dtService_Year_cnt_Rate[i]["work_year_to"])){if(i==0){dService_Year_cnt_Amt_Temp=$.dservice_year_cnt_prev_legal*dcumulative_tax_ded_amt}else{dService_Year_cnt_Amt_Temp=($.dservice_year_cnt_prev_legal-dwork_year_fr)*dcumulative_tax_ded_amt+dmax_amt}break}if(i==$.dtService_Year_cnt_Rate.length-1&&dService_Year_cnt_Amt_Temp==0&&Number($.dtService_Year_cnt_Rate[i]["work_year_fr"])<$.dservice_year_cnt_prev_legal){dService_Year_cnt_Amt_Temp=($.dservice_year_cnt_prev_legal-dwork_year_fr)*dcumulative_tax_ded_amt+dmax_amt;break}}}if(dService_Year_cnt_Amt_Temp>$.dreceivable_retire_income_amt_legal-$.dProp_Rate_Amt){$.dService_Year_cnt_Amt=$.dreceivable_retire_income_amt_legal-$.dProp_Rate_Amt}else{$.dService_Year_cnt_Amt=dService_Year_cnt_Amt_Temp}if($.dProp_Rate_Amt+$.dService_Year_cnt_Amt>$.dreceivable_retire_income_amt_legal){$.dconvert_retire_deduct_amt_legal=$.dreceivable_retire_income_amt_legal}else{$.dconvert_retire_deduct_amt_legal=$.dProp_Rate_Amt+$.dService_Year_cnt_Amt}$.dService_Year_cnt_Amt_legal=$.dService_Year_cnt_Amt;$.dProp_Rate_Amt=0;$.dService_Year_cnt_Amt=0}if($.dreceivable_retire_income_amt_extra>0){$.dProp_Rate_Amt=Math.floor($.dreceivable_retire_income_amt_extra*($.dProp_Rate_std));var dService_Year_cnt_Amt_Temp_tot=0;var dService_Year_cnt_Amt_Temp_bf=0;if($.dtService_Year_cnt_Rate!=null){for(var i=0;i<$.dtService_Year_cnt_Rate.length;i++){var dcumulative_tax_ded_amt=Number($.dtService_Year_cnt_Rate[i]["cumulative_tax_ded_amt"]);var dwork_year_fr=Number($.dtService_Year_cnt_Rate[i]["work_year_fr"]);var dmax_amt=0;if(i>0){dmax_amt=Number($.dtService_Year_cnt_Rate[i-1]["max_amt"])}if(Number($.dtService_Year_cnt_Rate[i]["work_year_fr"])<$.dservice_year_cnt_prev_extra&&$.dservice_year_cnt_prev_extra<=Number($.dtService_Year_cnt_Rate[i]["work_year_to"])){if(i==0){dService_Year_cnt_Amt_Temp_tot=$.dservice_year_cnt_prev_extra*dcumulative_tax_ded_amt}else{dService_Year_cnt_Amt_Temp_tot=($.dservice_year_cnt_prev_extra-dwork_year_fr)*dcumulative_tax_ded_amt+dmax_amt}break}if(i==$.dtService_Year_cnt_Rate.length-1&&dService_Year_cnt_Amt_Temp_tot==0&&Number($.dtService_Year_cnt_Rate[i]["work_year_fr"])<$.dservice_year_cnt_prev_extra){dService_Year_cnt_Amt_Temp_tot=($.dservice_year_cnt_prev_extra-dwork_year_fr)*dcumulative_tax_ded_amt+dmax_amt;break}}for(var i=0;i<$.dtService_Year_cnt_Rate.length;i++){var dcumulative_tax_ded_amt=Number($.dtService_Year_cnt_Rate[i]["cumulative_tax_ded_amt"]);var dwork_year_fr=Number($.dtService_Year_cnt_Rate[i]["work_year_fr"]);var dmax_amt=0;if(i>0){dmax_amt=Number($.dtService_Year_cnt_Rate[i-1]["max_amt"])}if(Number($.dtService_Year_cnt_Rate[i]["work_year_fr"])<$.dservice_yyyy_cur_adjust&&$.dservice_yyyy_cur_adjust<=Number($.dtService_Year_cnt_Rate[i]["work_year_to"])){if(i==0){dService_Year_cnt_Amt_Temp_bf=$.dservice_year_cnt_prev_extra*dcumulative_tax_ded_amt}else{dService_Year_cnt_Amt_Temp_bf=($.dservice_year_cnt_prev_extra-dwork_year_fr)*dcumulative_tax_ded_amt+dmax_amt}break}if(i==$.dtService_Year_cnt_Rate.length-1&&dService_Year_cnt_Amt_Temp_tot==0&&Number($.dtService_Year_cnt_Rate[i]["work_year_fr"])<$.dservice_yyyy_cur_adjust){dService_Year_cnt_Amt_Temp_bf=($.dservice_year_cnt_prev_extra-dwork_year_fr)*dcumulative_tax_ded_amt+dmax_amt;break}}if(dService_Year_cnt_Amt_Temp_tot-dService_Year_cnt_Amt_Temp_bf-$.dService_Year_cnt_Amt_legal>$.dreceivable_retire_income_amt_extra-$.dProp_Rate_Amt){if($.dreceivable_retire_income_amt_extra-$.dProp_Rate_Amt!=0){$.dService_Year_cnt_Amt=$.dreceivable_retire_income_amt_extra-$.dProp_Rate_Amt}}else{if(dService_Year_cnt_Amt_Temp_tot-dService_Year_cnt_Amt_Temp_bf-$.dService_Year_cnt_Amt_legal!=0){$.dService_Year_cnt_Amt=dService_Year_cnt_Amt_Temp_tot-dService_Year_cnt_Amt_Temp_bf-$.dService_Year_cnt_Amt_legal}}if($.dProp_Rate_Amt+$.dService_Year_cnt_Amt>$.dreceivable_retire_income_amt_extra){$.dconvert_retire_deduct_amt_extra=$.dreceivable_retire_income_amt_extra}else{$.dconvert_retire_deduct_amt_extra=$.dProp_Rate_Amt+$.dService_Year_cnt_Amt}$.dProp_Rate_Amt=0;$.dService_Year_cnt_Amt=0}}$.dconvert_retire_income_tax_std_amt_legal=$.dreceivable_retire_income_amt_legal-$.dconvert_retire_deduct_amt_legal;$.dconvert_retire_income_tax_std_amt_extra=$.dreceivable_retire_income_amt_extra-$.dconvert_retire_deduct_amt_extra;if($.dreceivable_retire_income_amt_legal>0&&$.dservice_year_cnt_prev_legal>0){$.dconvert_annual_avg_tax_std_amt_legal=Math.floor($.dconvert_retire_income_tax_std_amt_legal/$.dservice_year_cnt_prev_legal)}if($.dreceivable_retire_income_amt_extra>0&&$.dservice_year_cnt_prev_extra>0){$.dconvert_annual_avg_tax_std_amt_extra=Math.floor($.dconvert_retire_income_tax_std_amt_extra/$.dservice_year_cnt_prev_extra)}$.dconvert_annual_avg_tax_std_amt_tot=0;var dTotal_Tax_Amt_Temp=0;if($.dreceivable_retire_income_amt_legal>0||$.dreceivable_retire_income_amt_extra>0){$.dconvert_annual_avg_tax_std_amt_tot=$.dconvert_annual_avg_tax_std_amt_legal+$.dconvert_annual_avg_tax_std_amt_extra;for(var i=0;i<$.dtTotal_Tax_Rate.length;i++){var dcumulative_tax_ded_amt=Number($.dtTotal_Tax_Rate[i]["cumulative_tax_ded_amt"]);var dtax_rate=Number($.dtTotal_Tax_Rate[i]["tax_rate"])/100;if(Number($.dtTotal_Tax_Rate[i]["pay_amt_fr"])<$.dconvert_annual_avg_tax_std_amt_tot&&$.dconvert_annual_avg_tax_std_amt_tot<=Number($.dtTotal_Tax_Rate[i]["pay_amt_to"])){if(i==0){dTotal_Tax_Amt_Temp=Math.floor($.dconvert_annual_avg_tax_std_amt_tot*dtax_rate)}else{dTotal_Tax_Amt_Temp=Math.floor($.dconvert_annual_avg_tax_std_amt_tot*dtax_rate)-dcumulative_tax_ded_amt}break}if(i==$.dtTotal_Tax_Rate.length-1&&dTotal_Tax_Amt_Temp==0&&Number($.dtTotal_Tax_Rate[i]["pay_amt_fr"])<$.dconvert_annual_avg_tax_std_amt_tot){dTotal_Tax_Amt_Temp=Math.floor($.dconvert_annual_avg_tax_std_amt_tot*dtax_rate)-dcumulative_tax_ded_amt;break}}if($.dreceivable_retire_income_amt_legal>0&&$.dconvert_annual_avg_tax_std_amt_tot>0){$.dconvert_annual_avg_calc_tax_amt_legal=Math.floor(dTotal_Tax_Amt_Temp*$.dconvert_annual_avg_tax_std_amt_legal/$.dconvert_annual_avg_tax_std_amt_tot)}if($.dreceivable_retire_income_amt_extra>0&&dconvert_annual_avg_tax_std_amt_tot>0){$.dconvert_annual_avg_calc_tax_amt_extra=Math.floor(dTotal_Tax_Amt_Temp*$.dconvert_annual_avg_tax_std_amt_extra/$.dconvert_annual_avg_tax_std_amt_tot)}}var dconvert_calc_tax_amt_legal_temp=0;if($.dreceivable_retire_income_amt_legal>0){dconvert_calc_tax_amt_legal_temp=($.dretire_pay_sum_cur_legal+$.dretire_pay_sum_prev1_legal);if(!$.dte_last_calc_date.getValue()){dconvert_calc_tax_amt_legal_temp+=$.dretire_pay_sum_cur_extra}if(!$.dte_prev1_last_calc_date.getValue()){dconvert_calc_tax_amt_legal_temp+=$.dretire_pay_sum_prev1_extra}$.dconvert_calc_tax_amt_legal=$.dconvert_annual_avg_calc_tax_amt_legal*$.dservice_year_cnt_prev_legal*dconvert_calc_tax_amt_legal_temp/$.dreceivable_retire_income_amt_legal}var dconvert_calc_tax_amt_extra_temp=0;if($.dreceivable_retire_income_amt_extra>0){dconvert_calc_tax_amt_extra_temp=$.dretire_pay_sum_cur_extra+$.dretire_pay_sum_prev1_extra;if($.dte_last_calc_date.getValue()){dconvert_calc_tax_amt_extra_temp+=$.dretire_pay_sum_cur_extra}if($.dte_prev1_last_calc_date.getValue()){dconvert_calc_tax_amt_extra_temp+=$.dretire_pay_sum_prev1_extra}$.dconvert_calc_tax_amt_extra=$.dconvert_annual_avg_calc_tax_amt_extra*$.dservice_year_cnt_prev_extra*(dconvert_calc_tax_amt_extra_temp/$.dreceivable_retire_income_amt_extra)}$.dfor_paid_tax_deduct_amt_legal=$.spe_for_paid_tax_deduct_amt_legal.getValue();$.dfor_paid_tax_deduct_extra=$.spe_for_paid_tax_deduct_extra.getValue()}function fnCalcDetail(){if($.dtot_amt_legal+$.dtot_amt_extra+$.dreceivable_retire_income_amt_legal+$.dreceivable_retire_income_amt_extra>0){$.dretire_pay_amt_legal=$.dreceivable_retire_income_amt_legal;$.dretire_deduct_amt_legal=$.dconvert_retire_deduct_amt_legal;$.dretire_income_tax_std_amt_legal=$.dconvert_retire_income_tax_std_amt_legal;$.dannual_avg_tax_std_amt_legal=$.dconvert_annual_avg_tax_std_amt_legal;$.dannual_avg_calc_tax_amt_legal=$.dconvert_annual_avg_calc_tax_amt_legal;$.dcalc_tax_amt_legal=$.dconvert_calc_tax_amt_legal;$.dretire_pay_amt_extra=$.dreceivable_retire_income_amt_extra;$.dretire_deduct_amt_extra=$.dconvert_retire_deduct_amt_extra;$.dretire_income_tax_std_amt_extra=$.dconvert_retire_income_tax_std_amt_extra;$.dannual_avg_tax_std_amt_extra=$.dconvert_annual_avg_tax_std_amt_extra;$.dannual_avg_calc_tax_amt_extra=$.dconvert_annual_avg_calc_tax_amt_extra;$.dcalc_tax_amt_extra=$.dconvert_calc_tax_amt_extra}else{$.dretire_pay_amt_legal=$.dretire_pay_cur_legal+$.dretire_pay_prev1_legal+$.dretire_pension_amt_cur_legal+$.dretire_pension_amt_prev1_legal;if(!$.dte_last_calc_date.getValue()){$.dretire_pay_amt_legal+=$.dretire_pay_cur_extra+$.dretire_pension_amt_cur_extra}if(!$.dte_prev1_enter_date.getValue()){$.dretire_pay_amt_legal+=$.dretire_pay_prev1_extra+$.dretire_pension_amt_prev1_extra}if($.dte_last_calc_date.getValue()){$.dretire_pay_amt_extra+=$.dretire_pay_sum_cur_extra}if($.dte_prev1_enter_date.getValue()){$.dretire_pay_amt_extra+=$.dretire_pay_sum_prev1_extra}$.dService_Year_cnt_Amt_legal=0;if($.dtService_Year_cnt_Rate!=null){var dService_Year_cnt_Amt_Temp=0;$.dProp_Rate_Amt=Math.floor($.dretire_pay_amt_legal*($.dProp_Rate_std));for(var i=0;i<$.dtService_Year_cnt_Rate.length;i++){var dcumulative_tax_ded_amt=Number($.dtService_Year_cnt_Rate[i]["cumulative_tax_ded_amt"]);var dwork_year_fr=Number($.dtService_Year_cnt_Rate[i]["work_year_fr"]);var dmax_amt=0;if(i>0){dmax_amt=Number($.dtService_Year_cnt_Rate[i-1]["max_amt"])}if(Number($.dtService_Year_cnt_Rate[i]["work_year_fr"])<$.dservice_year_cnt_prev_legal&&$.dservice_year_cnt_prev_legal<=Number($.dtService_Year_cnt_Rate[i]["work_year_to"])){if(i==0){dService_Year_cnt_Amt_Temp=$.dservice_year_cnt_prev_legal*dcumulative_tax_ded_amt}else{dService_Year_cnt_Amt_Temp=($.dservice_year_cnt_prev_legal-dwork_year_fr)*dcumulative_tax_ded_amt+dmax_amt}break}if(i==$.dtService_Year_cnt_Rate.length-1&&dService_Year_cnt_Amt_Temp==0&&Number($.dtService_Year_cnt_Rate[i]["work_year_fr"])<$.dservice_year_cnt_prev_legal){dService_Year_cnt_Amt_Temp=($.dservice_year_cnt_prev_legal-dwork_year_fr)*dcumulative_tax_ded_amt+dmax_amt;break}}if(dService_Year_cnt_Amt_Temp>$.dretire_pay_amt_legal-$.dProp_Rate_Amt){$.dService_Year_cnt_Amt=$.dretire_pay_amt_legal-$.dProp_Rate_Amt}else{$.dService_Year_cnt_Amt=dService_Year_cnt_Amt_Temp}if($.dService_Year_cnt_Amt+$.dProp_Rate_Amt>$.dretire_pay_amt_legal){$.dretire_deduct_amt_legal=$.dretire_pay_amt_legal}else{$.dretire_deduct_amt_legal=$.dService_Year_cnt_Amt+$.dProp_Rate_Amt}$.dService_Year_cnt_Amt_legal=$.dService_Year_cnt_Amt;$.dProp_Rate_Amt=0}if($.dretire_pay_amt_extra>0){$.dProp_Rate_Amt=Math.floor($.dretire_pay_amt_extra*($.dProp_Rate_std));var dService_Year_cnt_Amt_Temp_tot=0;var dService_Year_cnt_Amt_Temp_bf=0;if($.dtService_Year_cnt_Rate!=null){for(var i=0;i<$.dtService_Year_cnt_Rate.length;i++){var dcumulative_tax_ded_amt=Number($.dtService_Year_cnt_Rate[i]["cumulative_tax_ded_amt"]);var dwork_year_fr=Number($.dtService_Year_cnt_Rate[i]["work_year_fr"]);var dmax_amt=0;if(i>0){dmax_amt=Number($.dtService_Year_cnt_Rate[i-1]["max_amt"])}if(Number($.dtService_Year_cnt_Rate[i]["work_year_fr"])<$.dservice_year_cnt_prev_extra&&$.dservice_year_cnt_prev_extra<=Number($.dtService_Year_cnt_Rate[i]["work_year_to"])){if(i==0){dService_Year_cnt_Amt_Temp_tot=$.dservice_year_cnt_prev_extra*dcumulative_tax_ded_amt}else{dService_Year_cnt_Amt_Temp_tot=($.dservice_year_cnt_prev_extra-dwork_year_fr)*dcumulative_tax_ded_amt+dmax_amt}break}if(i==$.dtService_Year_cnt_Rate.length-1&&dService_Year_cnt_Amt_Temp_tot==0&&Number($.dtService_Year_cnt_Rate[i]["work_year_fr"])<$.dservice_year_cnt_prev_extra){dService_Year_cnt_Amt_Temp_tot=($.dservice_year_cnt_prev_extra-dwork_year_fr)*dcumulative_tax_ded_amt+dmax_amt;break}}for(var i=0;i<$.dtService_Year_cnt_Rate.length;i++){var dcumulative_tax_ded_amt=Number($.dtService_Year_cnt_Rate[i]["cumulative_tax_ded_amt"]);var dwork_year_fr=Number($.dtService_Year_cnt_Rate[i]["work_year_fr"]);var dmax_amt=0;if(i>0){dmax_amt=Number($.dtService_Year_cnt_Rate[i-1]["max_amt"])}if(Number($.dtService_Year_cnt_Rate[i]["work_year_fr"])<$.dservice_yyyy_cur_adjust&&$.dservice_yyyy_cur_adjust<=Number($.dtService_Year_cnt_Rate[i]["work_year_to"])){if(i==0){dService_Year_cnt_Amt_Temp_bf=$.dservice_year_cnt_prev_extra*dcumulative_tax_ded_amt}else{dService_Year_cnt_Amt_Temp_bf=($.dservice_year_cnt_prev_extra-dwork_year_fr)*dcumulative_tax_ded_amt+dmax_amt}break}if(i==$.dtService_Year_cnt_Rate.length-1&&dService_Year_cnt_Amt_Temp_tot==0&&Number($.dtService_Year_cnt_Rate[i]["work_year_fr"])<$.dservice_yyyy_cur_adjust){dService_Year_cnt_Amt_Temp_bf=($.dservice_year_cnt_prev_extra-dwork_year_fr)*dcumulative_tax_ded_amt+dmax_amt;break}}if(dService_Year_cnt_Amt_Temp_tot-dService_Year_cnt_Amt_Temp_bf-$.dService_Year_cnt_Amt_legal>$.dretire_pay_amt_extra-$.dProp_Rate_Amt){if($.dretire_pay_amt_extra-$.dProp_Rate_Amt!=0){$.dService_Year_cnt_Amt=$.dretire_pay_amt_extra-$.dProp_Rate_Amt}}else{if(dService_Year_cnt_Amt_Temp_tot-dService_Year_cnt_Amt_Temp_bf-$.dService_Year_cnt_Amt_legal!=0){$.dService_Year_cnt_Amt=dService_Year_cnt_Amt_Temp_tot-dService_Year_cnt_Amt_Temp_bf-$.dService_Year_cnt_Amt_legal}}if($.dProp_Rate_Amt+$.dService_Year_cnt_Amt>$.dretire_pay_amt_extra){$.dretire_deduct_amt_extra=$.dretire_pay_amt_extra}else{$.dretire_deduct_amt_extra=$.dProp_Rate_Amt+$.dService_Year_cnt_Amt}$.dProp_Rate_Amt=0;$.dService_Year_cnt_Amt=0}}$.dretire_income_tax_std_amt_legal=$.dretire_pay_amt_legal-$.dretire_deduct_amt_legal;$.dretire_income_tax_std_amt_extra=$.dretire_pay_amt_extra-$.dretire_deduct_amt_extra;if($.dservice_year_cnt_prev_legal>0&&$.dretire_income_tax_std_amt_legal>0){$.dannual_avg_tax_std_amt_legal=Math.floor($.dretire_income_tax_std_amt_legal/$.dservice_year_cnt_prev_legal)}if($.dservice_year_cnt_prev_extra>0&&$.dretire_income_tax_std_amt_extra>0){$.dannual_avg_tax_std_amt_extra=Math.floor($.dretire_income_tax_std_amt_extra/$.dservice_year_cnt_prev_extra)}var dannual_avg_tax_std_amt_tot=0;var dTotal_Tax_Amt_Temp=0;if($.dretire_pay_amt_legal>0||$.dretire_pay_amt_extra>0){dannual_avg_tax_std_amt_tot=$.dannual_avg_tax_std_amt_legal+$.dannual_avg_tax_std_amt_extra;for(var i=0;i<$.dtTotal_Tax_Rate.length;i++){var dcumulative_tax_ded_amt=Number($.dtTotal_Tax_Rate[i]["cumulative_tax_ded_amt"]);var dtax_rate=Number($.dtTotal_Tax_Rate[i]["tax_rate"])/100;if(Number($.dtTotal_Tax_Rate[i]["pay_amt_fr"])<dannual_avg_tax_std_amt_tot&&dannual_avg_tax_std_amt_tot<=Number($.dtTotal_Tax_Rate[i]["pay_amt_to"])){if(i==0){dTotal_Tax_Amt_Temp=Math.floor(dannual_avg_tax_std_amt_tot*dtax_rate)}else{dTotal_Tax_Amt_Temp=Math.floor(dannual_avg_tax_std_amt_tot*dtax_rate)-dcumulative_tax_ded_amt}break}if(i==$.dtTotal_Tax_Rate.length-1&&dTotal_Tax_Amt_Temp==0&&Number($.dtTotal_Tax_Rate[i]["pay_amt_fr"])<dannual_avg_tax_std_amt_tot){dTotal_Tax_Amt_Temp=Math.floor(dannual_avg_tax_std_amt_tot*dtax_rate)-dcumulative_tax_ded_amt;break}}if($.dannual_avg_tax_std_amt_legal>0){$.dannual_avg_calc_tax_amt_legal=Math.floor(($.dannual_avg_tax_std_amt_legal/dannual_avg_tax_std_amt_tot)*dTotal_Tax_Amt_Temp)}if($.dannual_avg_tax_std_amt_extra>0){$.dannual_avg_calc_tax_amt_extra=Math.floor($.dannual_avg_tax_std_amt_extra/dannual_avg_tax_std_amt_tot*dTotal_Tax_Amt_Temp)}}$.dcalc_tax_amt_legal=$.dannual_avg_calc_tax_amt_legal*$.dservice_year_cnt_prev_legal;$.dcalc_tax_amt_legal=$.dannual_avg_calc_tax_amt_legal*$.dservice_year_cnt_prev_legal}$.dretire_income_sum=$.dretire_pay_amt_legal+$.dretire_pay_amt_extra;$.dretire_deduct_sum=$.dretire_deduct_amt_legal+$.dretire_deduct_amt_extra;$.dretire_income_tax_std_sum=$.dretire_income_tax_std_amt_legal+$.dretire_income_tax_std_amt_extra;$.dannual_avg_tax_std_sum=$.dannual_avg_tax_std_amt_legal+$.dannual_avg_tax_std_amt_extra;$.dannual_avg_calc_sum=$.dannual_avg_calc_tax_amt_legal+$.dannual_avg_calc_tax_amt_extra;$.dcalc_tax_sum=$.dcalc_tax_amt_legal+$.dcalc_tax_amt_extra;$.dfor_paid_tax_deduct_amt_legal=$.spe_for_paid_tax_deduct_amt_legal.getValue();$.dfor_paid_tax_deduct_extra=$.spe_for_paid_tax_deduct_extra.getValue();$.dincome_prev_paid_tax_amt=$.spe_income_prev_paid_tax_amt.getValue();$.dlocal_prev_paid_tax_amt=$.spe_local_prev_paid_tax_amt.getValue();$.dspecial_prev_paid_tax_amt=$.spe_special_prev_paid_tax_amt.getValue();$.dfor_paid_tax_deduct_sum=$.dfor_paid_tax_deduct_amt_legal+$.dfor_paid_tax_deduct_extra;$.dincome_prev_paid_tax_amt=Math.floor($.dincome_prev_paid_tax_amt*0.1)*10;$.dlocal_prev_paid_tax_amt=Math.floor($.dlocal_prev_paid_tax_amt*0.1)*10;$.dincome_retire_tax_amt=$.dcalc_tax_sum-$.dfor_paid_tax_deduct_sum;$.dlocal_retire_tax_amt=Math.floor($.dincome_retire_tax_amt*0.1);$.dspecial_retire_tax_amt=$.spe_special_retire_tax_amt.getValue();$.dretire_tax_sum=$.dincome_retire_tax_amt+$.dlocal_retire_tax_amt+$.dspecial_retire_tax_amt;$.dspecial_prev_paid_tax_amt=$.spe_special_prev_paid_tax_amt.getValue();$.dprev_paid_tax_sum=$.dincome_prev_paid_tax_amt+$.dlocal_prev_paid_tax_amt+$.dspecial_prev_paid_tax_amt;$.dincome_balance_deduct_tax_amt=(Math.floor(($.dincome_retire_tax_amt-$.dincome_prev_paid_tax_amt)*0.1))*10;$.dlocal_balance_deduct_tax_amt=(Math.floor(($.dlocal_retire_tax_amt-$.dlocal_prev_paid_tax_amt)*0.1))*10;$.dspecial_balance_deduct_tax_amt=(Math.floor(($.dspecial_retire_tax_amt-$.dspecial_prev_paid_tax_amt)*0.1))*10;$.dbalance_deduct_tax_sum=$.dincome_balance_deduct_tax_amt+$.dlocal_balance_deduct_tax_amt+$.dspecial_balance_deduct_tax_amt;$.spe_real_pay_amt.setValue($.spe_retire_income_sum.getValue()-$.spe_balance_deduct_tax_sum.getValue())}function fnSettingValue(){$.spe_retire_pay_cur_legal.setValue($.dretire_pay_cur_legal);$.spe_retire_pension_amt_cur_legal.setValue($.dretire_pension_amt_cur_legal);$.spe_retire_pay_cur_extra.setValue($.dretire_pay_cur_extra);$.spe_retire_pension_amt_cur_extra.setValue($.dretire_pension_amt_cur_extra);$.spe_retire_pay_prev1_legal.setValue($.dretire_pay_prev1_legal);$.spe_retire_pension_amt_prev1_legal.setValue($.dretire_pension_amt_prev1_legal);$.spe_retire_pay_prev1_extra.setValue($.dretire_pay_prev1_extra);$.spe_retire_pension_amt_prev1_extra.setValue($.dretire_pension_amt_prev1_extra);$.spe_retire_pay_sum_cur_legal.setValue($.dretire_pay_sum_cur_legal);$.spe_retire_pay_sum_cur_extra.setValue($.dretire_pay_sum_cur_extra);$.spe_retire_pay_sum_prev1_legal.setValue($.dretire_pay_sum_prev1_legal);$.spe_retire_pay_sum_prev1_extra.setValue($.dretire_pay_sum_prev1_extra);$.spe_retire_pay_sum.setValue($.dretire_pay_sum);$.spe_retire_pension_sum.setValue($.dretire_pension_sum);$.spe_retire_tot_sum.setValue($.dretire_tot_sum);$.spe_retire_non_taxable_income.setValue($.dretire_non_taxable_income);$.spe_retire_non_taxable_income_prev1.setValue($.dretire_non_taxable_income_prev1);$.spe_retire_tot_non_taxable_sum.setValue($.dretire_tot_non_taxable_sum);$.spe_overlap_mon_cnt_prev_legal.setValue($.doverlap_mon_cnt_prev_legal);$.spe_overlap_mon_cnt_prev_extra.setValue($.doverlap_mon_cnt_prev_extra);$.spe_service_year_cnt_prev_legal.setValue($.dservice_year_cnt_prev_legal);$.spe_service_year_cnt_prev_extra.setValue($.dservice_year_cnt_prev_extra);$.spe_service_mon_cnt_cur_legal.setValue($.dService_MM_cur_legal);$.spe_service_mon_cnt_cur_extra.setValue($.dService_MM_cur_extra);$.spe_service_mon_cnt_prev_legal.setValue($.dService_MM_prev_legal);$.spe_service_mon_cnt_prev_extra.setValue($.dService_MM_prev_extra);$.spe_tot_receive_amt_cur.setValue($.dtot_receive_amt_cur);$.spe_principal_interest_sum_cur.setValue($.dprincipal_interest_sum_cur);$.spe_earner_payment_amt_cur.setValue($.dearner_payment_amt_cur);$.spe_retire_annual_deduct_amt_cur.setValue($.dretire_annual_deduct_amt_cur);$.spe_retire_pension_cur.setValue($.dretire_pension_cur);$.spe_tot_receive_amt_prev.setValue($.dtot_receive_amt_prev);$.spe_principal_interest_sum_prev.setValue($.dprincipal_interest_sum_prev);$.spe_earner_payment_amt_prev.setValue($.dearner_payment_amt_prev);$.spe_retire_pension_deduct_amt_prev.setValue($.dretire_pension_deduct_amt_prev);$.spe_retire_pension_amt_prev.setValue($.dretire_pension_amt_prev);$.spe_retire_pension_expect_amt_cur_legal.setValue($.dretire_pension_expect_amt_cur_legal);$.spe_tax_defer_amt_cur_legal.setValue($.dtax_defer_amt_cur_legal);$.spe_received_retire_income_amt_cur_legal.setValue($.dreceived_retire_income_amt_cur_legal);$.spe_retire_pension_expect_amt_prev_legal.setValue($.dretire_pension_expect_amt_prev_legal);$.spe_tax_defer_amt_prev_legal.setValue($.dtax_defer_amt_prev_legal);$.spe_received_retire_income_amt_prev_legal.setValue($.dreceived_retire_income_amt_prev_legal);$.spe_tot_amt_legal.setValue(Math.round($.dtot_amt_legal));$.spe_receivable_retire_income_amt_legal.setValue(Math.round($.dreceivable_retire_income_amt_legal));$.spe_convert_retire_deduct_amt_legal.setValue(Math.round($.dconvert_retire_deduct_amt_legal));$.spe_convert_retire_income_tax_std_amt_legal.setValue(Math.round($.dconvert_retire_income_tax_std_amt_legal));$.spe_convert_annual_avg_tax_std_amt_legal.setValue(Math.round($.dconvert_annual_avg_tax_std_amt_legal));$.spe_convert_annual_avg_calc_tax_amt_legal.setValue(Math.round($.dconvert_annual_avg_calc_tax_amt_legal));$.spe_retire_pension_expect_amt_cur_extra.setValue($.dretire_pension_expect_amt_cur_extra);$.spe_tax_defer_amt_cur_extra.setValue($.dtax_defer_amt_cur_extra);$.spe_received_retire_income_amt_cur_extra.setValue($.dreceived_retire_income_amt_cur_extra);$.spe_retire_pension_expect_amt_prev_extra.setValue($.dretire_pension_expect_amt_prev_extra);$.spe_tax_defer_amt_prev_extra.setValue($.dtax_defer_amt_prev_extra);$.spe_received_retire_income_amt_prev_extra.setValue($.dreceived_retire_income_amt_prev_extra);$.spe_tot_amt_extra.setValue(Math.round($.dtot_amt_extra));$.spe_receivable_retire_income_amt_extra.setValue(Math.round($.dreceivable_retire_income_amt_extra));$.spe_convert_retire_deduct_amt_extra.setValue(Math.round($.dconvert_retire_deduct_amt_extra));$.spe_convert_retire_income_tax_std_amt_extra.setValue(Math.round($.dconvert_retire_income_tax_std_amt_extra));$.spe_convert_annual_avg_tax_std_amt_extra.setValue(Math.round($.dconvert_annual_avg_tax_std_amt_extra));$.spe_convert_annual_avg_calc_tax_amt_extra.setValue(Math.round($.dconvert_annual_avg_calc_tax_amt_extra));$.spe_retire_pay_amt_legal.setValue(Math.round($.dretire_pay_amt_legal));$.spe_retire_deduct_amt_legal.setValue(Math.round($.dretire_deduct_amt_legal));$.spe_retire_income_tax_std_amt_legal.setValue(Math.round($.dretire_income_tax_std_amt_legal));$.spe_annual_avg_tax_std_amt_legal.setValue(Math.round($.dannual_avg_tax_std_amt_legal));$.spe_annual_avg_calc_tax_amt_legal.setValue(Math.round($.dannual_avg_calc_tax_amt_legal));$.spe_calc_tax_amt_legal.setValue(Math.round($.dcalc_tax_amt_legal));$.spe_for_paid_tax_deduct_amt_legal.setValue(Math.round($.dfor_paid_tax_deduct_amt_legal));$.spe_retire_pay_amt_extra.setValue(Math.round($.dretire_pay_amt_extra));$.spe_retire_deduct_amt_extra.setValue(Math.round($.dretire_deduct_amt_extra));$.spe_retire_income_tax_std_amt_extra.setValue(Math.round($.dretire_income_tax_std_amt_extra));$.spe_annual_avg_tax_std_amt_extra.setValue(Math.round($.dannual_avg_tax_std_amt_extra));$.spe_annual_avg_calc_tax_amt_extra.setValue(Math.round($.dannual_avg_calc_tax_amt_extra));$.spe_calc_tax_amt_extra.setValue(Math.round($.dcalc_tax_amt_extra));$.spe_for_paid_tax_deduct_extra.setValue(Math.round($.dfor_paid_tax_deduct_extra));$.spe_retire_income_sum.setValue(Math.round($.dretire_income_sum));$.spe_retire_deduct_sum.setValue(Math.round($.dretire_deduct_sum));$.spe_retire_income_tax_std_sum.setValue(Math.round($.dretire_income_tax_std_sum));$.spe_annual_avg_tax_std_sum.setValue(Math.round($.dannual_avg_tax_std_sum));$.spe_annual_avg_calc_sum.setValue(Math.round($.dannual_avg_calc_sum));$.spe_calc_tax_sum.setValue(Math.round($.dcalc_tax_sum));$.spe_for_paid_tax_deduct_sum.setValue(Math.round($.dfor_paid_tax_deduct_sum));$.spe_income_retire_tax_amt.setValue(Math.round($.dincome_retire_tax_amt));$.spe_local_retire_tax_amt.setValue(Math.round($.dlocal_retire_tax_amt));$.spe_special_retire_tax_amt.setValue(Math.round($.dspecial_retire_tax_amt));$.spe_retire_tax_sum.setValue(Math.round($.dincome_retire_tax_amt+$.dlocal_retire_tax_amt+$.dspecial_retire_tax_amt));$.spe_income_prev_paid_tax_amt.setValue(Math.round($.dincome_prev_paid_tax_amt));$.spe_local_prev_paid_tax_amt.setValue(Math.round($.dlocal_prev_paid_tax_amt));$.spe_special_prev_paid_tax_amt.setValue(Math.round($.dspecial_prev_paid_tax_amt));$.spe_prev_paid_tax_sum.setValue(Math.round($.dprev_paid_tax_sum));$.spe_income_balance_deduct_tax_amt.setValue(Math.round($.dincome_balance_deduct_tax_amt));$.spe_local_balance_deduct_tax_amt.setValue(Math.round($.dlocal_balance_deduct_tax_amt));$.spe_special_balance_deduct_tax_amt.setValue(Math.round($.dspecial_balance_deduct_tax_amt));$.spe_balance_deduct_tax_sum.setValue(Math.round($.dincome_balance_deduct_tax_amt+$.dlocal_balance_deduct_tax_amt+$.dspecial_balance_deduct_tax_amt));$.spe_real_pay_amt.setValue(parseInt($.dretire_income_sum-$.spe_balance_deduct_tax_sum.getValue()));$.spe_com_pay_amt.setValue(parseInt($.spe_real_pay_amt.getValue()));$.spe_insurer1_pay_amt.setValue(0);$.spe_insurer2_pay_amt.setValue(0);$.spe_insurer3_pay_amt.setValue(0);$.spe_pay_amt_sum.setValue(parseInt($.spe_com_pay_amt.getValue()+$.spe_insurer1_pay_amt.getValue()+$.spe_insurer2_pay_amt.getValue()+$.spe_insurer3_pay_amt.getValue()));$.spe_diff_amt.setValue(parseInt($.spe_real_pay_amt.getValue()-$.spe_pay_amt_sum.getValue()))}function fnDate_Validate(){var strstart_date="";var strend_date="";for(var i=0;i<$.grdAVG_Pay2.getRowCount();i++){strstart_date=$.grdAVG_Pay2.getValue(i,"start_date");for(var j=1;j<$.grdAVG_Pay2.getRowCount();j++){strend_date=$.grdAVG_Pay2.getValue(j,"end_date");if(i==j){continue}if(Number(strstart_date)<=Number(strend_date)&&Number($.grdAVG_Pay2.getValue(i,"end_date"))>=Number($.grdAVG_Pay2.getValue(j,"start_date"))){MessageBoxShow("적용 날짜가 중복되었습니다.");$.grdAVG_Pay2.selectRow(j);return false}}}return true}function fnApplyAmt_Calc(){if($.spe_bf_3month_day_cnt.getValue()<=0){return}if($.grdAVG_Bonus.getRowCount()<1||$.grdAVG_Pay.getRowCount()<1){return}var dBonus_Amt=0;var dPay_Amt=summaryText($.grdAVG_Pay2,"apply_amt");var dannual_benefit_amt=$.spe_annual_benefit_amt.getValue();for(var i=0;i<$.grdAVG_Bonus.getRowCount();i++){dBonus_Amt+=Number($.grdAVG_Bonus.getValue(i,"apply_amt"))}if($.spe_bf_3month_day_cnt.getValue()>0){var amt=(dPay_Amt+((dBonus_Amt+dannual_benefit_amt)*3/12))/$.spe_bf_3month_day_cnt.getValue();$.spe_tot_avg_pay_amt.setValue(parseInt(amt*100)/100)}else{$.spe_tot_avg_pay_amt.setValue(0)}if($.spe_tot_avg_pay_amt.getValue()>=$.spe_ordinary_wages_amt.getValue()){$.spe_apply_pay_amt.setValue($.spe_tot_avg_pay_amt.getValue())}else{$.spe_apply_pay_amt.setValue($.spe_ordinary_wages_amt.getValue())}var dResult_Amt=$.spe_apply_pay_amt.getValue()*30*$.spe_working_day_cnt.getValue()/365+$.spe_etc_pay_amt.getValue()-$.spe_health_insur_calc_amt.getValue()-$.spe_pension_change_amt.getValue()-$.spe_etc_ded_amt.getValue();$.spe_retire_pay_cur_legal.setValue(parseInt(dResult_Amt));fnRetire_Total_Calc()}function calc_date(start,end){if(!start||!end||start.length!=8||end.length!=8){return}var dt1=new Date(start.substr(0,4),(start.substr(4,2)-1),start.substr(6,2));var dt2=new Date(end.substr(0,4),(end.substr(4,2)-1),end.substr(6,2));var btMs=dt2.getTime()-dt1.getTime();var btDay=btMs/(1000*60*60*24);return btDay}function summaryText(grdId,colId){var sum=0;for(var i=0;i<grdId.getRowCount();i++){if(grdId.getValue(i,colId)){sum+=Number(grdId.getValue(i,colId))}}return sum}function dte_retire_calc_date1_Change(value){if(!value){return}if($.dte_last_calc_date.getValue()&&Number(value)<=Number($.dte_last_calc_date.getValue())){MessageBoxShow("정산일은 최근중도정산일 후의 날짜로 설정하여 주십시오.");$.dte_retire_calc_date1.setFocus();return}if(!$.dte_retire_date.getValue()){$.dte_calc_end_date.setValue(value)}$.dte_ymdretire_cur_legal.setValue(value);$.dte_calc_end_date.setValue(value);ymdcalc_date_EditValueModified();searchHRA5100("TAX_RATE")}function dte_enter_date_Change(value){if(!value||!$.isNew){return}$.dte_ymdenter_cur_extra.setValue(value)}function ymdcalc_date_EditValueModified(){if(!$.dte_calc_start_date.getValue()||!$.dte_calc_end_date.getValue()){return}if(Number($.dte_calc_end_date.getValue())<Number($.dte_calc_start_date.getValue())){MessageBoxShow("정산종료일은 정산시작일보다 빠를수 없습니다.");$.dte_calc_end_date.setFocus()}var tsRetire=calc_date($.dte_calc_start_date.getValue(),$.dte_calc_end_date.getValue());$.spe_working_day_cnt.setValue(tsRetire+1)}function ymdenter_extra_EditValueModified(){if(!$.dte_ymdenter_cur_extra.getValue()||!$.dte_ymdretire_prev_extra.getValue()){return}fnRetire_Total_Calc()}function ymdenter_legal_EditValueModified(){if(!$.dte_ymdenter_cur_legal.getValue()||!$.dte_ymdretire_prev_legal.getValue()){return}fnRetire_Total_Calc()}function gridValidator(){if(arguments.length<2){return false}var grdName=arguments[0];for(var i=0;i<grdName.getRowCount();i++){for(var j=1;j<arguments.length;j++){if(grdName.getValue(i,arguments[j])==""||grdName.getValue(i,arguments[j])==null){MessageBoxShow(grdName.getColumnText(arguments[j])+" 은(는) 필수 입력항목입니다");return false}}}return true}$.init=function(host,args){$.panMain=new FingerPanel(host,"panMain",0,0,1200,910);$.panMain.setText("");$.panMain.setBottomLine(true);$.panList=new FingerPanel(host,"panList",0,225,300,630);$.panList.setText("");$.panList.setBottomLine(true);$.panMenu=new FingerPanel(host,"panMenu",310,0,890,215);$.panMenu.setText("기본 정보");$.panMenu.setBottomLine(true);$.grdList=new FingerDataGrid(host,"grdList",0,0,300,630);$.panQuery=new FingerPanel(host,"panQuery",0,0,300,215);$.panQuery.setText("조회정보");$.panQuery.setBottomLine(true);$.tabMain=new FingerTab(host,"tabMain",310,225,890,680);$.panBase1=new FingerPanel(host,"panBase1",0,0,887,615);$.panBase1.setText("");$.panBase1.setBottomLine(true);$.panBase2=new FingerPanel(host,"panBase2",0,0,887,650);$.panBase2.setText("");$.panBase2.setBottomLine(true);$.panBase3=new FingerPanel(host,"panBase3",0,0,887,650);$.panBase3.setText("");$.panBase3.setBottomLine(true);$.panBase4=new FingerPanel(host,"panBase4",0,0,887,615);$.panBase4.setText("");$.panBase4.setBottomLine(true);$.btnSearch=new FingerButton(host,"btnSearch",205,-37.5,80,20);$.btnSearch.setText("조회");$.lbl_retire_calc_yyyy=new FingerLabel(host,"lbl_retire_calc_yyyy",0,10,100,20);$.lbl_retire_calc_yyyy.setText("정산년도");$.dte_retire_calc_yyyy=new FingerDateEdit(host,"dte_retire_calc_yyyy",105,10,160,20);$.lbl_site_code=new FingerLabel(host,"lbl_site_code",0,40,100,20);$.lbl_site_code.setText("사업장");$.cmb_site_code=new FingerComboBox(host,"cmb_site_code",105,40,165,20);$.lbl_retire_calc_type=new FingerLabel(host,"lbl_retire_calc_type",0,70,100,20);$.lbl_retire_calc_type.setText("퇴직정산구분");$.cmb_retire_calc_type=new FingerComboBox(host,"cmb_retire_calc_type",105,70,165,20);$.lbl_emp_code=new FingerLabel(host,"lbl_emp_code",0,100,100,20);$.lbl_emp_code.setText("사번");$.txt_emp_code=new FingerEdit(host,"txt_emp_code",105,100,160,20);$.lbl_emp_full_name=new FingerLabel(host,"lbl_emp_full_name",0,130,100,20);$.lbl_emp_full_name.setText("이름");$.txt_emp_full_name=new FingerEdit(host,"txt_emp_full_name",105,130,160,20);$.lbl_retire_calc_date1=new FingerLabel(host,"lbl_retire_calc_date1",0,10,100,20);$.lbl_retire_calc_date1.setText("정산일");$.dte_retire_calc_date1=new FingerDateEdit(host,"dte_retire_calc_date1",105,10,140,20);$.lbl_site_code1=new FingerLabel(host,"lbl_site_code1",310,10,100,20);$.lbl_site_code1.setText("사업장");$.cmb_site_code1=new FingerComboBox(host,"cmb_site_code1",415,10,212,20);$.lbl_emp=new FingerLabel(host,"lbl_emp",0,40,100,20);$.lbl_emp.setText("사원");$.txt_emp_code1=new FingerEdit(host,"txt_emp_code1",105,40,80,20);$.bte_emp_full_name1=new FingerButtonEdit(host,"bte_emp_full_name1",190,40,120,20);$.bte_emp_full_name1.setText("");$.lbl_dept=new FingerLabel(host,"lbl_dept",350,40,60,20);$.lbl_dept.setText("부서");$.txt_dept_code=new FingerEdit(host,"txt_dept_code",415,40,80,20);$.bte_dept_name=new FingerButtonEdit(host,"bte_dept_name",500,40,120,20);$.bte_dept_name.setText("");$.lbl_enter_date=new FingerLabel(host,"lbl_enter_date",0,70,100,20);$.lbl_enter_date.setText("입사일");$.dte_enter_date=new FingerDateEdit(host,"dte_enter_date",105,70,140,20);$.lbl_last_calc_date=new FingerLabel(host,"lbl_last_calc_date",300,70,110,20);$.lbl_last_calc_date.setText("최근중도 정산일");$.dte_last_calc_date=new FingerDateEdit(host,"dte_last_calc_date",415,70,140,20);$.lbl_retire_date=new FingerLabel(host,"lbl_retire_date",565,70,80,20);$.lbl_retire_date.setText("퇴사일");$.dte_retire_date=new FingerDateEdit(host,"dte_retire_date",650,70,140,20);$.lbl_retire_calc_type1=new FingerLabel(host,"lbl_retire_calc_type1",0,100,100,20);$.lbl_retire_calc_type1.setText("퇴직정산구분");$.cmb_retire_calc_type1=new FingerComboBox(host,"cmb_retire_calc_type1",105,100,145,20);$.lbl_retire_reason=new FingerLabel(host,"lbl_retire_reason",310,100,100,20);$.lbl_retire_reason.setText("퇴사사유");$.cmb_retire_reason=new FingerComboBox(host,"cmb_retire_reason",415,100,145,20);$.lbl_pay_date=new FingerLabel(host,"lbl_pay_date",0,130,100,20);$.lbl_pay_date.setText("지급일");$.dte_pay_date=new FingerDateEdit(host,"dte_pay_date",105,130,140,20);$.lbl_declaration_yyyymm=new FingerLabel(host,"lbl_declaration_yyyymm",310,130,100,20);$.lbl_declaration_yyyymm.setText("신고연월");$.dte_declaration_yyyymm=new FingerDateEdit(host,"dte_declaration_yyyymm",415,130,140,20);$.lbl_nation_code=new FingerLabel(host,"lbl_nation_code",555,130,90,20);$.lbl_nation_code.setText("거주지국");$.cmb_nation_code=new FingerComboBox(host,"cmb_nation_code",650,130,145,20);$.txt_temp=new FingerEdit(host,"txt_temp",800,130,40,20);$.html_base=new FingerHTMLView(host,"html_base",660,10,210,50);$.panAvg=new FingerPanel(host,"panAvg",0,0,887,180);$.panAvg.setText("평균임금 계산");$.panAvg.setBottomLine(true);$.panAVG_Pay2=new FingerPanel(host,"panAVG_Pay2",0,190,425,200);$.panAVG_Pay2.setText("급여내역(적용)");$.panAVG_Pay2.setBottomLine(true);$.panAVG_Pay=new FingerPanel(host,"panAVG_Pay",435,190,452,200);$.panAVG_Pay.setText("급여내역");$.panAVG_Pay.setBottomLine(true);$.panAVG_Bonus=new FingerPanel(host,"panAVG_Bonus",0,400,887,200);$.panAVG_Bonus.setText("상여내역");$.panAVG_Bonus.setBottomLine(true);$.lbl_calc_start_date=new FingerLabel(host,"lbl_calc_start_date",0,10,100,20);$.lbl_calc_start_date.setText("정산시작일");$.dte_calc_start_date=new FingerDateEdit(host,"dte_calc_start_date",105,10,120,20);$.lbl_calc_end_date=new FingerLabel(host,"lbl_calc_end_date",240,10,120,20);$.lbl_calc_end_date.setText("정산종료일");$.dte_calc_end_date=new FingerDateEdit(host,"dte_calc_end_date",365,10,120,20);$.lbl_working_day_cnt=new FingerLabel(host,"lbl_working_day_cnt",485,10,100,20);$.lbl_working_day_cnt.setText("근속일수");$.spe_working_day_cnt=new FingerSpinEdit(host,"spe_working_day_cnt",590,10,120,20);$.lbl_tot_avg_pay_amt=new FingerLabel(host,"lbl_tot_avg_pay_amt",0,40,100,20);$.lbl_tot_avg_pay_amt.setText("일평균임금");$.spe_tot_avg_pay_amt=new FingerSpinEdit(host,"spe_tot_avg_pay_amt",105,40,120,20);$.lbl_health_insur_calc_amt=new FingerLabel(host,"lbl_health_insur_calc_amt",240,40,120,20);$.lbl_health_insur_calc_amt.setText("건강보험료정산");$.spe_health_insur_calc_amt=new FingerSpinEdit(host,"spe_health_insur_calc_amt",365,40,120,20);$.lbl_bf_3month_day_cnt=new FingerLabel(host,"lbl_bf_3month_day_cnt",485,40,100,20);$.lbl_bf_3month_day_cnt.setText("급여일수");$.spe_bf_3month_day_cnt=new FingerSpinEdit(host,"spe_bf_3month_day_cnt",590,40,120,20);$.lbl_ordinary_wages_amt=new FingerLabel(host,"lbl_ordinary_wages_amt",0,70,100,20);$.lbl_ordinary_wages_amt.setText("일통상임금");$.spe_ordinary_wages_amt=new FingerSpinEdit(host,"spe_ordinary_wages_amt",105,70,120,20);$.lbl_pension_change_amt=new FingerLabel(host,"lbl_pension_change_amt",240,70,120,20);$.lbl_pension_change_amt.setText("국민연금전환금");$.spe_pension_change_amt=new FingerSpinEdit(host,"spe_pension_change_amt",365,70,120,20);$.lbl_annual_benefit_amt=new FingerLabel(host,"lbl_annual_benefit_amt",485,70,100,20);$.lbl_annual_benefit_amt.setText("연차수당");$.spe_annual_benefit_amt=new FingerSpinEdit(host,"spe_annual_benefit_amt",590,70,120,20);$.lbl_apply_pay_amt=new FingerLabel(host,"lbl_apply_pay_amt",0,100,100,20);$.lbl_apply_pay_amt.setText("적용임금");$.spe_apply_pay_amt=new FingerSpinEdit(host,"spe_apply_pay_amt",105,100,120,20);$.lbl_etc_ded_amt=new FingerLabel(host,"lbl_etc_ded_amt",240,100,120,20);$.lbl_etc_ded_amt.setText("기타공제");$.spe_etc_ded_amt=new FingerSpinEdit(host,"spe_etc_ded_amt",365,100,120,20);$.lbl_etc_pay_amt=new FingerLabel(host,"lbl_etc_pay_amt",485,100,100,20);$.lbl_etc_pay_amt.setText("기타수당");$.spe_etc_pay_amt=new FingerSpinEdit(host,"spe_etc_pay_amt",590,100,120,20);$.btnReCak=new FingerButton(host,"btnReCak",180,-40,95,30);$.btnReCak.setText("재계산");$.grdAVG_Pay2=new FingerDataGrid(host,"grdAVG_Pay2",0,0,425,155);$.grdAVG_Pay=new FingerDataGrid(host,"grdAVG_Pay",0,0,452,155);$.grdAVG_Bonus=new FingerDataGrid(host,"grdAVG_Bonus",0,0,887,155);$.btnAVG=new FingerButton(host,"btnAVG",765,30,125,70);$.btnAVG.setText("평균임금 계산");$.panCalcHis=new FingerPanel(host,"panCalcHis",0,0,887,600);$.panCalcHis.setText("중간정산이력");$.panCalcHis.setBottomLine(true);$.grdCalcHis=new FingerDataGrid(host,"grdCalcHis",0,0,887,555);$.panRetireHisPrev=new FingerPanel(host,"panRetireHisPrev",0,0,887,180);$.panRetireHisPrev.setText("종전근무지 정보");$.panRetireHisPrev.setBottomLine(true);$.panRetireHisDetail=new FingerPanel(host,"panRetireHisDetail",0,190,887,228);$.panRetireHisDetail.setText("근무처별 소득 명세");$.panRetireHisDetail.setBottomLine(true);$.panRetireHispens=new FingerPanel(host,"panRetireHispens",0,428,887,143);$.panRetireHispens.setText("퇴직연금 명세");$.panRetireHispens.setBottomLine(true);$.panRetireHisConv=new FingerPanel(host,"panRetireHisConv",0,581,997,240);$.panRetireHisConv.setText("세액환산 명세");$.panRetireHisConv.setBottomLine(true);$.panRetireHisServ=new FingerPanel(host,"panRetireHisServ",0,831,887,183);$.panRetireHisServ.setText("근속년수");$.panRetireHisServ.setBottomLine(true);$.html_a_Ex1=new FingerHTMLView(host,"html_a_Ex1",5,5,95,48);$.html_a_Ex2=new FingerHTMLView(host,"html_a_Ex2",105,5,265,24);$.html_a_Ex3=new FingerHTMLView(host,"html_a_Ex3",105,30,265,24);$.html_a_Ex4=new FingerHTMLView(host,"html_a_Ex4",375,5,265,24);$.html_a_Ex5=new FingerHTMLView(host,"html_a_Ex5",375,30,265,24);$.html_a_Ex6=new FingerHTMLView(host,"html_a_Ex6",645,5,130,49);$.html_a_Ex7=new FingerHTMLView(host,"html_a_Ex7",5,60,95,114);$.lbl_prev1_com_name=new FingerLabel(host,"lbl_prev1_com_name",0,10,125,20);$.lbl_prev1_com_name.setText("근무처명");$.txt_prev1_com_name=new FingerEdit(host,"txt_prev1_com_name",130,10,140,20);$.lbl_prev1_com_num=new FingerLabel(host,"lbl_prev1_com_num",310,10,110,20);$.lbl_prev1_com_num.setText("사업자번호");$.txt_prev1_com_num=new FingerEdit(host,"txt_prev1_com_num",425,10,140,20);$.lbl_prev1_enter_date=new FingerLabel(host,"lbl_prev1_enter_date",0,40,125,20);$.lbl_prev1_enter_date.setText("입사일");$.dte_prev1_enter_date=new FingerDateEdit(host,"dte_prev1_enter_date",130,40,140,20);$.lbl_prev1_retire_date=new FingerLabel(host,"lbl_prev1_retire_date",320,40,100,20);$.lbl_prev1_retire_date.setText("퇴사일");$.dte_prev1_retire_date=new FingerDateEdit(host,"dte_prev1_retire_date",425,40,140,20);$.lbl_prev1_last_calc_date=new FingerLabel(host,"lbl_prev1_last_calc_date",0,70,125,20);$.lbl_prev1_last_calc_date.setText("최근중도 정산일");$.dte_prev1_last_calc_date=new FingerDateEdit(host,"dte_prev1_last_calc_date",130,70,140,20);$.lbl_prev1_retire_deduct_yn=new FingerLabel(host,"lbl_prev1_retire_deduct_yn",270,70,150,20);$.lbl_prev1_retire_deduct_yn.setText("퇴직소득공제여부");$.chk_prev1_retire_deduct_yn=new FingerCheckBox(host,"chk_prev1_retire_deduct_yn",425,71,140,20);$.chk_prev1_retire_deduct_yn.setText("퇴직소득공제");$.lbl_midway_income_tax_amt=new FingerLabel(host,"lbl_midway_income_tax_amt",0,100,125,20);$.lbl_midway_income_tax_amt.setText("중도정산소득세");$.spe_midway_income_tax_amt=new FingerSpinEdit(host,"spe_midway_income_tax_amt",130,100,140,20);$.lbl_midway_local_tax_amt=new FingerLabel(host,"lbl_midway_local_tax_amt",275,100,145,20);$.lbl_midway_local_tax_amt.setText("중도정산주민세");$.spe_midway_local_tax_amt=new FingerSpinEdit(host,"spe_midway_local_tax_amt",425,100,140,20);$.spe_retire_pay_cur_legal=new FingerSpinEdit(host,"spe_retire_pay_cur_legal",105,60,130,20);$.spe_retire_pay_cur_extra=new FingerSpinEdit(host,"spe_retire_pay_cur_extra",240,60,130,20);$.spe_retire_pay_prev1_legal=new FingerSpinEdit(host,"spe_retire_pay_prev1_legal",375,60,130,20);$.spe_retire_pay_prev1_extra=new FingerSpinEdit(host,"spe_retire_pay_prev1_extra",510,60,130,20);$.spe_retire_pay_sum=new FingerSpinEdit(host,"spe_retire_pay_sum",645,60,130,20);$.spe_retire_pension_amt_cur_legal=new FingerSpinEdit(host,"spe_retire_pension_amt_cur_legal",105,90,130,20);$.spe_retire_pension_amt_cur_extra=new FingerSpinEdit(host,"spe_retire_pension_amt_cur_extra",240,90,130,20);$.spe_retire_pension_amt_prev1_legal=new FingerSpinEdit(host,"spe_retire_pension_amt_prev1_legal",375,90,130,20);$.spe_retire_pension_amt_prev1_extra=new FingerSpinEdit(host,"spe_retire_pension_amt_prev1_extra",510,90,130,20);$.spe_retire_pension_sum=new FingerSpinEdit(host,"spe_retire_pension_sum",645,90,130,20);$.spe_retire_pay_sum_cur_legal=new FingerSpinEdit(host,"spe_retire_pay_sum_cur_legal",105,120,130,20);$.spe_retire_pay_sum_cur_extra=new FingerSpinEdit(host,"spe_retire_pay_sum_cur_extra",240,120,130,20);$.spe_retire_pay_sum_prev1_legal=new FingerSpinEdit(host,"spe_retire_pay_sum_prev1_legal",375,120,130,20);$.spe_retire_pay_sum_prev1_extra=new FingerSpinEdit(host,"spe_retire_pay_sum_prev1_extra",510,120,130,20);$.spe_retire_tot_sum=new FingerSpinEdit(host,"spe_retire_tot_sum",645,120,130,20);$.spe_retire_non_taxable_income=new FingerSpinEdit(host,"spe_retire_non_taxable_income",105,150,265,20);$.spe_retire_non_taxable_income_prev1=new FingerSpinEdit(host,"spe_retire_non_taxable_income_prev1",375,150,265,20);$.spe_retire_tot_non_taxable_sum=new FingerSpinEdit(host,"spe_retire_tot_non_taxable_sum",645,150,130,20);$.html_b_Ex1=new FingerHTMLView(host,"html_b_Ex1",5,5,100,24);$.html_b_Ex2=new FingerHTMLView(host,"html_b_Ex2",110,5,110,24);$.html_b_Ex3=new FingerHTMLView(host,"html_b_Ex3",225,5,100,24);$.html_b_Ex4=new FingerHTMLView(host,"html_b_Ex4",330,5,100,24);$.html_b_Ex5=new FingerHTMLView(host,"html_b_Ex5",435,5,100,24);$.html_b_Ex6=new FingerHTMLView(host,"html_b_Ex6",540,5,130,24);$.html_b_Ex7=new FingerHTMLView(host,"html_b_Ex7",675,5,100,24);$.html_b_Ex8=new FingerHTMLView(host,"html_b_Ex8",5,35,100,54);$.txt_retire_pension_acct_cur=new FingerEdit(host,"txt_retire_pension_acct_cur",110,35,110,20);$.spe_tot_receive_amt_cur=new FingerSpinEdit(host,"spe_tot_receive_amt_cur",225,35,100,20);$.spe_principal_interest_sum_cur=new FingerSpinEdit(host,"spe_principal_interest_sum_cur",330,35,100,20);$.spe_earner_payment_amt_cur=new FingerSpinEdit(host,"spe_earner_payment_amt_cur",435,35,100,20);$.spe_retire_annual_deduct_amt_cur=new FingerSpinEdit(host,"spe_retire_annual_deduct_amt_cur",540,35,130,20);$.spe_retire_pension_cur=new FingerSpinEdit(host,"spe_retire_pension_cur",675,35,100,20);$.txt_retire_annual_acct_prev=new FingerEdit(host,"txt_retire_annual_acct_prev",110,65,110,20);$.spe_tot_receive_amt_prev=new FingerSpinEdit(host,"spe_tot_receive_amt_prev",225,65,100,20);$.spe_principal_interest_sum_prev=new FingerSpinEdit(host,"spe_principal_interest_sum_prev",330,65,100,20);$.spe_earner_payment_amt_prev=new FingerSpinEdit(host,"spe_earner_payment_amt_prev",435,65,100,20);$.spe_retire_pension_deduct_amt_prev=new FingerSpinEdit(host,"spe_retire_pension_deduct_amt_prev",540,65,130,20);$.spe_retire_pension_amt_prev=new FingerSpinEdit(host,"spe_retire_pension_amt_prev",675,65,100,20);$.html_c_Ex1=new FingerHTMLView(host,"html_c_Ex1",5,5,165,50);$.html_c_Ex2=new FingerHTMLView(host,"html_c_Ex2",175,5,100,50);$.html_c_Ex3=new FingerHTMLView(host,"html_c_Ex3",280,5,105,50);$.html_c_Ex4=new FingerHTMLView(host,"html_c_Ex4",390,5,85,50);$.html_c_Ex5=new FingerHTMLView(host,"html_c_Ex5",480,5,75,50);$.html_c_Ex6=new FingerHTMLView(host,"html_c_Ex6",560,5,80,50);$.html_c_Ex7=new FingerHTMLView(host,"html_c_Ex7",645,5,85,50);$.html_c_Ex8=new FingerHTMLView(host,"html_c_Ex8",735,5,85,50);$.html_c_Ex9=new FingerHTMLView(host,"html_c_Ex9",825,5,80,50);$.html_c_Ex10=new FingerHTMLView(host,"html_c_Ex10",910,5,80,50);$.html_c_Ex11=new FingerHTMLView(host,"html_c_Ex11",5,60,115,54);$.html_c_Ex12=new FingerHTMLView(host,"html_c_Ex12",5,120,115,54);$.html_c_Ex13=new FingerHTMLView(host,"html_c_Ex13",125,60,45,54);$.html_c_Ex14=new FingerHTMLView(host,"html_c_Ex14",125,120,45,54);$.spe_retire_pension_expect_amt_cur_legal=new FingerSpinEdit(host,"spe_retire_pension_expect_amt_cur_legal",175,60,100,25);$.spe_tax_defer_amt_cur_legal=new FingerSpinEdit(host,"spe_tax_defer_amt_cur_legal",280,60,105,20);$.spe_received_retire_income_amt_cur_legal=new FingerSpinEdit(host,"spe_received_retire_income_amt_cur_legal",390,60,85,20);$.spe_tot_amt_legal=new FingerSpinEdit(host,"spe_tot_amt_legal",480,70,75,20);$.spe_receivable_retire_income_amt_legal=new FingerSpinEdit(host,"spe_receivable_retire_income_amt_legal",560,70,80,20);$.spe_convert_retire_deduct_amt_legal=new FingerSpinEdit(host,"spe_convert_retire_deduct_amt_legal",645,70,85,20);$.spe_convert_retire_income_tax_std_amt_legal=new FingerSpinEdit(host,"spe_convert_retire_income_tax_std_amt_legal",735,70,85,20);$.spe_convert_annual_avg_tax_std_amt_legal=new FingerSpinEdit(host,"spe_convert_annual_avg_tax_std_amt_legal",825,70,80,20);$.spe_convert_annual_avg_calc_tax_amt_legal=new FingerSpinEdit(host,"spe_convert_annual_avg_calc_tax_amt_legal",910,70,80,20);$.spe_retire_pension_expect_amt_prev_legal=new FingerSpinEdit(host,"spe_retire_pension_expect_amt_prev_legal",175,90,100,20);$.spe_tax_defer_amt_prev_legal=new FingerSpinEdit(host,"spe_tax_defer_amt_prev_legal",280,90,105,20);$.spe_received_retire_income_amt_prev_legal=new FingerSpinEdit(host,"spe_received_retire_income_amt_prev_legal",390,90,85,20);$.spe_retire_pension_expect_amt_cur_extra=new FingerSpinEdit(host,"spe_retire_pension_expect_amt_cur_extra",175,120,100,20);$.spe_tax_defer_amt_cur_extra=new FingerSpinEdit(host,"spe_tax_defer_amt_cur_extra",280,120,105,20);$.spe_received_retire_income_amt_cur_extra=new FingerSpinEdit(host,"spe_received_retire_income_amt_cur_extra",390,120,85,20);$.spe_tot_amt_extra=new FingerSpinEdit(host,"spe_tot_amt_extra",480,130,75,20);$.spe_receivable_retire_income_amt_extra=new FingerSpinEdit(host,"spe_receivable_retire_income_amt_extra",560,130,80,20);$.spe_convert_retire_deduct_amt_extra=new FingerSpinEdit(host,"spe_convert_retire_deduct_amt_extra",645,130,85,20);$.spe_convert_retire_income_tax_std_amt_extra=new FingerSpinEdit(host,"spe_convert_retire_income_tax_std_amt_extra",735,130,85,20);$.spe_convert_annual_avg_tax_std_amt_extra=new FingerSpinEdit(host,"spe_convert_annual_avg_tax_std_amt_extra",825,130,80,20);$.spe_convert_annual_avg_calc_tax_amt_extra=new FingerSpinEdit(host,"spe_convert_annual_avg_calc_tax_amt_extra",910,130,80,20);$.spe_retire_pension_expect_amt_prev_extra=new FingerSpinEdit(host,"spe_retire_pension_expect_amt_prev_extra",175,150,100,20);$.spe_tax_defer_amt_prev_extra=new FingerSpinEdit(host,"spe_tax_defer_amt_prev_extra",280,150,105,20);$.spe_received_retire_income_amt_prev_extra=new FingerSpinEdit(host,"spe_received_retire_income_amt_prev_extra",390,150,85,20);$.html_d_Ex1=new FingerHTMLView(host,"html_d_Ex1",5,5,95,64);$.html_d_Ex2=new FingerHTMLView(host,"html_d_Ex2",105,5,385,24);$.html_d_Ex3=new FingerHTMLView(host,"html_d_Ex3",105,35,100,35);$.html_d_Ex4=new FingerHTMLView(host,"html_d_Ex4",210,35,100,35);$.html_d_Ex5=new FingerHTMLView(host,"html_d_Ex5",315,35,40,35);$.html_d_Ex6=new FingerHTMLView(host,"html_d_Ex6",360,35,40,35);$.html_d_Ex7=new FingerHTMLView(host,"html_d_Ex7",405,35,40,35);$.html_d_Ex8=new FingerHTMLView(host,"html_d_Ex8",450,35,40,35);$.html_d_Ex9=new FingerHTMLView(host,"html_d_Ex9",495,5,385,24);$.html_d_Ex10=new FingerHTMLView(host,"html_d_Ex10",495,35,100,35);$.html_d_Ex11=new FingerHTMLView(host,"html_d_Ex11",600,35,100,35);$.html_d_Ex12=new FingerHTMLView(host,"html_d_Ex12",705,35,40,35);$.html_d_Ex13=new FingerHTMLView(host,"html_d_Ex13",750,35,40,35);$.html_d_Ex14=new FingerHTMLView(host,"html_d_Ex14",795,35,40,35);$.html_d_Ex15=new FingerHTMLView(host,"html_d_Ex15",840,35,40,35);$.html_d_Ex16=new FingerHTMLView(host,"html_d_Ex16",5,75,95,54);$.dte_ymdenter_cur_legal=new FingerDateEdit(host,"dte_ymdenter_cur_legal",105,75,100,20);$.dte_ymdenter_prev_legal=new FingerDateEdit(host,"dte_ymdenter_prev_legal",105,105,100,20);$.dte_ymdretire_cur_legal=new FingerDateEdit(host,"dte_ymdretire_cur_legal",210,75,100,20);$.dte_ymdretire_prev_legal=new FingerDateEdit(host,"dte_ymdretire_prev_legal",210,105,100,20);$.spe_service_mon_cnt_cur_legal=new FingerSpinEdit(host,"spe_service_mon_cnt_cur_legal",315,75,40,20);$.spe_service_mon_cnt_prev_legal=new FingerSpinEdit(host,"spe_service_mon_cnt_prev_legal",315,105,40,20);$.spe_except_mon_cnt_cur_legal=new FingerSpinEdit(host,"spe_except_mon_cnt_cur_legal",360,75,40,20);$.spe_except_mon_cnt_prev_legal=new FingerSpinEdit(host,"spe_except_mon_cnt_prev_legal",360,105,40,20);$.spe_service_year_cnt_prev_legal=new FingerSpinEdit(host,"spe_service_year_cnt_prev_legal",405,90,40,20);$.spe_overlap_mon_cnt_prev_legal=new FingerSpinEdit(host,"spe_overlap_mon_cnt_prev_legal",450,90,40,20);$.spe_service_year_cnt_cur_legal=new FingerSpinEdit(host,"spe_service_year_cnt_cur_legal",430,105,40,20);$.dte_ymdenter_cur_extra=new FingerDateEdit(host,"dte_ymdenter_cur_extra",495,75,100,20);$.dte_ymdenter_prev_extra=new FingerDateEdit(host,"dte_ymdenter_prev_extra",495,105,100,20);$.dte_ymdretire_cur_extra=new FingerDateEdit(host,"dte_ymdretire_cur_extra",600,75,100,20);$.dte_ymdretire_prev_extra=new FingerDateEdit(host,"dte_ymdretire_prev_extra",600,105,100,20);$.spe_service_mon_cnt_cur_extra=new FingerSpinEdit(host,"spe_service_mon_cnt_cur_extra",705,75,40,20);$.spe_service_mon_cnt_prev_extra=new FingerSpinEdit(host,"spe_service_mon_cnt_prev_extra",705,105,40,20);$.spe_except_mon_cnt_cur_extra=new FingerSpinEdit(host,"spe_except_mon_cnt_cur_extra",750,75,40,20);$.spe_except_mon_cnt_prev_extra=new FingerSpinEdit(host,"spe_except_mon_cnt_prev_extra",750,105,40,20);$.spe_service_year_cnt_prev_extra=new FingerSpinEdit(host,"spe_service_year_cnt_prev_extra",795,90,40,20);$.spe_overlap_mon_cnt_prev_extra=new FingerSpinEdit(host,"spe_overlap_mon_cnt_prev_extra",840,90,40,20);$.spe_service_year_cnt_cur_extra=new FingerSpinEdit(host,"spe_service_year_cnt_cur_extra",820,105,35,20);$.panRetireCalcDetail=new FingerPanel(host,"panRetireCalcDetail",0,0,887,323);$.panRetireCalcDetail.setText("정산명세");$.panRetireCalcDetail.setBottomLine(true);$.panRetireCalcPay=new FingerPanel(host,"panRetireCalcPay",0,333,887,173);$.panRetireCalcPay.setText("납부명세");$.panRetireCalcPay.setBottomLine(true);$.panRemark=new FingerPanel(host,"panRemark",0,516,887,215);$.panRemark.setText("비고");$.panRemark.setBottomLine(true);$.html_f_Ex1=new FingerHTMLView(host,"html_f_Ex1",5,5,125,24);$.html_f_Ex2=new FingerHTMLView(host,"html_f_Ex2",135,5,110,24);$.html_f_Ex3=new FingerHTMLView(host,"html_f_Ex3",250,5,110,24);$.html_f_Ex4=new FingerHTMLView(host,"html_f_Ex4",365,5,110,24);$.html_f_Ex5=new FingerHTMLView(host,"html_f_Ex5",5,35,125,235);$.spe_retire_pay_amt_legal=new FingerSpinEdit(host,"spe_retire_pay_amt_legal",135,35,110,20);$.spe_retire_pay_amt_extra=new FingerSpinEdit(host,"spe_retire_pay_amt_extra",250,35,110,20);$.spe_retire_income_sum=new FingerSpinEdit(host,"spe_retire_income_sum",365,35,110,20);$.spe_retire_deduct_amt_legal=new FingerSpinEdit(host,"spe_retire_deduct_amt_legal",135,65,110,20);$.spe_retire_deduct_amt_extra=new FingerSpinEdit(host,"spe_retire_deduct_amt_extra",250,65,110,20);$.spe_retire_deduct_sum=new FingerSpinEdit(host,"spe_retire_deduct_sum",365,65,110,20);$.spe_retire_income_tax_std_amt_legal=new FingerSpinEdit(host,"spe_retire_income_tax_std_amt_legal",135,95,110,20);$.spe_retire_income_tax_std_amt_extra=new FingerSpinEdit(host,"spe_retire_income_tax_std_amt_extra",250,95,110,20);$.spe_retire_income_tax_std_sum=new FingerSpinEdit(host,"spe_retire_income_tax_std_sum",365,95,110,20);$.spe_annual_avg_tax_std_amt_legal=new FingerSpinEdit(host,"spe_annual_avg_tax_std_amt_legal",135,125,110,20);$.spe_annual_avg_tax_std_amt_extra=new FingerSpinEdit(host,"spe_annual_avg_tax_std_amt_extra",250,125,110,20);$.spe_annual_avg_tax_std_sum=new FingerSpinEdit(host,"spe_annual_avg_tax_std_sum",365,125,110,20);$.spe_annual_avg_calc_tax_amt_legal=new FingerSpinEdit(host,"spe_annual_avg_calc_tax_amt_legal",135,155,110,20);$.spe_annual_avg_calc_tax_amt_extra=new FingerSpinEdit(host,"spe_annual_avg_calc_tax_amt_extra",250,155,110,20);$.spe_annual_avg_calc_sum=new FingerSpinEdit(host,"spe_annual_avg_calc_sum",365,155,110,20);$.spe_calc_tax_amt_legal=new FingerSpinEdit(host,"spe_calc_tax_amt_legal",135,185,110,20);$.spe_calc_tax_amt_extra=new FingerSpinEdit(host,"spe_calc_tax_amt_extra",250,185,110,20);$.spe_calc_tax_sum=new FingerSpinEdit(host,"spe_calc_tax_sum",365,185,110,20);$.spe_retire_income_tax_deduct_amt_legal=new FingerSpinEdit(host,"spe_retire_income_tax_deduct_amt_legal",135,215,110,20);$.spe_retire_income_tax_deduct_extra=new FingerSpinEdit(host,"spe_retire_income_tax_deduct_extra",250,215,110,20);$.spe_retire_income_tax_deduct_sum=new FingerSpinEdit(host,"spe_retire_income_tax_deduct_sum",365,215,110,20);$.spe_for_paid_tax_deduct_amt_legal=new FingerSpinEdit(host,"spe_for_paid_tax_deduct_amt_legal",135,245,110,20);$.spe_for_paid_tax_deduct_extra=new FingerSpinEdit(host,"spe_for_paid_tax_deduct_extra",250,245,110,20);$.spe_for_paid_tax_deduct_sum=new FingerSpinEdit(host,"spe_for_paid_tax_deduct_sum",365,245,110,20);$.html_g_Ex1=new FingerHTMLView(host,"html_g_Ex1",5,5,150,24);$.html_g_Ex2=new FingerHTMLView(host,"html_g_Ex2",160,5,110,24);$.html_g_Ex3=new FingerHTMLView(host,"html_g_Ex3",275,5,110,24);$.html_g_Ex4=new FingerHTMLView(host,"html_g_Ex4",390,5,110,24);$.html_g_Ex5=new FingerHTMLView(host,"html_g_Ex5",505,5,110,24);$.html_g_Ex6=new FingerHTMLView(host,"html_g_Ex6",5,35,150,85);$.spe_income_retire_tax_amt=new FingerSpinEdit(host,"spe_income_retire_tax_amt",160,35,110,20);$.spe_local_retire_tax_amt=new FingerSpinEdit(host,"spe_local_retire_tax_amt",275,35,110,20);$.spe_special_retire_tax_amt=new FingerSpinEdit(host,"spe_special_retire_tax_amt",390,35,110,20);$.spe_retire_tax_sum=new FingerSpinEdit(host,"spe_retire_tax_sum",505,35,110,20);$.spe_income_prev_paid_tax_amt=new FingerSpinEdit(host,"spe_income_prev_paid_tax_amt",160,65,110,20);$.spe_local_prev_paid_tax_amt=new FingerSpinEdit(host,"spe_local_prev_paid_tax_amt",275,65,110,20);$.spe_special_prev_paid_tax_amt=new FingerSpinEdit(host,"spe_special_prev_paid_tax_amt",390,65,110,20);$.spe_prev_paid_tax_sum=new FingerSpinEdit(host,"spe_prev_paid_tax_sum",505,65,110,20);$.spe_income_balance_deduct_tax_amt=new FingerSpinEdit(host,"spe_income_balance_deduct_tax_amt",160,95,110,20);$.spe_local_balance_deduct_tax_amt=new FingerSpinEdit(host,"spe_local_balance_deduct_tax_amt",275,95,110,20);$.spe_special_balance_deduct_tax_amt=new FingerSpinEdit(host,"spe_special_balance_deduct_tax_amt",390,95,110,20);$.spe_balance_deduct_tax_sum=new FingerSpinEdit(host,"spe_balance_deduct_tax_sum",505,95,110,20);$.lbl_com_pay_amt=new FingerLabel(host,"lbl_com_pay_amt",0,10,100,20);$.lbl_com_pay_amt.setText("회사지급액");$.spe_com_pay_amt=new FingerSpinEdit(host,"spe_com_pay_amt",105,10,170,20);$.lbl_bank=new FingerLabel(host,"lbl_bank",550,10,100,20);$.lbl_bank.setText("지급은행");$.txt_bank_code=new FingerEdit(host,"txt_bank_code",655,10,70,20);$.bte_bank_name=new FingerButtonEdit(host,"bte_bank_name",730,10,145,20);$.bte_bank_name.setText("");$.lbl_insure1=new FingerLabel(host,"lbl_insure1",0,40,100,20);$.lbl_insure1.setText("보험사1");$.txt_insure1_name=new FingerEdit(host,"txt_insure1_name",105,40,170,20);$.spe_insurer1_pay_amt=new FingerSpinEdit(host,"spe_insurer1_pay_amt",280,40,140,20);$.lbl_account=new FingerLabel(host,"lbl_account",550,40,100,20);$.lbl_account.setText("지급계좌");$.txt_bank_account=new FingerEdit(host,"txt_bank_account",655,40,224,20);$.lbl_insure2=new FingerLabel(host,"lbl_insure2",0,70,100,20);$.lbl_insure2.setText("보험사2");$.txt_insurer2_name=new FingerEdit(host,"txt_insurer2_name",105,70,170,20);$.spe_insurer2_pay_amt=new FingerSpinEdit(host,"spe_insurer2_pay_amt",280,70,140,20);$.lbl_bank_depositor=new FingerLabel(host,"lbl_bank_depositor",550,70,100,20);$.lbl_bank_depositor.setText("예금주");$.lbl_insurer3=new FingerLabel(host,"lbl_insurer3",0,100,100,20);$.lbl_insurer3.setText("보험사3");$.txt_insurer3_name=new FingerEdit(host,"txt_insurer3_name",105,100,170,20);$.spe_insurer3_pay_amt=new FingerSpinEdit(host,"spe_insurer3_pay_amt",280,100,140,20);$.lbl_pay_amt_sum=new FingerLabel(host,"lbl_pay_amt_sum",0,130,100,20);$.lbl_pay_amt_sum.setText("지급액계");$.spe_pay_amt_sum=new FingerSpinEdit(host,"spe_pay_amt_sum",105,130,170,20);$.lbl_diff_amt=new FingerLabel(host,"lbl_diff_amt",275,130,100,20);$.lbl_diff_amt.setText("차이금액");$.spe_diff_amt=new FingerSpinEdit(host,"spe_diff_amt",380,130,170,20);$.lbl_real_pay_amt=new FingerLabel(host,"lbl_real_pay_amt",550,130,100,20);$.lbl_real_pay_amt.setText("실지급액");$.spe_real_pay_amt=new FingerSpinEdit(host,"spe_real_pay_amt",655,130,170,20);$.txt_bank_depositor=new FingerEdit(host,"txt_bank_depositor",655,70,225,20);$.btnDetail=new FingerButton(host,"btnDetail",810,-40,90,30);$.btnDetail.setText("상세보기");$.panMenu.addButtons(["btnDelete","btnSave","btnNew"]);$.panAVG_Pay2.addButtons(["btnDelete","btnAdd"]);$.panBase2.setScroll(true);$.panBase3.setScroll(true);$.tabMain.addTab([{text:"평균임금 계산",body:$.panBase1,width:120},{text:"퇴직금 내역",body:$.panBase2,width:120},{text:"퇴직금 정산명세",body:$.panBase3,width:140},{text:"중간정산이력",body:$.panBase4,width:120}]);$.grdList.setColumns([new FingerDataGridColumn("retire_calc_type",110,"left","string","퇴직정산구분"),new FingerDataGridColumn("emp_code",90,"left","string","사번"),new FingerDataGridColumn("emp_full_name",90,"left","string","이름"),new FingerDataGridColumn("dept_name",100,"left","string","부서명"),new FingerDataGridColumn("retire_calc_date",90,"left","string","정산일",{format:"s_ymd"}),new FingerDataGridColumn("dept_code",90,"left","string","부서코드",{hidden:true}),new FingerDataGridColumn("site_code",90,"left","string","사업장",{hidden:true}),new FingerDataGridColumn("enter_date",90,"left","string","입사일",{hidden:true})]);$.grdList.init({scroll:"xy"});$.grdList.setBorder(true);$.grdAVG_Pay2.setColumns([new FingerDataGridColumn("start_date",100,"left","date",[{text:"적용시작일",css:"col_chk"}],{format:"ymd"}),new FingerDataGridColumn("end_date",100,"left","date",[{text:"적용종료일",css:"col_chk"}],{format:"ymd"}),new FingerDataGridColumn("apply_days",100,"right","int","적용일수",{readonly:true,format:"int",footer:{content:"summColumn"}}),new FingerDataGridColumn("apply_amt",108,"right","int","적용금액",{format:"int",footer:{content:"summColumn"}})]);$.grdAVG_Pay2.init({scroll:"xy",footer:true,eventCellReadOnly:true});$.grdAVG_Pay2.setBorder(false);$.grdAVG_Pay.setColumns([new FingerDataGridColumn("pay_date",90,"left","string","지급일",{format:"s_ymd"}),new FingerDataGridColumn("pay_amt",90,"right","int","월급여액",{format:"int"}),new FingerDataGridColumn("start_date",90,"left","string","적용시작일",{format:"s_ymd"}),new FingerDataGridColumn("end_date",90,"left","string","적용종료일",{format:"s_ymd"}),new FingerDataGridColumn("apply_days",90,"right","int","적용일수",{format:"int",footer:{content:"summColumn"}}),new FingerDataGridColumn("apply_amt",90,"right","int","적용금액",{format:"int",footer:{content:"summColumn"}})]);$.grdAVG_Pay.init({scroll:"xy",footer:true});$.grdAVG_Pay.setBorder(false);$.grdAVG_Bonus.setColumns([new FingerDataGridColumn("pay_date",110,"left","string","지급일",{format:"s_ymd",readonly:true}),new FingerDataGridColumn("pay_item_code",110,"left","string","급여항목",{format:"s_ymd",readonly:true}),new FingerDataGridColumn("pay_amt",110,"right","int","급여금액",{format:"int",readonly:true}),new FingerDataGridColumn("vested_start_date",110,"left","date","귀속시작일",{format:"ymd",readonly:true}),new FingerDataGridColumn("vested_end_date",110,"left","date","귀속종료일",{format:"ymd",readonly:true}),new FingerDataGridColumn("start_date",110,"left","date","적용시작일",{format:"ymd"}),new FingerDataGridColumn("end_date",110,"left","date","적용종료일",{format:"ymd"}),new FingerDataGridColumn("apply_amt",100,"right","int","적용금액",{format:"int",footer:{content:"summColumn"}})]);$.grdAVG_Bonus.init({scroll:"xy",footer:true});$.grdAVG_Bonus.setEditable(true);$.grdAVG_Bonus.setBorder(false);$.grdCalcHis.setColumns([new FingerDataGridColumn("retire_calc_date",110,"left","string",[{text:"정산일",rowspan:2},""],{format:"s_ymd"}),new FingerDataGridColumn("retire_pay_amt_legal",90,"right","int",[{text:"법정",colspan:8},{text:"퇴직급여"}],{format:"int"}),new FingerDataGridColumn("retire_deduct_amt_legal",110,"right","int",[{text:""},{text:"퇴직소득공제"}],{format:"int"}),new FingerDataGridColumn("retire_income_tax_std_amt_legal",120,"right","int",[{text:""},{text:"퇴직소득과세표준"}],{format:"int"}),new FingerDataGridColumn("annual_avg_tax_std_amt_legal",110,"right","int",[{text:""},{text:"연평균과세표준"}],{format:"int"}),new FingerDataGridColumn("annual_avg_calc_tax_amt_legal",110,"right","int",[{text:""},{text:"연평균산출세액"}],{format:"int"}),new FingerDataGridColumn("calc_tax_amt_legal",90,"right","int",[{text:""},{text:"산출세액"}],{format:"int"}),new FingerDataGridColumn("retire_income_tax_deduct_amt_legal",90,"right","int",[{text:""},{text:"퇴직소득"}],{format:"int"}),new FingerDataGridColumn("for_paid_tax_deduct_amt_legal",120,"right","int",[{text:""},{text:"외국납부세액공제"}],{format:"int"}),new FingerDataGridColumn("retire_pay_amt_extra",90,"right","int",[{text:"법정외",colspan:8},{text:"퇴직급여"}],{format:"int"}),new FingerDataGridColumn("retire_deduct_amt_extra",110,"right","int",[{text:""},{text:"퇴직소득공제"}],{format:"int"}),new FingerDataGridColumn("retire_income_tax_std_amt_extra",120,"right","int",[{text:""},{text:"퇴직소득과세표준"}],{format:"int"}),new FingerDataGridColumn("annual_avg_tax_std_amt_extra",110,"right","int",[{text:""},{text:"연평균과세표준"}],{format:"int"}),new FingerDataGridColumn("annual_avg_calc_tax_amt_extra",110,"right","int",[{text:""},{text:"연평균산출세액"}],{format:"int"}),new FingerDataGridColumn("calc_tax_amt_extra",90,"right","int",[{text:""},{text:"산출세액"}],{format:"int"}),new FingerDataGridColumn("retire_income_tax_deduct_extra",90,"right","int",[{text:""},{text:"퇴직소득"}],{format:"int"}),new FingerDataGridColumn("for_paid_tax_deduct_extra",120,"right","int",[{text:""},{text:"외국납부세액공제"}],{format:"int"}),new FingerDataGridColumn("tot_sum",100,"right","int",[{text:"계",rowspan:2},""],{format:"int"}),new FingerDataGridColumn("retire_tax_sum",100,"right","int",[{text:"결정세액",rowspan:2},""],{format:"int"}),new FingerDataGridColumn("prev_paid_tax_sum",150,"right","int",[{text:"종(전)근무지 기납부세액",rowspan:2},""],{format:"int"}),new FingerDataGridColumn("balance_deduct_tax_sum",100,"right","int",[{text:"차감원천징수세액계",rowspan:2},""],{format:"int"}),new FingerDataGridColumn("retire_calc_type",100,"left","string",[{text:"퇴직정산구분",rowspan:2},""],{hidden:true})]);$.grdCalcHis.init({scroll:"xy"});$.grdCalcHis.setBorder(false);initControlView();$.host=host;$.args=args};$.start=function(){$.panMain.add($.panList);$.panMain.add($.panMenu);$.panMain.add($.panQuery);$.panMain.add($.tabMain);$.panList.add($.grdList);$.panMenu.add($.cmb_nation_code);$.panMenu.add($.lbl_nation_code);$.panMenu.add($.dte_declaration_yyyymm);$.panMenu.add($.lbl_declaration_yyyymm);$.panMenu.add($.dte_pay_date);$.panMenu.add($.lbl_pay_date);$.panMenu.add($.cmb_retire_reason);$.panMenu.add($.lbl_retire_reason);$.panMenu.add($.cmb_retire_calc_type1);$.panMenu.add($.lbl_retire_calc_type1);$.panMenu.add($.dte_retire_date);$.panMenu.add($.lbl_retire_date);$.panMenu.add($.dte_last_calc_date);$.panMenu.add($.lbl_last_calc_date);$.panMenu.add($.dte_enter_date);$.panMenu.add($.lbl_enter_date);$.panMenu.add($.bte_dept_name);$.panMenu.add($.txt_dept_code);$.panMenu.add($.lbl_dept);$.panMenu.add($.bte_emp_full_name1);$.panMenu.add($.txt_emp_code1);$.panMenu.add($.lbl_emp);$.panMenu.add($.cmb_site_code1);$.panMenu.add($.lbl_site_code1);$.panMenu.add($.dte_retire_calc_date1);$.panMenu.add($.lbl_retire_calc_date1);$.panMenu.add($.html_base);$.panMenu.add($.txt_temp);$.panQuery.add($.btnSearch);$.panQuery.add($.lbl_retire_calc_yyyy);$.panQuery.add($.dte_retire_calc_yyyy);$.panQuery.add($.lbl_site_code);$.panQuery.add($.cmb_site_code);$.panQuery.add($.lbl_retire_calc_type);$.panQuery.add($.cmb_retire_calc_type);$.panQuery.add($.lbl_emp_code);$.panQuery.add($.txt_emp_code);$.panQuery.add($.lbl_emp_full_name);$.panQuery.add($.txt_emp_full_name);$.panBase1.add($.panAvg);$.panBase1.add($.panAVG_Pay2);$.panBase1.add($.panAVG_Pay);$.panBase1.add($.panAVG_Bonus);$.panBase2.add($.panRetireHisPrev);$.panBase2.add($.panRetireHisDetail);$.panBase2.add($.panRetireHispens);$.panBase2.add($.panRetireHisConv);$.panBase2.add($.panRetireHisServ);$.panBase3.add($.panRemark);$.panBase3.add($.panRetireCalcPay);$.panBase3.add($.panRetireCalcDetail);$.panBase4.add($.panCalcHis);$.panAvg.add($.spe_etc_pay_amt);$.panAvg.add($.lbl_etc_pay_amt);$.panAvg.add($.spe_etc_ded_amt);$.panAvg.add($.lbl_etc_ded_amt);$.panAvg.add($.spe_apply_pay_amt);$.panAvg.add($.lbl_apply_pay_amt);$.panAvg.add($.spe_annual_benefit_amt);$.panAvg.add($.lbl_annual_benefit_amt);$.panAvg.add($.spe_pension_change_amt);$.panAvg.add($.lbl_pension_change_amt);$.panAvg.add($.spe_ordinary_wages_amt);$.panAvg.add($.lbl_ordinary_wages_amt);$.panAvg.add($.spe_bf_3month_day_cnt);$.panAvg.add($.lbl_bf_3month_day_cnt);$.panAvg.add($.spe_health_insur_calc_amt);$.panAvg.add($.lbl_health_insur_calc_amt);$.panAvg.add($.spe_tot_avg_pay_amt);$.panAvg.add($.lbl_tot_avg_pay_amt);$.panAvg.add($.spe_working_day_cnt);$.panAvg.add($.lbl_working_day_cnt);$.panAvg.add($.dte_calc_end_date);$.panAvg.add($.lbl_calc_end_date);$.panAvg.add($.dte_calc_start_date);$.panAvg.add($.lbl_calc_start_date);$.panAvg.add($.btnAVG);$.panAVG_Pay2.add($.btnReCak);$.panAVG_Pay2.add($.grdAVG_Pay2);$.panAVG_Pay.add($.grdAVG_Pay);$.panAVG_Bonus.add($.grdAVG_Bonus);$.panCalcHis.add($.grdCalcHis);$.panCalcHis.add($.btnDetail);$.panRetireHisPrev.add($.spe_midway_local_tax_amt);$.panRetireHisPrev.add($.lbl_midway_local_tax_amt);$.panRetireHisPrev.add($.spe_midway_income_tax_amt);$.panRetireHisPrev.add($.lbl_midway_income_tax_amt);$.panRetireHisPrev.add($.chk_prev1_retire_deduct_yn);$.panRetireHisPrev.add($.lbl_prev1_retire_deduct_yn);$.panRetireHisPrev.add($.dte_prev1_last_calc_date);$.panRetireHisPrev.add($.lbl_prev1_last_calc_date);$.panRetireHisPrev.add($.dte_prev1_retire_date);$.panRetireHisPrev.add($.lbl_prev1_retire_date);$.panRetireHisPrev.add($.dte_prev1_enter_date);$.panRetireHisPrev.add($.lbl_prev1_enter_date);$.panRetireHisPrev.add($.txt_prev1_com_num);$.panRetireHisPrev.add($.lbl_prev1_com_num);$.panRetireHisPrev.add($.txt_prev1_com_name);$.panRetireHisPrev.add($.lbl_prev1_com_name);$.panRetireHisDetail.add($.html_a_Ex1);$.panRetireHisDetail.add($.html_a_Ex2);$.panRetireHisDetail.add($.html_a_Ex3);$.panRetireHisDetail.add($.html_a_Ex4);$.panRetireHisDetail.add($.html_a_Ex5);$.panRetireHisDetail.add($.html_a_Ex6);$.panRetireHisDetail.add($.html_a_Ex7);$.panRetireHisDetail.add($.spe_retire_tot_non_taxable_sum);$.panRetireHisDetail.add($.spe_retire_non_taxable_income_prev1);$.panRetireHisDetail.add($.spe_retire_non_taxable_income);$.panRetireHisDetail.add($.spe_retire_tot_sum);$.panRetireHisDetail.add($.spe_retire_pay_sum_prev1_extra);$.panRetireHisDetail.add($.spe_retire_pay_sum_prev1_legal);$.panRetireHisDetail.add($.spe_retire_pay_sum_cur_extra);$.panRetireHisDetail.add($.spe_retire_pay_sum_cur_legal);$.panRetireHisDetail.add($.spe_retire_pension_sum);$.panRetireHisDetail.add($.spe_retire_pension_amt_prev1_extra);$.panRetireHisDetail.add($.spe_retire_pension_amt_prev1_legal);$.panRetireHisDetail.add($.spe_retire_pension_amt_cur_extra);$.panRetireHisDetail.add($.spe_retire_pension_amt_cur_legal);$.panRetireHisDetail.add($.spe_retire_pay_sum);$.panRetireHisDetail.add($.spe_retire_pay_prev1_extra);$.panRetireHisDetail.add($.spe_retire_pay_prev1_legal);$.panRetireHisDetail.add($.spe_retire_pay_cur_extra);$.panRetireHisDetail.add($.spe_retire_pay_cur_legal);$.panRetireHispens.add($.html_b_Ex1);$.panRetireHispens.add($.html_b_Ex2);$.panRetireHispens.add($.html_b_Ex3);$.panRetireHispens.add($.html_b_Ex4);$.panRetireHispens.add($.html_b_Ex5);$.panRetireHispens.add($.html_b_Ex6);$.panRetireHispens.add($.html_b_Ex7);$.panRetireHispens.add($.html_b_Ex8);$.panRetireHispens.add($.spe_retire_pension_amt_prev);$.panRetireHispens.add($.spe_retire_pension_deduct_amt_prev);$.panRetireHispens.add($.spe_earner_payment_amt_prev);$.panRetireHispens.add($.spe_principal_interest_sum_prev);$.panRetireHispens.add($.spe_tot_receive_amt_prev);$.panRetireHispens.add($.txt_retire_annual_acct_prev);$.panRetireHispens.add($.spe_retire_pension_cur);$.panRetireHispens.add($.spe_retire_annual_deduct_amt_cur);$.panRetireHispens.add($.spe_earner_payment_amt_cur);$.panRetireHispens.add($.spe_principal_interest_sum_cur);$.panRetireHispens.add($.spe_tot_receive_amt_cur);$.panRetireHispens.add($.txt_retire_pension_acct_cur);$.panRetireHisConv.add($.html_c_Ex1);$.panRetireHisConv.add($.html_c_Ex2);$.panRetireHisConv.add($.html_c_Ex3);$.panRetireHisConv.add($.html_c_Ex4);$.panRetireHisConv.add($.html_c_Ex5);$.panRetireHisConv.add($.html_c_Ex6);$.panRetireHisConv.add($.html_c_Ex7);$.panRetireHisConv.add($.html_c_Ex8);$.panRetireHisConv.add($.html_c_Ex9);$.panRetireHisConv.add($.html_c_Ex10);$.panRetireHisConv.add($.html_c_Ex11);$.panRetireHisConv.add($.html_c_Ex12);$.panRetireHisConv.add($.html_c_Ex13);$.panRetireHisConv.add($.html_c_Ex14);$.panRetireHisConv.add($.spe_received_retire_income_amt_prev_legal);$.panRetireHisConv.add($.spe_tax_defer_amt_prev_legal);$.panRetireHisConv.add($.spe_retire_pension_expect_amt_prev_legal);$.panRetireHisConv.add($.spe_convert_annual_avg_calc_tax_amt_legal);$.panRetireHisConv.add($.spe_convert_annual_avg_tax_std_amt_legal);$.panRetireHisConv.add($.spe_convert_retire_income_tax_std_amt_legal);$.panRetireHisConv.add($.spe_convert_retire_deduct_amt_legal);$.panRetireHisConv.add($.spe_receivable_retire_income_amt_legal);$.panRetireHisConv.add($.spe_tot_amt_legal);$.panRetireHisConv.add($.spe_received_retire_income_amt_cur_legal);$.panRetireHisConv.add($.spe_tax_defer_amt_cur_legal);$.panRetireHisConv.add($.spe_retire_pension_expect_amt_cur_legal);$.panRetireHisConv.add($.spe_received_retire_income_amt_prev_extra);$.panRetireHisConv.add($.spe_tax_defer_amt_prev_extra);$.panRetireHisConv.add($.spe_retire_pension_expect_amt_prev_extra);$.panRetireHisConv.add($.spe_convert_annual_avg_calc_tax_amt_extra);$.panRetireHisConv.add($.spe_convert_annual_avg_tax_std_amt_extra);$.panRetireHisConv.add($.spe_convert_retire_income_tax_std_amt_extra);$.panRetireHisConv.add($.spe_convert_retire_deduct_amt_extra);$.panRetireHisConv.add($.spe_receivable_retire_income_amt_extra);$.panRetireHisConv.add($.spe_tot_amt_extra);$.panRetireHisConv.add($.spe_received_retire_income_amt_cur_extra);$.panRetireHisConv.add($.spe_tax_defer_amt_cur_extra);$.panRetireHisConv.add($.spe_retire_pension_expect_amt_cur_extra);$.panRetireHisServ.add($.html_d_Ex16);$.panRetireHisServ.add($.html_d_Ex15);$.panRetireHisServ.add($.html_d_Ex14);$.panRetireHisServ.add($.html_d_Ex13);$.panRetireHisServ.add($.html_d_Ex12);$.panRetireHisServ.add($.html_d_Ex11);$.panRetireHisServ.add($.html_d_Ex10);$.panRetireHisServ.add($.html_d_Ex9);$.panRetireHisServ.add($.html_d_Ex8);$.panRetireHisServ.add($.html_d_Ex7);$.panRetireHisServ.add($.html_d_Ex6);$.panRetireHisServ.add($.html_d_Ex5);$.panRetireHisServ.add($.html_d_Ex4);$.panRetireHisServ.add($.html_d_Ex3);$.panRetireHisServ.add($.html_d_Ex2);$.panRetireHisServ.add($.html_d_Ex1);$.panRetireHisServ.add($.spe_service_year_cnt_cur_legal);$.panRetireHisServ.add($.spe_overlap_mon_cnt_prev_legal);$.panRetireHisServ.add($.spe_service_year_cnt_prev_legal);$.panRetireHisServ.add($.spe_except_mon_cnt_prev_legal);$.panRetireHisServ.add($.spe_except_mon_cnt_cur_legal);$.panRetireHisServ.add($.spe_service_mon_cnt_prev_legal);$.panRetireHisServ.add($.spe_service_mon_cnt_cur_legal);$.panRetireHisServ.add($.dte_ymdretire_prev_legal);$.panRetireHisServ.add($.dte_ymdretire_cur_legal);$.panRetireHisServ.add($.dte_ymdenter_prev_legal);$.panRetireHisServ.add($.dte_ymdenter_cur_legal);$.panRetireHisServ.add($.spe_service_year_cnt_cur_extra);$.panRetireHisServ.add($.spe_overlap_mon_cnt_prev_extra);$.panRetireHisServ.add($.spe_service_year_cnt_prev_extra);$.panRetireHisServ.add($.spe_except_mon_cnt_prev_extra);$.panRetireHisServ.add($.spe_except_mon_cnt_cur_extra);$.panRetireHisServ.add($.spe_service_mon_cnt_prev_extra);$.panRetireHisServ.add($.spe_service_mon_cnt_cur_extra);$.panRetireHisServ.add($.dte_ymdretire_prev_extra);$.panRetireHisServ.add($.dte_ymdretire_cur_extra);$.panRetireHisServ.add($.dte_ymdenter_prev_extra);$.panRetireHisServ.add($.dte_ymdenter_cur_extra);$.panRetireCalcDetail.add($.html_f_Ex5);$.panRetireCalcDetail.add($.html_f_Ex4);$.panRetireCalcDetail.add($.html_f_Ex3);$.panRetireCalcDetail.add($.html_f_Ex2);$.panRetireCalcDetail.add($.html_f_Ex1);$.panRetireCalcDetail.add($.spe_for_paid_tax_deduct_sum);$.panRetireCalcDetail.add($.spe_for_paid_tax_deduct_extra);$.panRetireCalcDetail.add($.spe_for_paid_tax_deduct_amt_legal);$.panRetireCalcDetail.add($.spe_retire_income_tax_deduct_sum);$.panRetireCalcDetail.add($.spe_retire_income_tax_deduct_extra);$.panRetireCalcDetail.add($.spe_retire_income_tax_deduct_amt_legal);$.panRetireCalcDetail.add($.spe_calc_tax_sum);$.panRetireCalcDetail.add($.spe_calc_tax_amt_extra);$.panRetireCalcDetail.add($.spe_calc_tax_amt_legal);$.panRetireCalcDetail.add($.spe_annual_avg_calc_sum);$.panRetireCalcDetail.add($.spe_annual_avg_calc_tax_amt_extra);$.panRetireCalcDetail.add($.spe_annual_avg_calc_tax_amt_legal);$.panRetireCalcDetail.add($.spe_annual_avg_tax_std_sum);$.panRetireCalcDetail.add($.spe_annual_avg_tax_std_amt_extra);$.panRetireCalcDetail.add($.spe_annual_avg_tax_std_amt_legal);$.panRetireCalcDetail.add($.spe_retire_income_tax_std_sum);$.panRetireCalcDetail.add($.spe_retire_income_tax_std_amt_extra);$.panRetireCalcDetail.add($.spe_retire_income_tax_std_amt_legal);$.panRetireCalcDetail.add($.spe_retire_deduct_sum);$.panRetireCalcDetail.add($.spe_retire_deduct_amt_extra);$.panRetireCalcDetail.add($.spe_retire_deduct_amt_legal);$.panRetireCalcDetail.add($.spe_retire_income_sum);$.panRetireCalcDetail.add($.spe_retire_pay_amt_extra);$.panRetireCalcDetail.add($.spe_retire_pay_amt_legal);$.panRetireCalcPay.add($.html_g_Ex1);$.panRetireCalcPay.add($.html_g_Ex2);$.panRetireCalcPay.add($.html_g_Ex3);$.panRetireCalcPay.add($.html_g_Ex4);$.panRetireCalcPay.add($.html_g_Ex5);$.panRetireCalcPay.add($.html_g_Ex6);$.panRetireCalcPay.add($.spe_balance_deduct_tax_sum);$.panRetireCalcPay.add($.spe_special_balance_deduct_tax_amt);$.panRetireCalcPay.add($.spe_local_balance_deduct_tax_amt);$.panRetireCalcPay.add($.spe_income_balance_deduct_tax_amt);$.panRetireCalcPay.add($.spe_prev_paid_tax_sum);$.panRetireCalcPay.add($.spe_special_prev_paid_tax_amt);$.panRetireCalcPay.add($.spe_local_prev_paid_tax_amt);$.panRetireCalcPay.add($.spe_income_prev_paid_tax_amt);$.panRetireCalcPay.add($.spe_retire_tax_sum);$.panRetireCalcPay.add($.spe_special_retire_tax_amt);$.panRetireCalcPay.add($.spe_local_retire_tax_amt);$.panRetireCalcPay.add($.spe_income_retire_tax_amt);$.panRemark.add($.spe_real_pay_amt);$.panRemark.add($.lbl_real_pay_amt);$.panRemark.add($.spe_diff_amt);$.panRemark.add($.lbl_diff_amt);$.panRemark.add($.spe_pay_amt_sum);$.panRemark.add($.lbl_pay_amt_sum);$.panRemark.add($.spe_insurer3_pay_amt);$.panRemark.add($.txt_insurer3_name);$.panRemark.add($.lbl_insurer3);$.panRemark.add($.lbl_bank_depositor);$.panRemark.add($.spe_insurer2_pay_amt);$.panRemark.add($.txt_insurer2_name);$.panRemark.add($.lbl_insure2);$.panRemark.add($.txt_bank_account);$.panRemark.add($.lbl_account);$.panRemark.add($.spe_insurer1_pay_amt);$.panRemark.add($.txt_insure1_name);$.panRemark.add($.lbl_insure1);$.panRemark.add($.bte_bank_name);$.panRemark.add($.txt_bank_code);$.panRemark.add($.lbl_bank);$.panRemark.add($.spe_com_pay_amt);$.panRemark.add($.lbl_com_pay_amt);$.panRemark.add($.txt_bank_depositor);relocateChildIndexInPanel([$.panQuery,$.panMenu,$.panAvg,$.panRetireHisPrev,$.panRetireHisDetail,$.panRetireHispens,$.panRetireHisConv,$.panRetireHisServ,$.panRetireCalcDetail,$.panRetireCalcPay,$.panRemark]);bizComponentBinding();$.dte_retire_calc_yyyy.setValue(getToday(""));$.cmb_site_code.setValue($.session.SiteCode);$.html_base.setHTML("※ 정산기본정보가 저장된 후에<br/>상세내역을 저장할 수 있습니다.");if($.p_argument){fnControlSet(false);$.panQuery.setVisible(false);$.panList.setVisible(false);$.btnAVG.setEnable(false);$.btnDetail.setVisible(false);$.panMenu.showButton(false);$.panMain.setScroll(true);$.panMenu.setProperty(0,0,890,215);$.tabMain.setProperty(0,225,890,680);$.cmb_retire_calc_type1.setValue($.p_argument.retire_calc_type);$.txt_emp_code1.setValue($.p_argument.emp_code);$.dte_retire_calc_date1.setValue($.p_argument.retire_calc_date);searchHRA5100("DETAIL")}else{newClick()}var a=3.5;log(Math.round(a));log(Math.round(a),0)};$.callback=function(type,ds){if(type=="EMP"){$.deleteRows=[];setDataGrid([$.grdList],ds);var sel=0;if($.stremp_code&&$.strretire_calc_date&&$.strretire_calc_type){for(var i=0;i<$.grdList.getRowCount();i++){if($.grdList.getValue(i,"emp_code")==$.stremp_code&&$.grdList.getValue(i,"retire_calc_date")==$.strretire_calc_date&&$.grdList.getValue(i,"retire_calc_type")==$.strretire_calc_type){$.grdList.selectRow(i);sel=i}}}$.stremp_code="";$.strretire_calc_date="";$.strretire_calc_type="";$.grdList.selectRow(sel)}else{if(type=="CALC"){if(ds&&ds.resultList.length){log(ds);var rs=ds.resultList[0];if(rs.length>0){for(var i in rs){rs[i].start_date=extFormat(rs[i].start_date,"yyyyMMdd");rs[i].end_date=extFormat(rs[i].end_date,"yyyyMMdd")}setDataGrid([$.grdAVG_Pay2],rs,true)}var rs2=ds.resultList[1];if(rs2.length>0){setDataGrid([$.grdAVG_Pay],rs2,true)}var iday_cnt=0;for(var i=0;i<$.grdAVG_Pay2.getRowCount();i++){iday_cnt+=Number($.grdAVG_Pay2.getValue(i,"apply_days"))}$.spe_bf_3month_day_cnt.setValue(iday_cnt);fnApplyAmt_Calc()}}else{if(type=="AVG"){if(ds){if(ds.errorCode.substring(0,1)!="P"&&ds.errorCode.substring(0,1)!="E"&&ds.resultList[0].length>=2){var rs1=ds.resultList[0];if(rs1.length>0){for(var i in rs1){rs1[i].start_date=extFormat(rs1[i].start_date,"yyyyMMdd");rs1[i].end_date=extFormat(rs1[i].end_date,"yyyyMMdd")}setDataGrid([$.grdAVG_Pay2],rs1,true)}var rs2=ds.resultList[1];if(rs2.length>0){setDataGrid([$.grdAVG_Pay],rs2,true)}var rs3=ds.resultList[2];if(rs3.length>0){for(var i in rs3){rs3[i].start_date=(rs3[i].start_date?extFormat(rs3[i].start_date+"01","yyyyMMdd"):rs3[i].start_date);rs3[i].end_date=(rs3[i].end_date?extFormat(rs3[i].end_date+"01","yyyyMMdd"):rs3[i].end_date);rs3[i].vested_start_date=(rs3[i].vested_start_date?extFormat(rs3[i].vested_start_date+"01","yyyyMMdd"):rs3[i].vested_start_date);rs3[i].vested_end_date=(rs3[i].vested_end_date?extFormat(rs3[i].vested_end_date+"01","yyyyMMdd"):rs3[i].vested_end_date)}setDataGrid([$.grdAVG_Bonus],rs3,true)}var rs4=ds.resultList[3][0];$.spe_ordinary_wages_amt.setValue(rs4.ordinary_wages_amt);var sum_apply_days=summaryText($.grdAVG_Pay2,"apply_days");if(sum_apply_days){$.spe_bf_3month_day_cnt.setValue(sum_apply_days)}ymdcalc_date_EditValueModified();fnApplyAmt_Calc();fnRetire_Total_Calc()}}}else{if(type=="DETAIL"){if(ds&&ds.resultList[0].length>0){var rs=ds.resultList[0][0];$.dte_calc_start_date.setValue(rs.calc_start_date);$.dte_calc_end_date.setValue(rs.calc_end_date);$.spe_tot_avg_pay_amt.setValue(rs.tot_avg_pay_amt);$.spe_ordinary_wages_amt.setValue(rs.ordinary_wages_amt);$.spe_apply_pay_amt.setValue(rs.apply_pay_amt);$.spe_etc_pay_amt.setValue(rs.etc_pay_amt);$.spe_health_insur_calc_amt.setValue(rs.health_insur_calc_amt);$.spe_pension_change_amt.setValue(rs.pension_change_amt);$.spe_etc_ded_amt.setValue(rs.etc_ded_amt);$.spe_working_day_cnt.setValue(rs.working_day_cnt);$.spe_bf_3month_day_cnt.setValue(rs.bf_3month_day_cnt);$.spe_annual_benefit_amt.setValue(rs.annual_benefit_amt);$.txt_prev1_com_name.setValue(rs.prev1_com_name);$.txt_prev1_com_num.setValue(rs.prev1_com_num);$.dte_prev1_enter_date.setValue(rs.prev1_enter_date);$.dte_prev1_retire_date.setValue(rs.prev1_retire_date);$.dte_prev1_last_calc_date.setValue(rs.prev1_last_calc_date);$.chk_prev1_retire_deduct_yn.setValue(rs.prev1_retire_deduct_yn);$.spe_midway_income_tax_amt.setValue(rs.midway_income_tax_amt);$.spe_midway_local_tax_amt.setValue(rs.midway_local_tax_amt);$.spe_retire_pay_cur_legal.setValue(rs.retire_pay_cur_legal);$.spe_retire_pay_cur_extra.setValue(rs.retire_pay_cur_extra);$.spe_retire_pay_prev1_legal.setValue(rs.retire_pay_prev1_legal);$.spe_retire_pay_prev1_extra.setValue(rs.retire_pay_prev1_extra);$.spe_retire_pay_sum.setValue(rs.retire_pay_sum);$.spe_retire_pension_amt_cur_legal.setValue(rs.retire_pension_amt_cur_legal);$.spe_retire_pension_amt_cur_extra.setValue(rs.retire_pension_amt_cur_extra);$.spe_retire_pension_amt_prev1_legal.setValue(rs.retire_pension_amt_prev1_legal);$.spe_retire_pension_amt_prev1_extra.setValue(rs.retire_pension_amt_prev1_extra);$.spe_retire_pension_sum.setValue(rs.retire_pension_sum);$.spe_retire_pay_sum_cur_legal.setValue(rs.retire_pay_sum_cur_legal);$.spe_retire_pay_sum_cur_extra.setValue(rs.retire_pay_sum_cur_extra);$.spe_retire_pay_sum_prev1_legal.setValue(rs.retire_pay_sum_prev1_legal);$.spe_retire_pay_sum_prev1_extra.setValue(rs.retire_pay_sum_prev1_extra);$.spe_retire_tot_sum.setValue(rs.retire_tot_sum);$.spe_retire_non_taxable_income.setValue(rs.retire_non_taxable_income);$.spe_retire_non_taxable_income_prev1.setValue(rs.retire_non_taxable_income_prev1);$.spe_retire_tot_non_taxable_sum.setValue(rs.retire_tot_non_taxable_sum);$.txt_retire_pension_acct_cur.setValue(rs.retire_pension_acct_cur);$.spe_tot_receive_amt_cur.setValue(rs.tot_receive_amt_cur);$.spe_principal_interest_sum_cur.setValue(rs.principal_interest_sum_cur);$.spe_earner_payment_amt_cur.setValue(rs.earner_payment_amt_cur);$.spe_retire_annual_deduct_amt_cur.setValue(rs.retire_annual_deduct_amt_cur);$.spe_retire_pension_cur.setValue(rs.retire_pension_cur);$.txt_retire_annual_acct_prev.setValue(rs.retire_annual_acct_prev);$.spe_tot_receive_amt_prev.setValue(rs.tot_receive_amt_prev);$.spe_principal_interest_sum_prev.setValue(rs.principal_interest_sum_prev);$.spe_earner_payment_amt_prev.setValue(rs.earner_payment_amt_prev);$.spe_retire_pension_deduct_amt_prev.setValue(rs.retire_pension_deduct_amt_prev);$.spe_retire_pension_amt_prev.setValue(rs.retire_pension_amt_prev);$.spe_retire_pension_expect_amt_cur_legal.setValue(rs.retire_pension_expect_amt_cur_legal);$.spe_tax_defer_amt_cur_legal.setValue(rs.tax_defer_amt_cur_legal);$.spe_received_retire_income_amt_cur_legal.setValue(rs.received_retire_income_amt_cur_legal);$.spe_tot_amt_legal.setValue(rs.tot_amt_legal);$.spe_receivable_retire_income_amt_legal.setValue(rs.receivable_retire_income_amt_legal);$.spe_convert_retire_deduct_amt_legal.setValue(rs.convert_retire_deduct_amt_legal);$.spe_convert_retire_income_tax_std_amt_legal.setValue(rs.convert_retire_income_tax_std_amt_legal);$.spe_convert_annual_avg_tax_std_amt_legal.setValue(rs.convert_annual_avg_tax_std_amt_legal);$.spe_convert_annual_avg_calc_tax_amt_legal.setValue(rs.convert_annual_avg_calc_tax_amt_legal);$.spe_retire_pension_expect_amt_prev_legal.setValue(rs.retire_pension_expect_amt_prev_legal);$.spe_tax_defer_amt_prev_legal.setValue(rs.tax_defer_amt_prev_legal);$.spe_received_retire_income_amt_prev_legal.setValue(rs.received_retire_income_amt_prev_legal);$.spe_retire_pension_expect_amt_cur_extra.setValue(rs.retire_pension_expect_amt_cur_extra);$.spe_tax_defer_amt_cur_extra.setValue(rs.tax_defer_amt_cur_extra);$.spe_received_retire_income_amt_cur_extra.setValue(rs.received_retire_income_amt_cur_extra);$.spe_tot_amt_extra.setValue(rs.tot_amt_extra);$.spe_receivable_retire_income_amt_extra.setValue(rs.receivable_retire_income_amt_extra);$.spe_convert_retire_deduct_amt_extra.setValue(rs.convert_retire_deduct_amt_extra);$.spe_convert_retire_income_tax_std_amt_extra.setValue(rs.convert_retire_income_tax_std_amt_extra);$.spe_convert_annual_avg_tax_std_amt_extra.setValue(rs.convert_annual_avg_tax_std_amt_extra);$.spe_convert_annual_avg_calc_tax_amt_extra.setValue(rs.convert_annual_avg_calc_tax_amt_extra);$.spe_retire_pension_expect_amt_prev_extra.setValue(rs.retire_pension_expect_amt_prev_extra);$.spe_tax_defer_amt_prev_extra.setValue(rs.tax_defer_amt_prev_extra);$.spe_received_retire_income_amt_prev_extra.setValue(rs.received_retire_income_amt_prev_extra);$.dte_ymdenter_cur_legal.setValue(rs.enter_cur_legal);$.dte_ymdenter_prev_legal.setValue(rs.enter_prev_legal);$.dte_ymdretire_cur_legal.setValue(rs.retire_cur_legal);$.dte_ymdretire_prev_legal.setValue(rs.retire_prev_legal);$.spe_service_mon_cnt_cur_legal.setValue(rs.service_mon_cnt_cur_legal);$.spe_service_mon_cnt_prev_legal.setValue(rs.service_mon_cnt_prev_legal);$.spe_except_mon_cnt_cur_legal.setValue(rs.except_mon_cnt_cur_legal);$.spe_except_mon_cnt_prev_legal.setValue(rs.except_mon_cnt_prev_legal);$.spe_service_year_cnt_prev_legal.setValue(rs.service_year_cnt_prev_legal);$.spe_overlap_mon_cnt_prev_legal.setValue(rs.overlap_mon_cnt_prev_legal);$.spe_service_year_cnt_cur_legal.setValue(rs.service_year_cnt_cur_legal);$.dte_ymdenter_cur_extra.setValue(rs.enter_cur_extra);$.dte_ymdenter_prev_extra.setValue(rs.enter_prev_extra);$.dte_ymdretire_cur_extra.setValue(rs.retire_cur_extra);$.dte_ymdretire_prev_extra.setValue(rs.retire_prev_extra);$.spe_service_mon_cnt_cur_extra.setValue(rs.service_mon_cnt_cur_extra);$.spe_service_mon_cnt_prev_extra.setValue(rs.service_mon_cnt_prev_extra);$.spe_except_mon_cnt_cur_extra.setValue(rs.except_mon_cnt_cur_extra);$.spe_except_mon_cnt_prev_extra.setValue(rs.except_mon_cnt_prev_extra);$.spe_service_year_cnt_prev_extra.setValue(rs.service_year_cnt_prev_extra);$.spe_overlap_mon_cnt_prev_extra.setValue(rs.overlap_mon_cnt_prev_extra);$.spe_service_year_cnt_cur_extra.setValue(rs.service_year_cnt_cur_extra);$.spe_retire_pay_amt_legal.setValue(rs.retire_pay_amt_legal);$.spe_retire_pay_amt_extra.setValue(rs.retire_pay_amt_extra);$.spe_retire_income_sum.setValue(rs.retire_income_sum);$.spe_retire_deduct_amt_legal.setValue(rs.retire_deduct_amt_legal);$.spe_retire_deduct_amt_extra.setValue(rs.retire_deduct_amt_extra);$.spe_retire_deduct_sum.setValue(rs.retire_deduct_sum);$.spe_retire_income_tax_std_amt_legal.setValue(rs.retire_income_tax_std_amt_legal);$.spe_retire_income_tax_std_amt_extra.setValue(rs.retire_income_tax_std_amt_extra);$.spe_retire_income_tax_std_sum.setValue(rs.retire_income_tax_std_sum);$.spe_annual_avg_tax_std_amt_legal.setValue(rs.annual_avg_tax_std_amt_legal);$.spe_annual_avg_tax_std_amt_extra.setValue(rs.annual_avg_tax_std_amt_extra);$.spe_annual_avg_tax_std_sum.setValue(rs.annual_avg_tax_std_sum);$.spe_annual_avg_calc_tax_amt_legal.setValue(rs.annual_avg_calc_tax_amt_legal);$.spe_annual_avg_calc_tax_amt_extra.setValue(rs.annual_avg_calc_tax_amt_extra);$.spe_annual_avg_calc_sum.setValue(rs.annual_avg_calc_sum);$.spe_calc_tax_amt_legal.setValue(rs.calc_tax_amt_legal);$.spe_calc_tax_amt_extra.setValue(rs.calc_tax_amt_extra);$.spe_calc_tax_sum.setValue(rs.calc_tax_sum);$.spe_retire_income_tax_deduct_amt_legal.setValue(rs.retire_income_tax_deduct_amt_legal);$.spe_retire_income_tax_deduct_extra.setValue(rs.retire_income_tax_deduct_extra);$.spe_retire_income_tax_deduct_sum.setValue(rs.retire_income_tax_deduct_sum);$.spe_for_paid_tax_deduct_amt_legal.setValue(rs.for_paid_tax_deduct_amt_legal);$.spe_for_paid_tax_deduct_extra.setValue(rs.for_paid_tax_deduct_extra);$.spe_for_paid_tax_deduct_sum.setValue(rs.for_paid_tax_deduct_sum);$.spe_income_retire_tax_amt.setValue(rs.income_retire_tax_amt);$.spe_local_retire_tax_amt.setValue(rs.local_retire_tax_amt);$.spe_special_retire_tax_amt.setValue(rs.special_retire_tax_amt);$.spe_retire_tax_sum.setValue(rs.retire_tax_sum);$.spe_income_prev_paid_tax_amt.setValue(rs.income_prev_paid_tax_amt);$.spe_local_prev_paid_tax_amt.setValue(rs.local_prev_paid_tax_amt);$.spe_special_prev_paid_tax_amt.setValue(rs.special_prev_paid_tax_amt);$.spe_prev_paid_tax_sum.setValue(rs.prev_paid_tax_sum);$.spe_income_balance_deduct_tax_amt.setValue(rs.income_balance_deduct_tax_amt);$.spe_local_balance_deduct_tax_amt.setValue(rs.local_balance_deduct_tax_amt);$.spe_special_balance_deduct_tax_amt.setValue(rs.special_balance_deduct_tax_amt);$.spe_balance_deduct_tax_sum.setValue(rs.balance_deduct_tax_sum);$.spe_com_pay_amt.setValue(rs.com_pay_amt);$.txt_bank_code.setValue(rs.bank_code);$.bte_bank_name.setText(rs.bank_name);$.txt_insure1_name.setValue(rs.insurer1_name);$.spe_insurer1_pay_amt.setValue(rs.insurer1_pay_amt);$.txt_bank_account.setValue(rs.bank_account);$.txt_insurer2_name.setValue(rs.insurer2_name);$.spe_insurer2_pay_amt.setValue(rs.insurer2_pay_amt);$.txt_bank_depositor.setValue(rs.bank_depositor);$.txt_insurer3_name.setValue(rs.insurer3_name);$.spe_insurer3_pay_amt.setValue(rs.insurer3_pay_amt);$.spe_pay_amt_sum.setValue(rs.pay_amt_sum);$.spe_diff_amt.setValue(rs.diff_amt);$.spe_real_pay_amt.setValue(rs.real_pay_amt);var rs1=ds.resultList[1];if(rs1.length>0){for(var i in rs1){rs1[i].start_date=extFormat(rs1[i].start_date,"yyyyMMdd");rs1[i].end_date=extFormat(rs1[i].end_date,"yyyyMMdd")}setDataGrid([$.grdAVG_Pay2],rs1,true)}var rs2=ds.resultList[2];if(rs2.length>0){setDataGrid([$.grdAVG_Pay],rs2,true)}var rs3=ds.resultList[3];if(rs3.length>0){for(var i in rs3){rs3[i].start_date=(rs3[i].start_date?extFormat(rs3[i].start_date+"01","yyyyMMdd"):rs3[i].start_date);rs3[i].end_date=(rs3[i].end_date?extFormat(rs3[i].end_date+"01","yyyyMMdd"):rs3[i].end_date);rs3[i].vested_start_date=(rs3[i].vested_start_date?extFormat(rs3[i].vested_start_date+"01","yyyyMMdd"):rs3[i].vested_start_date);rs3[i].vested_end_date=(rs3[i].vested_end_date?extFormat(rs3[i].vested_end_date+"01","yyyyMMdd"):rs3[i].vested_end_date)}setDataGrid([$.grdAVG_Bonus],rs3,true)}var rs4=ds.resultList[4];if(rs4.length>0){setDataGrid([$.grdCalcHis],rs4,true)}$.dte_last_calc_date.setValue(rs.last_calc_date);$.dte_retire_date.setValue(rs.retire_date);$.cmb_retire_reason.setValue(rs.retire_reason);$.dte_pay_date.setValue(rs.pay_date);$.dte_declaration_yyyymm.setValue(rs.declaration_yyyymm);$.bte_emp_full_name1.setText(rs.emp_full_name);$.txt_dept_code.setValue(rs.dept_code);$.bte_dept_name.setText(rs.dept_name);$.cmb_site_code1.setValue(rs.site_code);$.dte_enter_date.setValue(rs.enter_date)}}}}}};$.update=function(args){$.args=args};$.executeScript=function(script){eval(script)};$.fingerbutton_click=function(id){if(id=="btnSearch"){searchHRA5100("EMP")}else{if(id=="btnReCak"){if(!fnDate_Validate()){return}searchHRA5100_Q2("CALC")}else{if(id=="btnAVG"){searchHRA5100("AVG")}else{if(id=="btnDetail"){var rId=$.grdCalcHis.getSelectedRowIdx();if(!rId){return}$.popUpCallId=id;var param={retire_calc_date:$.grdCalcHis.getValue(rId,"retire_calc_date")||"",retire_calc_type:$.grdCalcHis.getValue(rId,"retire_calc_type")||"",emp_code:$.txt_emp_code1.getValue()||""};g_main.openPopup("HRA5100.html","HRA5100","중간/퇴직급여 계산",887,870,"","",param,"","")}}}}};$.fingermultiselect_checkchange=function(id,index){};$.fingermultiselect_itemchange=function(id){};$.fingerbuttonedit_click=function(id){$.popUpCallId=id;if(id=="bte_emp_full_name1"){var param={emp_name:$.bte_emp_full_name1.getText()||"",searchPay:"Y"};g_main.openPopup("popEmp.html","popEmp","",0,0,"","",param,"","")}};$.fingerbuttonedit_change=function(id,value){};$.fingerbuttonedit_keypress=function(id,value){};$.fingerbuttonedit_lostfocus=function(id,value){};$.fingercheckbox_change=function(id,value){};$.fingercombobox_change=function(id,value){if(id=="cmb_retire_calc_type1"){if(!value){return}var retire_reason="",ds="",subQuery="";$.cmb_retire_reason.clear();if(value=="MIDDLE"){subQuery=" and sub_code = '5'";ds=bizComponentData2($,"Q4","L_HRI013",subQuery);retire_reason="5"}else{if(value=="RETIRE"){subQuery=" and sub_code <> '5'";ds=bizComponentData2($,"Q4","L_HRI013",subQuery);retire_reason=""}else{ds=bizComponentData2($,"Q1","L_HRI013")}}setComboBind([$.cmb_retire_reason],ds);$.cmb_retire_reason.setValue(retire_reason)}};$.fingerdateedit_click=function(id){};$.fingerdateedit_change=function(id,value){if(id=="dte_retire_calc_date1"){dte_retire_calc_date1_Change(value)}else{if(id=="dte_enter_date"){dte_enter_date_Change(value)}else{if(id=="dte_prev1_enter_date"){if(value&&$.dte_prev1_last_calc_date.getValue()){$.dte_ymdenter_prev_legal.setValue(getCalcDate($.dte_prev1_last_calc_date.getValue(),1))}else{if(value&&!$.dte_prev1_last_calc_date.getValue()){$.dte_ymdenter_prev_legal.setValue(value)}else{if(!value){$.dte_ymdenter_prev_legal.setValue("")}}}$.dte_ymdenter_prev_extra.setValue(value);ymdenter_extra_EditValueModified()}else{if(id=="dte_prev1_retire_date"){$.dte_ymdretire_prev_legal.setValue(value);$.dte_ymdretire_prev_extra.setValue(value);ymdenter_legal_EditValueModified()}else{if(id=="dte_prev1_retire_date"){$.dte_ymdretire_prev_legal.setValue(value);$.dte_ymdretire_prev_extra.setValue(value)}else{if(id=="dte_pay_date"){if(!value){$.dte_declaration_yyyymm.setValue("")}else{if(Number(value.substr(6,2))<11){$.dte_declaration_yyyymm.setValue(value)}else{$.dte_declaration_yyyymm.setValue(getCalcMonth(value,1))}}}}}}}}};$.fingerdatagrid_itemclick=function(id,rId,cInd){};$.fingerdatagrid_selectionchange=function(id,rId){if(id=="grdList"){var data=$.grdList.getValue(rId);$.varIdx=rId;fnControlSet(false);$.grdAVG_Pay2.clear();$.grdAVG_Pay.clear();$.grdAVG_Bonus.clear();$.grdCalcHis.clear();$.isNew=false;$.deleteRows=[];$.dte_retire_calc_date1.setValue(data.retire_calc_date);$.txt_emp_code1.setValue(data.emp_code);$.bte_emp_full_name1.setText(data.emp_full_name);$.txt_dept_code.setValue(data.dept_code);$.bte_dept_name.setText(data.dept_name);$.cmb_retire_calc_type1.setValue(data.retire_calc_type);$.cmb_site_code1.setValue(data.site_code);$.dte_enter_date.setValue(data.enter_date);searchHRA5100("DETAIL")}else{if(id=="grdAVG_Pay2"){var grdRow=$.grdAVG_Pay2.getValue(rId);if($.grdAVG_Pay2.getRowStatus(rId)=="U"){grdRow.start_date_readonly=true}else{grdRow.start_date_readonly=false}}}};$.fingerdatagrid_cellvaluechange=function(id,rId,cInd,nValue,oValue){if(id=="grdAVG_Pay2"){if(cInd=="start_date"||cInd=="end_date"){if($.grdAVG_Pay2.getValue(rId,"start_date")&&$.grdAVG_Pay2.getValue(rId,"end_date")){if($.grdAVG_Pay2.getValue(rId,"start_date")>$.grdAVG_Pay2.getValue(rId,"end_date")){MessageBoxShow("적용시작일은 적용종료일보다 이전 날이어야 합니다.");$.grdAVG_Pay2.setValue(rId,"start_date",oValue);return}var start_date=getFormatDate($.grdAVG_Pay2.getValue(rId,"start_date"),"yyyyMMdd").substring(0,8);var end_date=getFormatDate($.grdAVG_Pay2.getValue(rId,"end_date"),"yyyyMMdd").substring(0,8);var day=calc_date(start_date,end_date)+1;$.grdAVG_Pay2.setValue(rId,"apply_days",day)}}}else{if(id=="grdAVG_Bonus"){if(cInd=="apply_amt"){fnApplyAmt_Calc()}}}};$.fingerdatagrid_rowdblclicked=function(id,rId,cInd){};$.fingerdatagrid_celllink_click=function(e,gridid,rId,cId,value){};$.fingerdatagrid_popupcelldblclicked=function(id,rId,cInd){};$.fingerdatagrid_drag=function(id,sId,tId,sObj,tObj,sInd,tInd){};$.fingeredit_change=function(id,value){if(id=="spe_retire_pay_cur_legal"||id=="spe_retire_pay_cur_extra"||id=="spe_retire_pay_prev1_legal"||id=="spe_retire_pay_prev1_extra"||id=="spe_retire_pension_amt_cur_legal"||id=="spe_retire_pension_amt_cur_extra"||id=="spe_retire_pension_amt_prev1_legal"||id=="spe_retire_pension_amt_prev1_extra"){fnRetire_Total_Calc()}else{if(id=="spe_tot_receive_amt_cur"||id=="spe_retire_annual_deduct_amt_cur"||id=="spe_earner_payment_amt_cur"||id=="spe_principal_interest_sum_cur"||id=="spe_earner_payment_amt_prev"||id=="spe_principal_interest_sum_prev"||id=="spe_tot_receive_amt_prev"||id=="spe_retire_pension_deduct_amt_prev"){fnRetire_Total_Calc()}else{if(id=="spe_etc_pay_amt"||id=="spe_ordinary_wages_amt"||id=="spe_working_day_cnt"||id=="spe_etc_ded_amt"||id=="spe_pension_change_amt"||id=="spe_health_insur_calc_amt"||id=="spe_annual_benefit_amt"||id=="spe_bf_3month_day_cnt"){fnApplyAmt_Calc()}else{if(id=="spe_retire_non_taxable_income"||id=="spe_retire_non_taxable_income_prev1"){$.spe_retire_tot_non_taxable_sum.setValue($.spe_retire_non_taxable_income.getValue()+$.spe_retire_non_taxable_income_prev1.getValue())}else{if(id=="spe_for_paid_tax_deduct_amt_legal"||id=="spe_for_paid_tax_deduct_extra"||id=="spe_special_retire_tax_amt"||id=="spe_income_prev_paid_tax_amt"||id=="spe_local_prev_paid_tax_amt"||id=="spe_special_prev_paid_tax_amt"){fnCalcDetail();fnSettingValue()}else{if(id=="spe_received_retire_income_amt_cur_legal"||id=="spe_tax_defer_amt_cur_legal"||id=="spe_retire_pension_expect_amt_cur_legal"||id=="spe_received_retire_income_amt_prev_legal"||id=="spe_tax_defer_amt_prev_legal"||id=="spe_retire_pension_expect_amt_prev_legal"||id=="spe_received_retire_income_amt_cur_extra"||id=="spe_tax_defer_amt_cur_extra"||id=="spe_retire_pension_expect_amt_cur_extra"||id=="spe_received_retire_income_amt_prev_extra"||id=="spe_tax_defer_amt_prev_extra"||id=="spe_retire_pension_expect_amt_prev_extra"){fnRetire_Total_Calc()}else{if(id=="spe_com_pay_amt"){$.spe_pay_amt_sum.setValue($.spe_com_pay_amt.getValue()+$.spe_insurer1_pay_amt.getValue()+$.spe_insurer2_pay_amt.getValue()+$.spe_insurer3_pay_amt.getValue());$.spe_diff_amt.setValue($.spe_real_pay_amt.getValue()-$.spe_pay_amt_sum.getValue())}else{if(id=="spe_insurer1_pay_amt"||id=="spe_insurer2_pay_amt"||id=="spe_insurer3_pay_amt"){$.spe_com_pay_amt.setValue($.spe_real_pay_amt.getValue()-($.spe_insurer1_pay_amt.getValue()+$.spe_insurer2_pay_amt.getValue()+$.spe_insurer3_pay_amt.getValue()));$.spe_pay_amt_sum.setValue($.spe_com_pay_amt.getValue()+($.spe_insurer1_pay_amt.getValue()+$.spe_insurer2_pay_amt.getValue()+$.spe_insurer3_pay_amt.getValue()));$.spe_diff_amt.setValue($.spe_real_pay_amt.getValue()-$.spe_pay_amt_sum.getValue())}else{if(id=="txt_temp"){if(!$.dte_last_calc_date.getValue()||$.isNew||!value){return}if($.dte_last_calc_date.getValue()){dte_retire_calc_date1_Change($.dte_retire_calc_date1.getValue())}ymdcalc_date_EditValueModified();fnRetire_Total_Calc()}}}}}}}}}};$.fingeredit_keypress=function(id,value){if((id=="txt_emp_code"||id=="txt_emp_full_name")&&value=="13"){searchHRA5100("EMP")}};$.fingeredit_lostfocus=function(id,value){};$.fingerlayout_panelresizefinish=function(id){};$.fingerlayout_resizefinish=function(id){};$.fingerpanel_button_click=function(panelId,btnId){if(panelId=="panMenu"){if(btnId=="btnSave"){confirmBoxShow("저장하시겠습니까?",function(){var strStatus="";if($.isNew){strStatus="N"}else{strStatus="U"}if($.dte_retire_calc_date1.getValue()&&$.dte_retire_calc_yyyy.getValue()){if(Number($.dte_retire_calc_date1.getValue())<Number($.dte_retire_date.getValue())){MessageBoxShow("퇴사일이 정산일 보다 빠를수 없습니다.");return}}if(!fnDate_Validate()){return}if(!gridValidator($.grdAVG_Pay2,"start_date","end_date")){return}if(saveHRA5100(strStatus)){if(saveHRA5100_S1("")&&saveHRA5100_S2("")&&saveHRA5100_S3("")){MessageBoxShow("정상적으로 저장되었습니다.");$.stremp_code=$.txt_emp_code1.getValue();$.strretire_calc_date=$.dte_retire_calc_date1.getValue();$.strretire_calc_type=$.cmb_retire_calc_type1.getValue();searchHRA5100("EMP")}}})}else{if(btnId=="btnDelete"){var rId=$.grdList.getSelectedRowIdx();if(!rId){return}confirmBoxShow("["+$.bte_emp_full_name1.getText()+"] 중간/퇴직급여 정보를 삭제하시겠습니까?",function(){if(g_main.msgShare==true){if(saveHRA5100("D")){MessageBoxShow("정상적으로 삭제되었습니다.");searchHRA5100("EMP")}}})}else{if(btnId=="btnNew"){newClick();$.bte_emp_full_name1.setEnable(true);$.cmb_retire_reason.setEnable(true);$.bte_emp_full_name1.setAllowBlank(false,"사원");initVariable()}}}}else{if(panelId=="panAVG_Pay2"){if(btnId=="btnAdd"){$.grdAVG_Pay2.addRow({apply_amt:0})}else{if(btnId=="btnDelete"){var rId=$.grdAVG_Pay2.getSelectedRowIdx();if(!rId){return}if($.grdAVG_Pay2.getRowStatus(rId)!="N"){confirmBoxShow("삭제하시겠습니까?",function(){if(g_main.msgShare==true){$.grdAVG_Pay2.getItem(rId).rowType="D";$.deleteRows.push($.grdAVG_Pay2.getValue(rId));$.grdAVG_Pay2.deleteCurrentRow()}})}else{$.grdAVG_Pay2.deleteCurrentRow()}}}}}};$.fingerpopup_close=function(id){var popResult=g_popupStack.shareData;if(popResult){if(id=="popEmp"){if($.popUpCallId=="bte_emp_full_name1"){$.txt_emp_code1.setValue(popResult.employee_id);$.bte_emp_full_name1.setText(popResult.emp_name);$.txt_dept_code.setValue(popResult.dept_code);$.bte_dept_name.setText(popResult.dept_name);$.dte_enter_date.setValue(popResult.enter_date);$.cmb_site_code1.setValue(popResult.site_code);$.cmb_nation_code.setValue(popResult.nation_code);$.dte_last_calc_date.setValue(popResult.last_calc_date);$.dte_retire_date.setValue(popResult.retire_date);$.dte_calc_start_date.setValue(popResult.calc_start_date);$.txt_bank_code.setValue(popResult.bank);$.bte_bank_name.setText(popResult.bank_name);$.txt_bank_account.setValue(popResult.bank_account);$.txt_bank_depositor.setValue(popResult.bank_depositor);$.spe_pension_change_amt.setValue(popResult.pension_change_amt);$.spe_midway_income_tax_amt.setValue(popResult.midway_income_tax_amt);$.spe_midway_local_tax_amt.setValue(popResult.midway_local_tax_amt);ymdcalc_date_EditValueModified();fnRetire_Total_Calc()}}}};$.fingerpopup2_close=function(id){};$.fingerradiobox_change=function(id,value){};$.fingertab_selectionchange=function(id,tabid){};$.fingertab_ontabclose=function(id,tabid){};$.fingertree_select=function(id,value){};$.fingertree_dblclick=function(id,nodeid){};$.fingertree_refresh=function(id){};$.fingerscheduler_before_event_changed=function(id,event_object,native_event,is_new,unmodified_event){};$.fingerscheduler_before_event_delete=function(id,event_id,event_object){};$.fingerscheduler_event_click=function(id,event_id,event_object,native_event_object){};$.fingerscheduler_ready=function(id){};$.fingerscheduler_before_event_created=function(id,start_date,end_date){};$.fingerscheduler_view_display=function(id,view){};$.fingerscheduler_event_reg=function(id,obj){};$.fingerfilepanel_upload_click=function(id,fileId,fileName){};$.fingerfilepanel_download_click=function(id,fileId,fileName){};$.fingerfilepanel_delete_click=function(id,fileId,fileName){};$.fingerimage_click=function(id){}};</script>