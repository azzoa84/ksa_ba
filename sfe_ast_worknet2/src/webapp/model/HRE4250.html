<script>function Main(){var $=this;$.host=null;$.panMain=null;$.panQuery=null;$.panRatingList=null;$.panTab=null;$.tabMain=null;$.panTab1=null;$.panTab2=null;$.panTab3=null;$.grdRatingList=null;$.grdList1=null;$.grdList2=null;$.grdList3=null;$.panSub=null;$.memReqText=null;$.panList=null;$.grdList=null;$.grdInfo=null;$.lblYear=null;$.lblEvalName=null;$.lblDept=null;$.lblEmp=null;$.cmbYear=null;$.cmbEvalName=null;$.bteDept=null;$.bteEmp=null;$.txtPeriod=null;$.btnSave=null;$.panTFT=null;$.lblTFTaction=null;$.lblTFTComment=null;$.memoTFTaction=null;$.memoTFTComment=null;$.lblTFTaction2=null;$.lblKpiNotice1=null;$.lblKpiNotice2=null;$.varDeptCode="";$.varEmpId="";$.varEvalEmp="";$.varJobRank="";$.kpi_grade1_readonly=true;function createJSON_Q(workType){var json=createExecuteParamInfo("HR..P_HRE4250_PERIOD_Q",[workType,$.cmbYear.getValue(),$.cmbEvalName.getValue()]);return json}function createJSON_Q2(workType){var json=createExecuteParamInfo("HR..P_HRE4250_LIST_Q",[workType,$.cmbYear.getValue(),$.cmbEvalName.getValue(),$.varEmpId]);return json}function createJSON_Q3(workType){var json=createExecuteParamInfo("HR..P_HRE4250_EvalInfo_Q",[workType,$.cmbYear.getValue(),$.cmbEvalName.getValue(),$.varEvalEmp]);return json}function createJSON_Q4(workType){var json=createExecuteParamInfo("HR..P_HRE4250_KPI_Q",[workType,$.cmbYear.getValue(),$.cmbEvalName.getValue(),$.varEvalEmp]);return json}function createJSON_Q5(workType){var json=createExecuteParamInfo("HR..P_HRE4250_CompKPIInfo_Q",[workType,$.grdList1.getValue($.grdList1.getSelectedRowIdx(),"kpi_code")]);return json}function createJSON_Q6(workType){var json=createExecuteParamInfo("HR..P_HRE4250_Comp_Q",[workType,$.cmbYear.getValue(),$.varEvalEmp]);return json}function createJSON_Q7(workType){var json=createExecuteParamInfo("HR..P_HRE4250_CompEvalInfo_Q",[workType,$.grdList2.getValue($.grdList2.getSelectedRowIdx(),"competency_level"),$.grdList2.getValue($.grdList2.getSelectedRowIdx(),"comp_code")]);return json}function createJSON_Q8(workType){var json=createExecuteParamInfo("HR..P_HRE4250_SMARTSheet_Q",[workType,$.cmbYear.getValue(),$.varEvalEmp]);return json}function createJSON_S(workType){var json="";var rows=[];for(var i=0;i<$.grdList1.getRowCount();i++){rows.push([workType,$.cmbYear.getValue(),$.cmbEvalName.getValue(),$.varEvalEmp,$.grdList1.getValue(i,"kpi_code"),$.grdList1.getValue(i,"kpi_grade1"),$.grdList1.getValue(i,"kpi_1st_comment"),$.memoTFTComment.getValue(),g_main.session.obj.UserID])}json=createExecuteParamInfo("HR..P_HRE4250_KPI_S",rows);return json}function createJSON_S2(workType){var json="";var cRow=$.grdList2.getChangedRows();if(cRow.length<1){return true}var rows=[];for(var i in cRow){rows.push([workType,$.cmbYear.getValue(),$.varEvalEmp,cRow[i].kbi_code,cRow[i].competency_1st_grade,cRow[i].competency_1st_comment,cRow[i].feedback_4q,g_main.session.obj.UserID])}json=createExecuteParamInfo("HR..P_HRE4250_Comp_S",rows);return json}function searchPeriod(workType){var json=createJSON_Q(workType);callQuery(["req",json],"Period",$)}function searchEvalList(workType){var json=createJSON_Q2(workType);callQuery(["req",json],"Eval_Q",$)}function searchEvalInfo(workType){var json=createJSON_Q3(workType);callQuery(["req",json],"Eval_info",$)}function searchKPI(workType){var json=createJSON_Q4(workType);callQuery(["req",json],"KPI_Q",$)}function searchKPIInfo(workType){var json=createJSON_Q5(workType);callQuery(["req",json],"KPI_Info",$)}function searchComp(workType){var json=createJSON_Q6(workType);callQuery(["req",json],"Comp_Q",$)}function searchCompInfo(workType){var json=createJSON_Q7(workType);callQuery(["req",json],"Comp_Info",$)}function searchSMART(workType){var json=createJSON_Q8(workType);callQuery(["req",json],"SMART",$)}function saveKPI(workType){var json=createJSON_S(workType);if(json){var ds=callExecuteSync(["req",json],workType,$)}}function saveComp(workType){var json=createJSON_S2(workType);if(json){var ds=callExecuteSync(["req",json],workType,$)}}function gridClear(){$.grdList.setData("");$.grdInfo.setData("");$.grdList1.setData("");$.grdList2.setData("");$.grdList3.setData("")}$.init=function(host,args){$.panMain=new FingerPanel(host,"panMain",0,0,1200,840);$.panMain.setText("");$.panMain.setBottomLine(true);$.panQuery=new FingerPanel(host,"panQuery",0,235,250,230);$.panQuery.setText("평가 기본 정보");$.panQuery.setBottomLine(true);$.panRatingList=new FingerPanel(host,"panRatingList",0,475,250,360);$.panRatingList.setText("평가 척도");$.panRatingList.setBottomLine(true);$.panTab=new FingerPanel(host,"panTab",260,70,940,670);$.panTab.setText("");$.panTab.setBottomLine(true);$.tabMain=new FingerTab(host,"tabMain",0,20,940,650);$.panTab1=new FingerPanel(host,"panTab1",0,0,940,625);$.panTab1.setText("");$.panTab1.setBottomLine(true);$.panTab2=new FingerPanel(host,"panTab2",0,0,890,620);$.panTab2.setText("");$.panTab2.setBottomLine(true);$.panTab3=new FingerPanel(host,"panTab3",0,0,940,625);$.panTab3.setText("");$.panTab3.setBottomLine(true);$.grdRatingList=new FingerDataGrid(host,"grdRatingList",0,0,250,315);$.grdList1=new FingerDataGrid(host,"grdList1",0,0,940,650);$.grdList2=new FingerDataGrid(host,"grdList2",0,0,940,620);$.grdList3=new FingerDataGrid(host,"grdList3",0,0,940,465);$.panSub=new FingerPanel(host,"panSub",0,475,940,140);$.panSub.setText("역량개발 활용방법(Recource)관련 제안사항");$.panSub.setBottomLine(true);$.memReqText=new FingerMemoEdit(host,"memReqText",0,0,934,90);$.panList=new FingerPanel(host,"panList",0,0,250,230);$.panList.setText("피평가자 리스트");$.panList.setBottomLine(true);$.grdList=new FingerDataGrid(host,"grdList",0,0,250,180);$.grdInfo=new FingerDataGrid(host,"grdInfo",260,0,940,65);$.lblYear=new FingerLabel(host,"lblYear",0,10,80,20);$.lblYear.setText("평가년도");$.lblEvalName=new FingerLabel(host,"lblEvalName",0,40,80,20);$.lblEvalName.setText("평가명");$.lblDept=new FingerLabel(host,"lblDept",0,120,80,20);$.lblDept.setText("부서");$.lblEmp=new FingerLabel(host,"lblEmp",0,150,80,20);$.lblEmp.setText("평가자");$.cmbYear=new FingerComboBox(host,"cmbYear",85,10,140,20);$.cmbEvalName=new FingerComboBox(host,"cmbEvalName",85,40,140,20);$.bteDept=new FingerButtonEdit(host,"bteDept",85,120,140,20);$.bteDept.setText("");$.bteEmp=new FingerButtonEdit(host,"bteEmp",85,150,140,20);$.bteEmp.setText("");$.txtPeriod=new FingerEdit(host,"txtPeriod",85,80,140,20);$.btnSave=new FingerButton(host,"btnSave",1110,80,90,30);$.btnSave.setText("저장");$.panTFT=new FingerPanel(host,"panTFT",260,740,940,100);$.panTFT.setText("");$.panTFT.setBottomLine(true);$.lblTFTaction=new FingerLabel(host,"lblTFTaction",5,25,100,20);$.lblTFTaction.setText("");$.lblTFTComment=new FingerLabel(host,"lblTFTComment",465,40,80,20);$.lblTFTComment.setText("Comment");$.memoTFTaction=new FingerMemoEdit(host,"memoTFTaction",120,0,350,95);$.memoTFTComment=new FingerMemoEdit(host,"memoTFTComment",550,0,385,95);$.lblTFTaction2=new FingerLabel(host,"lblTFTaction2",0,40,115,20);$.lblTFTaction2.setText("AKR TFT 활동사항");$.lblKpiNotice1=new FingerLabel(host,"lblKpiNotice1",270,0,380,20);$.lblKpiNotice1.setText("조직변경과 무관하여 FY19에 연간평가로 진행하는 경우는");$.lblKpiNotice2=new FingerLabel(host,"lblKpiNotice2",270,20,500,20);$.lblKpiNotice2.setText('상반기에 "1차평가점수"는 작성하지 않고, 1차평가 의견만 작성해 주시면 됩니다.');$.grdRatingList.colIdx=$.grdRatingList.setColumns([new FingerDataGridColumn("RatingScore",60,"center","string","Rating",{verticalMiddle:true}),new FingerDataGridColumn("RatingScale",172,"left","string","평가척도",{adjustRowHeight:true})]);$.grdRatingList.init({panel:$.panRatingList,nonExcel:true,isFilter:false});$.grdRatingList.setEditable(false);$.grdList1.colIdx=$.grdList1.setColumns([new FingerDataGridColumn("kpi_type",70,"left","string","성과구분",{hidden:true,footer:{text:"",colspan:5}}),new FingerDataGridColumn("kpi_csf",140,"center","string","핵심실행과제",{readonly:true,multiLine:true,verticalMiddle:true}),new FingerDataGridColumn("kpi_code",99,"left","string","KPI코드",{hidden:true}),new FingerDataGridColumn("kpi_name",100,"center","string","KPI",{readonly:true,multiLine:true,verticalMiddle:true}),new FingerDataGridColumn("weighted_rate",80,"center","string","가중치(%)",{readonly:true,footer:{content:"summColumn"},verticalMiddle:true}),new FingerDataGridColumn("kpi_self_output",250,"left","multi_line_edit","주요 성과(FY19 상반기)",{readonly:true}),new FingerDataGridColumn("kpi_self_comment",250,"left","multi_line_edit","본인 의견(Reflection)",{readonly:true}),new FingerDataGridColumn("kpi_self_grade",80,"center","string","자기평가",{readonly:true,verticalMiddle:true}),new FingerDataGridColumn("kpi_grade1",80,"center","string","1차평가",{verticalMiddle:true}),new FingerDataGridColumn("kpi_1st_comment",250,"left","multi_line_edit","1차 평가자 의견 (Feedback)"),new FingerDataGridColumn("kpi_progress_state",250,"left","multi_line_edit","진행상황",{hidden:true,readonly:true}),new FingerDataGridColumn("kpi_plan_request",250,"left","multi_line_edit","향후 Action Plan 및 제안(요청사항)",{hidden:true,readonly:true}),new FingerDataGridColumn("mgr_feedback",250,"left","multi_line_edit","상사 feedback",{hidden:true,readonly:true})]);$.grdList1.init({scroll:"xy",footer:true,eventCellReadOnly:true,leftSplit:5,rowHeight:150});$.grdList1.setEditable(true);$.grdList2.colIdx=$.grdList2.setColumns([new FingerDataGridColumn("comp_name",180,"center","string","역량항목<br>Astellas<br>7 Competencies",{readonly:true,multiLine:true,verticalMiddle:true}),new FingerDataGridColumn("competency_level",140,"left","string","역량구분",{hidden:true}),new FingerDataGridColumn("kbi_code",140,"left","string","KBI 코드",{hidden:true}),new FingerDataGridColumn("comp_code",140,"left","string","역량코드",{hidden:true}),new FingerDataGridColumn("competency_self_comment",280,"left","multi_line_edit","발현 역량　본인 Review<br>(FY19 상반기 내용 작성)",{readonly:true}),new FingerDataGridColumn("competency_self_grade",75,"center","multi_line_edit","자기 평가",{verticalMiddle:true,hidden:true,readonly:true}),new FingerDataGridColumn("competency_1st_grade",75,"center","string","<br>1차 평가<br>",{hidden:true,verticalMiddle:true}),new FingerDataGridColumn("competency_1st_comment",290,"left","multi_line_edit","<br>1차 평가자 의견 (Feedback)<br>"),new FingerDataGridColumn("self_review_2q",250,"left","multi_line_edit","2Q(본인행동기록)<br>(현재 수준 및<br> 역량행동 Review)",{hidden:true,readonly:true}),new FingerDataGridColumn("feedback_2q",250,"left","multi_line_edit","2Q(상사 Feedback)<br>(육성Point 및 진행사항,<br> 코칭Point)",{hidden:true,readonly:true}),new FingerDataGridColumn("self_review_1q",250,"left","multi_line_edit","1Q(본인행동기록)<br>(현재 수준 및<br> 역량행동 Review)",{hidden:true,readonly:true}),new FingerDataGridColumn("feedback_1q",250,"left","multi_line_edit","1Q(상사 Feedback)<br>(육성Point 및 진행사항,<br> 코칭Point)",{hidden:true,readonly:true}),new FingerDataGridColumn("self_review_4q",250,"left","multi_line_edit","4Q(본인행동기록)<br>(현재 수준 및<br> 역량행동 Review)",{hidden:true,readonly:true}),new FingerDataGridColumn("feedback_4q",250,"left","multi_line_edit","4Q(상사 Feedback)<br>(육성Point 및 진행사항,<br> 코칭Point)",{hidden:true,readonly:true}),new FingerDataGridColumn("self_review_3q",250,"left","multi_line_edit","3Q(본인행동기록)<br>(현재 수준 및<br> 역량행동 Review)",{hidden:true,readonly:true}),new FingerDataGridColumn("feedback_3q",250,"left","multi_line_edit","3Q(상사 Feedback)<br>(육성Point 및 진행사항,<br> 코칭Point)",{hidden:true,readonly:true})]);$.grdList2.init({scroll:"xy",leftSplit:1,headerRowHeight:60,rowHeight:150});$.grdList2.setEditable(true);$.grdList3.colIdx=$.grdList3.setColumns([new FingerDataGridColumn("compcode",140,"center","string",[{text:"",colspan:2},"개발 역량 항목"],{multiLine:true,verticalMiddle:true}),new FingerDataGridColumn("seq",99,"left","string",["","순번"],{hidden:true}),new FingerDataGridColumn("from_now",70,"center","string",[{text:"목표 수준",colspan:2},"From"],{verticalMiddle:true}),new FingerDataGridColumn("to_be",70,"center","string",["","To"],{verticalMiddle:true}),new FingerDataGridColumn("act_chg_indicator",250,"left","multi_line_edit",[{text:"",colspan:6},"구체적 행동 변화 지표"]),new FingerDataGridColumn("dev_resource",150,"left","string",["","개발 Resource"],{verticalMiddle:true}),new FingerDataGridColumn("dev_plan",250,"left","multi_line_edit",["","본인 개발계획"]),new FingerDataGridColumn("time_plan",250,"left","multi_line_edit",["","진행일정"],{hidden:true}),new FingerDataGridColumn("feedback",250,"left","multi_line_edit",["","Manager FeedBack"],{readonly:true}),new FingerDataGridColumn("fix_yn",80,"left","string",["","승인여부"],{hidden:true})]);$.grdList3.init({scroll:"xy",rowHeight:150});$.grdList3.setEditable(false);$.grdList.setColumns([new FingerDataGridColumn("eval_group_code",70,"left","string","그룹"),new FingerDataGridColumn("dept_code",99,"left","string","부서코드",{hidden:true}),new FingerDataGridColumn("dept_name",99,"left","string","부서",{hidden:true}),new FingerDataGridColumn("emp_code",99,"left","string","사번",{hidden:true}),new FingerDataGridColumn("emp_name",85,"left","string","이름"),new FingerDataGridColumn("eval_job_rank",99,"left","string","직급",{hidden:true}),new FingerDataGridColumn("eval_duty_code",99,"left","string","직책",{hidden:true}),new FingerDataGridColumn("eval_job_code",99,"left","string","직무",{hidden:true}),new FingerDataGridColumn("eval_score",77,"right","string","업적점수")]);$.grdList.init({scroll:"xy"});$.panList.setBorder(false);$.grdInfo.setColumns([new FingerDataGridColumn("department_name",200,"left","string","부서"),new FingerDataGridColumn("evaluated_emp",120,"left","string","사번"),new FingerDataGridColumn("employee_name",150,"left","string","이름"),new FingerDataGridColumn("kpi_eval_self_score",150,"right","string","KPI 자기평가점수"),new FingerDataGridColumn("kpi_eval_score1",150,"right","string","KPI 1차평가점수"),new FingerDataGridColumn("kbi_eval_self_score",99,"right","string","역량 자기평가점수",{hidden:true}),new FingerDataGridColumn("kbi_eval_score1",152,"right","string","역량 1차평가점수"),new FingerDataGridColumn("job_rank",99,"left","string","직급",{hidden:false})]);$.grdInfo.init();$.tabMain.addTab([{text:"업적KPI",body:$.panTab1,width:150},{text:"역량 7' Competencies",body:$.panTab2,width:150}]);$.panTFT.setBorder(true);$.cmbYear.setAllowBlank(false,"평가년도");$.cmbEvalName.setAllowBlank(false,"평가명");$.bteDept.setAllowBlank(false,"부서");$.bteEmp.setAllowBlank(false,"평가자");$.memoTFTaction.setReadOnly(true);$.varDeptCode=g_main.session.obj.DpetCode;$.varEmpId=g_main.session.obj.UserID;$.bteDept.setText(g_main.session.obj.DeptName);$.bteEmp.setText(g_main.session.obj.UserName);$.panTab2.setVisible(true);$.panTab3.setVisible(false);if(g_main.session.obj.HREvaluateRole!="ADMIN"){$.bteDept.setEnable(false);$.bteEmp.setEnable(false)}$.txtPeriod.setReadOnly(true);$.memReqText.setReadOnly(true);$.btnSave.setClass("btn_save");$.btnSave.setEnable(true);$.bteEmp.setDirectSearch("#EMP#",function(ds){if(ds&&ds.resultList&&ds.resultList[0]){var list=ds.resultList[0];if(list.length==1){$.varEmpId=list[0]["value"];$.bteEmp.setText(list[0]["text"]);$.varDeptCode=list[0]["dept_code"];$.bteDept.setText(list[0]["dept_name"]);if($.cmbYear.getValue()!=""&&$.cmbEvalName.getValue()!=""&&$.varEmpId!=""&&$.varDeptCode!=""){gridClear();searchEvalList("Q")}}else{$.fingerbuttonedit_click("bteEmp")}}});$.host=host;$.args=args};$.start=function(){$.panMain.add($.panQuery);$.panMain.add($.panRatingList);$.panMain.add($.panTab);$.panMain.add($.panList);$.panMain.add($.grdInfo);$.panMain.add($.btnSave);$.panMain.add($.panTFT);$.panQuery.add($.lblYear);$.panQuery.add($.lblEvalName);$.panQuery.add($.lblDept);$.panQuery.add($.lblEmp);$.panQuery.add($.cmbYear);$.panQuery.add($.cmbEvalName);$.panQuery.add($.bteDept);$.panQuery.add($.bteEmp);$.panQuery.add($.txtPeriod);$.panRatingList.add($.grdRatingList);$.panTab.add($.tabMain);$.panTab.add($.lblKpiNotice1);$.panTab.add($.lblKpiNotice2);$.panTab1.add($.grdList1);$.panTab2.add($.grdList2);$.panTab3.add($.grdList3);$.panTab3.add($.panSub);$.panSub.add($.memReqText);$.panList.add($.grdList);$.panTFT.add($.lblTFTaction);$.panTFT.add($.lblTFTComment);$.panTFT.add($.memoTFTaction);$.panTFT.add($.memoTFTComment);$.panTFT.add($.lblTFTaction2);$.cmbEvalName.setEmptyRow(true);$.cmbYear.setColumn("eval_year","eval_year1");$.cmbEvalName.setColumn("eval_month","eval_name");var ds=bizComponentData2($,"Q1","L_HRE010|L_HRE009");setComboBind([$.cmbYear,$.cmbEvalName],ds);var ds=bizComponentData2($,"Q1","L_HRE007|L_HRE008|L_HRE032|L_HRE028|L_HRE029|L_HRE030");$.grdList1.setColumnDropDownList("kpi_type",ds.resultList[0]);$.grdList2.setColumnDropDownList("competency_self_grade",ds.resultList[2]);$.grdList2.setColumnDropDownList("competency_1st_grade",ds.resultList[2]);$.grdList3.setColumnDropDownList("compcode",ds.resultList[3],{key:"CompetencyCode",name:"CompetencyShortName"});$.grdList3.setColumnDropDownList("from_now",ds.resultList[4]);$.grdList3.setColumnDropDownList("to_be",ds.resultList[4]);$.grdList3.setColumnDropDownList("dev_resource",ds.resultList[5])};$.callback=function(type,ds){if(type=="Period"){if(ds.resultList[0].length>0){$.txtPeriod.setValue(ds.resultList[0][0].eval_period)}else{$.txtPeriod.setValue("")}}else{if(type=="Eval_Q"){setDataGrid([$.grdList],ds);if(ds.resultList[0].length>0){$.lblTFTaction.setText(ds.resultList[0][0].eval_period)}if($.varEvalEmp!=""){$.grdList.selectRow($.grdList.getGridRowIndex("emp_code",$.varEvalEmp,0))}else{$.grdList.selectRow(0)}}else{if(type=="Eval_info"){setDataGrid([$.grdInfo],ds);$.memoTFTaction.setValue(ds.resultList[0][0].tft_action_result);$.memoTFTComment.setValue(ds.resultList[0][0].tft_action_comment);$.grdInfo.selectRow(0)}else{if(type=="KPI_Q"){$.grdList1.setData("");setDataGrid([$.grdList1],ds);var aRow=$.grdList1.getAllRows();if(g_main.session.obj.DeptCode.substr(0,1)=="S"||g_main.session.obj.DeptCode.substr(0,1)=="T"){$.kpi_grade1_readonly=true}else{var ds=bizComponentData2($,"Q4","L_HRE008","and system_yn = 'Y'");$.grdList1.setColumnDropDownList("kpi_grade1",ds.resultList[0]);$.kpi_grade1_readonly=false}}else{if(type=="KPI_Info"){setDataGrid([$.grdRatingList],ds)}else{if(type=="Comp_Q"){$.grdList2.setData("");setDataGrid([$.grdList2],ds)}else{if(type=="Comp_Info"){setDataGrid([$.grdRatingList],ds)}else{if(type=="SMART"){$.grdList3.setData("");setDataGrid([$.grdList3],ds)}}}}}}}}};$.update=function(args){$.args=args};$.executeScript=function(script){eval(script)};$.fingerbutton_click=function(id){if(id=="btnSave"){var cRow=$.grdList2.getAllRows();var score=["1","2","4","5"];for(var i in cRow){if(score.indexOf(cRow[i].competency_1st_grade)!=-1&&cRow[i].competency_1st_comment==""){MessageBoxShow("Competency 평가 점수가 1, 2, 4, 5점인 경우 Comment가 필수적으로 입력되어야 합니다.");return}}$.grdList1.editStop();$.grdList2.editStop();$.grdList3.editStop();saveKPI("S");saveComp("S");gridClear();searchEvalList("Q");searchEvalInfo("Q");searchKPI("Q");searchComp("Q");searchSMART("Q")}};$.fingermultiselect_checkchange=function(id,index){};$.fingermultiselect_itemchange=function(id){};$.fingerbuttonedit_click=function(id){$.popUpCallId=id;if(id=="bteEmp"){param={emp_name:$.bteEmp.getText()};g_main.openPopup("popEmp.html","popEmp","",0,0,"","",param,"","")}else{if(id=="bteDept"){var param={dept_name:$.bteDept.getText()||""};g_main.openPopup("popDept.html","popDept","",0,0,"","",param,"","")}}};$.fingerbuttonedit_change=function(id,value){};$.fingerbuttonedit_keypress=function(id,value){};$.fingerbuttonedit_lostfocus=function(id,value){};$.fingercheckbox_change=function(id,value){};$.fingercombobox_change=function(id,value){if(id=="cmbYear"||id=="cmbEvalName"){if($.cmbYear.getValue()==""||$.cmbEvalName.getValue()==""){return}searchPeriod("Q");if($.varDeptcode==""||$.varEmpId==""){return}gridClear();searchEvalList("Q")}};$.fingerdateedit_click=function(id){};$.fingerdateedit_change=function(id,value){if(id=="dteYear"){if($.bteEmpName.getValue()!=""){$.cmbEvalMonth.clear();$.cmbEvalMonth.setColumn("eval_month","eval_name");var strQuery=" and eval_year = '"+$.dteYear.getValue()+"'";var ds2=bizComponentData2($,"Q4","L_HRE009",strQuery);setComboBind([$.cmbEvalMonth],ds2)}}};$.fingerdatagrid_itemclick=function(id,rId,cInd){};$.fingerdatagrid_selectionchange=function(id,rId){if(id=="grdList"){$.varEvalEmp=$.grdList.getValue(rId,"emp_code");searchEvalInfo("Q");searchKPI("Q");searchComp("Q");searchSMART("Q")}else{if(id=="grdList1"){var aRow=$.grdList1.getAllRows();for(var i in aRow){aRow[i].kpi_grade1_readonly=$.kpi_grade1_readonly}searchKPIInfo("Q")}else{if(id=="grdList2"){searchCompInfo("Q")}else{if(id=="grdInfo"){$.varJobRank=$.grdInfo.getValue(rId,"job_rank")}}}}};$.fingerdatagrid_cellvaluechange=function(id,rId,cInd,nValue,oValue){if(id=="grdList1"||id=="grdList2"){$.btnSave.setEnable(true)}};$.fingerdatagrid_rowdblclicked=function(id,rId,cInd){};$.fingerdatagrid_celllink_click=function(e,gridid,rId,cId,value){};$.fingerdatagrid_popupcelldblclicked=function(id,rId,cInd){};$.fingerdatagrid_drag=function(id,sId,tId,sObj,tObj,sInd,tInd){};$.fingeredit_change=function(id,value){};$.fingeredit_keypress=function(id,value){};$.fingeredit_lostfocus=function(id,value){};$.fingerimage_click=function(id){};$.fingerlayout_panelresizefinish=function(id){};$.fingerlayout_resizefinish=function(id){};$.fingerpanel_button_click=function(panelId,btnId){};$.fingerpopup_close=function(id){var popResult=g_popupStack.shareData;if(popResult){if(id=="popEmp"){if($.popUpCallId=="bteEmp"){if(popResult.employee_id){$.varEmpId=popResult.employee_id;$.bteEmp.setText(popResult.emp_name);$.varDeptCode=popResult.dept_code;$.bteDept.setText(popResult.dept_name);if($.cmbYear.getValue()!=""&&$.cmbEvalName.getValue()!=""&&$.varEmpId!=""&&$.varDeptCode!=""){gridClear();searchEvalList("Q")}}}}else{if(id=="popDept"){if($.popUpCallId=="bteDept"){if(popResult.dept_code){$.varDeptCode=popResult.dept_code;$.bteDept.setText(popResult.dept_name);$.varEmpId="";$.bteEmp.setText("")}}}}}};$.fingerpopup2_close=function(id){};$.fingerradiobox_change=function(id,value){};$.fingertab_selectionchange=function(id,tabid){};$.fingertab_ontabclose=function(id,tabid){};$.fingertree_select=function(id,value){};$.fingertree_dblclick=function(id,nodeid){};$.fingertree_refresh=function(id){};$.fingerscheduler_before_event_changed=function(id,event_object,native_event,is_new,unmodified_event){};$.fingerscheduler_before_event_delete=function(id,event_id,event_object){};$.fingerscheduler_event_click=function(id,event_id,event_object,native_event_object){};$.fingerscheduler_ready=function(id){};$.fingerscheduler_before_event_created=function(id,start_date,end_date){};$.fingerscheduler_view_display=function(id,view){};$.fingerscheduler_event_reg=function(id,obj){};$.fingerfilepanel_upload_click=function(id,fileId,fileName){};$.fingerfilepanel_download_click=function(id,fileId,fileName){};$.fingerfilepanel_delete_click=function(id,fileId,fileName){};$.fingerimage_change=function(id,value){};$.fingerimage_rotate=function(id,value){};$.fingertab_click=function(id,tabid){};$.fingerpopup_click_x_button=function(){};$.fingeriframe_onload=function(id){};$.fingerhtmlview_click=function(id){}};</script>