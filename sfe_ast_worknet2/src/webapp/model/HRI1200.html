<script>function Main(){var $=this;$.host=null;$.panMain=null;$.panQuery=null;$.panTree=null;$.panInfo=null;$.lblEmpCodeQ=null;$.txtEmpCodeQ=null;$.lblEmpNameQ=null;$.txtEmpNameQ=null;$.lblStartDate=null;$.dteStartDate=null;$.chkRetireYn=null;$.btnSearch=null;$.treList=null;$.imgEmpPhoto=null;$.lblEmpCode=null;$.txtEmpCode=null;$.lblEmpName=null;$.txtEmpFname=null;$.txtEmpName=null;$.lblEmpNameChn=null;$.txtEmpFnameChn=null;$.txtEmpNameChn=null;$.lblEmpNameEng=null;$.txtEmpFnameEng=null;$.txtEmpNameEng=null;$.lblDept=null;$.txtDeptCode=null;$.bteDeptName=null;$.lblBirthDay=null;$.dteBirthDay=null;$.cmbBirthDayType=null;$.lblGender=null;$.cmbGender=null;$.lblNationCode=null;$.cmbNationCode=null;$.lblForeignerYn=null;$.cmbForeignerYn=null;$.lblEnterDate=null;$.dteEnterDate=null;$.lblPositionCode=null;$.cmbPositionCode=null;$.lblDutyType=null;$.cmbDutyType=null;$.lblJobFamily=null;$.cmbJobFamily=null;$.lblJobCode=null;$.cmbJobCode=null;$.lblEmpState=null;$.cmbEmpState=null;$.lblWorkRegion=null;$.cmbWorkRegion=null;$.txtWorkRegionDesc=null;$.lblTeleWorkingYn=null;$.chkTeleWorkingYn=null;$.lblTeleWorkingAddress=null;$.txtTeleWorkingAddress=null;$.lblRegisterAddress=null;$.txtRegisterAddress=null;$.lblResidenceAddress=null;$.txtResidenceAddress=null;$.lblCellPhoneNum=null;$.txtCellPhoneNum=null;$.lblHomeTelNum=null;$.txtHomeTelNum=null;$.lblInEmail=null;$.txtInEmail=null;$.lblOutEmail=null;$.txtOutEmail=null;$.lblSampleDelivery=null;$.cmbSampleDelivery=null;function createJSON_Q(workType){var json=createExecuteParamInfo("HR..P_HRI1200_Q",[workType,workType=="EMP_TREE1"?$.txtEmpCodeQ.getValue():$.txtEmpCode.getValue(),$.txtEmpNameQ.getValue(),$.dteStartDate.getValue()||"",$.chkRetireYn.getValue()]);return json}function searchList(workType){var json=createJSON_Q(workType);callQuery(["req",json],workType,$)}$.init=function(host,args){$.panMain=new FingerPanel(host,"panMain",0,0,1200,780);$.panMain.setText("");$.panMain.setBottomLine();$.panQuery=new FingerPanel(host,"panQuery",0,0,1200,55);$.panQuery.setText("");$.panQuery.setBottomLine();$.panTree=new FingerPanel(host,"panTree",0,65,330,715);$.panTree.setText("사원리스트");$.panTree.setBottomLine(true);$.panInfo=new FingerPanel(host,"panInfo",345,65,855,715);$.panInfo.setText("사원정보");$.panInfo.setBottomLine(true);$.lblEmpCodeQ=new FingerLabel(host,"lblEmpCodeQ",0,15,100,20);$.lblEmpCodeQ.setText("사번");$.txtEmpCodeQ=new FingerEdit(host,"txtEmpCodeQ",105,15,140,20);$.lblEmpNameQ=new FingerLabel(host,"lblEmpNameQ",225,15,100,20);$.lblEmpNameQ.setText("성명");$.txtEmpNameQ=new FingerEdit(host,"txtEmpNameQ",330,15,140,20);$.lblStartDate=new FingerLabel(host,"lblStartDate",460,15,100,20);$.lblStartDate.setText("기준일");$.dteStartDate=new FingerDateEdit(host,"dteStartDate",565,15,140,20);$.chkRetireYn=new FingerCheckBox(host,"chkRetireYn",750,15,140,20);$.chkRetireYn.setText("퇴사자 포함");$.btnSearch=new FingerButton(host,"btnSearch",1120,15,80,20);$.btnSearch.setText("조회");$.treList=new FingerTree(host,"treList",0,0,330,670);$.imgEmpPhoto=new FingerImage(host,"imgEmpPhoto",45,25,140,173);$.lblEmpCode=new FingerLabel(host,"lblEmpCode",175,25,100,20);$.lblEmpCode.setText("사번");$.txtEmpCode=new FingerEdit(host,"txtEmpCode",280,25,225,20);$.lblEmpName=new FingerLabel(host,"lblEmpName",485,25,100,20);$.lblEmpName.setText("성명");$.txtEmpFname=new FingerEdit(host,"txtEmpFname",590,25,80,20);$.txtEmpName=new FingerEdit(host,"txtEmpName",675,25,140,20);$.lblEmpNameChn=new FingerLabel(host,"lblEmpNameChn",175,55,100,20);$.lblEmpNameChn.setText("성명(한문)");$.txtEmpFnameChn=new FingerEdit(host,"txtEmpFnameChn",280,55,80,20);$.txtEmpNameChn=new FingerEdit(host,"txtEmpNameChn",365,55,140,20);$.lblEmpNameEng=new FingerLabel(host,"lblEmpNameEng",485,55,100,20);$.lblEmpNameEng.setText("성명(영문)");$.txtEmpFnameEng=new FingerEdit(host,"txtEmpFnameEng",590,55,80,20);$.txtEmpNameEng=new FingerEdit(host,"txtEmpNameEng",675,55,140,20);$.lblDept=new FingerLabel(host,"lblDept",175,85,100,20);$.lblDept.setText("부서");$.txtDeptCode=new FingerEdit(host,"txtDeptCode",280,85,80,20);$.bteDeptName=new FingerButtonEdit(host,"bteDeptName",365,85,140,20);$.bteDeptName.setText("");$.lblBirthDay=new FingerLabel(host,"lblBirthDay",485,85,100,20);$.lblBirthDay.setText("생년월일");$.dteBirthDay=new FingerDateEdit(host,"dteBirthDay",590,85,120,20);$.cmbBirthDayType=new FingerComboBox(host,"cmbBirthDayType",715,85,100,20);$.lblGender=new FingerLabel(host,"lblGender",175,115,100,20);$.lblGender.setText("성별");$.cmbGender=new FingerComboBox(host,"cmbGender",280,115,225,20);$.lblNationCode=new FingerLabel(host,"lblNationCode",175,145,100,20);$.lblNationCode.setText("국적");$.cmbNationCode=new FingerComboBox(host,"cmbNationCode",280,145,225,20);$.lblForeignerYn=new FingerLabel(host,"lblForeignerYn",485,145,100,20);$.lblForeignerYn.setText("외국인여부");$.cmbForeignerYn=new FingerComboBox(host,"cmbForeignerYn",590,145,225,20);$.lblEnterDate=new FingerLabel(host,"lblEnterDate",175,175,100,20);$.lblEnterDate.setText("입사일");$.dteEnterDate=new FingerDateEdit(host,"dteEnterDate",280,175,225,20);$.lblPositionCode=new FingerLabel(host,"lblPositionCode",120,205,100,20);$.lblPositionCode.setText("호칭");$.cmbPositionCode=new FingerComboBox(host,"cmbPositionCode",225,205,140,20);$.lblDutyType=new FingerLabel(host,"lblDutyType",345,205,100,20);$.lblDutyType.setText("직책");$.cmbDutyType=new FingerComboBox(host,"cmbDutyType",450,205,140,20);$.lblJobFamily=new FingerLabel(host,"lblJobFamily",570,205,100,20);$.lblJobFamily.setText("직종");$.cmbJobFamily=new FingerComboBox(host,"cmbJobFamily",675,205,140,20);$.lblJobCode=new FingerLabel(host,"lblJobCode",120,235,100,20);$.lblJobCode.setText("직무");$.cmbJobCode=new FingerComboBox(host,"cmbJobCode",225,235,140,20);$.lblEmpState=new FingerLabel(host,"lblEmpState",345,235,100,20);$.lblEmpState.setText("재직구분");$.cmbEmpState=new FingerComboBox(host,"cmbEmpState",450,235,140,20);$.lblWorkRegion=new FingerLabel(host,"lblWorkRegion",120,265,100,20);$.lblWorkRegion.setText("근무지역");$.cmbWorkRegion=new FingerComboBox(host,"cmbWorkRegion",225,265,140,20);$.txtWorkRegionDesc=new FingerEdit(host,"txtWorkRegionDesc",370,265,445,20);$.lblTeleWorkingYn=new FingerLabel(host,"lblTeleWorkingYn",120,295,100,20);$.lblTeleWorkingYn.setText("자택근무");$.chkTeleWorkingYn=new FingerCheckBox(host,"chkTeleWorkingYn",225,300,20,20);$.chkTeleWorkingYn.setText("");$.lblTeleWorkingAddress=new FingerLabel(host,"lblTeleWorkingAddress",265,295,100,20);$.lblTeleWorkingAddress.setText("주소");$.txtTeleWorkingAddress=new FingerEdit(host,"txtTeleWorkingAddress",370,295,445,20);$.lblRegisterAddress=new FingerLabel(host,"lblRegisterAddress",115,325,105,20);$.lblRegisterAddress.setText("주민등록지주소");$.txtRegisterAddress=new FingerEdit(host,"txtRegisterAddress",225,325,590,20);$.lblResidenceAddress=new FingerLabel(host,"lblResidenceAddress",120,355,100,20);$.lblResidenceAddress.setText("현거주주소");$.txtResidenceAddress=new FingerEdit(host,"txtResidenceAddress",225,355,590,20);$.lblCellPhoneNum=new FingerLabel(host,"lblCellPhoneNum",120,385,100,20);$.lblCellPhoneNum.setText("휴대폰번호");$.txtCellPhoneNum=new FingerEdit(host,"txtCellPhoneNum",225,385,220,20);$.lblHomeTelNum=new FingerLabel(host,"lblHomeTelNum",490,385,100,20);$.lblHomeTelNum.setText("자택전화번호");$.txtHomeTelNum=new FingerEdit(host,"txtHomeTelNum",595,385,220,20);$.lblInEmail=new FingerLabel(host,"lblInEmail",120,415,100,20);$.lblInEmail.setText("사내이메일");$.txtInEmail=new FingerEdit(host,"txtInEmail",225,415,220,20);$.lblOutEmail=new FingerLabel(host,"lblOutEmail",490,415,100,20);$.lblOutEmail.setText("사외이메일");$.txtOutEmail=new FingerEdit(host,"txtOutEmail",595,415,220,20);$.lblSampleDelivery=new FingerLabel(host,"lblSampleDelivery",120,445,100,20);$.lblSampleDelivery.setText("샘플배송지");$.cmbSampleDelivery=new FingerComboBox(host,"cmbSampleDelivery",225,445,220,20);$.panQuery.setBorder(true);$.txtEmpCode.setReadOnly(true);$.txtEmpFname.setReadOnly(true);$.txtEmpName.setReadOnly(true);$.txtEmpFnameChn.setReadOnly(true);$.txtEmpNameChn.setReadOnly(true);$.txtEmpFnameEng.setReadOnly(true);$.txtEmpNameEng.setReadOnly(true);$.txtDeptCode.setReadOnly(true);$.bteDeptName.setReadOnly(true);$.dteBirthDay.setReadOnly(true);$.cmbBirthDayType.setReadOnly(true);$.cmbGender.setReadOnly(true);$.cmbNationCode.setReadOnly(true);$.cmbForeignerYn.setReadOnly(true);$.dteEnterDate.setReadOnly(true);$.cmbPositionCode.setReadOnly(true);$.cmbDutyType.setReadOnly(true);$.cmbJobFamily.setReadOnly(true);$.cmbJobCode.setReadOnly(true);$.cmbEmpState.setReadOnly(true);$.cmbWorkRegion.setReadOnly(true);$.txtWorkRegionDesc.setReadOnly(true);$.chkTeleWorkingYn.setReadOnly(true);$.txtTeleWorkingAddress.setReadOnly(true);$.txtRegisterAddress.setReadOnly(true);$.txtResidenceAddress.setReadOnly(true);$.txtCellPhoneNum.setReadOnly(true);$.txtHomeTelNum.setReadOnly(true);$.txtInEmail.setReadOnly(true);$.txtOutEmail.setReadOnly(true);$.cmbSampleDelivery.setReadOnly(true);$.cmbBirthDayType.setEmptyRow(true);$.cmbGender.setEmptyRow(true);$.cmbNationCode.setEmptyRow(true);$.cmbForeignerYn.setEmptyRow(true);$.cmbPositionCode.setEmptyRow(true);$.cmbDutyType.setEmptyRow(true);$.cmbJobFamily.setEmptyRow(true);$.cmbJobCode.setEmptyRow(true);$.cmbEmpState.setEmptyRow(true);$.cmbWorkRegion.setEmptyRow(true);$.cmbSampleDelivery.setEmptyRow(true);$.host=host;$.args=args};$.start=function(){$.panMain.add($.panQuery);$.panMain.add($.panInfo);$.panMain.add($.panTree);$.panQuery.add($.lblEmpCodeQ);$.panQuery.add($.txtEmpCodeQ);$.panQuery.add($.lblEmpNameQ);$.panQuery.add($.txtEmpNameQ);$.panQuery.add($.lblStartDate);$.panQuery.add($.dteStartDate);$.panQuery.add($.chkRetireYn);$.panQuery.add($.btnSearch);$.panTree.add($.treList);$.panInfo.add($.imgEmpPhoto);$.panInfo.add($.lblEmpCode);$.panInfo.add($.txtEmpCode);$.panInfo.add($.lblEmpName);$.panInfo.add($.txtEmpFname);$.panInfo.add($.txtEmpName);$.panInfo.add($.lblEmpNameChn);$.panInfo.add($.txtEmpFnameChn);$.panInfo.add($.txtEmpNameChn);$.panInfo.add($.lblEmpNameEng);$.panInfo.add($.txtEmpFnameEng);$.panInfo.add($.txtEmpNameEng);$.panInfo.add($.lblDept);$.panInfo.add($.txtDeptCode);$.panInfo.add($.bteDeptName);$.panInfo.add($.lblBirthDay);$.panInfo.add($.dteBirthDay);$.panInfo.add($.cmbBirthDayType);$.panInfo.add($.lblGender);$.panInfo.add($.cmbGender);$.panInfo.add($.lblNationCode);$.panInfo.add($.cmbNationCode);$.panInfo.add($.lblForeignerYn);$.panInfo.add($.cmbForeignerYn);$.panInfo.add($.lblEnterDate);$.panInfo.add($.dteEnterDate);$.panInfo.add($.lblPositionCode);$.panInfo.add($.cmbPositionCode);$.panInfo.add($.lblDutyType);$.panInfo.add($.cmbDutyType);$.panInfo.add($.lblJobFamily);$.panInfo.add($.cmbJobFamily);$.panInfo.add($.lblJobCode);$.panInfo.add($.cmbJobCode);$.panInfo.add($.lblEmpState);$.panInfo.add($.cmbEmpState);$.panInfo.add($.lblWorkRegion);$.panInfo.add($.cmbWorkRegion);$.panInfo.add($.txtWorkRegionDesc);$.panInfo.add($.lblTeleWorkingYn);$.panInfo.add($.chkTeleWorkingYn);$.panInfo.add($.lblTeleWorkingAddress);$.panInfo.add($.txtTeleWorkingAddress);$.panInfo.add($.lblRegisterAddress);$.panInfo.add($.txtRegisterAddress);$.panInfo.add($.lblResidenceAddress);$.panInfo.add($.txtResidenceAddress);$.panInfo.add($.lblCellPhoneNum);$.panInfo.add($.txtCellPhoneNum);$.panInfo.add($.lblHomeTelNum);$.panInfo.add($.txtHomeTelNum);$.panInfo.add($.lblInEmail);$.panInfo.add($.txtInEmail);$.panInfo.add($.lblOutEmail);$.panInfo.add($.txtOutEmail);$.panInfo.add($.lblSampleDelivery);$.panInfo.add($.cmbSampleDelivery);$.dteStartDate.setValue(getToday());$.cmbNationCode.setColumn("nation_code","nation_name");var ds=bizComponentData2($,"Q1","L_HRM001|L_HRM002|L_COM015|L_COM014|L_HRI002|L_HRI003|L_HRI004|L_HRI006|L_HRI009|L_HRM004|L_HRI998");setComboBind([$.cmbBirthDayType,$.cmbGender,$.cmbNationCode,$.cmbForeignerYn,$.cmbPositionCode,$.cmbDutyType,$.cmbJobFamily,$.cmbJobCode,$.cmbEmpState,$.cmbWorkRegion,$.cmbSampleDelivery],ds);searchList("EMP_TREE1")};$.callback=function(type,ds){if(type=="EMP_TREE1"){$.treList.clearAll();var list=ds.resultList[0];for(var i=0;i<list.length;i++){list[i].sort=(list[i].Type=="EMP"?10:20)}for(var i in list){isParent=false;for(var j in list){if(list[i]["ParentKeyID"]==list[j]["KeyID"]){isParent=true}}if(list[i]["select_image"]=="1"){list[i].order_seq="20000"+list[i].order_seq}if(!isParent){list[i]["ParentKeyID"]=""}}$.treList.load(list,"KeyID","ParentKeyID","Name",null,"order_seq");setTimeout(function(){$.treList.expandAll();if($.txtEmpCodeQ.getText()||$.txtEmpNameQ.getText()){var searchIds=[];var selectEmpId=null;for(var i=0;i<list.length;i++){if(list[i].Type=="EMP"){searchIds.push(list[i]["KeyID"]);selectEmpId=list[i]["KeyID"]}}log(selectEmpId);if(selectEmpId){for(var i=0;i<searchIds.length;i++){$.treList.setFocusNode(searchIds[i])}$.treList.setAllNoneCheck();$.treList.setFocusNode(selectEmpId)}}},100)}else{if(type=="SUB"){$.imgEmpPhoto.setValue(ds.get(0,0,"emp_photo"));$.txtEmpCode.setValue(ds.resultList[0][0].emp_code);$.txtEmpFname.setValue(ds.resultList[0][0].emp_fname);$.txtEmpName.setValue(ds.resultList[0][0].emp_name);$.txtEmpFnameChn.setValue(ds.resultList[0][0].emp_fname_chn);$.txtEmpNameChn.setValue(ds.resultList[0][0].emp_name_chn);$.txtEmpFnameEng.setValue(ds.resultList[0][0].emp_fname_eng);$.txtEmpNameEng.setValue(ds.resultList[0][0].emp_name_eng);$.txtDeptCode.setValue(ds.resultList[0][0].dept_code);$.bteDeptName.setValue(ds.resultList[0][0].dept_name);$.dteBirthDay.setValue(ds.resultList[0][0].birthday);$.cmbBirthDayType.setValue(ds.resultList[0][0].birthday_type);$.cmbGender.setValue(ds.resultList[0][0].gender);$.cmbNationCode.setValue(ds.resultList[0][0].nation_code);$.cmbForeignerYn.setValue(ds.resultList[0][0].foreigner_yn);$.dteEnterDate.setValue(ds.resultList[0][0].enter_date);$.cmbPositionCode.setValue(ds.resultList[0][0].position_code);$.cmbDutyType.setValue(ds.resultList[0][0].duty_code);$.cmbJobFamily.setValue(ds.resultList[0][0].job_family);$.cmbJobCode.setValue(ds.resultList[0][0].job_code);$.cmbEmpState.setValue(ds.resultList[0][0].emp_state);$.cmbWorkRegion.setValue(ds.resultList[0][0].work_region);$.txtWorkRegionDesc.setValue(ds.resultList[0][0].work_region_desc);$.chkTeleWorkingYn.setValue(ds.resultList[0][0].teleworking_yn);$.txtTeleWorkingAddress.setValue(ds.resultList[0][0].teleworking_address);$.txtRegisterAddress.setValue(ds.resultList[0][0].register_address);$.txtResidenceAddress.setValue(ds.resultList[0][0].residence_address);$.txtCellPhoneNum.setValue(ds.resultList[0][0].cellphone_num);$.txtHomeTelNum.setValue(ds.resultList[0][0].home_tel_num);$.txtInEmail.setValue(ds.resultList[0][0].in_email);$.txtOutEmail.setValue(ds.resultList[0][0].out_email);$.cmbSampleDelivery.setValue(ds.resultList[0][0].sample_delivery)}}};$.update=function(args){$.args=args};$.executeScript=function(script){eval(script)};$.fingerbutton_click=function(id){if(id=="btnSearch"){searchList("EMP_TREE1")}};$.fingermultiselect_checkchange=function(id,index){};$.fingermultiselect_itemchange=function(id){};$.fingerbuttonedit_click=function(id){};$.fingerbuttonedit_change=function(id,value){};$.fingerbuttonedit_keypress=function(id,value){};$.fingerbuttonedit_lostfocus=function(id,value){};$.fingercheckbox_change=function(id,value){};$.fingercombobox_change=function(id,value){};$.fingerdateedit_click=function(id){};$.fingerdateedit_change=function(id,value){};$.fingerdatagrid_itemclick=function(id,rId,cInd){};$.fingerdatagrid_selectionchange=function(id,rId){};$.fingerdatagrid_cellvaluechange=function(id,rId,cInd,nValue,oValue){};$.fingerdatagrid_rowdblclicked=function(id,rId,cInd){};$.fingerdatagrid_celllink_click=function(e,gridid,rId,cId,value){};$.fingerdatagrid_popupcelldblclicked=function(id,rId,cInd){};$.fingerdatagrid_drag=function(id,sId,tId,sObj,tObj,sInd,tInd){};$.fingeredit_change=function(id,value){};$.fingeredit_keypress=function(id,value){if(id=="txtEmpCodeQ"&&value=="13"){searchList("EMP_TREE1")}else{if(id=="txtEmpNameQ"&&value=="13"){searchList("EMP_TREE1")}else{if(id=="dteStartDate"&&value=="13"){searchList("EMP_TREE1")}}}};$.fingeredit_lostfocus=function(id,value){};$.fingerimage_click=function(id){};$.fingerlayout_panelresizefinish=function(id){};$.fingerlayout_resizefinish=function(id){};$.fingerpanel_button_click=function(panelId,btnId){};$.fingerpopup_close=function(id){};$.fingerpopup2_close=function(id){};$.fingerradiobox_change=function(id,value){};$.fingertab_selectionchange=function(id,tabid){};$.fingertab_ontabclose=function(id,tabid){};$.fingertree_select=function(id,value){if(id=="treList"){var treeId=value.id;if(treeId.length>4){$.txtEmpCode.setValue(treeId);searchList("SUB")}}};$.fingertree_dblclick=function(id,nodeid){};$.fingertree_refresh=function(id){};$.fingerscheduler_before_event_changed=function(id,event_object,native_event,is_new,unmodified_event){};$.fingerscheduler_before_event_delete=function(id,event_id,event_object){};$.fingerscheduler_event_click=function(id,event_id,event_object,native_event_object){};$.fingerscheduler_ready=function(id){};$.fingerscheduler_before_event_created=function(id,start_date,end_date){};$.fingerscheduler_view_display=function(id,view){};$.fingerscheduler_event_reg=function(id,obj){};$.fingerfilepanel_upload_click=function(id,fileId,fileName){};$.fingerfilepanel_download_click=function(id,fileId,fileName){};$.fingerfilepanel_delete_click=function(id,fileId,fileName){};$.fingerimage_change=function(id,value){};$.fingerimage_rotate=function(id,value){};$.fingertab_click=function(id,tabid){};$.fingerpopup_click_x_button=function(){};$.fingeriframe_onload=function(id){};$.fingerhtmlview_click=function(id){}};</script>