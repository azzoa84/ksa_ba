<script>function Main(){var $=this;$.host=null;$.panMain=null;$.tabMain=null;$.panTab1=null;$.panTab2=null;$.panQuery1=null;$.panQuery2=null;$.lblProd1=null;$.cmbProd1=null;$.btnSearch1=null;$.grdList1=null;$.grdList2=null;$.lblYm=null;$.dteStart=null;$.lblWave=null;$.dteEnd=null;$.lblProd2=null;$.cmbProd2=null;$.cmbYm=null;$.btnSearch2=null;function fnQRY_P_crmNewcompany_Q(workType){if(!validateControls([$.cmbProd1])){return false}var json=createJSON_Q("Q");callQuery(["req",json],"Q",$)}function createJSON_Q(workType){var json=createExecuteParamInfo("P_crmNewcompany_Q",[workType,$.cmbProd1.getValue()]);return json}function fnQRY_P_crmClinicCompany_Q(workType){if(!validateControls([$.dteStart,$.dteEnd])){return false}var json=createJSON_Q1("Q");callQuery(["req",json],"Q1",$)}function createJSON_Q1(workType){var json=createExecuteParamInfo("P_crmClinicCompany_Q",[workType,$.dteStart.getValue(),$.dteEnd.getValue(),$.cmbProd2.getValue()]);return json}$.init=function(host,args){$.panMain=new FingerPanel(host,"panMain",0,0,1200,705);$.panMain.setText("");$.panMain.setBottomLine(true);$.tabMain=new FingerTab(host,"tabMain",0,0,1200,705);$.panTab1=new FingerPanel(host,"panTab1",0,0,1200,670);$.panTab1.setText("신규거래처");$.panTab1.setBottomLine(true);$.panTab2=new FingerPanel(host,"panTab2",0,0,1200,670);$.panTab2.setText("하루날/베시케어(상세)");$.panTab2.setBottomLine(true);$.panQuery1=new FingerPanel(host,"panQuery1",0,0,1200,55);$.panQuery1.setText("");$.panQuery1.setBottomLine(true);$.panQuery2=new FingerPanel(host,"panQuery2",0,0,1200,55);$.panQuery2.setText("");$.panQuery2.setBottomLine(true);$.lblProd1=new FingerLabel(host,"lblProd1",0,15,100,20);$.lblProd1.setText("품목");$.cmbProd1=new FingerComboBox(host,"cmbProd1",105,15,140,20);$.btnSearch1=new FingerButton(host,"btnSearch1",1120,15,80,20);$.btnSearch1.setText("조회");$.grdList1=new FingerDataGrid(host,"grdList1",0,60,1200,565);$.grdList2=new FingerDataGrid(host,"grdList2",0,60,1200,565);$.lblYm=new FingerLabel(host,"lblYm",0,15,100,20);$.lblYm.setText("조회기간");$.dteStart=new FingerDateEdit(host,"dteStart",105,15,140,20);$.lblWave=new FingerLabel(host,"lblWave",245,15,20,20);$.lblWave.setText("~");$.dteEnd=new FingerDateEdit(host,"dteEnd",270,15,140,20);$.lblProd2=new FingerLabel(host,"lblProd2",415,15,100,20);$.lblProd2.setText("품목");$.cmbProd2=new FingerComboBox(host,"cmbProd2",520,15,140,20);$.cmbYm=new FingerComboBox(host,"cmbYm",665,15,140,20);$.btnSearch2=new FingerButton(host,"btnSearch2",1120,15,80,20);$.btnSearch2.setText("조회");$.cmbProd1.setAllowBlank(false,"품목");$.cmbProd1.setEmptyRow(true);$.dteStart.setDateFormat("yyyymm");$.dteEnd.setDateFormat("yyyymm");$.dteStart.setAllowBlank(false,"시작일");$.dteEnd.setAllowBlank(false,"종료일");$.cmbYm.setVisible(false);$.grdList1.colIdx=$.grdList1.setColumns([]);$.grdList1.init({panel:$.panTab1,scroll:"xy"});$.grdList1.setEditable(false);$.grdList1.setBorder(false);$.grdList2.colIdx=$.grdList2.setColumns([]);$.grdList2.init({panel:$.panTab2,scroll:"xy"});$.grdList2.setEditable(false);$.grdList2.setBorder(false);$.host=host;$.args=args};$.start=function(){$.panMain.add($.tabMain);$.panTab1.add($.panQuery1);$.panTab1.add($.grdList1);$.panTab2.add($.panQuery2);$.panTab2.add($.grdList2);$.panQuery1.add($.cmbProd1);$.panQuery1.add($.lblProd1);$.panQuery1.add($.btnSearch1);$.panQuery2.add($.cmbProd2);$.panQuery2.add($.cmbYm);$.panQuery2.add($.dteEnd);$.panQuery2.add($.dteStart);$.panQuery2.add($.lblProd2);$.panQuery2.add($.lblWave);$.panQuery2.add($.lblYm);$.panQuery2.add($.btnSearch2);$.tabMain.addTab([{text:"신규거래처",body:$.panTab1,width:170},{text:"하루날/베시케어 조회",body:$.panTab2,width:200}]);var strQuery=" and product_code in('P04','P16')";var ds=bizComponentData2($,"Q4","L_CRM0059",strQuery);$.cmbProd1.setColumn("product_code","product_name");setComboBind([$.cmbProd1],ds);var strQuery=" where product_code in('P04','P16','P21')";var ds=bizComponentData2($,"Q4","L_CRM0131",strQuery);$.cmbProd2.setColumn("product_code","product_name");setComboBind([$.cmbProd2],ds);var ds=bizComponentData2($,"Q1","L_CRM0085");$.cmbYm.setColumn("","");setComboBind([$.cmbYm],ds);$.dteStart.setValue($.cmbYm.getValue());$.dteEnd.setValue($.cmbYm.getValue())};$.callback=function(type,ds){if(type=="Q"){if(!ds||!ds.resultList||ds.resultList.length<=0||ds.resultList[0][0][""]==0){$.grdList1.setColumns([new FingerDataGridColumn("",200,"lect","string","값이 존재하지 않습니다.")])}else{var rs=ds.resultList[0][0];var column=[];var keys=Object.keys(rs);for(var i in keys){var vType=typeof rs[keys[i]];if(rs[keys[i]]>0){vType="number"}column.push(new FingerDataGridColumn(keys[i],110,(vType=="number"?"right":"left"),"string",keys[i],(vType=="number"?{format:"int"}:(vType=="object"?{format:"s_ymd"}:null))))}convertJavaDateToJs(ds.resultList);setTimeout(function(){$.grdList1.resetColumns(column)},100)}if($.varFirst=="Y"){$.grdList1.init({panel:$.panTab1,scroll:"xy"});$.varFirst="N"}setTimeout(function(){setDataGrid([$.grdList1],ds)},100)}else{if(type=="Q1"){if(ds.resultList[0]!=""){if(!ds||!ds.resultList||ds.resultList.length<=0||ds.resultList[0][0][""]==0){$.grdList2.setColumns([new FingerDataGridColumn("",200,"lect","string","값이 존재하지 않습니다.")])}else{var rs=ds.resultList[0][0];var column=[];var keys=Object.keys(rs);for(var i in keys){var vType=typeof rs[keys[i]];if(rs[keys[i]]>0){vType="number"}column.push(new FingerDataGridColumn(keys[i],110,(vType=="number"?"right":"left"),"string",keys[i],(vType=="number"?{format:"int"}:(vType=="object"?{format:"s_ymd"}:null))))}convertJavaDateToJs(ds.resultList);setTimeout(function(){$.grdList2.resetColumns(column)},100)}if($.varFirst=="Y"){$.grdList2.init({panel:$.panTab2,scroll:"xy"});$.varFirst="N"}setTimeout(function(){setDataGrid([$.grdList2],ds)},100)}else{return}}}};$.update=function(args){$.args=args};$.executeScript=function(script){eval(script)};$.fingerbutton_click=function(id){if(id=="btnSearch1"){fnQRY_P_crmNewcompany_Q("Q")}else{if(id=="btnSearch2"){fnQRY_P_crmClinicCompany_Q("Q1")}}};$.fingermultiselect_checkchange=function(id,index){};$.fingermultiselect_itemchange=function(id){};$.fingerbuttonedit_click=function(id){};$.fingerbuttonedit_change=function(id,value){};$.fingerbuttonedit_keypress=function(id,value){};$.fingerbuttonedit_lostfocus=function(id,value){};$.fingercheckbox_change=function(id,value){};$.fingercombobox_change=function(id,value){};$.fingerdateedit_click=function(id){};$.fingerdateedit_change=function(id,value){};$.fingerdatagrid_itemclick=function(id,rId,cInd){};$.fingerdatagrid_selectionchange=function(id,rId){};$.fingerdatagrid_cellvaluechange=function(id,rId,cInd,nValue,oValue){};$.fingerdatagrid_rowdblclicked=function(id,rId,cInd){};$.fingerdatagrid_celllink_click=function(e,gridid,rId,cId,value){};$.fingerdatagrid_popupcelldblclicked=function(id,rId,cInd){};$.fingerdatagrid_drag=function(id,sId,tId,sObj,tObj,sInd,tInd){};$.fingeredit_change=function(id,value){};$.fingeredit_keypress=function(id,value){};$.fingeredit_lostfocus=function(id,value){};$.fingerimage_click=function(id){};$.fingerlayout_panelresizefinish=function(id){};$.fingerlayout_resizefinish=function(id){};$.fingerpanel_button_click=function(panelId,btnId){};$.fingerpopup_close=function(id){};$.fingerpopup2_close=function(id){};$.fingerradiobox_change=function(id,value){};$.fingertab_selectionchange=function(id,tabid){};$.fingertab_ontabclose=function(id,tabid){};$.fingertree_select=function(id,value){};$.fingertree_dblclick=function(id,nodeid){};$.fingertree_refresh=function(id){};$.fingerscheduler_before_event_changed=function(id,event_object,native_event,is_new,unmodified_event){};$.fingerscheduler_before_event_delete=function(id,event_id,event_object){};$.fingerscheduler_event_click=function(id,event_id,event_object,native_event_object){};$.fingerscheduler_ready=function(id){};$.fingerscheduler_before_event_created=function(id,start_date,end_date){};$.fingerscheduler_view_display=function(id,view){};$.fingerscheduler_event_reg=function(id,obj){};$.fingerfilepanel_upload_click=function(id,fileId,fileName){};$.fingerfilepanel_download_click=function(id,fileId,fileName){};$.fingerfilepanel_delete_click=function(id,fileId,fileName){}};</script>