<script>function Main(){var $=this;$.host=null;$.panMain=null;$.panTitle=null;$.lblTitle=null;$.txtTitle=null;$.btnSubmit=null;$.btnTmpSave=null;$.panWFMain=null;$.panWFDetail=null;$.panFile=null;$.panDoc=null;$.btnFileAdd=null;$.btnFileDelete=null;$.btnDocAdd=null;$.btnDocDelete=null;$.ediDetail=null;$.panContent=null;$.grdList=null;$.grdFile=null;$.grdDoc=null;$.cmbNewType=null;$.btnSearch=null;$.panCompany=null;$.panContact=null;$.lblCompanyName=null;$.lblAddress=null;$.txtAddress=null;$.lblChannel=null;$.txtChannel=null;$.lblCompanyPhone=null;$.txtCompanyPhone=null;$.lblBusinessNo=null;$.txtBusinessNo=null;$.lblContactName=null;$.bteContactName=null;$.lblProductCode=null;$.cmbProductCode=null;$.lblCompanyName2=null;$.txtCompanyName2=null;$.lblIndSp=null;$.txtIndSp=null;$.lblJopPosition=null;$.txtJopPosition=null;$.bteCompanyName=null;$.txtcompany_id="";$.txtcompany_nameChange="";$.txtbusinessChange="";$.txtcontact_id="";$.txtcontact_nameChange="";function createJSON_Q(workType){var json=createExecuteParamInfo("P_crmWFDocument_Q",[workType,"","","crmWFCompanyReg"]);return json}function createJSON_S(workType){var json="";var changedRows=$.grdList.getChangedRows();var rows=[];for(var i in changedRows){workType=changedRows[i].rowType;rows.push([workType,$.wfDocId,changedRows[i].seq||"",changedRows[i].type||"",changedRows[i].company_id||"",changedRows[i].company_name||"",changedRows[i].address1||"",changedRows[i].channel||"",changedRows[i].business_no||"",changedRows[i].contact_id||"",changedRows[i].contact_name||"",changedRows[i].job_position||"",changedRows[i].speciality||"",changedRows[i].product_code||"","#UserID#","#DeptCode#"])}log(rows);json=createExecuteParamInfo("P_crmWFCompanyReg_S",rows);return json}function searchWFDocument(workType){var json=createJSON_Q("Q3");callQuery(["req",json],"Q3",$)}function saveCompanyReg(workType){if(workType=="btnSubmit"){saveWFDocument("","Y")}else{if(workType=="btnTmpSave"){saveWFDocument("","N")}}var json=createJSON_S("N");callQuery(["req",json],"N",$)}function saveWFDocument(workType,docType,wfLine){var ds=commWFDocument(workType,docType,$.txtTitle.getValue(),$.businessId,$.varOriginWfDocId,wfLine,$.grdFile,$.grdDoc,$.ediDetail,$.wfDocId);if(ds==null||ds.errorCode.substr(0,1)=="P"||ds.errorCode.substr(0,1)=="E"){return false}if(ds.returnStr!=""){$.wfDocId=ds.returnStr}return true}function addRowEvent(){if(!validateControls([$.cmbNewType])){return}if($.cmbNewType.getValue()=="10"){if(!validateControls([$.bteCompanyName,$.txtBusinessNo])){return}if(!validateControls([$.bteContactName,$.cmbProductCode])){return}if($.txtBusinessNo.getValue().length!=12){MessageBoxShow("잘못된 사업자번호 입니다.");$.txtBusinessNo.setFocus();return}}else{if($.cmbNewType.getValue()=="20"){if(!validateControls([$.bteContactName,$.cmbProductCode])){return}if(!validateControls([$.bteCompanyName,$.txtBusinessNo])){return}if($.txtcontact_id==""){MessageBoxShow("고객아이디 은(는) 필수입력항목입니다.");return}}}$.grdList.addRow({type:$.cmbNewType.getValue(),company_id:$.txtcompany_id,company_name:$.bteCompanyName.getText(),channel:$.txtChannel.getValue(),address1:$.txtAddress.getValue(),business_no:$.txtBusinessNo.getValue(),contact_id:$.txtcontact_id,contact_name:$.bteContactName.getValue(),speciality:$.txtIndSp.getValue(),job_position:$.txtJopPosition.getValue(),product_code:$.cmbProductCode.getValue()});$.panCompany.clear();$.panContact.clear();$.txtcompany_id="";$.txtcompany_nameChange="";$.txtbusinessChange="";$.txtcontact_id="";$.txtcontact_nameChange=""}function chkdoc(strwf_doc_id){for(var i=0;i<$.grdDoc.getRowCount();i++){if($.grdDoc.getValue(i,"wf_doc_id")==strwf_doc_id){return false}}return true}$.init=function(host,args){$.panMain=new FingerPanel(host,"panMain",0,0,1200,1380);$.panMain.setText("");$.panMain.setBottomLine(true);$.panTitle=new FingerPanel(host,"panTitle",0,0,1200,55);$.panTitle.setText("");$.panTitle.setBottomLine(true);$.lblTitle=new FingerLabel(host,"lblTitle",0,15,100,20);$.lblTitle.setText("문서제목");$.txtTitle=new FingerEdit(host,"txtTitle",105,15,500,20);$.btnSubmit=new FingerButton(host,"btnSubmit",1010,15,100,20);$.btnSubmit.setText("상신");$.btnTmpSave=new FingerButton(host,"btnTmpSave",1100,15,100,20);$.btnTmpSave.setText("임시저장");$.panWFMain=new FingerPanel(host,"panWFMain",0,65,1200,105);$.panWFMain.setText("기안내용");$.panWFMain.setBottomLine(true);$.panWFDetail=new FingerPanel(host,"panWFDetail",0,690,1200,385);$.panWFDetail.setText("기안 상세");$.panWFDetail.setBottomLine(true);$.panFile=new FingerPanel(host,"panFile",0,1085,440,280);$.panFile.setText("첨부 파일");$.panFile.setBottomLine(true);$.panDoc=new FingerPanel(host,"panDoc",450,1085,750,280);$.panDoc.setText("기결 문서");$.panDoc.setBottomLine(true);$.btnFileAdd=new FingerButton(host,"btnFileAdd",215,-37.5,120,20);$.btnFileAdd.setText("파일추가");$.btnFileDelete=new FingerButton(host,"btnFileDelete",320,-37.5,120,20);$.btnFileDelete.setText("파일삭제");$.btnDocAdd=new FingerButton(host,"btnDocAdd",525,-37.5,120,20);$.btnDocAdd.setText("문서추가");$.btnDocDelete=new FingerButton(host,"btnDocDelete",630,-37.5,120,20);$.btnDocDelete.setText("문서삭제");$.ediDetail=new FingerWebEditor(host,"ediDetail",0,0,1200,310);$.panContent=new FingerPanel(host,"panContent",0,375,1200,300);$.panContent.setText("기안목록");$.panContent.setBottomLine(true);$.grdList=new FingerDataGrid(host,"grdList",0,0,1200,255);$.grdFile=new FingerDataGrid(host,"grdFile",0,0,440,235);$.grdDoc=new FingerDataGrid(host,"grdDoc",0,0,750,235);$.cmbNewType=new FingerComboBox(host,"cmbNewType",25,15,200,20);$.btnSearch=new FingerButton(host,"btnSearch",235,15,180,20);$.btnSearch.setText("최근 거래처/고객 조회");$.panCompany=new FingerPanel(host,"panCompany",0,180,595,185);$.panCompany.setText("거래처 정보");$.panCompany.setBottomLine(true);$.panContact=new FingerPanel(host,"panContact",605,180,595,185);$.panContact.setText("고객 정보");$.panContact.setBottomLine(true);$.lblCompanyName=new FingerLabel(host,"lblCompanyName",0,10,100,20);$.lblCompanyName.setText("거래처명");$.lblAddress=new FingerLabel(host,"lblAddress",0,40,100,20);$.lblAddress.setText("주소");$.txtAddress=new FingerEdit(host,"txtAddress",105,40,480,20);$.lblChannel=new FingerLabel(host,"lblChannel",0,70,100,20);$.lblChannel.setText("채널");$.txtChannel=new FingerEdit(host,"txtChannel",105,70,190,20);$.lblCompanyPhone=new FingerLabel(host,"lblCompanyPhone",290,70,100,20);$.lblCompanyPhone.setText("전화번호");$.txtCompanyPhone=new FingerEdit(host,"txtCompanyPhone",395,70,190,20);$.lblBusinessNo=new FingerLabel(host,"lblBusinessNo",0,100,100,20);$.lblBusinessNo.setText("사업자번호");$.txtBusinessNo=new FingerEdit(host,"txtBusinessNo",105,100,480,20);$.lblContactName=new FingerLabel(host,"lblContactName",0,10,100,20);$.lblContactName.setText("고객명");$.bteContactName=new FingerButtonEdit(host,"bteContactName",105,10,190,20);$.bteContactName.setText("");$.lblProductCode=new FingerLabel(host,"lblProductCode",290,10,100,20);$.lblProductCode.setText("품목");$.cmbProductCode=new FingerComboBox(host,"cmbProductCode",395,10,190,20);$.lblCompanyName2=new FingerLabel(host,"lblCompanyName2",0,40,100,20);$.lblCompanyName2.setText("거래처명");$.txtCompanyName2=new FingerEdit(host,"txtCompanyName2",105,40,190,20);$.lblIndSp=new FingerLabel(host,"lblIndSp",290,40,100,20);$.lblIndSp.setText("진료과목");$.txtIndSp=new FingerEdit(host,"txtIndSp",395,40,190,20);$.lblJopPosition=new FingerLabel(host,"lblJopPosition",0,70,100,20);$.lblJopPosition.setText("직위");$.txtJopPosition=new FingerEdit(host,"txtJopPosition",105,70,190,20);$.bteCompanyName=new FingerButtonEdit(host,"bteCompanyName",105,10,480,20);$.bteCompanyName.setText("");relocateChildIndexInPanel([$.panCompany,$.panContact]);$.panTitle.setBorder(true);$.txtTitle.setReadOnly(true);$.bteCompanyName.setReadOnly(true);$.txtAddress.setReadOnly(true);$.txtChannel.setReadOnly(true);$.txtCompanyPhone.setReadOnly(true);$.bteContactName.setReadOnly(true);$.txtCompanyName2.setReadOnly(true);$.txtIndSp.setReadOnly(true);$.txtJopPosition.setReadOnly(true);$.txtTitle.setAllowBlank(false,"문서제목");$.cmbNewType.setAllowBlank(false,"구분");$.bteCompanyName.setAllowBlank(false,"거래처명");$.txtBusinessNo.setAllowBlank(false,"사업자번호");$.bteContactName.setAllowBlank(false,"고객명");$.cmbProductCode.setAllowBlank(false,"품목");$.grdList.colIdx=$.grdList.setColumns([new FingerDataGridColumn("type",150,"left","date","구분"),new FingerDataGridColumn("company_id",100,"left","string","거래처코드",{hidden:true}),new FingerDataGridColumn("company_name",170,"left","string","거래처명"),new FingerDataGridColumn("company_phone",100,"left","string","거래처전화",{hidden:true}),new FingerDataGridColumn("business_no",120,"left","string","사업자번호"),new FingerDataGridColumn("zip_code",100,"left","string","우편번호",{hidden:true}),new FingerDataGridColumn("address1",160,"left","string","주소"),new FingerDataGridColumn("address2",100,"left","string","주소2",{hidden:true}),new FingerDataGridColumn("channel",100,"left","string","채널"),new FingerDataGridColumn("approve_bed",100,"left","string","허가병상",{hidden:true}),new FingerDataGridColumn("main_speciality",100,"left","string","대표진료과목",{hidden:true}),new FingerDataGridColumn("company_remark",100,"left","string","거래처특이사항",{hidden:true}),new FingerDataGridColumn("contact_id",100,"left","string","고객아이디",{hidden:true}),new FingerDataGridColumn("contact_name",130,"left","string","고객명"),new FingerDataGridColumn("product_code",150,"left","string","품목"),new FingerDataGridColumn("job_position",100,"left","string","직위"),new FingerDataGridColumn("speciality",100,"left","string","진료과목"),new FingerDataGridColumn("office_phone",100,"left","string","회사전화번호",{hidden:true}),new FingerDataGridColumn("job_start_date",100,"left","string","근무시작일",{hidden:true}),new FingerDataGridColumn("influence_code",100,"left","string","원래영향력",{hidden:true}),new FingerDataGridColumn("contact_remark",100,"left","string","고객특이사항",{hidden:true}),new FingerDataGridColumn("seq",100,"left","string","순번",{hidden:true})]);$.grdList.init();$.grdList.setEditable(false);$.grdFile.setColumns([new FingerDataGridColumn("file_id",0,"left","string","",{hidden:true}),new FingerDataGridColumn("server_path",0,"left","string","",{hidden:true}),new FingerDataGridColumn("server_fname",0,"left","string","",{hidden:true}),new FingerDataGridColumn("local_fname",280,"left","string","파일명",{readonly:true,isLink:true,pathLinkCols:["server_path","server_fname"]}),new FingerDataGridColumn("file_size",145,"left","string","파일크기",{format:"file_size"})]);$.grdFile.init({header:false,isFilter:false});$.grdFile.setBorder(false);$.grdDoc.setColumns([new FingerDataGridColumn("wf_doc_id",125,"left","string","문서아이디"),new FingerDataGridColumn("doc_id",105,"left","string","문서아이디"),new FingerDataGridColumn("doc_title",420,"left","string","기안명"),new FingerDataGridColumn("employee_id",0,"left","string","",{hidden:true}),new FingerDataGridColumn("emp_name",90,"left","string","기안자")]);$.grdDoc.init({header:false,isFilter:false});$.grdDoc.setBorder(false);$.panContent.addButtons(["btnDelete","btnAdd"]);$.panFile.addButtons(["btnDelete","btnAdd"]);$.panDoc.addButtons(["btnDelete","btnAdd"]);$.btnFileAdd.setVisible(false);$.btnFileDelete.setVisible(false);$.btnDocAdd.setVisible(false);$.btnDocDelete.setVisible(false);$.cmbProductCode.setEmptyRow(true);$.host=host;$.args=args};$.start=function(){$.panMain.add($.panTitle);$.panMain.add($.panWFMain);$.panMain.add($.panWFDetail);$.panMain.add($.panFile);$.panMain.add($.panDoc);$.panMain.add($.panContent);$.panMain.add($.panCompany);$.panMain.add($.panContact);$.panTitle.add($.lblTitle);$.panTitle.add($.txtTitle);$.panTitle.add($.btnSubmit);$.panTitle.add($.btnTmpSave);$.panWFMain.add($.cmbNewType);$.panWFMain.add($.btnSearch);$.panWFDetail.add($.ediDetail);$.panFile.add($.btnFileAdd);$.panFile.add($.btnFileDelete);$.panFile.add($.grdFile);$.panDoc.add($.btnDocAdd);$.panDoc.add($.btnDocDelete);$.panDoc.add($.grdDoc);$.panContent.add($.grdList);$.panCompany.add($.lblCompanyName);$.panCompany.add($.lblAddress);$.panCompany.add($.txtAddress);$.panCompany.add($.lblChannel);$.panCompany.add($.txtChannel);$.panCompany.add($.lblCompanyPhone);$.panCompany.add($.txtCompanyPhone);$.panCompany.add($.lblBusinessNo);$.panCompany.add($.txtBusinessNo);$.panCompany.add($.bteCompanyName);$.panContact.add($.lblContactName);$.panContact.add($.bteContactName);$.panContact.add($.lblProductCode);$.panContact.add($.cmbProductCode);$.panContact.add($.lblCompanyName2);$.panContact.add($.txtCompanyName2);$.panContact.add($.lblIndSp);$.panContact.add($.txtIndSp);$.panContact.add($.lblJopPosition);$.panContact.add($.txtJopPosition);relocateChildIndexInPanel([$.panWFMain]);searchWFDocument();$.wfDocId="";var ds=bizComponentData2($,"Q2","S_021|L_CRM0059");setComboBind([$.cmbNewType,$.cmbProductCode],ds);$.grdList.setColumnDropDownList("type",ds.resultList[0]);$.cmbProductCode.setColumn("product_code","product_name");var ds2=bizComponentData2($,"Q1","L_CRM0059");setComboBind([$.cmbProductCode],ds2)};$.callback=function(type,ds){if(type=="Q3"){$.businessId=ds.resultList[0][0].business_id;$.wfType=ds.resultList[0][0].wf_type;$.txtTitle.setValue(ds.resultList[0][0].business_title+"("+g_main.session.getValue("DeptName")+"/"+g_main.session.getValue("UserName")+")")}else{if(type=="N"){searchWFDocument();$.ediDetail.setClear();$.grdList.extObj.clearAll();var param={wf_doc_id:$.wfDocId,doc_type:"70"};g_main.openModelWithBusiness("crmWFGeneralProc",param)}}};$.update=function(args){if(args&&args.length){try{var cs=args[0][0];if(cs.wf_status=="80"){$.varOriginWfDocId=cs.wf_doc_id}else{if(cs.wf_status=="60"){$.wfDocId=cs.wf_doc_id}}$.txtTitle.setValue(cs.doc_title);$.ediDetail.setValue(cs.doc_comment);setDataGrid([$.grdFile],args[4],true);setDataGrid([$.grdDoc],args[5],true);var md=args[6][0];if(md){setDataGrid([$.grdList],md,true)}}catch(err){MessageBoxShow("데이터 불러오기 중 오류가 발생 하였습니다. ("+err.message+")")}}$.args=args};$.executeScript=function(script){eval(script)};$.fingerbutton_click=function(id){$.popUpCallId=id;if(id=="btnSubmit"){if($.grdList.getRowCount()<=0){MessageBoxShow("상신,임시저장할 내용이 없습니다.");return}var param={wf_doc_id:$.wfDocId,wf_form_id:"crmWFCompanyReg"};g_main.openPopup("popModAppr.html","popModAppr","결재라인 지정",0,0,"","",param,"","")}else{if(id=="btnTmpSave"){if($.grdList.getRowCount()<=0){MessageBoxShow("상신,임시저장할 내용이 없습니다.");return}saveCompanyReg(id)}else{if(id=="btnSearch"){param={contact_name:$.bteContactName.getText()};g_main.openPopup("crmCompanyNotice.html","crmCompanyNotice","",0,0,"","",param,"","")}}}};$.fingermultiselect_checkchange=function(id,index){};$.fingermultiselect_itemchange=function(id){};$.fingerbuttonedit_click=function(id){$.popUpCallId=id;if(id=="bteCompanyName"){if($.cmbNewType.getValue()=="20"){return}param={company_name:$.bteCompanyName.getValue()};g_main.openPopup("popCompanyNew.html","popCompanyNew","",0,0,"","",param,"","")}else{if(id=="bteContactName"){param={contact_name:$.bteContactName.getValue()};g_main.openPopup("popContactNew.html","popContactNew","",0,0,"","",param,"","")}}};$.fingerbuttonedit_change=function(id,value){};$.fingerbuttonedit_keypress=function(id,value){};$.fingerbuttonedit_lostfocus=function(id,value){};$.fingercheckbox_change=function(id,value){};$.fingercombobox_change=function(id,value){if(id=="cmbNewType"){$.panCompany.clear();$.panContact.clear();if($.cmbNewType.getValue()=="10"){$.bteCompanyName.setEnable(true);$.bteCompanyName.setAllowBlank(false,"거래처명");$.txtBusinessNo.setReadOnly(false);$.txtBusinessNo.setAllowBlank(false,"사업자번호")}else{if($.cmbNewType.getValue()=="20"){$.bteCompanyName.setEnable(false);$.txtBusinessNo.setReadOnly(true)}}}};$.fingerdateedit_click=function(id){};$.fingerdateedit_change=function(id,value){};$.fingerdatagrid_itemclick=function(id,rId,cInd){};$.fingerdatagrid_selectionchange=function(id,rId){};$.fingerdatagrid_cellvaluechange=function(id,rId,cInd,nValue,oValue){};$.fingerdatagrid_rowdblclicked=function(id,rId,cInd){};$.fingerdatagrid_celllink_click=function(e,gridid,rId,cId,value){};$.fingerdatagrid_popupcelldblclicked=function(id,rId,cInd){};$.fingerdatagrid_drag=function(id,sId,tId,sObj,tObj,sInd,tInd){};$.fingeredit_change=function(id,value){};$.fingeredit_keypress=function(id,value){};$.fingeredit_lostfocus=function(id,value){};$.fingerlayout_panelresizefinish=function(id){};$.fingerlayout_resizefinish=function(id){};$.fingerpanel_button_click=function(panelId,btnId){if(panelId=="panDoc"){if(btnId=="btnAdd"){$.popUpCallId="btnDocAdd";var param={};g_main.openPopup("crmWFEndDocSub.html","crmWFEndDocSub","기결문서",1100,735,"","",param,"","")}else{if(btnId=="btnDelete"){var rId=$.grdDoc.getSelectedRowIdx();if(!rId){MessageBoxShow("삭제할 기결문서를 선택해 주시기 바랍니다.");return}$.grdDoc.deleteRow(rId)}}}else{if(panelId=="panFile"){if(btnId=="btnAdd"){OpenFileUploader("WFFileAttatch",function(ds){if(!ds||ds.errorCode=="ERR0000"){MessageBoxShow("파일 업로드가 실패 하였습니다.");return}var fileList=ds.resultList[0];var grdFileLen=$.grdFile.getRowCount();for(var i=0;i<fileList.length;i++){for(var j=0;j<grdFileLen;j++){if(fileList[i]["local_fname"]==$.grdFile.getValue(j,"local_fname")&&fileList[i]["file_size"]==$.grdFile.getSSSSValue(j,"file_size")){MessageBoxShow("중복된 파일이 있습니다. 리스트를 확인해 주세요.")}}}$.grdFile.addRows(ds.resultList[0])})}else{if(btnId=="btnDelete"){var rId=$.grdFile.getSelectedRowIdx();if(!rId){MessageBoxShow("삭제할 파일을 선택해 주시기 바랍니다.");return}var result=removeSysAttachFile({file_path:($.grdFile.getValue(rId,"server_path")+$.grdFile.getValue(rId,"server_fname"))});if(result){$.grdFile.deleteRow(rId)}else{MessageBoxShow("파일을 삭제하는 도중 오류가 발생 하였습니다.");return}}}}else{if(panelId=="panContent"){if(btnId=="btnAdd"){addRowEvent()}else{if(btnId=="btnDelete"){$.grdList.deleteRow($.grdList.getSelectedRowIdx())}}}}}};$.fingerpopup_close=function(id){var popResult=g_popupStack.shareData;if(popResult){if(id=="popModAppr"){if($.popUpCallId=="btnSubmit"){if(popResult.isCancel){$.wfDocId=popResult.wf_doc_id}else{if(saveWFDocument("","Y",popResult)){saveCompanyReg()}}}}else{if(id=="crmWFEndDocSub"){for(var i=0;i<popResult.length;i++){if(chkdoc(popResult[i]["wf_doc_id"])){$.grdDoc.addRow(popResult[i],$.grdDoc.getRowCount())}}}else{if(id=="popContactNew"){if($.popUpCallId=="bteContactName"){$.contactchange="N";if(popResult.contact_id!=""){$.txtcontact_id=popResult.contact_id;$.txtcontact_nameChange=popResult.contact_name;$.bteContactName.setText(popResult.contact_name);$.txtCompanyName2.setValue(popResult.company_name);$.txtIndSp.setValue(popResult.speciality);$.txtJopPosition.setValue(popResult.job_position);if($.cmbNewType.getValue()=="20"){$.bteCompanyName.setText(popResult.company_name);$.txtCompanyPhone.setValue(popResult.office_phone);if(popResult.channel=="11"){$.txtChannel.setValue("UH")}else{if(popResult.channel=="12"){$.txtChannel.setValue("GH")}else{if(popResult.channel=="13"){$.txtChannel.setValue("GH2")}else{if(popResult.channel=="21"){$.txtChannel.setValue("SH")}else{if(popResult.channel=="22"){$.txtChannel.setValue("보건소")}else{if(popResult.channel=="23"){$.txtChannel.setValue("Clinic")}else{if(popResult.channel=="24"){$.txtChannel.setValue("SH2")}else{$.txtChannel.setValue("??")}}}}}}}$.txtAddress.setValue(popResult.address1);$.txtBusinessNo.setValue(popResult.business_no);$.txtcompany_id=popResult.company_id}}else{$.txtcontact_id="";$.txtcontact_nameChange="";$.bteContactName.setText("");$.txtCompanyName2.setValue("");$.txtIndSp.setValue("");$.txtJopPosition.setValue("");if($.cmbNewType.getValue()=="20"){$.bteCompanyName.setText("");$.txtCompanyPhone.setValue("");$.txtChannel.setValue("");$.txtAddress.setValue("");$.txtBusinessNo.setValue("");$.txtcompany_id=""}}}}else{if(id=="popCompanyNew"){if($.popUpCallId=="bteCompanyName"){$.companychange="N";if(popResult.company_id!=""){$.txtcompany_id=popResult.company_id;$.txtcompany_nameChange=popResult.company_name;$.bteCompanyName.setText(popResult.company_name);$.txtCompanyPhone.setValue(popResult.company_phone);$.txtAddress.setValue(popResult.address1);$.txtBusinessNo.setValue(popResult.business_no);$.txtbusinessChange=popResult.business_no;if(popResult.channel=="11"){$.txtChannel.setValue("UH")}else{if(popResult.channel=="12"){$.txtChannel.setValue("GH")}else{if(popResult.channel=="13"){$.txtChannel.setValue("GH2")}else{if(popResult.channel=="21"){$.txtChannel.setValue("SH")}else{if(popResult.channel=="22"){$.txtChannel.setValue("보건소")}else{if(popResult.channel=="23"){$.txtChannel.setValue("Clinic")}else{if(popResult.channel=="24"){$.txtChannel.setValue("SH2")}else{$.txtChannel.setValue("??")}}}}}}}}else{$.txtcompany_id=popResult.company_id;$.txtcompany_nameChange="";$.bteCompanyName.setText("");$.txtCompanyPhone.setValue("");$.txtAddress.setValue("");$.txtBusinessNo.setValue("");$.txtChannel.setValue("");$.txtbusinessChange=""}}}else{if(id=="crmCompanyNotice"){if($.popUpCallId=="btnSearch"){if(popResult.contact_id){$.txtcontact_id=popResult.contact_id;$.txtcontact_nameChange=popResult.contact_name;$.bteContactName.setText(popResult.contact_name);$.txtCompanyName2.setValue(popResult.company_name);$.txtIndSp.setValue(popResult.speciality);$.txtJopPosition.setValue(popResult.job_position);if($.cmbNewType.getValue()=="20"){$.bteCompanyName.setText(popResult.company_name);$.txtCompanyPhone.setValue(popResult.office_phone);if(popResult.channel=="11"){$.txtChannel.setValue("UH")}else{if(popResult.channel=="12"){$.txtChannel.setValue("GH")}else{if(popResult.channel=="13"){$.txtChannel.setValue("GH2")}else{if(popResult.channel=="21"){$.txtChannel.setValue("SH")}else{if(popResult.channel=="22"){$.txtChannel.setValue("보건소")}else{if(popResult.channel=="23"){$.txtChannel.setValue("Clinic")}else{if(popResult.channel=="24"){$.txtChannel.setValue("SH2")}else{$.txtChannel.setValue("??")}}}}}}}$.txtAddress.setValue(popResult.address1);$.txtBusinessNo.setValue(popResult.business_no)}}else{$.txtcompany_id=popResult.company_id;$.bteCompanyName.setText(popResult.company_name);$.txtCompanyPhone.setValue(popResult.company_phone);$.txtAddress.setValue(popResult.address1);$.txtBusinessNo.setValue(popResult.business_no);if(popResult.channel=="11"){$.txtChannel.setValue("UH")}else{if(popResult.channel=="12"){$.txtChannel.setValue("GH")}else{if(popResult.channel=="13"){$.txtChannel.setValue("GH2")}else{if(popResult.channel=="21"){$.txtChannel.setValue("SH")}else{if(popResult.channel=="22"){$.txtChannel.setValue("보건소")}else{if(popResult.channel=="23"){$.txtChannel.setValue("Clinic")}else{if(popResult.channel=="24"){$.txtChannel.setValue("SH2")}else{$.txtChannel.setValue("??")}}}}}}}}}}}}}}}};$.fingerpopup2_close=function(id){};$.fingertab_selectionchange=function(id,tabid){};$.fingertab_ontabclose=function(id,tabid){};$.fingertree_select=function(id,value){};$.fingertree_dblclick=function(id,nodeid){};$.fingertree_refresh=function(id){};$.fingerscheduler_before_event_changed=function(id,event_object,native_event,is_new,unmodified_event){};$.fingerscheduler_before_event_delete=function(id,event_id,event_object){};$.fingerscheduler_event_click=function(id,event_id,event_object,native_event_object){};$.fingerscheduler_ready=function(id){};$.fingerscheduler_before_event_created=function(id,start_date,end_date){};$.fingerscheduler_view_display=function(id,view){};$.fingerscheduler_event_reg=function(id,obj){};$.fingerfilepanel_upload_click=function(id,fileId,fileName){};$.fingerfilepanel_download_click=function(id,fileId,fileName){};$.fingerfilepanel_delete_click=function(id,fileId,fileName){};$.fingerradiobox_change=function(id,value){};$.fingerimage_click=function(id){}};</script>