<script>function Main(){var $=this;$.host=null;$.panList=null;$.panMain=null;$.panInfo=null;$.panDetail=null;$.lblName=null;$.lblInfo=null;$.lblShare=null;$.txtName=null;$.memInfo=null;$.chkShare=null;$.ediContent=null;$.grdList=null;function createJSON_Q(workType){var json=createExecuteParamInfo("P_crmWFTemplate_Q",[workType,"#UserID#",0]);return json}function createJSON_S(workType){var json=createExecuteParamInfo("P_crmWFTemplate_S",[workType,$.templateSeq,"#UserID#","#DeptCode#",$.txtName.getValue(),$.memInfo.getValue(),$.ediContent.getHTML(),$.chkShare.getValue(),"#UserID#"]);return json}function searchTemplate(workType){var json=createJSON_Q("Q");callQuery(["req",json],"Q",$)}function saveTemplate(workType){if(workType=="N"){if(!validateControls([$.txtName])){return}var json=createJSON_S("N");callQuery(["req",json],"N",$)}else{if(workType=="D"){confirmBoxShow("해당 템플릿을 삭제하시겠습니까?",function(){if(g_main.msgShare==true){var json=createJSON_S("D");callQuery(["req",json],"D",$)}})}}}$.init=function(host,args){$.panList=new FingerPanel(host,"panList",0,0,245,750);$.panList.setText("템플릿리스트");$.panList.setBottomLine(true);$.panMain=new FingerPanel(host,"panMain",0,0,840,755);$.panMain.setText("");$.panMain.setBottomLine(true);$.panInfo=new FingerPanel(host,"panInfo",255,0,585,235);$.panInfo.setText("템플릿정보");$.panInfo.setBottomLine(true);$.panDetail=new FingerPanel(host,"panDetail",255,245,585,505);$.panDetail.setText("템플릿내용");$.panDetail.setBottomLine(true);$.lblName=new FingerLabel(host,"lblName",0,10,100,20);$.lblName.setText("템플릿명");$.lblInfo=new FingerLabel(host,"lblInfo",0,40,100,20);$.lblInfo.setText("템플릿설명");$.lblShare=new FingerLabel(host,"lblShare",0,155,100,20);$.lblShare.setText("공유");$.txtName=new FingerEdit(host,"txtName",105,10,430,20);$.memInfo=new FingerMemoEdit(host,"memInfo",105,40,425,110);$.chkShare=new FingerCheckBox(host,"chkShare",100,160,140,20);$.chkShare.setText("");$.ediContent=new FingerWebEditor(host,"ediContent",0,0,585,410);$.grdList=new FingerDataGrid(host,"grdList",0,0,245,705);$.panInfo.addButton("btnDelete","삭제");$.panInfo.addButton("btnSave","저장");$.panInfo.addButton("btnNew","신규");$.panInfo.setButtonAction("btnNew","new");$.panInfo.setButtonAction("btnSave","save");$.panInfo.setButtonAction("btnDelete","delete");$.grdList.colIdx=$.grdList.setColumns([new FingerDataGridColumn("employee_id",0,"left","string",""),new FingerDataGridColumn("template_seq",0,"left","string",""),new FingerDataGridColumn("template_name",226,"left","string","템플릿명"),new FingerDataGridColumn("template_desc",0,"left","string",""),new FingerDataGridColumn("template",0,"left","string",""),new FingerDataGridColumn("share_yn",0,"left","string","")]);$.grdList.init();$.grdList.setColumnHidden(["employee_id","template_seq","template_desc","template","share_yn"],true);$.txtName.setAllowBlank(false,"템플릿명");$.host=host;$.args=args};$.start=function(){$.panList.add($.grdList);$.panMain.add($.panList);$.panMain.add($.panInfo);$.panMain.add($.panDetail);$.panInfo.add($.lblName);$.panInfo.add($.lblInfo);$.panInfo.add($.lblShare);$.panInfo.add($.txtName);$.panInfo.add($.memInfo);$.panInfo.add($.chkShare);$.panDetail.add($.ediContent);$.paramYn="";$.newCheck="";$.rId=0;if($.p_argument&&$.p_argument!=""){if($.p_argument.templateText!=""){$.ediContent.setValue($.p_argument.template);$.paramYn="Y"}}searchTemplate()};$.callback=function(type,ds){if(type=="Q"){setDataGrid([$.grdList],ds);var rowId=$.grdList.getRowCount()-1;if($.newCheck=="N"){$.grdList.selectRow(rowId)}else{if($.newCheck=="D"){$.grdList.selectRow(0)}else{if($.templateSeq){$.grdList.selectRow($.grdList.getGridRowIndex("template_seq",$.templateSeq))}else{$.grdList.selectRow(0)}}}if($.paramYn=="Y"){$.newCheck="N";$.templateSeq=0;$.txtName.setValue("");$.memInfo.setValue("");$.chkShare.setValue("");$.ediContent.setValue($.p_argument.template)}}else{if(type=="N"){$.paramYn="";searchTemplate()}else{if(type=="D"){$.newCheck="D";searchTemplate()}}}};$.update=function(args){$.args=args};$.executeScript=function(script){eval(script)};$.fingerbutton_click=function(id){};$.fingermultiselect_checkchange=function(id,index){};$.fingermultiselect_itemchange=function(id){};$.fingerbuttonedit_click=function(id){};$.fingerbuttonedit_change=function(id,value){};$.fingerbuttonedit_keypress=function(id,value){};$.fingerbuttonedit_lostfocus=function(id,value){};$.fingercheckbox_change=function(id,value){};$.fingercombobox_change=function(id,value){};$.fingerdateedit_click=function(id){};$.fingerdateedit_change=function(id,value){};$.fingerdatagrid_itemclick=function(id,rId,cInd){};$.fingerdatagrid_selectionchange=function(id,rId){if(id=="grdList"){$.newCheck="";$.txtName.setValue("");$.memInfo.setValue("");$.chkShare.setValue("");$.ediContent.setClear();$.txtName.setValue($.grdList.getValue(rId,"template_name"));$.memInfo.setValue($.grdList.getValue(rId,"template_desc"));$.chkShare.setValue($.grdList.getValue(rId,"share_yn"));$.ediContent.setValue($.grdList.getValue(rId,"template"));$.templateSeq=Number($.grdList.getValue(rId,"template_seq"))}};$.fingerdatagrid_cellvaluechange=function(id,rId,cInd,nValue,oValue){};$.fingerdatagrid_rowdblclicked=function(id,rId,cInd){};$.fingerdatagrid_celllink_click=function(e,gridid,rId,cId,value){};$.fingerdatagrid_popupcelldblclicked=function(id,rId,cInd){};$.fingerdatagrid_drag=function(id,sId,tId,sObj,tObj,sInd,tInd){};$.fingeredit_change=function(id,value){};$.fingeredit_keypress=function(id,value){};$.fingeredit_lostfocus=function(id,value){};$.fingerlayout_panelresizefinish=function(id){};$.fingerlayout_resizefinish=function(id){};$.fingerpanel_button_click=function(panelId,btnId){if(panelId=="panInfo"){if(btnId=="btnNew"){$.newCheck="N";$.txtName.setValue("");$.memInfo.setValue("");$.chkShare.setValue("");$.ediContent.setClear();$.templateSeq=0}else{if(btnId=="btnSave"){saveTemplate("N")}else{if(btnId=="btnDelete"){saveTemplate("D")}}}}};$.fingerpopup_close=function(id){};$.fingerpopup2_close=function(id){};$.fingerradiobox_change=function(id){};$.fingertab_selectionchange=function(id,tabid){};$.fingertab_ontabclose=function(id,tabid){};$.fingertree_select=function(id,value){};$.fingertree_dblclick=function(id,nodeid){};$.fingertree_refresh=function(id){};$.fingerscheduler_before_event_changed=function(id,event_object,native_event,is_new,unmodified_event){};$.fingerscheduler_before_event_delete=function(id,event_id,event_object){};$.fingerscheduler_event_click=function(id,event_id,event_object,native_event_object){};$.fingerscheduler_ready=function(id){};$.fingerscheduler_before_event_created=function(id,start_date,end_date){};$.fingerscheduler_view_display=function(id,view){};$.fingerscheduler_event_reg=function(id,obj){};$.fingerfilepanel_upload_click=function(id,fileId,fileName){};$.fingerfilepanel_download_click=function(id,fileId,fileName){};$.fingerfilepanel_delete_click=function(id,fileId,fileName){}};</script>