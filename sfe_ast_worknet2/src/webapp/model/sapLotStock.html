<script>function Main(){var $=this;$.host=null;$.panTop=null;$.panList=null;$.panMain=null;$.lblProductCode=null;$.lblProductName=null;$.lblStockCode=null;$.lblStockName=null;$.txtProductCode1=null;$.txtProductCode2=null;$.txtStockCode1=null;$.txtStockCode2=null;$.lblTilde1=null;$.lblTilde2=null;$.bteProductName1=null;$.bteProductName2=null;$.bteStockName1=null;$.bteStockName2=null;$.grdList=null;$.lblPeriod=null;$.dtdStartDate=null;$.dtdEndDate=null;$.lblTilde3=null;$.chkLotYN=null;$.btnSearch=null;$.varType="";function createJson_Q(workType){var json=createExecuteParamInfo("SAP.dbo.P_sapLotStock_Q",[workType,$.varType,$.dtdStartDate.getValue()||"",$.dtdEndDate.getValue()||"",$.txtProductCode1.getValue()||"",$.txtProductCode2.getValue()||"",$.txtStockCode1.getValue()||"",$.txtStockCode2.getValue()||"","","",""]);return json}function searchLotStock(workType){var json=createJson_Q(workType);callQuery(["req",json],workType,$)}$.init=function(host,args){$.panTop=new FingerPanel(host,"panTop",0,0,1200,150);$.panTop.setText("");$.panTop.setBottomLine(true);$.panList=new FingerPanel(host,"panList",0,150,1200,650);$.panList.setText("Lot별 재고현황");$.panList.setBottomLine(true);$.panMain=new FingerPanel(host,"panMain",0,0,1200,800);$.panMain.setText("");$.panMain.setBottomLine();$.lblProductCode=new FingerLabel(host,"lblProductCode",40,10,100,20);$.lblProductCode.setText("품목코드");$.lblProductName=new FingerLabel(host,"lblProductName",40,40,100,20);$.lblProductName.setText("품목내역");$.lblStockCode=new FingerLabel(host,"lblStockCode",40,70,100,20);$.lblStockCode.setText("창고코드");$.lblStockName=new FingerLabel(host,"lblStockName",40,100,100,20);$.lblStockName.setText("창고명");$.txtProductCode1=new FingerEdit(host,"txtProductCode1",150,10,170,20);$.txtProductCode2=new FingerEdit(host,"txtProductCode2",345,10,170,20);$.txtStockCode1=new FingerEdit(host,"txtStockCode1",150,70,170,20);$.txtStockCode2=new FingerEdit(host,"txtStockCode2",345,70,170,20);$.lblTilde1=new FingerLabel(host,"lblTilde1",320,10,20,20);$.lblTilde1.setText("~");$.lblTilde2=new FingerLabel(host,"lblTilde2",320,70,20,20);$.lblTilde2.setText("~");$.bteProductName1=new FingerButtonEdit(host,"bteProductName1",150,40,170,20);$.bteProductName1.setText("");$.bteProductName2=new FingerButtonEdit(host,"bteProductName2",345,40,170,20);$.bteProductName2.setText("");$.bteStockName1=new FingerButtonEdit(host,"bteStockName1",150,100,170,20);$.bteStockName1.setText("");$.bteStockName2=new FingerButtonEdit(host,"bteStockName2",345,100,170,20);$.bteStockName2.setText("");$.grdList=new FingerDataGrid(host,"grdList",0,0,1200,600);$.lblPeriod=new FingerLabel(host,"lblPeriod",600,10,100,20);$.lblPeriod.setText("기간");$.dtdStartDate=new FingerDateEdit(host,"dtdStartDate",710,10,120,20);$.dtdEndDate=new FingerDateEdit(host,"dtdEndDate",860,10,120,20);$.lblTilde3=new FingerLabel(host,"lblTilde3",830,10,20,20);$.lblTilde3.setText("~");$.chkLotYN=new FingerCheckBox(host,"chkLotYN",680,40,140,20);$.chkLotYN.setText(" Lot 포함");$.btnSearch=new FingerButton(host,"btnSearch",1060,55,100,40);$.btnSearch.setText("조회");$.panTop.setBorder(true);$.txtStockCode1.setReadOnly(true);$.txtStockCode2.setReadOnly(true);$.txtProductCode1.setReadOnly(true);$.txtProductCode2.setReadOnly(true);var today=getToday("");var firstDate=today.substr(0,6)+"01";$.dtdStartDate.setValue(firstDate);$.dtdEndDate.setValue(getCalcDate(getCalcMonth(firstDate,1),-1));$.grdList.setColumns([new FingerDataGridColumn("Seq",50,"center","string","순번",{readonly:true}),new FingerDataGridColumn("itemCode",130,"center","string","품목코드",{readonly:true}),new FingerDataGridColumn("itemName",150,"left","string","품목내역",{readonly:true}),new FingerDataGridColumn("Unit",80,"center","string","재고단위",{readonly:true}),new FingerDataGridColumn("WhsCode",80,"center","string","창고코드",{readonly:true,hidden:true}),new FingerDataGridColumn("WhsName",80,"center","string","창고명",{readonly:true}),new FingerDataGridColumn("BQty",80,"right","date","이월수량",{format:"int",readonly:true}),new FingerDataGridColumn("InQty",80,"right","date","입고수량",{format:"int",readonly:true}),new FingerDataGridColumn("OutQty",80,"right","string","출고수량",{format:"int",readonly:true}),new FingerDataGridColumn("TInQty",130,"right","string","입고수량(재고이전)",{format:"int",readonly:true}),new FingerDataGridColumn("TOutQty",130,"right","string","출고수량(재고이전)",{format:"int",readonly:true}),new FingerDataGridColumn("NQty",80,"right","string","재고수량",{format:"int",readonly:true}),new FingerDataGridColumn("BatchNum",90,"left","string","Lot번호",{readonly:true}),new FingerDataGridColumn("PrdDate",110,"center","date","제조일자",{format:"ymd",readonly:true}),new FingerDataGridColumn("ExpDate",110,"center","date","유효일자",{format:"ymd",readonly:true}),new FingerDataGridColumn("SuppSerial",200,"left","string","QC의뢰일",{readonly:true}),new FingerDataGridColumn("IntrSerial",200,"left","string","QC완료일",{readonly:true})]);$.grdList.init({panel:$.panList,scroll:"xy"});$.grdList.setEditable(false);$.grdList.setBorder(false);$.host=host;$.args=args};$.start=function(){$.panTop.add($.lblProductCode);$.panTop.add($.lblProductName);$.panTop.add($.lblStockCode);$.panTop.add($.lblStockName);$.panTop.add($.txtProductCode1);$.panTop.add($.txtProductCode2);$.panTop.add($.txtStockCode1);$.panTop.add($.txtStockCode2);$.panTop.add($.lblTilde1);$.panTop.add($.lblTilde2);$.panTop.add($.bteProductName1);$.panTop.add($.bteProductName2);$.panTop.add($.bteStockName1);$.panTop.add($.bteStockName2);$.panTop.add($.lblPeriod);$.panTop.add($.dtdStartDate);$.panTop.add($.dtdEndDate);$.panTop.add($.lblTilde3);$.panTop.add($.chkLotYN);$.panList.add($.grdList);$.panMain.add($.panList);$.panMain.add($.panTop);$.txtStockCode1.setText("01");$.txtStockCode2.setText("01");$.bteStockName1.setText("정상 창고");$.bteStockName2.setText("정상 창고")};$.callback=function(type,ds){if(type=="Q"){convertJavaDateToJs(ds.resultList,"yyyymmddhhmmss");setDataGrid([$.grdList],ds);$.grdList.selectRow(0)}};$.update=function(args){$.args=args};$.executeScript=function(script){eval(script)};$.fingerbutton_click=function(id){if(id=="btnSearch"){if($.txtStockCode1.getValue()==""||$.txtStockCode2.getValue()==""){if($.chkLotYN.getValue()=="Y"){$.varType="XDL";$.grdList.setColumnHidden("NQty",false);$.grdList.setColumnHidden("BatchNum",false);$.grdList.setColumnHidden("ExpDate",false);$.grdList.setColumnHidden("SuppSerial",false);$.grdList.setColumnHidden("IntrSerial",false)}else{$.varType="XDX";$.grdList.setColumnHidden("NQty",false);$.grdList.setColumnHidden("BatchNum",true);$.grdList.setColumnHidden("ExpDate",true);$.grdList.setColumnHidden("SuppSerial",true);$.grdList.setColumnHidden("IntrSerial",true)}$.grdList.setColumnHidden("WhsName",true)}else{if($.chkLotYN.getValue()=="Y"){$.varType="WDL";$.grdList.setColumnHidden("NQty",false);$.grdList.setColumnHidden("BatchNum",false);$.grdList.setColumnHidden("ExpDate",false);$.grdList.setColumnHidden("SuppSerial",false);$.grdList.setColumnHidden("IntrSerial",false)}else{$.varType="WDX";$.grdList.setColumnHidden("NQty",false);$.grdList.setColumnHidden("BatchNum",true);$.grdList.setColumnHidden("ExpDate",true);$.grdList.setColumnHidden("SuppSerial",true);$.grdList.setColumnHidden("IntrSerial",true)}$.grdList.setColumnHidden("WhsName",false)}searchLotStock("Q")}};$.fingermultiselect_checkchange=function(id,index){};$.fingermultiselect_itemchange=function(id){};$.fingerbuttonedit_click=function(id){$.popUpCallId=id;if(id=="bteProductName1"){var param={product_name:$.bteProductName1.getText(),product_code:$.txtProductCode1.getText()};g_main.openPopup("popProduct.html","popProduct","품목 리스트",500,525,"","",param,"","")}else{if(id=="bteProductName2"){var param={product_name:$.bteProductName2.getText(),product_code:$.txtProductCode2.getText()};g_main.openPopup("popProduct.html","popProduct","품목 리스트",500,525,"","",param,"","")}else{if(id=="bteStockName1"){var param={stock_name:$.bteStockName1.getText(),stock_code:$.txtStockCode1.getText()};g_main.openPopup("popStock.html","popStock","창고  리스트",500,525,"","",param,"","")}else{if(id=="bteStockName2"){var param={stock_name:$.bteStockName2.getText(),stock_code:$.txtStockCode2.getText()};g_main.openPopup("popStock.html","popStock","창고 리스트",500,525,"","",param,"","")}}}}};$.fingerbuttonedit_change=function(id,value){};$.fingerbuttonedit_keypress=function(id,value){};$.fingerbuttonedit_lostfocus=function(id,value){};$.fingercheckbox_change=function(id,value){};$.fingercombobox_change=function(id,value){};$.fingerdateedit_click=function(id){};$.fingerdateedit_change=function(id,value){};$.fingerdatagrid_itemclick=function(id,rId,cInd){};$.fingerdatagrid_selectionchange=function(id,rId){};$.fingerdatagrid_cellvaluechange=function(id,rId,cInd,nValue,oValue){};$.fingerdatagrid_rowdblclicked=function(id,rId,cInd){};$.fingerdatagrid_celllink_click=function(e,gridid,rId,cId,value){};$.fingerdatagrid_popupcelldblclicked=function(id,rId,cInd){};$.fingerdatagrid_drag=function(id,sId,tId,sObj,tObj,sInd,tInd){};$.fingeredit_change=function(id,value){};$.fingeredit_keypress=function(id,value){};$.fingeredit_lostfocus=function(id,value){};$.fingerimage_click=function(id){};$.fingerlayout_panelresizefinish=function(id){};$.fingerlayout_resizefinish=function(id){};$.fingerpanel_button_click=function(panelId,btnId){};$.fingerpopup_close=function(id){var popResult=g_popupStack.shareData;if(popResult){if(id=="popProduct"){if($.popUpCallId=="bteProductName1"){if(popResult.product_code){$.bteProductName1.setText(popResult.product_name);$.txtProductCode1.setText(popResult.product_code)}}else{if($.popUpCallId=="bteProductName2"){if(popResult.product_code){$.bteProductName2.setText(popResult.product_name);$.txtProductCode2.setText(popResult.product_code)}}}}else{if(id=="popStock"){if($.popUpCallId=="bteStockName1"){if(popResult.stock_code){$.bteStockName1.setText(popResult.stock_name);$.txtStockCode1.setText(popResult.stock_code)}}else{if($.popUpCallId=="bteStockName2"){if(popResult.stock_code){$.bteStockName2.setText(popResult.stock_name);$.txtStockCode2.setText(popResult.stock_code)}}}}}}};$.fingerpopup2_close=function(id){};$.fingerradiobox_change=function(id,value){};$.fingertab_selectionchange=function(id,tabid){};$.fingertab_ontabclose=function(id,tabid){};$.fingertree_select=function(id,value){};$.fingertree_dblclick=function(id,nodeid){};$.fingertree_refresh=function(id){};$.fingerscheduler_before_event_changed=function(id,event_object,native_event,is_new,unmodified_event){};$.fingerscheduler_before_event_delete=function(id,event_id,event_object){};$.fingerscheduler_event_click=function(id,event_id,event_object,native_event_object){};$.fingerscheduler_ready=function(id){};$.fingerscheduler_before_event_created=function(id,start_date,end_date){};$.fingerscheduler_view_display=function(id,view){};$.fingerscheduler_event_reg=function(id,obj){};$.fingerfilepanel_upload_click=function(id,fileId,fileName){};$.fingerfilepanel_download_click=function(id,fileId,fileName){};$.fingerfilepanel_delete_click=function(id,fileId,fileName){};$.fingerimage_change=function(id,value){};$.fingerimage_rotate=function(id,value){};$.fingertab_click=function(id,tabid){};$.fingerpopup_click_x_button=function(){};$.fingeriframe_onload=function(id){};$.fingerhtmlview_click=function(id){}};</script>